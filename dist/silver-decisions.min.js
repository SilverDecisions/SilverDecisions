!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.SilverDecisions=t()}}(function(){var t;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,r){!function(e){"use strict";var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,i=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),o=i&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,s=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(i||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,n,r,u,c,l,f,h,p;if(e=t.match(s),!e)throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),r=!!e[4],u=t.slice(e[0].length),c=r?atob(u):decodeURIComponent(u),l=new ArrayBuffer(c.length),f=new Uint8Array(l),h=0;h<c.length;h+=1)f[h]=c.charCodeAt(h);return i?new Blob([o?f:l],{type:n}):(p=new a,p.append(l),p.getBlob(n))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(t,e,n){t(n&&r.toDataURL&&u?u(this.toDataURL(e,n)):this.mozGetAsFile("blob",e))}:r.toDataURL&&u&&(r.toBlob=function(t,e,n){t(u(this.toDataURL(e,n)))})),"function"==typeof t&&t.amd?t(function(){return u}):"object"==typeof n&&n.exports?n.exports=u:e.dataURLtoBlob=u}(window)},{}],2:[function(e,n,r){!function(e){"use strict";function i(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function o(t,e){return this instanceof o?(u(t,e),this.re=a.re,void(this.im=a.im)):new o(t,e)}var a={re:0,im:0};Math.cosh=Math.cosh||function(t){return.5*(Math.exp(t)+Math.exp(-t))},Math.sinh=Math.sinh||function(t){return.5*(Math.exp(t)-Math.exp(-t))};var s=function(){throw SyntaxError("Invalid Param")},u=function(t,e){if(void 0===t||null===t)a.re=a.im=0;else if(void 0!==e)a.re=t,a.im=e;else switch(typeof t){case"object":"im"in t&&"re"in t?(a.re=t.re,a.im=t.im):"abs"in t&&"arg"in t?(a.re=t.abs*Math.cos(t.arg),a.im=t.abs*Math.sin(t.arg)):"r"in t&&"phi"in t?(a.re=t.r*Math.cos(t.phi),a.im=t.r*Math.sin(t.phi)):s();break;case"string":a.im=a.re=0;var n=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,i=0;null===n&&s();for(var o=0;o<n.length;o++){var u=n[o];" "===u||"\t"===u||"\n"===u||("+"===u?r++:"-"===u?i++:"i"===u||"I"===u?(r+i===0&&s()," "===n[o+1]||isNaN(n[o+1])?a.im+=parseFloat((i%2?"-":"")+"1"):(a.im+=parseFloat((i%2?"-":"")+n[o+1]),o++),r=i=0):((r+i===0||isNaN(u))&&s(),"i"===n[o+1]||"I"===n[o+1]?(a.im+=parseFloat((i%2?"-":"")+u),o++):a.re+=parseFloat((i%2?"-":"")+u),r=i=0))}r+i>0&&s();break;case"number":a.im=0,a.re=t;break;default:s()}isNaN(a.re)||isNaN(a.im)};o.prototype={re:0,im:0,sign:function(){var t=this.abs();return new o(this.re/t,this.im/t)},add:function(t,e){return u(t,e),new o(this.re+a.re,this.im+a.im)},sub:function(t,e){return u(t,e),new o(this.re-a.re,this.im-a.im)},mul:function(t,e){return u(t,e),0===a.im&&0===this.im?new o(this.re*a.re,0):new o(this.re*a.re-this.im*a.im,this.re*a.im+this.im*a.re)},div:function(t,e){u(t,e),t=this.re,e=this.im;var n,r,i=a.re,s=a.im;return 0===i&&0===s?new o(0!==t?t/0:0,0!==e?e/0:0):0===s?new o(t/i,e/i):Math.abs(i)<Math.abs(s)?(r=i/s,n=i*r+s,new o((t*r+e)/n,(e*r-t)/n)):(r=s/i,n=s*r+i,new o((t+e*r)/n,(e-t*r)/n))},pow:function(t,e){if(u(t,e),t=this.re,e=this.im,0===t&&0===e)return new o(0,0);var n=Math.atan2(e,t),r=i(t,e);if(0===a.im){if(0===e&&t>=0)return new o(Math.pow(t,a.re),0);if(0===t)switch(a.re%4){case 0:return new o(Math.pow(e,a.re),0);case 1:return new o(0,Math.pow(e,a.re));case 2:return new o((-Math.pow(e,a.re)),0);case 3:return new o(0,(-Math.pow(e,a.re)))}}return t=Math.exp(a.re*r-a.im*n),e=a.im*r+a.re*n,new o(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();return n>=0&&0===r?new o(Math.sqrt(n),0):(t=n>=0?.5*Math.sqrt(2*(i+n)):Math.abs(r)/Math.sqrt(2*(i-n)),e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new o(t,r>=0?e:-e))},exp:function(){var t=Math.exp(this.re);return 0===this.im,new o(t*Math.cos(this.im),t*Math.sin(this.im))},log:function(){var t=this.re,e=this.im;return new o(i(t,e),Math.atan2(e,t))},abs:function(){var t=Math.abs(this.re),e=Math.abs(this.im);return t<3e3&&e<3e3?Math.sqrt(t*t+e*e):(t<e?(t=e,e=this.re/this.im):e=this.im/this.re,t*Math.sqrt(1+e*e))},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new o(Math.sin(t)*Math.cosh(e),Math.cos(t)*Math.sinh(e))},cos:function(){var t=this.re,e=this.im;return new o(Math.cos(t)*Math.cosh(e),-Math.sin(t)*Math.sinh(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+Math.cosh(e);return new o(Math.sin(t)/n,Math.sinh(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-Math.cosh(e);return new o(-Math.sin(t)/n,Math.sinh(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*Math.cosh(2*e)+.5*Math.cos(2*t);return new o(Math.cos(t)*Math.cosh(e)/n,Math.sin(t)*Math.sinh(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*Math.cosh(2*e)-.5*Math.cos(2*t);return new o(Math.sin(t)*Math.cosh(e)/n,-Math.cos(t)*Math.sinh(e)/n)},asin:function(){var t=this.re,e=this.im,n=new o(e*e-t*t+1,-2*t*e).sqrt(),r=new o(n.re-e,n.im+t).log();return new o(r.im,(-r.re))},acos:function(){var t=this.re,e=this.im,n=new o(e*e-t*t+1,-2*t*e).sqrt(),r=new o(n.re-e,n.im+t).log();return new o(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new o(0,1/0);if(e===-1)return new o(0,(-(1/0)))}var n=t*t+(1-e)*(1-e),r=new o((1-e*e-t*t)/n,-2*t/n).log();return new o(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new o(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).atan():new o(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(0,1/0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).acos():new o(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).asin():new o(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new o(Math.sinh(t)*Math.cos(e),Math.cosh(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new o(Math.cosh(t)*Math.cos(e),Math.sinh(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=Math.cosh(t)+Math.cos(e);return new o(Math.sinh(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=Math.cosh(t)-Math.cos(e);return new o(Math.sinh(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-Math.cosh(2*t);return new o(-2*Math.sinh(t)*Math.cos(e)/n,2*Math.cosh(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+Math.cosh(2*t);return new o(2*Math.cosh(t)*Math.cos(e)/n,-2*Math.sinh(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t,e=this.acos();return e.im<=0?(t=e.re,e.re=-e.im,e.im=t):(t=e.im,e.im=-e.re,e.re=t),e},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,a=1+t,s=r*r+e*e,u=0!==s?new o((a*r-e*e)/s,(e*r+a*e)/s):new o(t!==-1?t/0:0,0!==e?e/0:0),c=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,c)/2,n&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).atanh():new o(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new o(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).asinh():new o(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(1/0,0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).acosh():new o(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){var t=this.re,e=this.im,n=t*t+e*e;return new o(0!==t?t/n:0,0!==e?-e/n:0)},conjugate:function(){return new o(this.re,(-this.im))},neg:function(){return new o((-this.re),(-this.im))},ceil:function(t){return t=Math.pow(10,t||0),new o(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new o(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new o(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){return u(t,e),Math.abs(a.re-this.re)<=o.EPSILON&&Math.abs(a.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return isNaN(t)||isNaN(e)?"NaN":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),e=Math.abs(e),1!==e&&(n+=e),n+="i"),n?n:"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.EPSILON=1e-16,"function"==typeof t&&t.amd?t([],function(){return o}):"object"==typeof r?n.exports=o:e.Complex=o}(this)},{}],3:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){return 1===t.length&&(t=r(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function r(t){return function(n,r){return e(t(n),r)}}function i(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function o(t){return null===t?NaN:+t}function a(t,e){var n,r,i=t.length,a=0,s=0,u=-1,c=0;if(null==e)for(;++u<i;)isNaN(n=o(t[u]))||(r=n-a,a+=r/++c,s+=r*(n-a));else for(;++u<i;)isNaN(n=o(e(t[u],u,t)))||(r=n-a,a+=r/++c,s+=r*(n-a));if(c>1)return s/(c-1)}function s(t,e){var n=a(t,e);return n?Math.sqrt(n):n}function u(t,e){var n,r,i,o=-1,a=t.length;if(null==e){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e(t[o],o,t))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e(t[o],o,t))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]}function c(t){return function(){return t}}function l(t){return t}function f(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function h(t,e,n){var r=p(t,e,n);return f(Math.ceil(t/r)*r,Math.floor(e/r)*r+r/2,r)}function p(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=L?i*=10:o>=U?i*=5:o>=q&&(i*=2),e<t?-i:i}function d(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function m(){function t(t){var i,o,a=t.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(t[i],i,t);var u=n(s),c=u[0],l=u[1],f=r(s,c,l);Array.isArray(f)||(f=h(c,l,f));for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>=l;)f.pop(),--p;var d,m=new Array(p+1);for(i=0;i<=p;++i)d=m[i]=[],d.x0=i>0?f[i-1]:c,d.x1=i<p?f[i]:l;for(i=0;i<a;++i)o=s[i],c<=o&&o<=l&&m[j(f,o,0,p)].push(t[i]);return m}var e=l,n=u,r=d;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:c(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:c([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:c(Array.isArray(e)?I.call(e):e),t):r},t}function g(t,e,n){if(null==n&&(n=o),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function y(t,n,r){return t=B.call(t,o).sort(e),Math.ceil((r-n)/(2*(g(t,.75)-g(t,.25))*Math.pow(t.length,-1/3)))}function v(t,e,n){return Math.ceil((n-e)/(3.5*s(t)*Math.pow(t.length,-1/3)))}function x(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&r>n&&(n=r)}return n}function b(t,e){var n,r=0,i=t.length,a=-1,s=i;if(null==e)for(;++a<i;)isNaN(n=o(t[a]))?--s:r+=n;else for(;++a<i;)isNaN(n=o(e(t[a],a,t)))?--s:r+=n;if(s)return r/s}function w(t,n){var r,i=[],a=t.length,s=-1;if(null==n)for(;++s<a;)isNaN(r=o(t[s]))||i.push(r);else for(;++s<a;)isNaN(r=o(n(t[s],s,t)))||i.push(r);return g(i.sort(e),.5)}function _(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n}function N(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&n>r&&(n=r)}return n}function M(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i}function E(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function O(t,n){if(r=t.length){var r,i,o=0,a=0,s=t[a];for(n||(n=e);++o<r;)(n(i=t[o],s)<0||0!==n(s,s))&&(s=i,a=o);return 0===n(s,s)?a:void 0}}function A(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t}function S(t,e){var n,r=0,i=t.length,o=-1;if(null==e)for(;++o<i;)(n=+t[o])&&(r+=n);else for(;++o<i;)(n=+e(t[o],o,t))&&(r+=n);return r}function T(t){if(!(i=t.length))return[];for(var e=-1,n=N(t,k),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function k(t){return t.length}function C(){return T(arguments)}var P=n(e),j=P.right,z=P.left,R=Array.prototype,I=R.slice,B=R.map,L=Math.sqrt(50),U=Math.sqrt(10),q=Math.sqrt(2);t.bisect=j,t.bisectRight=j,t.bisectLeft=z,t.ascending=e,t.bisector=n,t.descending=i,t.deviation=s,t.extent=u,t.histogram=m,t.thresholdFreedmanDiaconis=y,t.thresholdScott=v,t.thresholdSturges=d,t.max=x,t.mean=b,t.median=w,t.merge=_,t.min=N,t.pairs=M,t.permute=E,t.quantile=g,t.range=f,t.scan=O,t.shuffle=A,t.sum=S,t.ticks=h,t.tickStep=p,t.transpose=T,t.variance=a,t.zip=C,Object.defineProperty(t,"__esModule",{value:!0})})},{}],4:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-dispatch"),e("d3-drag"),e("d3-interpolate"),e("d3-selection"),e("d3-transition")):"function"==typeof t&&t.amd?t(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],o):o(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3)}(this,function(t,e,n,r,i,o){"use strict";function a(){i.event.stopImmediatePropagation()}function s(t){return{type:t}}function u(){return!i.event.button}function c(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function l(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function f(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function h(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function p(){return m(N)}function d(){return m(M)}function m(t){function h(e){var n=e.property("__brush",C).selectAll(".overlay").data([s("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",O.overlay).merge(n).each(function(){var t=l(this).extent;i.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([s("selection")]).enter().append("rect").attr("class","selection").attr("cursor",O.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return O[t.type]}),e.each(p).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",E)}function p(){var t=i.select(this),e=l(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-I/2:e[0][0]-I/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-I/2:e[0][1]-I/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+I:I}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+I:I})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(t,e){return t.__brush.emitter||new m(t,e)}function m(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function E(){function e(){var t=i.mouse(D);!Q||U||q||(Math.abs(t[0]-et[0])>Math.abs(t[1]-et[1])?q=!0:U=!0),et=t,L=!0,v(),r()}function r(){var t;switch(I=et[0]-tt[0],B=et[1]-tt[1],$){case b:case x:H&&(I=Math.max(Z-h,Math.min(J-E,I)),m=h+I,C=E+I),V&&(B=Math.max(X-g,Math.min(K-j,B)),y=g+B,R=j+B);break;case w:H<0?(I=Math.max(Z-h,Math.min(J-h,I)),m=h+I,C=E):H>0&&(I=Math.max(Z-E,Math.min(J-E,I)),m=h,C=E+I),V<0?(B=Math.max(X-g,Math.min(K-g,B)),y=g+B,R=j):V>0&&(B=Math.max(X-j,Math.min(K-j,B)),y=g,R=j+B);break;case _:H&&(m=Math.max(Z,Math.min(J,h-I*H)),C=Math.max(Z,Math.min(J,E+I*H))),V&&(y=Math.max(X,Math.min(K,g-B*V)),R=Math.max(X,Math.min(K,j+B*V)))}C<m&&(H*=-1,t=h,h=E,E=t,t=m,m=C,C=t,F in A&&it.attr("cursor",O[F=A[F]])),R<y&&(V*=-1,t=g,g=j,j=t,t=y,y=R,R=t,F in S&&it.attr("cursor",O[F=S[F]])),G.selection&&(Y=G.selection),U&&(m=Y[0][0],C=Y[1][0]),q&&(y=Y[0][1],R=Y[1][1]),Y[0][0]===m&&Y[0][1]===y&&Y[1][0]===C&&Y[1][1]===R||(G.selection=[[m,y],[C,R]],p.call(D),nt.brush())}function s(){if(a(),i.event.touches){if(i.event.touches.length)return;P&&clearTimeout(P),P=setTimeout(function(){P=null},500),rt.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.dragEnable(i.event.view,L),ot.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);rt.attr("pointer-events","all"),it.attr("cursor",O.overlay),G.selection&&(Y=G.selection),f(Y)&&(G.selection=null,p.call(D)),nt.end()}function u(){switch(i.event.keyCode){case 16:Q=H&&V;break;case 18:$===w&&(H&&(E=C-I*H,h=m+I*H),V&&(j=R-B*V,g=y+B*V),$=_,r());break;case 32:$!==w&&$!==_||(H<0?E=C-I:H>0&&(h=m-I),V<0?j=R-B:V>0&&(g=y-B),$=b,it.attr("cursor",O.selection),r());break;default:return}v()}function c(){switch(i.event.keyCode){case 16:Q&&(U=q=Q=!1,r());break;case 18:$===_&&(H<0?E=C:H>0&&(h=m),V<0?j=R:V>0&&(g=y),$=w,r());break;case 32:$===b&&(i.event.altKey?(H&&(E=C-I*H,h=m+I*H),V&&(j=R-B*V,g=y+B*V),$=_):(H<0?E=C:H>0&&(h=m),V<0?j=R:V>0&&(g=y),$=w),it.attr("cursor",O[F]),r());break;default:return}v()}if(i.event.touches){if(i.event.changedTouches.length<i.event.touches.length)return v()}else if(P)return;if(z.apply(this,arguments)){var h,m,g,y,E,C,j,R,I,B,L,U,q,D=this,F=i.event.target.__data__.type,$="selection"===(i.event.metaKey?F="overlay":F)?x:i.event.altKey?_:w,H=t===M?null:T[F],V=t===N?null:k[F],G=l(D),W=G.extent,Y=G.selection,Z=W[0][0],X=W[0][1],J=W[1][0],K=W[1][1],Q=H&&V&&i.event.shiftKey,tt=i.mouse(D),et=tt,nt=d(D,arguments).beforestart();"overlay"===F?G.selection=Y=[[h=t===M?Z:tt[0],g=t===N?X:tt[1]],[E=t===M?J:h,j=t===N?K:g]]:(h=Y[0][0],g=Y[0][1],E=Y[1][0],j=Y[1][1]),m=h,y=g,C=E,R=j;var rt=i.select(D).attr("pointer-events","none"),it=rt.selectAll(".overlay").attr("cursor",O[F]);if(i.event.touches)rt.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",s,!0);else{var ot=i.select(i.event.view).on("keydown.brush",u,!0).on("keyup.brush",c,!0).on("mousemove.brush",e,!0).on("mouseup.brush",s,!0);n.dragDisable(i.event.view)}a(),o.interrupt(D),p.call(D),nt.start()}}function C(){var e=this.__brush||{selection:null};return e.extent=j.apply(this,arguments),e.dim=t,e}var P,j=c,z=u,R=e.dispatch(h,"start","brush","end"),I=6;return h.move=function(e,n){e.selection?e.on("start.brush",function(){d(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){d(this,arguments).end()}).tween("brush",function(){function e(t){o.selection=1===t&&f(u)?null:c(t),p.call(i),a.brush()}var i=this,o=i.__brush,a=d(i,arguments),s=o.selection,u=t.input("function"==typeof n?n.apply(this,arguments):n,o.extent),c=r.interpolate(s,u);return s&&u?e:e(1)}):e.each(function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,r):n,i.extent),s=d(e,r).beforestart();o.interrupt(e),i.selection=null==a||f(a)?null:a,p.call(e),s.start().brush().end()})},m.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){i.customEvent(new y(h,e,t.output(this.state.selection)),R.apply,R,[e,this.that,this.args])}},h.extent=function(t){return arguments.length?(j="function"==typeof t?t:g([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),h):j},h.filter=function(t){return arguments.length?(z="function"==typeof t?t:g(!!t),h):z},h.handleSize=function(t){return arguments.length?(I=+t,h):I},h.on=function(){var t=R.on.apply(R,arguments);return t===R?h:t},h}var g=function(t){return function(){return t}},y=function(t,e,n){this.target=t,this.type=e,this.selection=n},v=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},x={name:"drag"},b={name:"space"},w={name:"handle"},_={name:"center"},N={name:"x",handles:["e","w"].map(s),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},M={name:"y",handles:["n","s"].map(s),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},E={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(s),input:function(t){return t},output:function(t){return t}},O={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},A={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},S={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},T={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},k={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},C=function(){return m(E)};t.brush=C,t.brushX=p,t.brushY=d,t.brushSelection=h,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":7,"d3-drag":8,"d3-interpolate":12,"d3-selection":15,"d3-transition":20}],5:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(){}function n(t,n){var r=new e;if(t instanceof e)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(n(i=t[o],o,t),i)}else if(t)for(var s in t)r.set(s,t[s]);return r}function r(){function t(e,i,o,a){if(i>=l.length)return null!=u?u(e):null!=r?e.sort(r):e;for(var s,c,f,h=-1,p=e.length,d=l[i++],m=n(),g=o();++h<p;)(f=m.get(s=d(c=e[h])+""))?f.push(c):m.set(s,[c]);return m.each(function(e,n){a(g,n,t(e,i,o,a))}),g}function e(t,n){if(++n>l.length)return t;var r,i=f[n-1];return null!=u&&n>=l.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=i?r.sort(function(t,e){return i(t.key,e.key)}):r}var r,u,c,l=[],f=[];return c={object:function(e){return t(e,0,i,o)},map:function(e){return t(e,0,a,s)},entries:function(n){return e(t(n,0,a,s),0)},key:function(t){return l.push(t),c},sortKeys:function(t){return f[l.length-1]=t,c},sortValues:function(t){return r=t,c},rollup:function(t){return u=t,c}}}function i(){return{}}function o(t,e,n){t[e]=n}function a(){return n()}function s(t,e,n){t.set(e,n)}function u(){}function c(t,e){var n=new u;if(t instanceof u)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function l(t){var e=[];for(var n in t)e.push(n);return e}function f(t){var e=[];for(var n in t)e.push(t[n]);return e}function h(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var p="$";e.prototype=n.prototype={constructor:e,has:function(t){return p+t in this},get:function(t){return this[p+t]},set:function(t,e){return this[p+t]=e,this},remove:function(t){var e=p+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===p&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===p&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===p&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===p&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===p&&++t;return t},empty:function(){for(var t in this)if(t[0]===p)return!1;return!0},each:function(t){for(var e in this)e[0]===p&&t(this[e],e.slice(1),this)}};var d=n.prototype;u.prototype=c.prototype={constructor:u,has:d.has,add:function(t){return t+="",this[p+t]=t,this},remove:d.remove,clear:d.clear,values:d.keys,size:d.size,empty:d.empty,each:d.each},t.nest=r,t.set=c,t.map=n,t.keys=l,t.values=f,t.entries=h,Object.defineProperty(t,"__esModule",{value:!0})})},{}],6:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function r(){}function i(t){var e;return t=(t+"").trim().toLowerCase(),(e=k.exec(t))?(e=parseInt(e[1],16),new c(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=C.exec(t))?o(parseInt(e[1],16)):(e=P.exec(t))?new c(e[1],e[2],e[3],1):(e=j.exec(t))?new c(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=z.exec(t))?a(e[1],e[2],e[3],e[4]):(e=R.exec(t))?a(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=I.exec(t))?l(e[1],e[2]/100,e[3]/100,1):(e=B.exec(t))?l(e[1],e[2]/100,e[3]/100,e[4]):L.hasOwnProperty(t)?o(L[t]):"transparent"===t?new c(NaN,NaN,NaN,0):null}function o(t){return new c(t>>16&255,t>>8&255,255&t,1)}function a(t,e,n,r){return r<=0&&(t=e=n=NaN),new c(t,e,n,r)}function s(t){return t instanceof r||(t=i(t)),t?(t=t.rgb(),new c(t.r,t.g,t.b,t.opacity)):new c}function u(t,e,n,r){return 1===arguments.length?s(t):new c(t,e,n,null==r?1:r)}function c(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function l(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new p(t,e,n,r)}function f(t){if(t instanceof p)return new p(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=i(t)),!t)return new p;if(t instanceof p)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,a=Math.min(e,n,o),s=Math.max(e,n,o),u=NaN,c=s-a,l=(s+a)/2;return c?(u=e===s?(n-o)/c+6*(n<o):n===s?(o-e)/c+2:(e-n)/c+4,c/=l<.5?s+a:2-s-a,u*=60):c=l>0&&l<1?0:u,new p(u,c,l,t.opacity)}function h(t,e,n,r){return 1===arguments.length?f(t):new p(t,e,n,null==r?1:r)}function p(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function d(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function m(t){if(t instanceof y)return new y(t.l,t.a,t.b,t.opacity);if(t instanceof M){var e=t.h*U;return new y(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof c||(t=s(t));var n=w(t.r),r=w(t.g),i=w(t.b),o=v((.4124564*n+.3575761*r+.1804375*i)/F),a=v((.2126729*n+.7151522*r+.072175*i)/$),u=v((.0193339*n+.119192*r+.9503041*i)/H);return new y(116*a-16,500*(o-a),200*(a-u),t.opacity)}function g(t,e,n,r){return 1===arguments.length?m(t):new y(t,e,n,null==r?1:r)}function y(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function v(t){return t>Y?Math.pow(t,1/3):t/W+V}function x(t){return t>G?t*t*t:W*(t-V)}function b(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function w(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _(t){if(t instanceof M)return new M(t.h,t.c,t.l,t.opacity);t instanceof y||(t=m(t));var e=Math.atan2(t.b,t.a)*q;return new M(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function N(t,e,n,r){return 1===arguments.length?_(t):new M(t,e,n,null==r?1:r)}function M(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function E(t){if(t instanceof A)return new A(t.h,t.s,t.l,t.opacity);t instanceof c||(t=s(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(nt*r+tt*e-et*n)/(nt+tt-et),o=r-i,a=(Q*(n-i)-J*o)/K,u=Math.sqrt(a*a+o*o)/(Q*i*(1-i)),l=u?Math.atan2(a,o)*q-120:NaN;return new A(l<0?l+360:l,u,i,t.opacity)}function O(t,e,n,r){return 1===arguments.length?E(t):new A(t,e,n,null==r?1:r)}function A(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var S=.7,T=1/S,k=/^#([0-9a-f]{3})$/,C=/^#([0-9a-f]{6})$/,P=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,j=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,z=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,R=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,I=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,B=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,
navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),e(c,u,n(r,{brighter:function(t){return t=null==t?T:Math.pow(T,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?S:Math.pow(S,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),e(p,h,n(r,{brighter:function(t){return t=null==t?T:Math.pow(T,t),new p(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?S:Math.pow(S,t),new p(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new c(d(t>=240?t-240:t+120,i,r),d(t,i,r),d(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var U=Math.PI/180,q=180/Math.PI,D=18,F=.95047,$=1,H=1.08883,V=4/29,G=6/29,W=3*G*G,Y=G*G*G;e(y,g,n(r,{brighter:function(t){return new y(this.l+D*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new y(this.l-D*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=$*x(t),e=F*x(e),n=H*x(n),new c(b(3.2404542*e-1.5371385*t-.4985314*n),b(-.969266*e+1.8760108*t+.041556*n),b(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),e(M,N,n(r,{brighter:function(t){return new M(this.h,this.c,this.l+D*(null==t?1:t),this.opacity)},darker:function(t){return new M(this.h,this.c,this.l-D*(null==t?1:t),this.opacity)},rgb:function(){return m(this).rgb()}}));var Z=-.14861,X=1.78277,J=-.29227,K=-.90649,Q=1.97294,tt=Q*K,et=Q*X,nt=X*J-K*Z;e(A,O,n(r,{brighter:function(t){return t=null==t?T:Math.pow(T,t),new A(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?S:Math.pow(S,t),new A(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*U,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new c(255*(e+n*(Z*r+X*i)),255*(e+n*(J*r+K*i)),255*(e+n*(Q*r)),this.opacity)}})),t.color=i,t.rgb=u,t.hsl=h,t.lab=g,t.hcl=N,t.cubehelix=O,Object.defineProperty(t,"__esModule",{value:!0})})},{}],7:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(){for(var t,e=0,r=arguments.length,i={};e<r;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new n(i)}function n(t){this._=t}function r(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function i(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function o(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var a={value:function(){}};n.prototype=e.prototype={constructor:n,on:function(t,e){var n,a=this._,s=r(t+"",a),u=-1,c=s.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<c;)if(n=(t=s[u]).type)a[n]=o(a[n],t.name,e);else if(null==e)for(n in a)a[n]=o(a[n],t.name,null);return this}for(;++u<c;)if((n=(t=s[u]).type)&&(n=i(a[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new n(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})})},{}],8:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-dispatch"),e("d3-selection")):"function"==typeof t&&t.amd?t(["exports","d3-dispatch","d3-selection"],o):o(i.d3=i.d3||{},i.d3,i.d3)}(this,function(t,e,n){"use strict";function r(){n.event.stopImmediatePropagation()}function i(){n.event.preventDefault(),n.event.stopImmediatePropagation()}function o(t){var e=t.document.documentElement,r=n.select(t).on("dragstart.drag",i,!0);"onselectstart"in e?r.on("selectstart.drag",i,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function a(t,e){var r=t.document.documentElement,o=n.select(t).on("dragstart.drag",null);e&&(o.on("click.drag",i,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function s(t){return function(){return t}}function u(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function c(){return!n.event.button}function l(){return this.parentNode}function f(t){return null==t?{x:n.event.x,y:n.event.y}:t}function h(){function t(t){t.on("mousedown.drag",h).on("touchstart.drag",m).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!b&&w.apply(this,arguments)){var t=v("mouse",_.apply(this,arguments),n.mouse,this,arguments);t&&(n.select(n.event.view).on("mousemove.drag",p,!0).on("mouseup.drag",d,!0),o(n.event.view),r(),x=!1,t("start"))}}function p(){i(),x=!0,M.mouse("drag")}function d(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),a(n.event.view,x),i(),M.mouse("end")}function m(){if(w.apply(this,arguments)){var t,e,i=n.event.changedTouches,o=_.apply(this,arguments),a=i.length;for(t=0;t<a;++t)(e=v(i[t].identifier,o,n.touch,this,arguments))&&(r(),e("start"))}}function g(){var t,e,r=n.event.changedTouches,o=r.length;for(t=0;t<o;++t)(e=M[r[t].identifier])&&(i(),e("drag"))}function y(){var t,e,i=n.event.changedTouches,o=i.length;for(b&&clearTimeout(b),b=setTimeout(function(){b=null},500),t=0;t<o;++t)(e=M[i[t].identifier])&&(r(),e("end"))}function v(e,r,i,o,a){var s,c,l,f=i(r,e),h=E.copy();if(n.customEvent(new u(t,"beforestart",s,e,O,f[0],f[1],0,0,h),function(){return null!=(n.event.subject=s=N.apply(o,a))&&(c=s.x-f[0]||0,l=s.y-f[1]||0,!0)}))return function p(d){var m,g=f;switch(d){case"start":M[e]=p,m=O++;break;case"end":delete M[e],--O;case"drag":f=i(r,e),m=O}n.customEvent(new u(t,d,s,e,m,f[0]+c,f[1]+l,f[0]-g[0],f[1]-g[1],h),h.apply,h,[d,o,a])}}var x,b,w=c,_=l,N=f,M={},E=e.dispatch("start","drag","end"),O=0;return t.filter=function(e){return arguments.length?(w="function"==typeof e?e:s(!!e),t):w},t.container=function(e){return arguments.length?(_="function"==typeof e?e:s(e),t):_},t.subject=function(e){return arguments.length?(N="function"==typeof e?e:s(e),t):N},t.on=function(){var e=E.on.apply(E,arguments);return e===E?t:e},t}u.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t},t.drag=h,t.dragDisable=o,t.dragEnable=a,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":7,"d3-selection":15}],9:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t){return+t}function n(t){return t*t}function r(t){return t*(2-t)}function i(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function o(t){return t*t*t}function a(t){return--t*t*t+1}function s(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function u(t){return 1-Math.cos(t*E)}function c(t){return Math.sin(t*E)}function l(t){return(1-Math.cos(M*t))/2}function f(t){return Math.pow(2,10*t-10)}function h(t){return 1-Math.pow(2,-10*t)}function p(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function d(t){return 1-Math.sqrt(1-t*t)}function m(t){return Math.sqrt(1- --t*t)}function g(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function y(t){return 1-v(1-t)}function v(t){return(t=+t)<O?R*t*t:t<S?R*(t-=A)*t+T:t<C?R*(t-=k)*t+P:R*(t-=j)*t+z}function x(t){return((t*=2)<=1?1-v(1-t):v(t-1)+1)/2}var b=3,w=function G(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=G,e}(b),_=function W(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=W,e}(b),N=function Y(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=Y,e}(b),M=Math.PI,E=M/2,O=4/11,A=6/11,S=8/11,T=.75,k=9/11,C=10/11,P=.9375,j=21/22,z=63/64,R=1/O/O,I=1.70158,B=function Z(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=Z,e}(I),L=function X(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=X,e}(I),U=function J(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=J,e}(I),q=2*Math.PI,D=1,F=.3,$=function K(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((r-n)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=q);return n.amplitude=function(t){return K(t,e*q)},n.period=function(e){return K(t,e)},n}(D,F),H=function Q(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+r)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=q);return n.amplitude=function(t){return Q(t,e*q)},n.period=function(e){return Q(t,e)},n}(D,F),V=function tt(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((r-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((r+n)/e))/2}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=q);return n.amplitude=function(t){return tt(t,e*q)},n.period=function(e){return tt(t,e)},n}(D,F);t.easeLinear=e,t.easeQuad=i,t.easeQuadIn=n,t.easeQuadOut=r,t.easeQuadInOut=i,t.easeCubic=s,t.easeCubicIn=o,t.easeCubicOut=a,t.easeCubicInOut=s,t.easePoly=N,t.easePolyIn=w,t.easePolyOut=_,t.easePolyInOut=N,t.easeSin=l,t.easeSinIn=u,t.easeSinOut=c,t.easeSinInOut=l,t.easeExp=p,t.easeExpIn=f,t.easeExpOut=h,t.easeExpInOut=p,t.easeCircle=g,t.easeCircleIn=d,t.easeCircleOut=m,t.easeCircleInOut=g,t.easeBounce=v,t.easeBounceIn=y,t.easeBounceOut=v,t.easeBounceInOut=x,t.easeBack=U,t.easeBackIn=B,t.easeBackOut=L,t.easeBackInOut=U,t.easeElastic=H,t.easeElasticIn=$,t.easeElasticOut=H,t.easeElasticInOut=V,Object.defineProperty(t,"__esModule",{value:!0})})},{}],10:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function n(t){return t=e(Math.abs(t)),t?t[1]:NaN}function r(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function i(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}function o(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],o=r[1],a=o-(m=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+e(t,Math.max(0,n+a-1))[0]}function a(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array((-o)).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}function s(t){return new u(t)}function u(t){if(!(e=y.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(u=!0,l="g"):g[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=c,this.type=l}function c(t){return t}function l(t){function e(t){function e(t){var e,a,s,c=y,g=v;if("c"===d)g=b(t)+g,t="";else{t=+t;var _=(t<0||1/t<0)&&(t*=-1,!0);if(t=b(t,p),_)for(e=-1,a=t.length,_=!1;++e<a;)if(s=t.charCodeAt(e),48<s&&s<58||"x"===d&&96<s&&s<103||"X"===d&&64<s&&s<71){_=!0;break}if(c=(_?"("===i?i:"-":"-"===i||"("===i?"":i)+c,g=g+("s"===d?x[8+m/3]:"")+(_&&"("===i?")":""),w)for(e=-1,a=t.length;++e<a;)if(s=t.charCodeAt(e),48>s||s>57){g=(46===s?u+t.slice(e+1):t.slice(e))+g,t=t.slice(0,e);break}}h&&!l&&(t=o(t,1/0));var N=c.length+t.length+g.length,M=N<f?new Array(f-N+1).join(n):"";switch(h&&l&&(t=o(M+t,M.length?f-g.length:1/0),M=""),r){case"<":return c+t+g+M;case"=":return c+M+t+g;case"^":return M.slice(0,N=M.length>>1)+c+t+g+M.slice(N)}return M+c+t+g}t=s(t);var n=t.fill,r=t.align,i=t.sign,c=t.symbol,l=t.zero,f=t.width,h=t.comma,p=t.precision,d=t.type,y="$"===c?a[0]:"#"===c&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",v="$"===c?a[1]:/[%p]/.test(d)?"%":"",b=g[d],w=!d||/[defgprs%]/.test(d);return p=null==p?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),e.toString=function(){return t+""},e}function i(t,r){var i=e((t=s(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),a=Math.pow(10,-o),u=x[8+o/3];return function(t){return i(a*t)+u}}var o=t.grouping&&t.thousands?r(t.grouping,t.thousands):c,a=t.currency,u=t.decimal;return{format:e,formatPrefix:i}}function f(e){return v=l(e),t.format=v.format,t.formatPrefix=v.formatPrefix,v}function h(t){return Math.max(0,-n(Math.abs(t)))}function p(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))}function d(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1}var m,g={"":i,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return a(100*t,e)},r:a,s:o,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},y=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var v,x=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];f({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),t.formatDefaultLocale=f,t.formatLocale=l,t.formatSpecifier=s,t.precisionFixed=h,t.precisionPrefix=p,t.precisionRound=d,Object.defineProperty(t,"__esModule",{value:!0})})},{}],11:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,e){return t.parent===e.parent?1:2}function n(t){return t.reduce(r,0)/t.length}function r(t,e){return t+e.x}function i(t){return 1+t.reduce(o,0)}function o(t,e){return Math.max(t,e.y)}function a(t){for(var e;e=t.children;)t=e[0];return t}function s(t){for(var e;e=t.children;)t=e[e.length-1];return t}function u(){function t(t){var e,l=0;t.eachAfter(function(t){var o=t.children;o?(t.x=n(o),t.y=i(o)):(t.x=e?l+=r(t,e):0,t.y=0,e=t)});var f=a(t),h=s(t),p=f.x-r(f,h)/2,d=h.x+r(h,f)/2;return t.eachAfter(c?function(e){e.x=(e.x-t.x)*o,e.y=(t.y-e.y)*u}:function(e){e.x=(e.x-p)/(d-p)*o,e.y=(1-(t.y?e.y/t.y:1))*u})}var r=e,o=1,u=1,c=!1;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(c=!1,o=+e[0],u=+e[1],t):c?null:[o,u]},t.nodeSize=function(e){return arguments.length?(c=!0,o=+e[0],u=+e[1],t):c?[o,u]:null},t}function c(t){var e,n,r,i,o=this,a=[o];do for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(a.length);return this}function l(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this}function f(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this}function h(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function p(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function d(t){for(var e=this,n=m(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function m(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function g(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function y(){var t=[];return this.each(function(e){t.push(e)}),t}function v(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function x(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function b(t,e){var n,r,i,o,a,s=new E(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=_);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new E(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(M)}function w(){return b(this).eachBefore(N)}function _(t){return t.children}function N(t){t.data=t.data.data}function M(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function E(t){this.data=t,this.depth=this.height=0,this.parent=null}function O(t){this._=t,this.next=null}function A(t){for(var e,n=(t=t.slice()).length,r=null,i=r;n;){var o=new O(t[n-1]);i=i?i.next=o:r=o,t[e]=t[--n]}return{head:r,tail:i}}function S(t){return k(A(t),[])}function T(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r-e.r;return i*i+1e-6>n*n+r*r}function k(t,e){var n,r,i,o=null,a=t.head;switch(e.length){case 1:n=C(e[0]);break;case 2:n=P(e[0],e[1]);break;case 3:n=j(e[0],e[1],e[2])}for(;a;)i=a._,r=a.next,n&&T(n,i)?o=a:(o?(t.tail=o,o.next=null):t.head=t.tail=null,e.push(i),n=k(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),o=t.tail,o.next=r),a=r;return t.tail=o,n}function C(t){return{x:t.x,y:t.y,r:t.r}}function P(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function j(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,h=2*(r-a),p=2*(i-s),d=2*(u-o),m=r*r+i*i-o*o-a*a-s*s+u*u,g=2*(r-c),y=2*(i-l),v=2*(f-o),x=r*r+i*i-o*o-c*c-l*l+f*f,b=g*p-h*y,w=(p*x-y*m)/b-r,_=(y*d-p*v)/b,N=(g*m-h*x)/b-i,M=(h*v-g*d)/b,E=_*_+M*M-1,O=2*(w*_+N*M+o),A=w*w+N*N-o*o,S=(-O-Math.sqrt(O*O-4*E*A))/(2*E);return{x:w+_*S+r,y:N+M*S+i,r:S}}function z(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,c=s*s+u*u;if(c){var l=.5+((a*=a)-(o*=o))/(2*c),f=Math.sqrt(Math.max(0,2*o*(a+c)-(a-=c)*a-o*o))/(2*c);n.x=r+l*s+f*u,n.y=i+l*u-f*s}else n.x=r+a,n.y=i}function R(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i>n*n+r*r}function I(t,e,n){var r=t.x-e,i=t.y-n;return r*r+i*i}function B(t){this._=t,this.next=null,this.previous=null}function L(t){if(!(i=t.length))return 0;var e,n,r,i;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;z(n,e,r=t[2]);var o,a,s,u,c,l,f,h=e.r*e.r,p=n.r*n.r,d=r.r*r.r,m=h+p+d,g=h*e.x+p*n.x+d*r.x,y=h*e.y+p*n.y+d*r.y;e=new B(e),n=new B(n),r=new B(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){if(z(e._,n._,r=t[s]),r=new B(r),(c=e.previous)===(u=n.next)){if(R(u._,r._)){e=n,n=u,--s;continue t}}else{l=u._.r,f=c._.r;do if(l<=f){if(R(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}u=u.next,l+=u._.r}else{if(R(c._,r._)){e=c,e.next=n,n.previous=e,--s;continue t}c=c.previous,f+=c._.r}while(u!==c.next)}for(r.previous=e,r.next=n,e.next=n.previous=n=r,m+=d=r._.r*r._.r,g+=d*r._.x,y+=d*r._.y,h=I(e._,o=g/m,a=y/m);(r=r.next)!==n;)(d=I(r._,o,a))<h&&(e=r,h=d);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=S(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function U(t){return L(t),t}function q(t){return null==t?null:D(t)}function D(t){if("function"!=typeof t)throw new Error;return t}function F(){return 0}function $(t){return function(){return t}}function H(t){return Math.sqrt(t.value)}function V(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(G(e)).eachAfter(W(i,.5)).eachBefore(Y(1)):t.eachBefore(G(H)).eachAfter(W(F,1)).eachAfter(W(i,t.r/Math.min(n,r))).eachBefore(Y(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=F;return t.radius=function(n){return arguments.length?(e=q(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:$(+e),t):i},t}function G(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function W(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=L(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Y(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Z(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function X(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function J(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=r/a,t.eachBefore(e(r,a)),o&&t.eachBefore(Z),t}function e(t,e){return function(n){n.children&&X(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,a=n.x1-i,s=n.y1-i;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),n.x0=r,n.y0=o,n.x1=a,n.y1=s}}var n=1,r=1,i=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i=+e,t):i},t}function K(t){return t.id}function Q(t){return t.parentId}function tt(){function t(t){var r,i,o,a,s,u,c,l=t.length,f=new Array(l),h={};for(i=0;i<l;++i)r=t[i],s=f[i]=new E(r),null!=(u=e(r,i,t))&&(u+="")&&(c=mt+(s.id=u),h[c]=c in h?yt:s);for(i=0;i<l;++i)if(s=f[i],u=n(t[i],i,t),null!=u&&(u+="")){if(a=h[mt+u],!a)throw new Error("missing: "+u);if(a===yt)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=gt,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(M),o.parent=null,l>0)throw new Error("cycle");return o}var e=K,n=Q;return t.id=function(n){return arguments.length?(e=D(n),t):e},t.parentId=function(e){return arguments.length?(n=D(e),t):n},t}function et(t,e){return t.parent===e.parent?1:2}function nt(t){var e=t.children;return e?e[0]:t.t}function rt(t){var e=t.children;return e?e[e.length-1]:t.t}function it(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ot(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function at(t,e,n){return t.a.parent===e.parent?t.a:n}function st(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ut(t){for(var e,n,r,i,o,a=new st(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new st(r[i],i)),n.parent=e;return(a.parent=new st(null,0)).children=[a],a}function ct(){function t(t){var r=ut(t);if(r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),u)t.eachBefore(i);else{var c=t,l=t,f=t;t.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=c===l?1:o(c,l)/2,p=h-c.x,d=a/(l.x+h+p),m=s/(f.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*m})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){ot(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var r,i=t,a=t,s=e,u=i.parent.children[0],c=i.m,l=a.m,f=s.m,h=u.m;s=rt(s),i=nt(i),s&&i;)u=nt(u),a=rt(a),a.a=t,r=s.z+f-i.z-c+o(s._,i._),r>0&&(it(at(s,t,n),t,r),c+=r,l+=r),f+=s.m,c+=i.m,h+=u.m,l+=a.m;s&&!rt(a)&&(a.t=s,a.m+=f-l),i&&!nt(u)&&(u.t=i,u.m+=c-h,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*s}var o=et,a=1,s=1,u=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(u=!1,a=+e[0],s=+e[1],t):u?null:[a,s]},t.nodeSize=function(e){return arguments.length?(u=!0,a=+e[0],s=+e[1],t):u?[a,s]:null},t}function lt(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}function ft(t,e,n,r,i,o){for(var a,s,u,c,l,f,h,p,d,m,g,y,v=[],x=e.children,b=0,w=x.length,_=e.value;b<w;){for(c=i-n,l=o-r,h=p=f=x[b].value,g=Math.max(l/c,c/l)/(_*t),y=f*f*g,m=Math.max(p/y,y/h),u=b+1;u<w;++u){if(f+=s=x[u].value,s<h&&(h=s),s>p&&(p=s),y=f*f*g,d=Math.max(p/y,y/h),d>m){f-=s;break}m=d}v.push(a={value:f,dice:c<l,children:x.slice(b,u)}),a.dice?X(a,n,r,i,_?r+=l*f/_:o):lt(a,n,r,_?n+=c*f/_:i,o),_-=f,b=u}return v}function ht(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),a=[0],r&&t.eachBefore(Z),t}function e(t){var e=a[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,h=t.y1-e;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(e=a[t.depth+1]=s(t)/2,r+=f(t)-e,i+=u(t)-e,o-=c(t)-e,h-=l(t)-e,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),n(t,r,i,o,h))}var n=xt,r=!1,i=1,o=1,a=[0],s=F,u=F,c=F,l=F,f=F;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=D(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:$(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:$(+e),t):u},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:$(+e),t):c},t.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:$(+e),t):l},t.paddingLeft=function(e){return arguments.length?(f="function"==typeof e?e:$(+e),t):f},t}function pt(t,e,n,r,i){function o(t,e,n,r,i,a,s){if(t>=e-1){var c=u[t];return c.x0=r,c.y0=i,c.x1=a,c.y1=s,void 0}for(var f=l[t],h=n/2+f,p=t+1,d=e-1;p<d;){var m=p+d>>>1;l[m]<h?p=m+1:d=m}var g=l[p]-f,y=n-g;if(s-i>a-r){var v=(i*y+s*g)/n;o(t,p,g,r,i,a,v),o(p,e,y,r,v,a,s)}else{var x=(r*y+a*g)/n;o(t,p,g,r,i,x,s),o(p,e,y,x,i,a,s)}}var a,s,u=t.children,c=u.length,l=new Array(c+1);for(l[0]=s=a=0;a<c;++a)l[a+1]=s+=u[a].value;o(0,c,t.value,e,n,r,i)}function dt(t,e,n,r,i){(1&t.depth?lt:X)(t,e,n,r,i)}E.prototype=b.prototype={constructor:E,each:c,eachAfter:f,eachBefore:l,sum:h,sort:p,path:d,ancestors:g,descendants:y,leaves:v,links:x,copy:w};var mt="$",gt={depth:-1},yt={};st.prototype=Object.create(E.prototype);var vt=(1+Math.sqrt(5))/2,xt=function wt(t){function e(e,n,r,i,o){ft(t,e,n,r,i,o)}return e.ratio=function(t){return wt((t=+t)>1?t:1)},e}(vt),bt=function _t(t){function e(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,u,c,l,f=-1,h=a.length,p=e.value;++f<h;){for(s=a[f],u=s.children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?X(s,n,r,i,r+=(o-r)*s.value/p):lt(s,n,r,n+=(i-n)*s.value/p,o),p-=s.value}else e._squarify=a=ft(t,e,n,r,i,o),a.ratio=t}return e.ratio=function(t){return _t((t=+t)>1?t:1)},e}(vt);t.cluster=u,t.hierarchy=b,t.pack=V,t.packSiblings=U,t.packEnclose=S,t.partition=J,t.stratify=tt,t.tree=ct,t.treemap=ht,t.treemapBinary=pt,t.treemapDice=X,t.treemapSlice=lt,t.treemapSliceDice=dt,t.treemapSquarify=xt,t.treemapResquarify=bt,Object.defineProperty(t,"__esModule",{value:!0})})},{}],12:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-color")):"function"==typeof t&&t.amd?t(["exports","d3-color"],o):o(i.d3=i.d3||{},i.d3)}(this,function(t,e){"use strict";function n(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function r(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return n((r-i/e)*e,s,o,a,u)}}function i(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return n((r-i/e)*e,o,a,s,u)}}function o(t){return function(){return t}}function a(t,e){return function(n){return t+n*e}}function s(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function u(t,e){var n=e-t;return n?a(t,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(t)?e:t)}function c(t){return 1===(t=+t)?l:function(e,n){return n-e?s(e,n,t):o(isNaN(e)?n:e)}}function l(t,e){var n=e-t;return n?a(t,n):o(isNaN(t)?e:t)}function f(t){return function(n){var r,i,o=n.length,a=new Array(o),s=new Array(o),u=new Array(o);for(r=0;r<o;++r)i=e.rgb(n[r]),a[r]=i.r||0,s[r]=i.g||0,u[r]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}function h(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=x(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function p(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}}function d(t,e){return t=+t,e-=t,function(n){return t+e*n}}function m(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=x(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function g(t){return function(){return t}}function y(t){return function(e){return t(e)+""}}function v(t,e){var n,r,i,o=D.lastIndex=F.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=D.exec(t))&&(r=F.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:d(n,r)})),o=F.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?y(u[0].x):g(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function x(t,n){var r,i=typeof n;return null==n||"boolean"===i?o(n):("number"===i?d:"string"===i?(r=e.color(n))?(n=r,L):v:n instanceof e.color?L:n instanceof Date?p:Array.isArray(n)?h:isNaN(n)?m:d)(t,n)}function b(t,e){return t=+t,
e-=t,function(n){return Math.round(t+e*n)}}function w(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*$,skewX:Math.atan(u)*$,scaleX:a,scaleY:s}}function _(t){return"none"===t?H:(z||(z=document.createElement("DIV"),R=document.documentElement,I=document.defaultView),z.style.transform=t,t=I.getComputedStyle(R.appendChild(z),null).getPropertyValue("transform"),R.removeChild(z),t=t.slice(7,-1).split(","),w(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function N(t){return null==t?H:(B||(B=document.createElementNS("http://www.w3.org/2000/svg","g")),B.setAttribute("transform",t),(t=B.transform.baseVal.consolidate())?(t=t.matrix,w(t.a,t.b,t.c,t.d,t.e,t.f)):H)}function M(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:d(t,i)},{i:u-2,x:d(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:d(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:d(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:d(t,n)},{i:s-2,x:d(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function E(t){return((t=Math.exp(t))+1/t)/2}function O(t){return((t=Math.exp(t))-1/t)/2}function A(t){return((t=Math.exp(2*t))-1)/(t+1)}function S(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,f=u-o,h=l*l+f*f;if(h<X)r=Math.log(c/a)/W,n=function(t){return[i+t*l,o+t*f,a*Math.exp(W*t*r)]};else{var p=Math.sqrt(h),d=(c*c-a*a+Z*h)/(2*a*Y*p),m=(c*c-a*a-Z*h)/(2*c*Y*p),g=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(m*m+1)-m);r=(y-g)/W,n=function(t){var e=t*r,n=E(g),s=a/(Y*p)*(n*A(W*e+g)-O(g));return[i+s*l,o+s*f,a*n/E(W*e+g)]}}return n.duration=1e3*r,n}function T(t){return function(n,r){var i=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),o=l(n.s,r.s),a=l(n.l,r.l),s=l(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=s(t),n+""}}}function k(t,n){var r=l((t=e.lab(t)).l,(n=e.lab(n)).l),i=l(t.a,n.a),o=l(t.b,n.b),a=l(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}}function C(t){return function(n,r){var i=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),o=l(n.c,r.c),a=l(n.l,r.l),s=l(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=s(t),n+""}}}function P(t){return function n(r){function i(n,i){var o=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=l(n.s,i.s),s=l(n.l,i.l),u=l(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=s(Math.pow(t,r)),n.opacity=u(t),n+""}}return r=+r,i.gamma=n,i}(1)}function j(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var z,R,I,B,L=function rt(t){function n(t,n){var i=r((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=r(t.g,n.g),a=r(t.b,n.b),s=r(t.opacity,n.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}var r=c(t);return n.gamma=rt,n}(1),U=f(r),q=f(i),D=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,F=new RegExp(D.source,"g"),$=180/Math.PI,H={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},V=M(_,"px, ","px)","deg)"),G=M(N,", ",")",")"),W=Math.SQRT2,Y=2,Z=4,X=1e-12,J=T(u),K=T(l),Q=C(u),tt=C(l),et=P(u),nt=P(l);t.interpolate=x,t.interpolateArray=h,t.interpolateBasis=r,t.interpolateBasisClosed=i,t.interpolateDate=p,t.interpolateNumber=d,t.interpolateObject=m,t.interpolateRound=b,t.interpolateString=v,t.interpolateTransformCss=V,t.interpolateTransformSvg=G,t.interpolateZoom=S,t.interpolateRgb=L,t.interpolateRgbBasis=U,t.interpolateRgbBasisClosed=q,t.interpolateHsl=J,t.interpolateHslLong=K,t.interpolateLab=k,t.interpolateHcl=Q,t.interpolateHclLong=tt,t.interpolateCubehelix=et,t.interpolateCubehelixLong=nt,t.quantize=j,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":6}],13:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(){this._x0=this._y0=this._x1=this._y1=null,this._=[]}function n(){return new e}var r=Math.PI,i=2*r,o=1e-6,a=i-o;e.prototype=n.prototype={constructor:e,moveTo:function(t,e){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._.push("Z"))},lineTo:function(t,e){this._.push("L",this._x1=+t,",",this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._.push("Q",+t,",",+e,",",this._x1=+n,",",this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._.push("C",+t,",",+e,",",+n,",",+r,",",this._x1=+i,",",this._y1=+o)},arcTo:function(t,e,n,i,a){t=+t,e=+e,n=+n,i=+i,a=+a;var s=this._x1,u=this._y1,c=n-t,l=i-e,f=s-t,h=u-e,p=f*f+h*h;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._.push("M",this._x1=t,",",this._y1=e);else if(p>o)if(Math.abs(h*c-l*f)>o&&a){var d=n-s,m=i-u,g=c*c+l*l,y=d*d+m*m,v=Math.sqrt(g),x=Math.sqrt(p),b=a*Math.tan((r-Math.acos((g+p-y)/(2*v*x)))/2),w=b/x,_=b/v;Math.abs(w-1)>o&&this._.push("L",t+w*f,",",e+w*h),this._.push("A",a,",",a,",0,0,",+(h*d>f*m),",",this._x1=t+_*c,",",this._y1=e+_*l)}else this._.push("L",this._x1=t,",",this._y1=e);else;},arc:function(t,e,n,s,u,c){t=+t,e=+e,n=+n;var l=n*Math.cos(s),f=n*Math.sin(s),h=t+l,p=e+f,d=1^c,m=c?s-u:u-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._.push("M",h,",",p):(Math.abs(this._x1-h)>o||Math.abs(this._y1-p)>o)&&this._.push("L",h,",",p),n&&(m>a?this._.push("A",n,",",n,",0,1,",d,",",t-l,",",e-f,"A",n,",",n,",0,1,",d,",",this._x1=h,",",this._y1=p):(m<0&&(m=m%i+i),this._.push("A",n,",",n,",0,",+(m>=r),",",d,",",this._x1=t+n*Math.cos(u),",",this._y1=e+n*Math.sin(u))))},rect:function(t,e,n,r){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e,"h",+n,"v",+r,"h",-n,"Z")},toString:function(){return this._.join("")}},t.path=n,Object.defineProperty(t,"__esModule",{value:!0})})},{}],14:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-array"),e("d3-collection"),e("d3-interpolate"),e("d3-format"),e("d3-time"),e("d3-time-format"),e("d3-color")):"function"==typeof t&&t.amd?t(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],o):o(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3,i.d3,i.d3)}(this,function(t,e,n,r,i,o,a,s){"use strict";function u(t){function e(e){var n=e+"",a=r.get(n);if(!a){if(o!==J)return o;r.set(n,a=i.push(e))}return t[(a-1)%t.length]}var r=n.map(),i=[],o=J;return t=null==t?[]:X.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],r=n.map();for(var o,a,s=-1,u=t.length;++s<u;)r.has(a=(o=t[s])+"")||r.set(a,i.push(o));return e},e.range=function(n){return arguments.length?(t=X.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return u().domain(i).range(t).unknown(o)},e}function c(){function t(){var t=o().length,i=s[1]<s[0],u=s[i-0],c=s[1-i];n=(c-u)/Math.max(1,t-f+2*h),l&&(n=Math.floor(n)),u+=(c-u-n*(t-f))*p,r=n*(1-f),l&&(u=Math.round(u),r=Math.round(r));var d=e.range(t).map(function(t){return u+n*t});return a(i?d.reverse():d)}var n,r,i=u().unknown(void 0),o=i.domain,a=i.range,s=[0,1],l=!1,f=0,h=0,p=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(o(e),t()):o()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],l=!0,t()},i.bandwidth=function(){return r},i.step=function(){return n},i.round=function(e){return arguments.length?(l=!!e,t()):l},i.padding=function(e){return arguments.length?(f=h=Math.max(0,Math.min(1,e)),t()):f},i.paddingInner=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},i.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},i.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),t()):p},i.copy=function(){return c().domain(o()).range(s).round(l).paddingInner(f).paddingOuter(h).align(p)},t()}function l(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l(e())},t}function f(){return l(c().paddingInner(1))}function h(t){return function(){return t}}function p(t){return+t}function d(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:h(e)}function m(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function g(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function y(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function v(t,n,r,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<o;)a[u]=r(t[u],t[u+1]),s[u]=i(n[u],n[u+1]);return function(n){var r=e.bisect(t,n,1,o)-1;return s[r](a[r](n))}}function x(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function b(t,e){function n(){return o=Math.min(u.length,c.length)>2?v:y,a=s=null,i}function i(e){return(a||(a=o(u,c,f?m(t):t,l)))(+e)}var o,a,s,u=K,c=K,l=r.interpolate,f=!1;return i.invert=function(t){return(s||(s=o(c,u,d,f?g(e):e)))(+t)},i.domain=function(t){return arguments.length?(u=Z.call(t,p),n()):u.slice()},i.range=function(t){return arguments.length?(c=X.call(t),n()):c.slice()},i.rangeRound=function(t){return c=X.call(t),l=r.interpolateRound,n()},i.clamp=function(t){return arguments.length?(f=!!t,n()):f},i.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function w(t,n,r){var o,a=t[0],s=t[t.length-1],u=e.tickStep(a,s,null==n?10:n);switch(r=i.formatSpecifier(null==r?",f":r),r.type){case"s":var c=Math.max(Math.abs(a),Math.abs(s));return null!=r.precision||isNaN(o=i.precisionPrefix(u,c))||(r.precision=o),i.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=i.precisionRound(u,Math.max(Math.abs(a),Math.abs(s))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=i.precisionFixed(u))||(r.precision=o-2*("%"===r.type))}return i.format(r)}function _(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,e){return w(n(),t,e)},t.nice=function(r){var i=n(),o=i.length-1,a=null==r?10:r,s=i[0],u=i[o],c=e.tickStep(s,u,a);return c&&(c=e.tickStep(Math.floor(s/c)*c,Math.ceil(u/c)*c,a),i[0]=Math.floor(s/c)*c,i[o]=Math.ceil(u/c)*c,n(i)),t},t}function N(){var t=b(d,r.interpolateNumber);return t.copy=function(){return x(t,N())},_(t)}function M(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Z.call(n,p),t):e.slice()},t.copy=function(){return M().domain(e)},_(t)}function E(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function O(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:h(e)}function A(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function S(t){return isFinite(t)?+("1e"+t):t<0?0:t}function T(t){return 10===t?S:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function k(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function C(t){return function(e){return-t(-e)}}function P(){function t(){return a=k(o),s=T(o),r()[0]<0&&(a=C(a),s=C(s)),n}var n=b(O,A).domain([1,10]),r=n.domain,o=10,a=k(10),s=T(10);return n.base=function(e){return arguments.length?(o=+e,t()):o},n.domain=function(e){return arguments.length?(r(e),t()):r()},n.ticks=function(t){var n,i=r(),u=i[0],c=i[i.length-1];(n=c<u)&&(p=u,u=c,c=p);var l,f,h,p=a(u),d=a(c),m=null==t?10:+t,g=[];if(!(o%1)&&d-p<m){if(p=Math.round(p)-1,d=Math.round(d)+1,u>0){for(;p<d;++p)for(f=1,l=s(p);f<o;++f)if(h=l*f,!(h<u)){if(h>c)break;g.push(h)}}else for(;p<d;++p)for(f=o-1,l=s(p);f>=1;--f)if(h=l*f,!(h<u)){if(h>c)break;g.push(h)}}else g=e.ticks(p,d,Math.min(d-p,m)).map(s);return n?g.reverse():g},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=i.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/s(Math.round(a(t)));return n*o<o-.5&&(n*=o),n<=r?e(t):""}},n.nice=function(){return r(E(r(),{floor:function(t){return s(Math.floor(a(t)))},ceil:function(t){return s(Math.ceil(a(t)))}}))},n.copy=function(){return x(n,P().base(o))},n}function j(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function z(){function t(t,e){return(e=j(e,n)-(t=j(t,n)))?function(r){return(j(r,n)-t)/e}:h(e)}function e(t,e){return e=j(e,n)-(t=j(t,n)),function(r){return j(t+e*r,1/n)}}var n=1,r=b(t,e),i=r.domain;return r.exponent=function(t){return arguments.length?(n=+t,i(i())):n},r.copy=function(){return x(r,z().exponent(n))},_(r)}function R(){return z().exponent(.5)}function I(){function t(){var t=0,a=Math.max(1,i.length);for(o=new Array(a-1);++t<a;)o[t-1]=e.quantile(r,t/a);return n}function n(t){if(!isNaN(t=+t))return i[e.bisect(o,t)]}var r=[],i=[],o=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:r[0],e<o.length?o[e]:r[r.length-1]]},n.domain=function(n){if(!arguments.length)return r.slice();r=[];for(var i,o=0,a=n.length;o<a;++o)i=n[o],null==i||isNaN(i=+i)||r.push(i);return r.sort(e.ascending),t()},n.range=function(e){return arguments.length?(i=X.call(e),t()):i.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return I().domain(r).range(i)},n}function B(){function t(t){if(t<=t)return s[e.bisect(a,t,0,o)]}function n(){var e=-1;for(a=new Array(o);++e<o;)a[e]=((e+1)*i-(e-o)*r)/(o+1);return t}var r=0,i=1,o=1,a=[.5],s=[0,1];return t.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n()):[r,i]},t.range=function(t){return arguments.length?(o=(s=X.call(t)).length-1,n()):s.slice()},t.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,a[0]]:e>=o?[a[o-1],i]:[a[e-1],a[e]]},t.copy=function(){return B().domain([r,i]).range(s)},_(t)}function L(){function t(t){if(t<=t)return r[e.bisect(n,t,0,i)]}var n=[.5],r=[0,1],i=1;return t.domain=function(e){return arguments.length?(n=X.call(e),i=Math.min(n.length,r.length-1),t):n.slice()},t.range=function(e){return arguments.length?(r=X.call(e),i=Math.min(n.length,r.length-1),t):r.slice()},t.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return L().domain(n).range(r)},t}function U(t){return new Date(t)}function q(t){return t instanceof Date?+t:+new Date((+t))}function D(t,n,i,o,a,s,u,c,l){function f(e){return(u(e)<e?y:s(e)<e?v:a(e)<e?w:o(e)<e?_:n(e)<e?i(e)<e?N:M:t(e)<e?O:A)(e)}function h(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,s=e.bisector(function(t){return t[2]}).right(S,a);s===S.length?(o=e.tickStep(r/ot,i/ot,n),n=t):s?(s=S[a/S[s-1][2]<S[s][2]/a?s-1:s],o=s[1],n=s[0]):(o=e.tickStep(r,i,n),n=c)}return null==o?n:n.every(o)}var p=b(d,r.interpolateNumber),m=p.invert,g=p.domain,y=l(".%L"),v=l(":%S"),w=l("%I:%M"),_=l("%I %p"),N=l("%a %d"),M=l("%b %d"),O=l("%B"),A=l("%Y"),S=[[u,1,Q],[u,5,5*Q],[u,15,15*Q],[u,30,30*Q],[s,1,tt],[s,5,5*tt],[s,15,15*tt],[s,30,30*tt],[a,1,et],[a,3,3*et],[a,6,6*et],[a,12,12*et],[o,1,nt],[o,2,2*nt],[i,1,rt],[n,1,it],[n,3,3*it],[t,1,ot]];return p.invert=function(t){return new Date(m(t))},p.domain=function(t){return arguments.length?g(Z.call(t,q)):g().map(U)},p.ticks=function(t,e){var n,r=g(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=h(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},p.tickFormat=function(t,e){return null==e?f:l(e)},p.nice=function(t,e){var n=g();return(t=h(t,n[0],n[n.length-1],e))?g(E(n,t)):p},p.copy=function(){return x(p,D(t,n,i,o,a,s,u,c,l))},p}function F(){return D(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function $(){return D(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function H(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function V(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return pt.h=360*t-100,pt.s=1.5-1.5*e,pt.l=.8-.9*e,pt+""}function G(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function W(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return W(t).domain([n,r]).clamp(i)},_(e)}var Y=Array.prototype,Z=Y.map,X=Y.slice,J={name:"implicit"},K=[0,1],Q=1e3,tt=60*Q,et=60*tt,nt=24*et,rt=7*nt,it=30*nt,ot=365*nt,at=H("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),st=H("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ut=H("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ct=H("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),lt=r.interpolateCubehelixLong(s.cubehelix(300,.5,0),s.cubehelix(-240,.5,1)),ft=r.interpolateCubehelixLong(s.cubehelix(-100,.75,.35),s.cubehelix(80,1.5,.8)),ht=r.interpolateCubehelixLong(s.cubehelix(260,.75,.35),s.cubehelix(80,1.5,.8)),pt=s.cubehelix(),dt=G(H("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),mt=G(H("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),gt=G(H("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),yt=G(H("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=c,t.scalePoint=f,t.scaleIdentity=M,t.scaleLinear=N,t.scaleLog=P,t.scaleOrdinal=u,t.scaleImplicit=J,t.scalePow=z,t.scaleSqrt=R,t.scaleQuantile=I,t.scaleQuantize=B,t.scaleThreshold=L,t.scaleTime=F,t.scaleUtc=$,t.schemeCategory10=at,t.schemeCategory20b=st,t.schemeCategory20c=ut,t.schemeCategory20=ct,t.interpolateCubehelixDefault=lt,t.interpolateRainbow=V,t.interpolateWarm=ft,t.interpolateCool=ht,t.interpolateViridis=dt,t.interpolateMagma=mt,t.interpolateInferno=gt,t.interpolatePlasma=yt,t.scaleSequential=W,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-array":3,"d3-collection":5,"d3-color":6,"d3-format":10,"d3-interpolate":12,"d3-time":18,"d3-time-format":17}],15:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ft.hasOwnProperty(e)?{space:Ft[e],local:t}:t}function n(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Dt&&e.documentElement.namespaceURI===Dt?e.createElement(t):e.createElementNS(n,t)}}function r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(t){var i=e(t);return(i.local?r:n)(i)}function o(){return new a}function a(){this._="@"+(++$t).toString(36)}function s(t,e,n){return t=u(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function u(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function c(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function l(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function f(t,e,n){var r=Yt.hasOwnProperty(t.type)?s:u;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function h(t,e,n){var r,i,o=c(t+""),a=o.length;{if(!(arguments.length<2)){for(s=e?f:l,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,h=0,p=s.length;h<p;++h)for(r=0,u=s[h];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}}function p(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function d(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function m(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function g(t){var e=d();return e.changedTouches&&(e=e.changedTouches[0]),m(t,e)}function y(){}function v(t){return null==t?y:function(){return this.querySelector(t)}}function x(t){"function"!=typeof t&&(t=v(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Rt(r,this._parents)}function b(){return[]}function w(t){return null==t?b:function(){return this.querySelectorAll(t)}}function _(t){"function"!=typeof t&&(t=w(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Rt(r,i)}function N(t){"function"!=typeof t&&(t=Wt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Rt(r,this._parents)}function M(t){return new Array(t.length)}function E(){return new Rt(this._enter||this._groups.map(M),this._parents)}function O(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function A(t){return function(){return t}}function S(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new O(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function T(t,e,n,r,i,o,a){var s,u,c,l={},f=e.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=c=Xt+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<h;++s)c=Xt+a.call(t,o[s],s,o),(u=l[c])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new O(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l[p[s]]===u&&(i[s]=u)}function k(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n=e?T:S,r=this._parents,i=this._groups;"function"!=typeof t&&(t=A(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=t.call(l,l&&l.__data__,c,r),d=p.length,m=s[c]=new Array(d),g=a[c]=new Array(d),y=u[c]=new Array(h);n(l,f,m,g,y,p,e);for(var v,x,b=0,w=0;b<d;++b)if(v=m[b]){for(b>=w&&(w=b+1);!(x=g[w])&&++w<d;);v._next=x||null}}return a=new Rt(a,r),a._enter=s,a._exit=u,a}function C(){return new Rt(this._exit||this._groups.map(M),this._parents)}function P(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new Rt(a,this._parents)}function j(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}function z(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=R);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Rt(i,this._parents).order()}function R(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function I(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function B(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function L(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function U(){var t=0;return this.each(function(){++t}),t}function q(){return!this.node()}function D(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}function F(t){return function(){this.removeAttribute(t)}}function $(t){return function(){this.removeAttributeNS(t.space,t.local)}}function H(t,e){return function(){this.setAttribute(t,e)}}function V(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function G(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function W(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Y(t,n){var r=e(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?$:F:"function"==typeof n?r.local?W:G:r.local?V:H)(r,n));
}function Z(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function X(t){return function(){this.style.removeProperty(t)}}function J(t,e,n){return function(){this.style.setProperty(t,e,n)}}function K(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Q(t,e,n){var r;return arguments.length>1?this.each((null==e?X:"function"==typeof e?K:J)(t,e,null==n?"":n)):Z(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)}function tt(t){return function(){delete this[t]}}function et(t,e){return function(){this[t]=e}}function nt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function rt(t,e){return arguments.length>1?this.each((null==e?tt:"function"==typeof e?nt:et)(t,e)):this.node()[t]}function it(t){return t.trim().split(/^|\s+/)}function ot(t){return t.classList||new at(t)}function at(t){this._node=t,this._names=it(t.getAttribute("class")||"")}function st(t,e){for(var n=ot(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ut(t,e){for(var n=ot(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ct(t){return function(){st(this,t)}}function lt(t){return function(){ut(this,t)}}function ft(t,e){return function(){(e.apply(this,arguments)?st:ut)(this,t)}}function ht(t,e){var n=it(t+"");if(arguments.length<2){for(var r=ot(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ft:e?ct:lt)(n,e))}function pt(){this.textContent=""}function dt(t){return function(){this.textContent=t}}function mt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function gt(t){return arguments.length?this.each(null==t?pt:("function"==typeof t?mt:dt)(t)):this.node().textContent}function yt(){this.innerHTML=""}function vt(t){return function(){this.innerHTML=t}}function xt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function bt(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?xt:vt)(t)):this.node().innerHTML}function wt(){this.nextSibling&&this.parentNode.appendChild(this)}function _t(){return this.each(wt)}function Nt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mt(){return this.each(Nt)}function Et(t){var e="function"==typeof t?t:i(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ot(){return null}function At(t,e){var n="function"==typeof t?t:i(t),r=null==e?Ot:"function"==typeof e?e:v(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function St(){var t=this.parentNode;t&&t.removeChild(this)}function Tt(){return this.each(St)}function kt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ct(t,e,n){var r=Z(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Pt(t,e){return function(){return Ct(this,t,e)}}function jt(t,e){return function(){return Ct(this,t,e.apply(this,arguments))}}function zt(t,e){return this.each(("function"==typeof e?jt:Pt)(t,e))}function Rt(t,e){this._groups=t,this._parents=e}function It(){return new Rt([[document.documentElement]],Jt)}function Bt(t){return"string"==typeof t?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],Jt)}function Lt(t){return"string"==typeof t?new Rt([document.querySelectorAll(t)],[document.documentElement]):new Rt([null==t?[]:t],Jt)}function Ut(t,e,n){arguments.length<3&&(n=e,e=d().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return m(t,r);return null}function qt(t,e){null==e&&(e=d().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=m(t,e[n]);return i}var Dt="http://www.w3.org/1999/xhtml",Ft={svg:"http://www.w3.org/2000/svg",xhtml:Dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$t=0;a.prototype=o.prototype={constructor:a,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ht=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Vt=document.documentElement;if(!Vt.matches){var Gt=Vt.webkitMatchesSelector||Vt.msMatchesSelector||Vt.mozMatchesSelector||Vt.oMatchesSelector;Ht=function(t){return function(){return Gt.call(this,t)}}}}var Wt=Ht,Yt={};if(t.event=null,"undefined"!=typeof document){var Zt=document.documentElement;"onmouseenter"in Zt||(Yt={mouseenter:"mouseover",mouseleave:"mouseout"})}O.prototype={constructor:O,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Xt="$";at.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Jt=[null];Rt.prototype=It.prototype={constructor:Rt,select:x,selectAll:_,filter:N,data:k,enter:E,exit:C,merge:P,order:j,sort:z,call:I,nodes:B,node:L,size:U,empty:q,each:D,attr:Y,style:Q,property:rt,classed:ht,text:gt,html:bt,raise:_t,lower:Mt,append:Et,insert:At,remove:Tt,datum:kt,on:h,dispatch:zt},t.creator=i,t.local=o,t.matcher=Wt,t.mouse=g,t.namespace=e,t.namespaces=Ft,t.select=Bt,t.selectAll=Lt,t.selection=It,t.selector=v,t.selectorAll=w,t.touch=Ut,t.touches=qt,t.window=Z,t.customEvent=p,Object.defineProperty(t,"__esModule",{value:!0})})},{}],16:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-path")):"function"==typeof t&&t.amd?t(["exports","d3-path"],o):o(i.d3=i.d3||{},i.d3)}(this,function(t,e){"use strict";function n(t){return function(){return t}}function r(t){return t.innerRadius}function i(t){return t.outerRadius}function o(t){return t.startAngle}function a(t){return t.endAngle}function s(t){return t&&t.padAngle}function u(t){return t>=1?_t:t<=-1?-_t:Math.asin(t)}function c(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,f=s-o,h=(l*(e-o)-f*(t-i))/(f*u-l*c);return[t+h*u,e+h*c]}function l(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/Math.sqrt(s*s+u*u),l=c*u,f=-c*s,h=t+l,p=e+f,d=n+l,m=r+f,g=(h+d)/2,y=(p+m)/2,v=d-h,x=m-p,b=v*v+x*x,w=i-o,_=h*m-d*p,N=(x<0?-1:1)*Math.sqrt(Math.max(0,w*w*b-_*_)),M=(_*x-v*N)/b,E=(-_*v-x*N)/b,O=(_*x+v*N)/b,A=(-_*v+x*N)/b,S=M-g,T=E-y,k=O-g,C=A-y;return S*S+T*T>k*k+C*C&&(M=O,E=A),{cx:M,cy:E,x01:-l,y01:-f,x11:M*(i/w-1),y11:E*(i/w-1)}}function f(){function t(){var t,n,r=+f.apply(this,arguments),i=+h.apply(this,arguments),o=m.apply(this,arguments)-_t,a=g.apply(this,arguments)-_t,s=Math.abs(a-o),x=a>o;if(v||(v=t=e.path()),i<r&&(n=i,i=r,r=n),i>bt)if(s>Nt-bt)v.moveTo(i*Math.cos(o),i*Math.sin(o)),v.arc(0,0,i,o,a,!x),r>bt&&(v.moveTo(r*Math.cos(a),r*Math.sin(a)),v.arc(0,0,r,a,o,x));else{var b,w,_=o,N=a,M=o,E=a,O=s,A=s,S=y.apply(this,arguments)/2,T=S>bt&&(d?+d.apply(this,arguments):Math.sqrt(r*r+i*i)),k=Math.min(Math.abs(i-r)/2,+p.apply(this,arguments)),C=k,P=k;if(T>bt){var j=u(T/r*Math.sin(S)),z=u(T/i*Math.sin(S));(O-=2*j)>bt?(j*=x?1:-1,M+=j,E-=j):(O=0,M=E=(o+a)/2),(A-=2*z)>bt?(z*=x?1:-1,_+=z,N-=z):(A=0,_=N=(o+a)/2)}var R=i*Math.cos(_),I=i*Math.sin(_),B=r*Math.cos(E),L=r*Math.sin(E);if(k>bt){var U=i*Math.cos(N),q=i*Math.sin(N),D=r*Math.cos(M),F=r*Math.sin(M);if(s<wt){var $=O>bt?c(R,I,D,F,U,q,B,L):[B,L],H=R-$[0],V=I-$[1],G=U-$[0],W=q-$[1],Y=1/Math.sin(Math.acos((H*G+V*W)/(Math.sqrt(H*H+V*V)*Math.sqrt(G*G+W*W)))/2),Z=Math.sqrt($[0]*$[0]+$[1]*$[1]);C=Math.min(k,(r-Z)/(Y-1)),P=Math.min(k,(i-Z)/(Y+1))}}A>bt?P>bt?(b=l(D,F,R,I,i,P,x),w=l(U,q,B,L,i,P,x),v.moveTo(b.cx+b.x01,b.cy+b.y01),P<k?v.arc(b.cx,b.cy,P,Math.atan2(b.y01,b.x01),Math.atan2(w.y01,w.x01),!x):(v.arc(b.cx,b.cy,P,Math.atan2(b.y01,b.x01),Math.atan2(b.y11,b.x11),!x),v.arc(0,0,i,Math.atan2(b.cy+b.y11,b.cx+b.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),!x),v.arc(w.cx,w.cy,P,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!x))):(v.moveTo(R,I),v.arc(0,0,i,_,N,!x)):v.moveTo(R,I),r>bt&&O>bt?C>bt?(b=l(B,L,U,q,r,-C,x),w=l(R,I,D,F,r,-C,x),v.lineTo(b.cx+b.x01,b.cy+b.y01),C<k?v.arc(b.cx,b.cy,C,Math.atan2(b.y01,b.x01),Math.atan2(w.y01,w.x01),!x):(v.arc(b.cx,b.cy,C,Math.atan2(b.y01,b.x01),Math.atan2(b.y11,b.x11),!x),v.arc(0,0,r,Math.atan2(b.cy+b.y11,b.cx+b.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),x),v.arc(w.cx,w.cy,C,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!x))):v.arc(0,0,r,E,M,x):v.lineTo(B,L)}else v.moveTo(0,0);if(v.closePath(),t)return v=null,t+""||null}var f=r,h=i,p=n(0),d=null,m=o,g=a,y=s,v=null;return t.centroid=function(){var t=(+f.apply(this,arguments)+ +h.apply(this,arguments))/2,e=(+m.apply(this,arguments)+ +g.apply(this,arguments))/2-wt/2;return[Math.cos(e)*t,Math.sin(e)*t]},t.innerRadius=function(e){return arguments.length?(f="function"==typeof e?e:n(+e),t):f},t.outerRadius=function(e){return arguments.length?(h="function"==typeof e?e:n(+e),t):h},t.cornerRadius=function(e){return arguments.length?(p="function"==typeof e?e:n(+e),t):p},t.padRadius=function(e){return arguments.length?(d=null==e?null:"function"==typeof e?e:n(+e),t):d},t.startAngle=function(e){return arguments.length?(m="function"==typeof e?e:n(+e),t):m},t.endAngle=function(e){return arguments.length?(g="function"==typeof e?e:n(+e),t):g},t.padAngle=function(e){return arguments.length?(y="function"==typeof e?e:n(+e),t):y},t.context=function(e){return arguments.length?(v=null==e?null:e,t):v},t}function h(t){this._context=t}function p(t){return new h(t)}function d(t){return t[0]}function m(t){return t[1]}function g(){function t(t){var n,c,l,f=t.length,h=!1;for(null==a&&(u=s(l=e.path())),n=0;n<=f;++n)!(n<f&&o(c=t[n],n,t))===h&&((h=!h)?u.lineStart():u.lineEnd()),h&&u.point(+r(c,n,t),+i(c,n,t));if(l)return u=null,l+""||null}var r=d,i=m,o=n(!0),a=null,s=p,u=null;return t.x=function(e){return arguments.length?(r="function"==typeof e?e:n(+e),t):r},t.y=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),t):i},t.defined=function(e){return arguments.length?(o="function"==typeof e?e:n(!!e),t):o},t.curve=function(e){return arguments.length?(s=e,null!=a&&(u=s(a)),t):s},t.context=function(e){return arguments.length?(null==e?a=u=null:u=s(a=e),t):a},t}function y(){function t(t){var n,r,h,p,d,m=t.length,g=!1,y=new Array(m),v=new Array(m);for(null==c&&(f=l(d=e.path())),n=0;n<=m;++n){if(!(n<m&&u(p=t[n],n,t))===g)if(g=!g)r=n,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),h=n-1;h>=r;--h)f.point(y[h],v[h]);f.lineEnd(),f.areaEnd()}g&&(y[n]=+i(p,n,t),v[n]=+a(p,n,t),f.point(o?+o(p,n,t):y[n],s?+s(p,n,t):v[n]))}if(d)return f=null,d+""||null}function r(){return g().defined(u).curve(l).context(c)}var i=d,o=null,a=n(0),s=m,u=n(!0),c=null,l=p,f=null;return t.x=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),o=null,t):i},t.x0=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),t):i},t.x1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:n(+e),t):o},t.y=function(e){return arguments.length?(a="function"==typeof e?e:n(+e),s=null,t):a},t.y0=function(e){return arguments.length?(a="function"==typeof e?e:n(+e),t):a},t.y1=function(e){return arguments.length?(s=null==e?null:"function"==typeof e?e:n(+e),t):s},t.lineX0=t.lineY0=function(){return r().x(i).y(a)},t.lineY1=function(){return r().x(i).y(s)},t.lineX1=function(){return r().x(o).y(a)},t.defined=function(e){return arguments.length?(u="function"==typeof e?e:n(!!e),t):u},t.curve=function(e){return arguments.length?(l=e,null!=c&&(f=l(c)),t):l},t.context=function(e){return arguments.length?(null==e?c=f=null:f=l(c=e),t):c},t}function v(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function x(t){return t}function b(){function t(t){var n,u,c,l,f,h=t.length,p=0,d=new Array(h),m=new Array(h),g=+o.apply(this,arguments),y=Math.min(Nt,Math.max(-Nt,a.apply(this,arguments)-g)),v=Math.min(Math.abs(y)/h,s.apply(this,arguments)),x=v*(y<0?-1:1);for(n=0;n<h;++n)(f=m[d[n]=n]=+e(t[n],n,t))>0&&(p+=f);for(null!=r?d.sort(function(t,e){return r(m[t],m[e])}):null!=i&&d.sort(function(e,n){return i(t[e],t[n])}),n=0,c=p?(y-h*x)/p:0;n<h;++n,g=l)u=d[n],f=m[u],l=g+(f>0?f*c:0)+x,m[u]={data:t[u],index:n,value:f,startAngle:g,endAngle:l,padAngle:v};return m}var e=x,r=v,i=null,o=n(0),a=n(Nt),s=n(0);return t.value=function(r){return arguments.length?(e="function"==typeof r?r:n(+r),t):e},t.sortValues=function(e){return arguments.length?(r=e,i=null,t):r},t.sort=function(e){return arguments.length?(i=e,r=null,t):i},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:n(+e),t):o},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:n(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:n(+e),t):s},t}function w(t){this._curve=t}function _(t){function e(e){return new w(t(e))}return e._curve=t,e}function N(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(_(t)):e()._curve},t}function M(){return N(g().curve(Mt))}function E(){var t=y().curve(Mt),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return N(n())},delete t.lineX0,t.lineEndAngle=function(){return N(r())},delete t.lineX1,t.lineInnerRadius=function(){return N(i())},delete t.lineY0,t.lineOuterRadius=function(){return N(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(_(t)):e()._curve},t}function O(){function t(){var t;if(o||(o=t=e.path()),r.apply(this,arguments).draw(o,+i.apply(this,arguments)),t)return o=null,t+""||null}var r=n(Et),i=n(64),o=null;return t.type=function(e){return arguments.length?(r="function"==typeof e?e:n(e),t):r},t.size=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),t):i},t.context=function(e){return arguments.length?(o=null==e?null:e,t):o},t}function A(){}function S(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function T(t){this._context=t}function k(t){return new T(t)}function C(t){this._context=t}function P(t){return new C(t)}function j(t){this._context=t}function z(t){return new j(t)}function R(t,e){this._basis=new T(t),this._beta=e}function I(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function B(t,e){this._context=t,this._k=(1-e)/6}function L(t,e){this._context=t,this._k=(1-e)/6}function U(t,e){this._context=t,this._k=(1-e)/6}function q(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>bt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>bt){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function D(t,e){this._context=t,this._alpha=e}function F(t,e){this._context=t,this._alpha=e}function $(t,e){this._context=t,this._alpha=e}function H(t){this._context=t}function V(t){return new H(t)}function G(t){return t<0?-1:1}function W(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(G(o)+G(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Y(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Z(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function X(t){this._context=t}function J(t){this._context=new K(t)}function K(t){this._context=t}function Q(t){return new X(t)}function tt(t){return new J(t)}function et(t){this._context=t}function nt(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function rt(t){return new et(t)}function it(t,e){this._context=t,this._t=e}function ot(t){return new it(t,.5)}function at(t){return new it(t,0)}function st(t){return new it(t,1)}function ut(t,e){if((r=t.length)>1)for(var n,r,i=1,o=t[e[0]],a=o.length;i<r;++i){n=o,o=t[e[i]];for(var s=0;s<a;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}}function ct(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function lt(t,e){return t[e]}function ft(){function t(t){var n,a,s=e.apply(this,arguments),u=t.length,c=s.length,l=new Array(c);for(n=0;n<c;++n){for(var f,h=s[n],p=l[n]=new Array(u),d=0;d<u;++d)p[d]=f=[0,+o(t[d],h,d,t)],f.data=t[d];p.key=h}for(n=0,a=r(l);n<c;++n)l[a[n]].index=n;return i(l,a),l}var e=n([]),r=ct,i=ut,o=lt;return t.keys=function(r){return arguments.length?(e="function"==typeof r?r:n(Jt.call(r)),t):e},t.value=function(e){return arguments.length?(o="function"==typeof e?e:n(+e),t):o},t.order=function(e){return arguments.length?(r=null==e?ct:"function"==typeof e?e:n(Jt.call(e)),t):r},t.offset=function(e){return arguments.length?(i=null==e?ut:e,t):i},t}function ht(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}ut(t,e)}}function pt(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}ut(t,e)}}function dt(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],f=l[a][1]||0,h=l[a-1][1]||0,p=(f-h)/2,d=0;d<s;++d){var m=t[e[d]],g=m[a][1]||0,y=m[a-1][1]||0;p+=g-y}u+=f,c+=p*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,ut(t,e)}}function mt(t){var e=t.map(gt);return ct(t).sort(function(t,n){return e[t]-e[n]})}function gt(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function yt(t){return mt(t).reverse()}function vt(t){var e,n,r=t.length,i=t.map(gt),o=ct(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)}function xt(t){return ct(t).reverse()}var bt=1e-12,wt=Math.PI,_t=wt/2,Nt=2*wt;h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Mt=_(p);w.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Et={draw:function(t,e){var n=Math.sqrt(e/wt);t.moveTo(n,0),t.arc(0,0,n,0,Nt)}},Ot={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},At=Math.sqrt(1/3),St=2*At,Tt={draw:function(t,e){var n=Math.sqrt(e/St),r=n*At;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},kt=.8908130915292852,Ct=Math.sin(wt/10)/Math.sin(7*wt/10),Pt=Math.sin(Nt/10)*Ct,jt=-Math.cos(Nt/10)*Ct,zt={draw:function(t,e){var n=Math.sqrt(e*kt),r=Pt*n,i=jt*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Nt*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},Rt={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},It=Math.sqrt(3),Bt={draw:function(t,e){var n=-Math.sqrt(e/(3*It));t.moveTo(0,2*n),t.lineTo(-It*n,-n),t.lineTo(It*n,-n),t.closePath()}},Lt=-.5,Ut=Math.sqrt(3)/2,qt=1/Math.sqrt(12),Dt=3*(qt/2+1),Ft={draw:function(t,e){var n=Math.sqrt(e/Dt),r=n/2,i=n*qt,o=r,a=n*qt+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(Lt*r-Ut*i,Ut*r+Lt*i),t.lineTo(Lt*o-Ut*a,Ut*o+Lt*a),t.lineTo(Lt*s-Ut*u,Ut*s+Lt*u),t.lineTo(Lt*r+Ut*i,Lt*i-Ut*r),t.lineTo(Lt*o+Ut*a,Lt*a-Ut*o),t.lineTo(Lt*s+Ut*u,Lt*u-Ut*s),t.closePath()}},$t=[Et,Ot,Tt,Rt,zt,Bt,Ft];T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:S(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:S(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},C.prototype={areaStart:A,areaEnd:A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:S(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:S(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},R.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Ht=function Kt(t){function e(e){return 1===t?new T(e):new R(e,t)}return e.beta=function(t){return Kt(+t)},e}(.85);B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:I(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:I(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Vt=function Qt(t){function e(e){return new B(e,t)}return e.tension=function(t){return Qt(+t)},e}(0);L.prototype={areaStart:A,areaEnd:A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:I(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Gt=function te(t){function e(e){return new L(e,t)}return e.tension=function(t){return te(+t)},e}(0);U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:I(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Wt=function ee(t){function e(e){return new U(e,t)}return e.tension=function(t){return ee(+t)},e}(0);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:q(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Yt=function ne(t){function e(e){return t?new D(e,t):new B(e,0)}return e.alpha=function(t){return ne(+t)},e}(.5);F.prototype={areaStart:A,areaEnd:A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:q(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Zt=function re(t){function e(e){return t?new F(e,t):new L(e,0)}return e.alpha=function(t){return re(+t)},e}(.5);$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:q(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Xt=function ie(t){function e(e){return t?new $(e,t):new U(e,0)}return e.alpha=function(t){return ie(+t)},e}(.5);H.prototype={areaStart:A,areaEnd:A,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z(this,this._t0,Y(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Z(this,Y(this,n=W(this,t,e)),n);break;default:Z(this,this._t0,n=W(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(J.prototype=Object.create(X.prototype)).point=function(t,e){X.prototype.point.call(this,e,t)},K.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},et.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=nt(t),i=nt(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},it.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),
this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Jt=Array.prototype.slice;t.arc=f,t.area=y,t.line=g,t.pie=b,t.radialArea=E,t.radialLine=M,t.symbol=O,t.symbols=$t,t.symbolCircle=Et,t.symbolCross=Ot,t.symbolDiamond=Tt,t.symbolSquare=Rt,t.symbolStar=zt,t.symbolTriangle=Bt,t.symbolWye=Ft,t.curveBasisClosed=P,t.curveBasisOpen=z,t.curveBasis=k,t.curveBundle=Ht,t.curveCardinalClosed=Gt,t.curveCardinalOpen=Wt,t.curveCardinal=Vt,t.curveCatmullRomClosed=Zt,t.curveCatmullRomOpen=Xt,t.curveCatmullRom=Yt,t.curveLinearClosed=V,t.curveLinear=p,t.curveMonotoneX=Q,t.curveMonotoneY=tt,t.curveNatural=rt,t.curveStep=ot,t.curveStepAfter=st,t.curveStepBefore=at,t.stack=ft,t.stackOffsetExpand=ht,t.stackOffsetNone=ut,t.stackOffsetSilhouette=pt,t.stackOffsetWiggle=dt,t.stackOrderAscending=mt,t.stackOrderDescending=yt,t.stackOrderInsideOut=vt,t.stackOrderNone=ct,t.stackOrderReverse=xt,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-path":13}],17:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-time")):"function"==typeof t&&t.amd?t(["exports","d3-time"],o):o(i.d3=i.d3||{},i.d3)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date((+n)));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=rt[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function o(t,e){return function(n){var o=i(1900),s=a(o,t,n+="",0);if(s!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var u="Z"in o?r(i(o.y)).getUTCDay():e(i(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(u+5)%7:o.w+7*o.U-(u+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,r(o)):e(o)}}function a(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=Bt[i in rt?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function s(t,e,n){var r=Et.exec(e.slice(n));return r?(t.p=Ot[r[0].toLowerCase()],n+r[0].length):-1}function Q(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.w=kt[r[0].toLowerCase()],n+r[0].length):-1}function tt(t,e,n){var r=At.exec(e.slice(n));return r?(t.w=St[r[0].toLowerCase()],n+r[0].length):-1}function et(t,e,n){var r=jt.exec(e.slice(n));return r?(t.m=zt[r[0].toLowerCase()],n+r[0].length):-1}function nt(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.m=Pt[r[0].toLowerCase()],n+r[0].length):-1}function it(t,e,n){return a(t,yt,e,n)}function ot(t,e,n){return a(t,vt,e,n)}function at(t,e,n){return a(t,xt,e,n)}function st(t){return _t[t.getDay()]}function ut(t){return wt[t.getDay()]}function ct(t){return Mt[t.getMonth()]}function lt(t){return Nt[t.getMonth()]}function ft(t){return bt[+(t.getHours()>=12)]}function ht(t){return _t[t.getUTCDay()]}function pt(t){return wt[t.getUTCDay()]}function dt(t){return Mt[t.getUTCMonth()]}function mt(t){return Nt[t.getUTCMonth()]}function gt(t){return bt[+(t.getUTCHours()>=12)]}var yt=t.dateTime,vt=t.date,xt=t.time,bt=t.periods,wt=t.days,_t=t.shortDays,Nt=t.months,Mt=t.shortMonths,Et=u(bt),Ot=c(bt),At=u(wt),St=c(wt),Tt=u(_t),kt=c(_t),Ct=u(Nt),Pt=c(Nt),jt=u(Mt),zt=c(Mt),Rt={a:st,A:ut,b:ct,B:lt,c:null,d:M,e:M,H:E,I:O,j:A,L:S,m:T,M:k,p:ft,S:C,U:P,w:j,W:z,x:null,X:null,y:R,Y:I,Z:B,"%":K},It={a:ht,A:pt,b:dt,B:mt,c:null,d:L,e:L,H:U,I:q,j:D,L:F,m:$,M:H,p:gt,S:V,U:G,w:W,W:Y,x:null,X:null,y:Z,Y:X,Z:J,"%":K},Bt={a:Q,A:tt,b:et,B:nt,c:it,d:y,e:y,H:x,I:x,j:v,L:_,m:g,M:b,p:s,S:w,U:f,w:l,W:h,x:ot,X:at,y:d,Y:p,Z:m,"%":N};return Rt.x=e(vt,Rt),Rt.X=e(xt,Rt),Rt.c=e(yt,Rt),It.x=e(vt,It),It.X=e(xt,It),It.c=e(yt,It),{format:function(t){var n=e(t+="",Rt);return n.toString=function(){return t},n},parse:function(t){var e=o(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",It);return n.toString=function(){return t},n},utcParse:function(t){var e=o(t,r);return e.toString=function(){return t},e}}}function a(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function s(t){return t.replace(at,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function c(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function l(t,e,n){var r=it.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f(t,e,n){var r=it.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function h(t,e,n){var r=it.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function p(t,e,n){var r=it.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function d(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function g(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function y(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function v(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function x(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function b(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function w(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function N(t,e,n){var r=ot.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function M(t,e){return a(t.getDate(),e,2)}function E(t,e){return a(t.getHours(),e,2)}function O(t,e){return a(t.getHours()%12||12,e,2)}function A(t,n){return a(1+e.timeDay.count(e.timeYear(t),t),n,3)}function S(t,e){return a(t.getMilliseconds(),e,3)}function T(t,e){return a(t.getMonth()+1,e,2)}function k(t,e){return a(t.getMinutes(),e,2)}function C(t,e){return a(t.getSeconds(),e,2)}function P(t,n){return a(e.timeSunday.count(e.timeYear(t),t),n,2)}function j(t){return t.getDay()}function z(t,n){return a(e.timeMonday.count(e.timeYear(t),t),n,2)}function R(t,e){return a(t.getFullYear()%100,e,2)}function I(t,e){return a(t.getFullYear()%1e4,e,4)}function B(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function L(t,e){return a(t.getUTCDate(),e,2)}function U(t,e){return a(t.getUTCHours(),e,2)}function q(t,e){return a(t.getUTCHours()%12||12,e,2)}function D(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function F(t,e){return a(t.getUTCMilliseconds(),e,3)}function $(t,e){return a(t.getUTCMonth()+1,e,2)}function H(t,e){return a(t.getUTCMinutes(),e,2)}function V(t,e){return a(t.getUTCSeconds(),e,2)}function G(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function W(t){return t.getUTCDay()}function Y(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function Z(t,e){return a(t.getUTCFullYear()%100,e,2)}function X(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function J(){return"+0000"}function K(){return"%"}function Q(e){return nt=o(e),t.timeFormat=nt.format,t.timeParse=nt.parse,t.utcFormat=nt.utcFormat,t.utcParse=nt.utcParse,nt}function tt(t){return t.toISOString()}function et(t){var e=new Date(t);return isNaN(e)?null:e}var nt,rt={"-":"",_:" ",0:"0"},it=/^\s*\d+/,ot=/^%/,at=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Q({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var st="%Y-%m-%dT%H:%M:%S.%LZ",ut=Date.prototype.toISOString?tt:t.utcFormat(st),ct=+new Date("2000-01-01T00:00:00.000Z")?et:t.utcParse(st);t.timeFormatDefaultLocale=Q,t.timeFormatLocale=o,t.isoFormat=ut,t.isoParse=ct,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":18}],18:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,n,r,a){function s(e){return t(e=new Date((+e))),e}return s.floor=s,s.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return n(t=new Date((+t)),null==e?1:Math.floor(e)),t},s.range=function(e,r,i){var o=[];if(e=s.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return o;do o.push(new Date((+e)));while(n(e,i),t(e),e<r);return o},s.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(s.count=function(e,n){return i.setTime(+e),o.setTime(+n),t(i),t(o),Math.floor(r(i,o))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/h})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/h})}var i=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=a.range,u=1e3,c=6e4,l=36e5,f=864e5,h=6048e5,p=e(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCSeconds()}),d=p.range,m=e(function(t){t.setTime(Math.floor(t/c)*c)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getMinutes()}),g=m.range,y=e(function(t){var e=t.getTimezoneOffset()*c%l;e<0&&(e+=l),t.setTime(Math.floor((+t-e)/l)*l+e)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getHours()}),v=y.range,x=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/f},function(t){return t.getDate()-1}),b=x.range,w=n(0),_=n(1),N=n(2),M=n(3),E=n(4),O=n(5),A=n(6),S=w.range,T=_.range,k=N.range,C=M.range,P=E.range,j=O.range,z=A.range,R=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),I=R.range,B=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});B.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var L=B.range,U=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getUTCMinutes()}),q=U.range,D=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getUTCHours()}),F=D.range,$=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/f},function(t){return t.getUTCDate()-1}),H=$.range,V=r(0),G=r(1),W=r(2),Y=r(3),Z=r(4),X=r(5),J=r(6),K=V.range,Q=G.range,tt=W.range,et=Y.range,nt=Z.range,rt=X.range,it=J.range,ot=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),at=ot.range,st=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});st.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ut=st.range;t.timeInterval=e,t.timeMillisecond=a,t.timeMilliseconds=s,t.utcMillisecond=a,t.utcMilliseconds=s,t.timeSecond=p,t.timeSeconds=d,t.utcSecond=p,t.utcSeconds=d,t.timeMinute=m,t.timeMinutes=g,t.timeHour=y,t.timeHours=v,t.timeDay=x,t.timeDays=b,t.timeWeek=w,t.timeWeeks=S,t.timeSunday=w,t.timeSundays=S,t.timeMonday=_,t.timeMondays=T,t.timeTuesday=N,t.timeTuesdays=k,t.timeWednesday=M,t.timeWednesdays=C,t.timeThursday=E,t.timeThursdays=P,t.timeFriday=O,t.timeFridays=j,t.timeSaturday=A,t.timeSaturdays=z,t.timeMonth=R,t.timeMonths=I,t.timeYear=B,t.timeYears=L,t.utcMinute=U,t.utcMinutes=q,t.utcHour=D,t.utcHours=F,t.utcDay=$,t.utcDays=H,t.utcWeek=V,t.utcWeeks=K,t.utcSunday=V,t.utcSundays=K,t.utcMonday=G,t.utcMondays=Q,t.utcTuesday=W,t.utcTuesdays=tt,t.utcWednesday=Y,t.utcWednesdays=et,t.utcThursday=Z,t.utcThursdays=nt,t.utcFriday=X,t.utcFridays=rt,t.utcSaturday=J,t.utcSaturdays=it,t.utcMonth=ot,t.utcMonths=at,t.utcYear=st,t.utcYears=ut,Object.defineProperty(t,"__esModule",{value:!0})})},{}],19:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(){return x||(_(n),x=w.now()+b)}function n(){x=0}function r(){this._call=this._time=this._next=null}function i(t,e,n){var i=new r;return i.restart(t,e,n),i}function o(){e(),++d;for(var t,n=h;n;)(t=x-n._time)>=0&&n._call.call(null,t),n=n._next;--d}function a(){x=(v=w.now())+b,d=m=0;try{o()}finally{d=0,u(),x=0}}function s(){var t=w.now(),e=t-v;e>y&&(b-=e,v=t)}function u(){for(var t,e,n=h,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:h=e);p=t,c(r)}function c(t){if(!d){m&&(m=clearTimeout(m));var e=t-x;e>24?(t<1/0&&(m=setTimeout(a,e)),g&&(g=clearInterval(g))):(g||(g=setInterval(s,y)),d=1,_(a))}}function l(t,e,n){var i=new r;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}function f(t,n,i){var o=new r,a=n;return null==n?(o.restart(t,n,i),o):(n=+n,i=null==i?e():+i,o.restart(function s(e){e+=a,o.restart(s,a+=n,i),t(e)},n,i),o)}var h,p,d=0,m=0,g=0,y=1e3,v=0,x=0,b=0,w="object"==typeof performance&&performance.now?performance:Date,_="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};r.prototype=i.prototype={constructor:r,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?e():+r)+(null==n?0:+n),this._next||p===this||(p?p._next=this:h=this,p=this),this._call=t,this._time=r,c()},stop:function(){this._call&&(this._call=null,this._time=1/0,c())}},t.now=e,t.timer=i,t.timerFlush=o,t.timeout=l,t.interval=f,Object.defineProperty(t,"__esModule",{value:!0})})},{}],20:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-selection"),e("d3-dispatch"),e("d3-timer"),e("d3-interpolate"),e("d3-color"),e("d3-ease")):"function"==typeof t&&t.amd?t(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],o):o(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3,i.d3)}(this,function(t,e,n,r,i,o,a){"use strict";function s(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};f(t,n,{name:e,index:r,group:i,on:lt,tween:ft,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ht})}function u(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>ht)throw new Error("too late");return n}function c(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>dt)throw new Error("too late");return n}function l(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function f(t,e,n){function i(t){n.state=pt,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(i){var l,f,h,p;if(n.state!==pt)return s();for(l in c)if(p=c[l],p.name===n.name){if(p.state===mt)return r.timeout(o);p.state===gt?(p.state=vt,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete c[l]):+l<e&&(p.state=vt,p.timer.stop(),delete c[l])}if(r.timeout(function(){n.state===mt&&(n.state=gt,n.timer.restart(a,n.delay,n.time),a(i))}),n.state=dt,n.on.call("start",t,t.__data__,n.index,n.group),n.state===dt){for(n.state=mt,u=new Array(h=n.tween.length),l=0,f=-1;l<h;++l)(p=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(u[++f]=p);u.length=f+1}}function a(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=yt,1),i=-1,o=u.length;++i<o;)u[i].call(null,r);n.state===yt&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=vt,n.timer.stop(),delete c[e];for(var r in c)return;delete t.__transition}var u,c=t.__transition;c[e]=n,n.timer=r.timer(i,0,n.time)}function h(t,e){var n,r,i,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state===mt,n.state=vt,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function p(t){return this.each(function(){h(this,t)})}function d(t,e){var n,r;return function(){var i=c(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function m(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=c(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function g(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=l(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?d:m)(n,t,e))}function y(t,e,n){var r=t._id;return t.each(function(){var t=c(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return l(t,r).value[e]}}function v(t,e){var n;return("number"==typeof e?i.interpolateNumber:e instanceof o.color?i.interpolateRgb:(n=o.color(e))?(e=n,i.interpolateRgb):i.interpolateString)(t,e)}function x(t){return function(){this.removeAttribute(t)}}function b(t){return function(){this.removeAttributeNS(t.space,t.local)}}function w(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function _(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function N(t,e,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===r&&s===i?o:o=e(r=a,i=s))}}function M(t,e,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===r&&s===i?o:o=e(r=a,i=s))}}function E(t,n){var r=e.namespace(t),o="transform"===r?i.interpolateTransformSvg:v;return this.attrTween(t,"function"==typeof n?(r.local?M:N)(r,o,y(this,"attr."+t,n)):null==n?(r.local?b:x)(r):(r.local?_:w)(r,o,n))}function O(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function A(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function S(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=e.namespace(t);return this.tween(r,(i.local?O:A)(i,n))}function T(t,e){return function(){u(this,t).delay=+e.apply(this,arguments)}}function k(t,e){return e=+e,function(){u(this,t).delay=e}}function C(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?T:k)(e,t)):l(this.node(),e).delay}function P(t,e){return function(){c(this,t).duration=+e.apply(this,arguments)}}function j(t,e){return e=+e,function(){c(this,t).duration=e}}function z(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?P:j)(e,t)):l(this.node(),e).duration}function R(t,e){if("function"!=typeof e)throw new Error;return function(){c(this,t).ease=e}}function I(t){var e=this._id;return arguments.length?this.each(R(e,t)):l(this.node(),e).ease}function B(t){"function"!=typeof t&&(t=e.matcher(t));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,s=n[o],u=s.length,c=i[o]=[],l=0;l<u;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new it(i,this._parents,this._name,this._id)}function L(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new it(a,this._parents,this._name,this._id)}function U(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function q(t,e,n){var r,i,o=U(e)?u:c;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function D(t,e){var n=this._id;return arguments.length<2?l(this.node(),n).on.on(t):this.each(q(n,t,e))}function F(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $(){return this.on("end.remove",F(this._id))}function H(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selector(t));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var c,f,h=i[u],p=h.length,d=a[u]=new Array(p),m=0;m<p;++m)(c=h[m])&&(f=t.call(c,c.__data__,m,h))&&("__data__"in c&&(f.__data__=c.__data__),d[m]=f,s(d[m],n,r,m,d,l(c,r)));return new it(a,this._parents,n,r)}function V(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selectorAll(t));for(var i=this._groups,o=i.length,a=[],u=[],c=0;c<o;++c)for(var f,h=i[c],p=h.length,d=0;d<p;++d)if(f=h[d]){for(var m,g=t.call(f,f.__data__,d,h),y=l(f,r),v=0,x=g.length;v<x;++v)(m=g[v])&&s(m,n,r,v,g,y);a.push(g),u.push(f)}return new it(a,u,n,r)}function G(){return new xt(this._groups,this._parents)}function W(t,n){var r,i,o;return function(){var a=e.window(this).getComputedStyle(this,null),s=a.getPropertyValue(t),u=(this.style.removeProperty(t),a.getPropertyValue(t));return s===u?null:s===r&&u===i?o:o=n(r=s,i=u)}}function Y(t){return function(){this.style.removeProperty(t)}}function Z(t,n,r){var i,o;return function(){var a=e.window(this).getComputedStyle(this,null).getPropertyValue(t);return a===r?null:a===i?o:o=n(i=a,r)}}function X(t,n,r){var i,o,a;return function(){var s=e.window(this).getComputedStyle(this,null),u=s.getPropertyValue(t),c=r(this);return null==c&&(this.style.removeProperty(t),c=s.getPropertyValue(t)),u===c?null:u===i&&c===o?a:a=n(i=u,o=c)}}function J(t,e,n){var r="transform"==(t+="")?i.interpolateTransformCss:v;return null==e?this.styleTween(t,W(t,r)).on("end.style."+t,Y(t)):this.styleTween(t,"function"==typeof e?X(t,r,y(this,"style."+t,e)):Z(t,r,e),n)}function K(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}function Q(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,K(t,e,null==n?"":n))}function tt(t){return function(){this.textContent=t}}function et(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function nt(t){return this.tween("text","function"==typeof t?et(y(this,"text",t)):tt(null==t?"":t+""))}function rt(){for(var t=this._name,e=this._id,n=at(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,f=0;f<c;++f)if(a=u[f]){var h=l(a,e);s(a,t,n,f,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new it(r,this._parents,t,n)}function it(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ot(t){return e.selection().transition(t)}function at(){return++bt}function st(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return _t.time=r.now(),_t;return n}function ut(t){var e,n;t instanceof it?(e=t._id,t=t._name):(e=at(),(n=_t).time=r.now(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u,c=i[a],l=c.length,f=0;f<l;++f)(u=c[f])&&s(u,t,e,f,c,n||st(u,e));return new it(i,this._parents,t,e)}function ct(t,e){var n,r,i=t.__transition;if(i){e=null==e?null:e+"";for(r in i)if((n=i[r]).state>pt&&n.name===e)return new it([[t]],Nt,e,(+r))}return null}var lt=n.dispatch("start","end","interrupt"),ft=[],ht=0,pt=1,dt=2,mt=3,gt=4,yt=5,vt=6,xt=e.selection.prototype.constructor,bt=0,wt=e.selection.prototype;it.prototype=ot.prototype={constructor:it,select:H,selectAll:V,filter:B,merge:L,selection:G,transition:rt,call:wt.call,nodes:wt.nodes,node:wt.node,size:wt.size,empty:wt.empty,each:wt.each,on:D,attr:E,attrTween:S,style:J,styleTween:Q,text:nt,remove:$,tween:g,delay:C,duration:z,ease:I};var _t={time:null,delay:0,duration:250,ease:a.easeCubicInOut};e.selection.prototype.interrupt=p,e.selection.prototype.transition=ut;var Nt=[null];t.transition=ot,t.active=ct,t.interrupt=h,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":6,"d3-dispatch":7,"d3-ease":9,"d3-interpolate":12,"d3-selection":15,"d3-timer":19}],21:[function(e,n,r){!function(r){"use strict";function i(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Rt-r.length,n&&(o+=m(n)),o+=r;a=t[e],r=a+"",n=Rt-r.length,n&&(o+=m(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function o(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ot+t)}function a(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Rt,i=0):(i=Math.ceil((e+1)/Rt),e%=Rt),o=Tt(10,Rt-e),s=t[i]%o|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==Tt(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==Tt(10,e-3)-1,a}function s(t,e,n){for(var r,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=xt.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function u(t,e){var n,r,i=e.d.length;i<32?(n=Math.ceil(i/3),r=Math.pow(4,-n).toString()):(n=16,r="2.3283064365386962890625e-10"),t.precision+=n,e=E(t,1,e.times(r),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}function c(t,e,n,r){var i,o,a,s,u,c,l,f,h,p=t.constructor;t:if(null!=e){if(f=t.d,!f)return t;for(i=1,s=f[0];s>=10;s/=10)i++;if(o=e-i,o<0)o+=Rt,a=e,l=f[h=0],u=l/Tt(10,i-a-1)%10|0;else if(h=Math.ceil((o+1)/Rt),s=f.length,h>=s){if(!r)break t;for(;s++<=h;)f.push(0);l=u=0,i=1,o%=Rt,a=o-Rt+1}else{for(l=s=f[h],i=1;s>=10;s/=10)i++;o%=Rt,a=o-Rt+i,u=a<0?0:l/Tt(10,i-a-1)%10|0}if(r=r||e<0||void 0!==f[h+1]||(a<0?l:l%Tt(10,i-a-1)),c=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?a>0?l/Tt(10,i-a):0:f[h-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,c?(e-=t.e+1,f[0]=Tt(10,(Rt-e%Rt)%Rt),t.e=-e||0):f[0]=t.e=0,t;if(0==o?(f.length=h,s=1,h--):(f.length=h+1,s=Tt(10,Rt-o),f[h]=a>0?(l/Tt(10,i-a)%Tt(10,a)|0)*s:0),c)for(;;){if(0==h){for(o=1,a=f[0];a>=10;a/=10)o++;for(a=f[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,f[0]==zt&&(f[0]=1));break}if(f[h]+=s,f[h]!=zt)break;f[h--]=0,s=1}for(o=f.length;0===f[--o];)f.pop()}return Mt&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function l(t,e,n){if(!t.isFinite())return w(t);var r,o=t.e,a=i(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+m(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):o<0?(a="0."+m(-o-1)+a,n&&(r=n-s)>0&&(a+=m(r))):o>=s?(a+=m(o+1-s),n&&(r=n-o-1)>0&&(a=a+"."+m(r))):((r=o+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(o+1===s&&(a+="."),a+=m(r))),a}function f(t,e){for(var n=1,r=t[0];r>=10;r/=10)n++;return n+e*Rt-1}function h(t,e,n){if(e>Bt)throw Mt=!0,n&&(t.precision=n),Error(At);return c(new t(bt),e,1,!0)}function p(t,e,n){if(e>Lt)throw Error(At);return c(new t(wt),e,n,!0)}function d(t){var e=t.length-1,n=e*Rt+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function m(t){for(var e="";t--;)e+="0";return e}function g(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/Rt+4);for(Mt=!1;;){if(n%2&&(o=o.times(e),S(o.d,a)&&(i=!0)),n=St(n/2),0===n){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}e=e.times(e),S(e.d,a)}return Mt=!0,o}function y(t){return 1&t.d[t.d.length-1]}function v(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(r=new t(e[o]),!r.s){i=r;break}i[n](r)&&(i=r)}return i}function x(t,e){var n,r,o,s,u,l,f,h=0,p=0,d=0,m=t.constructor,g=m.rounding,y=m.precision;if(!t.d||!t.d[0]||t.e>17)return new m(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(Mt=!1,f=y):f=e,l=new m(.03125);t.e>-2;)t=t.times(l),d+=5;for(r=Math.log(Tt(2,d))/Math.LN10*2+5|0,f+=r,n=s=u=new m(1),m.precision=f;;){if(s=c(s.times(t),f,1),n=n.times(++p),l=u.plus(qt(s,n,f,1)),i(l.d).slice(0,f)===i(u.d).slice(0,f)){for(o=d;o--;)u=c(u.times(u),f,1);if(null!=e)return m.precision=y,u;if(!(h<3&&a(u.d,f-r,g,h)))return c(u,m.precision=y,g,Mt=!0);m.precision=f+=10,n=s=l=new m(1),p=0,h++}u=l}}function b(t,e){var n,r,o,s,u,l,f,p,d,m,g,y=1,v=10,x=t,w=x.d,_=x.constructor,N=_.rounding,M=_.precision;if(x.s<0||!w||!w[0]||!x.e&&1==w[0]&&1==w.length)return new _(w&&!w[0]?-1/0:1!=x.s?NaN:w?0:x);if(null==e?(Mt=!1,d=M):d=e,_.precision=d+=v,n=i(w),r=n.charAt(0),!(Math.abs(s=x.e)<15e14))return p=h(_,d+2,M).times(s+""),x=b(new _(r+"."+n.slice(1)),d-v).plus(p),_.precision=M,null==e?c(x,M,N,Mt=!0):x;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)x=x.times(t),n=i(x.d),r=n.charAt(0),y++;for(s=x.e,r>1?(x=new _("0."+n),s++):x=new _(r+"."+n.slice(1)),m=x,f=u=x=qt(x.minus(1),x.plus(1),d,1),g=c(x.times(x),d,1),o=3;;){if(u=c(u.times(g),d,1),p=f.plus(qt(u,new _(o),d,1)),i(p.d).slice(0,d)===i(f.d).slice(0,d)){if(f=f.times(2),0!==s&&(f=f.plus(h(_,d+2,M).times(s+""))),f=qt(f,new _(y),d,1),null!=e)return _.precision=M,f;if(!a(f.d,d-v,N,l))return c(f,_.precision=M,N,Mt=!0);_.precision=d+=v,p=u=x=qt(m.minus(1),m.plus(1),d,1),g=c(x.times(x),d,1),o=l=1}f=p,o+=2}}function w(t){return String(t.s*t.s/0)}function _(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Rt;r<i;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),Mt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,
t.d=[0];return t}function N(t,e){var n,r,i,o,a,u,c,l,h;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Ct.test(e))n=16,e=e.toLowerCase();else if(kt.test(e))n=2;else{if(!Pt.test(e))throw Error(Ot+e);n=8}for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,r=t.constructor,a&&(e=e.replace(".",""),u=e.length,o=u-o,i=g(r,new r(n),o,2*o)),l=s(e,n,zt),h=l.length-1,o=h;0===l[o];--o)l.pop();return o<0?new r(0*t.s):(t.e=f(l,h),t.d=l,Mt=!1,a&&(t=qt(t,i,4*u)),c&&(t=t.times(Math.abs(c)<54?Math.pow(2,c):_t.pow(2,c))),Mt=!0,t)}function M(t,e){var n,r=e.d.length;if(r<3)return E(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:0|n,e=e.times(Math.pow(5,-n)),e=E(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}function E(t,e,n,r,i){var o,a,s,u,c=1,l=t.precision,f=Math.ceil(l/Rt);for(Mt=!1,u=n.times(n),s=new t(r);;){if(a=qt(s.times(u),new t(e++*e++),l,1),s=i?r.plus(a):r.minus(a),r=qt(a.times(u),new t(e++*e++),l,1),a=s.plus(r),void 0!==a.d[f]){for(o=f;a.d[o]===s.d[o]&&o--;);if(o==-1)break}o=s,s=r,r=a,a=o,c++}return Mt=!0,a.d.length=f+1,a}function O(t,e){var n,r=e.s<0,i=p(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return gt=r?4:1,e;if(n=e.divToInt(i),n.isZero())gt=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return gt=y(n)?r?2:3:r?4:1,e;gt=y(n)?r?1:4:r?3:2}return e.minus(i).abs()}function A(t,e,n,r){var i,a,u,c,f,h,p,d,m,g=t.constructor,y=void 0!==n;if(y?(o(n,1,vt),void 0===r?r=g.rounding:o(r,0,8)):(n=g.precision,r=g.rounding),t.isFinite()){for(p=l(t),u=p.indexOf("."),y?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,u>=0&&(p=p.replace(".",""),m=new g(1),m.e=p.length-u,m.d=s(l(m),10,i),m.e=m.d.length),d=s(p,10,i),a=f=d.length;0==d[--f];)d.pop();if(d[0]){if(u<0?a--:(t=new g(t),t.d=d,t.e=a,t=qt(t,m,n,r,0,i),d=t.d,a=t.e,h=dt),u=d[n],c=i/2,h=h||void 0!==d[n+1],h=r<4?(void 0!==u||h)&&(0===r||r===(t.s<0?3:2)):u>c||u===c&&(4===r||h||6===r&&1&d[n-1]||r===(t.s<0?8:7)),d.length=n,h)for(;++d[--n]>i-1;)d[n]=0,n||(++a,d.unshift(1));for(f=d.length;!d[f-1];--f);for(u=0,p="";u<f;u++)p+=xt.charAt(d[u]);if(y){if(f>1)if(16==e||8==e){for(u=16==e?4:3,--f;f%u;f++)p+="0";for(d=s(p,i,e),f=d.length;!d[f-1];--f);for(u=1,p="1.";u<f;u++)p+=xt.charAt(d[u])}else p=p.charAt(0)+"."+p.slice(1);p=p+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)p="0"+p;p="0."+p}else if(++a>f)for(a-=f;a--;)p+="0";else a<f&&(p=p.slice(0,a)+"."+p.slice(a))}else p=y?"0p+0":"0";p=(16==e?"0x":2==e?"0b":8==e?"0o":"")+p}else p=w(t);return t.s<0?"-"+p:p}function S(t,e){if(t.length>e)return t.length=e,!0}function T(t){return new this(t).abs()}function k(t){return new this(t).acos()}function C(t){return new this(t).acosh()}function P(t,e){return new this(t).plus(e)}function j(t){return new this(t).asin()}function z(t){return new this(t).asinh()}function R(t){return new this(t).atan()}function I(t){return new this(t).atanh()}function B(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?p(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=p(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(qt(t,e,o,1)),e=p(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(qt(t,e,o,1)):(n=p(this,o,1).times(e.s>0?.25:.75),n.s=t.s):n=new this(NaN),n}function L(t){return new this(t).cbrt()}function U(t){return c(t=new this(t),t.e+1,2)}function q(t){if(!t||"object"!=typeof t)throw Error(Et+"Object expected");var e,n,r,i=["precision",1,vt,"rounding",0,8,"toExpNeg",-yt,0,"toExpPos",0,yt,"maxE",0,yt,"minE",-yt,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(void 0!==(r=t[n=i[e]])){if(!(St(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(Ot+n+": "+r);this[n]=r}if(t.hasOwnProperty(n="crypto"))if(void 0===(r=t[n]))this[n]=r;else{if(r!==!0&&r!==!1&&0!==r&&1!==r)throw Error(Ot+n+": "+r);this[n]=!(!r||!Nt||!Nt.getRandomValues&&!Nt.randomBytes)}return this}function D(t){return new this(t).cos()}function F(t){return new this(t).cosh()}function $(t){function e(t){var n,r,i,o=this;if(!(o instanceof e))return new e(t);if(o.constructor=e,t instanceof e)return o.s=t.s,o.e=t.e,void(o.d=(t=t.d)?t.slice():t);if(i=typeof t,"number"===i){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(n=0,r=t;r>=10;r/=10)n++;return o.e=n,void(o.d=[t])}return 0*t!==0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):_(o,t.toString())}if("string"!==i)throw Error(Ot+t);return 45===t.charCodeAt(0)?(t=t.slice(1),o.s=-1):o.s=1,jt.test(t)?_(o,t):N(o,t)}var n,r,i;if(e.prototype=Ut,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=q,e.clone=$,e.abs=T,e.acos=k,e.acosh=C,e.add=P,e.asin=j,e.asinh=z,e.atan=R,e.atanh=I,e.atan2=B,e.cbrt=L,e.ceil=U,e.cos=D,e.cosh=F,e.div=H,e.exp=V,e.floor=G,e.fromJSON=W,e.hypot=Y,e.ln=Z,e.log=X,e.log10=K,e.log2=J,e.max=Q,e.min=tt,e.mod=et,e.mul=nt,e.pow=rt,e.random=it,e.round=ot,e.sign=at,e.sin=st,e.sinh=ut,e.sqrt=ct,e.sub=lt,e.tan=ft,e.tanh=ht,e.trunc=pt,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return e.config(t),e}function H(t,e){return new this(t).div(e)}function V(t){return new this(t).exp()}function G(t){return c(t=new this(t),t.e+1,3)}function W(t){var e,n,r,i;if("string"!=typeof t||!t)throw Error(Ot+t);if(r=t.length,i=xt.indexOf(t.charAt(0)),1===r)return new this(i>81?[-1/0,1/0,NaN][i-82]:i>40?-(i-41):i);if(64&i)n=16&i,e=n?(7&i)-3:(15&i)-7,r=1;else{if(2===r)return i=88*i+xt.indexOf(t.charAt(1)),new this(i>=2816?-(i-2816)-41:i+41);if(n=32&i,!(31&i))return t=s(t.slice(1),88,10).join(""),new this(n?"-"+t:t);e=15&i,r=e+1,e=1===e?xt.indexOf(t.charAt(1)):2===e?88*xt.indexOf(t.charAt(1))+xt.indexOf(t.charAt(2)):+s(t.slice(1,r),88,10).join(""),16&i&&(e=-e)}return t=s(t.slice(r),88,10).join(""),e=e-t.length+1,t=t+"e"+e,new this(n?"-"+t:t)}function Y(){var t,e,n=new this(0);for(Mt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return Mt=!0,new this(1/0);n=e}return Mt=!0,n.sqrt()}function Z(t){return new this(t).ln()}function X(t,e){return new this(t).log(e)}function J(t){return new this(t).log(2)}function K(t){return new this(t).log(10)}function Q(){return v(this,arguments,"lt")}function tt(){return v(this,arguments,"gt")}function et(t,e){return new this(t).mod(e)}function nt(t,e){return new this(t).mul(e)}function rt(t,e){return new this(t).pow(e)}function it(t){var e,n,r,i,a=0,s=new this(1),u=[];if(void 0===t?t=this.precision:o(t,1,vt),r=Math.ceil(t/Rt),this.crypto===!1)for(;a<r;)u[a++]=1e7*Math.random()|0;else if(Nt&&Nt.getRandomValues)for(e=Nt.getRandomValues(new Uint32Array(r));a<r;)i=e[a],i>=429e7?e[a]=Nt.getRandomValues(new Uint32Array(1))[0]:u[a++]=i%1e7;else if(Nt&&Nt.randomBytes){for(e=Nt.randomBytes(r*=4);a<r;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((127&e[a+3])<<24),i>=214e7?Nt.randomBytes(4).copy(e,a):(u.push(i%1e7),a+=4);a=r/4}else{if(this.crypto)throw Error(Et+"crypto unavailable");for(;a<r;)u[a++]=1e7*Math.random()|0}for(r=u[--a],t%=Rt,r&&t&&(i=Tt(10,Rt-t),u[a]=(r/i|0)*i);0===u[a];a--)u.pop();if(a<0)n=0,u=[0];else{for(n=-1;0===u[0];n-=Rt)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<Rt&&(n-=Rt-r)}return s.e=n,s.d=u,s}function ot(t){return c(t=new this(t),t.e+1,this.rounding)}function at(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function st(t){return new this(t).sin()}function ut(t){return new this(t).sinh()}function ct(t){return new this(t).sqrt()}function lt(t,e){return new this(t).sub(e)}function ft(t){return new this(t).tan()}function ht(t){return new this(t).tanh()}function pt(t){return c(t=new this(t),t.e+1,1)}var dt,mt,gt,yt=9e15,vt=1e9,xt="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%()*+,-./:;=?@[]^_`{|}~",bt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",wt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",_t={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-yt,maxE:yt,crypto:void 0},Nt="undefined"!=typeof crypto?crypto:null,Mt=!0,Et="[DecimalError] ",Ot=Et+"Invalid argument: ",At=Et+"Precision limit exceeded",St=Math.floor,Tt=Math.pow,kt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ct=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Pt=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,jt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zt=1e7,Rt=7,It=9007199254740991,Bt=bt.length-1,Lt=wt.length-1,Ut={};Ut.absoluteValue=Ut.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),c(t)},Ut.ceil=function(){return c(new this.constructor(this),this.e+1,2)},Ut.comparedTo=Ut.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,u=o.s,c=t.s;if(!a||!s)return u&&c?u!==c?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-c:0;if(u!==c)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(r=a.length,i=s.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},Ut.cosine=Ut.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Rt,r.rounding=1,n=u(r,O(r,n)),r.precision=t,r.rounding=e,c(2==gt||3==gt?n.neg():n,t,e,!0)):new r(1):new r(NaN)},Ut.cubeRoot=Ut.cbrt=function(){var t,e,n,r,o,a,s,u,l,f,h=this,p=h.constructor;if(!h.isFinite()||h.isZero())return new p(h);for(Mt=!1,a=h.s*Math.pow(h.s*h,1/3),a&&Math.abs(a)!=1/0?r=new p(a.toString()):(n=i(h.d),t=h.e,(a=(t-n.length+1)%3)&&(n+=1==a||a==-2?"0":"00"),a=Math.pow(n,1/3),t=St((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?n="5e"+t:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new p(n),r.s=h.s),s=(t=p.precision)+3;;)if(u=r,l=u.times(u).times(u),f=l.plus(h),r=qt(f.plus(h).times(u),f.plus(l),s+2,1),i(u.d).slice(0,s)===(n=i(r.d)).slice(0,s)){if(n=n.slice(s-3,s+1),"9999"!=n&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(c(r,t+1,1),e=!r.times(r).times(r).eq(h));break}if(!o&&(c(u,t+1,0),u.times(u).times(u).eq(h))){r=u;break}s+=4,o=1}return Mt=!0,c(r,t,p.rounding,e)},Ut.decimalPlaces=Ut.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-St(this.e/Rt))*Rt,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},Ut.dividedBy=Ut.div=function(t){return qt(this,new this.constructor(t))},Ut.dividedToIntegerBy=Ut.divToInt=function(t){var e=this,n=e.constructor;return c(qt(e,new n(t),0,1,1),n.precision,n.rounding)},Ut.equals=Ut.eq=function(t){return 0===this.cmp(t)},Ut.floor=function(){return c(new this.constructor(this),this.e+1,3)},Ut.greaterThan=Ut.gt=function(t){return this.cmp(t)>0},Ut.greaterThanOrEqualTo=Ut.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Ut.hyperbolicCosine=Ut.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=Math.pow(4,-t).toString()):(t=16,e="2.3283064365386962890625e-10"),o=E(a,1,o.times(e),new a(1),!0);for(var u,l=t,f=new a(8);l--;)u=o.times(o),o=s.minus(u.times(f.minus(u.times(f))));return c(o,a.precision=n,a.rounding=r,!0)},Ut.hyperbolicSine=Ut.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=E(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:0|t,i=i.times(Math.pow(5,-t)),i=E(o,2,i,i,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=e,o.rounding=n,c(i,e,n,!0)},Ut.hyperbolicTangent=Ut.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,qt(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},Ut.inverseCosine=Ut.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return r!==-1?0===r?e.isNeg()?p(n,i,o):new n(0):new n(NaN):e.isZero()?p(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=p(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},Ut.inverseHyperbolicCosine=Ut.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Mt=!1,n=n.times(n).minus(1).sqrt().plus(n),Mt=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},Ut.inverseHyperbolicSine=Ut.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Mt=!1,n=n.times(n).plus(1).sqrt().plus(n),Mt=!0,r.precision=t,r.rounding=e,n.ln())},Ut.inverseHyperbolicTangent=Ut.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?c(new o(i),t,e,!0):(o.precision=n=r-i.e,i=qt(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},Ut.inverseSine=Ut.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,e!==-1?0===e?(t=p(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},Ut.inverseTangent=Ut.atan=function(){var t,e,n,r,i,o,a,s,u,l=this,f=l.constructor,h=f.precision,d=f.rounding;if(l.isFinite()){if(l.isZero())return new f(l);if(l.abs().eq(1)&&h+4<=Lt)return a=p(f,h+4,d).times(.25),a.s=l.s,a}else{if(!l.s)return new f(NaN);if(h+4<=Lt)return a=p(f,h+4,d).times(.5),a.s=l.s,a}for(f.precision=s=h+10,f.rounding=1,n=Math.min(28,s/Rt+2|0),t=n;t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Mt=!1,e=Math.ceil(s/Rt),r=1,u=l.times(l),a=new f(l),i=l;t!==-1;)if(i=i.times(u),o=a.minus(i.div(r+=2)),i=i.times(u),a=o.plus(i.div(r+=2)),void 0!==a.d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),Mt=!0,c(a,f.precision=h,f.rounding=d,!0)},Ut.isFinite=function(){return!!this.d},Ut.isInteger=Ut.isInt=function(){return!!this.d&&St(this.e/Rt)>this.d.length-2},Ut.isNaN=function(){return!this.s},Ut.isNegative=Ut.isNeg=function(){return this.s<0},Ut.isPositive=Ut.isPos=function(){return this.s>0},Ut.isZero=function(){return!!this.d&&0===this.d[0]},Ut.lessThan=Ut.lt=function(t){return this.cmp(t)<0},Ut.lessThanOrEqualTo=Ut.lte=function(t){return this.cmp(t)<1},Ut.logarithm=Ut.log=function(t){var e,n,r,o,s,u,l,f,p=this,d=p.constructor,m=d.precision,g=d.rounding,y=5;if(null==t)t=new d(10),e=!0;else{if(t=new d(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new d(NaN);e=t.eq(10)}if(n=p.d,p.s<0||!n||!n[0]||p.eq(1))return new d(n&&!n[0]?-1/0:1!=p.s?NaN:n?0:1/0);if(e)if(n.length>1)s=!0;else{for(o=n[0];o%10===0;)o/=10;s=1!==o}if(Mt=!1,l=m+y,u=b(p,l),r=e?h(d,l+10):b(t,l),f=qt(u,r,l,1),a(f.d,o=m,g))do if(l+=10,u=b(p,l),r=e?h(d,l+10):b(t,l),f=qt(u,r,l,1),!s){+i(f.d).slice(o+1,o+15)+1==1e14&&(f=c(f,m+1,0));break}while(a(f.d,o+=10,g));return Mt=!0,c(f,m,g)},Ut.minus=Ut.sub=function(t){var e,n,r,i,o,a,s,u,l,h,p,d,m=this,g=m.constructor;if(t=new g(t),!m.d||!t.d)return m.s&&t.s?m.d?t.s=-t.s:t=new g(t.d||m.s!==t.s?m:NaN):t=new g(NaN),t;if(m.s!=t.s)return t.s=-t.s,m.plus(t);if(l=m.d,d=t.d,s=g.precision,u=g.rounding,!l[0]||!d[0]){if(d[0])t.s=-t.s;else{if(!l[0])return new g(3===u?-0:0);t=new g(m)}return Mt?c(t,s,u):t}if(n=St(t.e/Rt),h=St(m.e/Rt),l=l.slice(),o=h-n){for(p=o<0,p?(e=l,o=-o,a=d.length):(e=d,n=h,a=l.length),r=Math.max(Math.ceil(s/Rt),a)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=l.length,a=d.length,p=r<a,p&&(a=r),r=0;r<a;r++)if(l[r]!=d[r]){p=l[r]<d[r];break}o=0}for(p&&(e=l,l=d,d=e,t.s=-t.s),a=l.length,r=d.length-a;r>0;--r)l[a++]=0;for(r=d.length;r>o;){if(l[--r]<d[r]){for(i=r;i&&0===l[--i];)l[i]=zt-1;--l[i],l[r]+=zt}l[r]-=d[r]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=f(l,n),Mt?c(t,s,u):t):new g(3===u?-0:0)},Ut.modulo=Ut.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?c(new r(n),r.precision,r.rounding):(Mt=!1,9==r.modulo?(e=qt(n,t.abs(),0,3,1),e.s*=t.s):e=qt(n,t,0,r.modulo,1),e=e.times(t),Mt=!0,n.minus(e))},Ut.naturalExponential=Ut.exp=function(){return x(this)},Ut.naturalLogarithm=Ut.ln=function(){return b(this)},Ut.negated=Ut.neg=function(){var t=new this.constructor(this);return t.s=-t.s,c(t)},Ut.plus=Ut.add=function(t){var e,n,r,i,o,a,s,u,l,h,p=this,d=p.constructor;if(t=new d(t),!p.d||!t.d)return p.s&&t.s?p.d||(t=new d(t.d||p.s===t.s?p:NaN)):t=new d(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.minus(t);if(l=p.d,h=t.d,s=d.precision,u=d.rounding,!l[0]||!h[0])return h[0]||(t=new d(p)),Mt?c(t,s,u):t;if(o=St(p.e/Rt),r=St(t.e/Rt),l=l.slice(),i=o-r){for(i<0?(n=l,i=-i,a=h.length):(n=h,r=o,a=l.length),o=Math.ceil(s/Rt),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=l.length,i=h.length,a-i<0&&(i=a,n=h,h=l,l=n),e=0;i;)e=(l[--i]=l[i]+h[i]+e)/zt|0,l[i]%=zt;for(e&&(l.unshift(e),++r),a=l.length;0==l[--a];)l.pop();return t.d=l,t.e=f(l,r),Mt?c(t,s,u):t},Ut.precision=Ut.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Ot+t);return n.d?(e=d(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},Ut.round=function(){var t=this,e=t.constructor;return c(new e(t),t.e+1,e.rounding)},Ut.sine=Ut.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Rt,r.rounding=1,n=M(r,O(r,n)),r.precision=t,r.rounding=e,c(gt>2?n.neg():n,t,e,!0)):new r(NaN)},Ut.squareRoot=Ut.sqrt=function(){var t,e,n,r,o,a,s=this,u=s.d,l=s.e,f=s.s,h=s.constructor;if(1!==f||!u||!u[0])return new h(!f||f<0&&(!u||u[0])?NaN:u?s:1/0);for(Mt=!1,f=Math.sqrt(+s),0==f||f==1/0?(e=i(u),(e.length+l)%2==0&&(e+="0"),f=Math.sqrt(e),l=St((l+1)/2)-(l<0||l%2),f==1/0?e="1e"+l:(e=f.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),r=new h(e)):r=new h(f.toString()),n=(l=h.precision)+3;;)if(a=r,r=a.plus(qt(s,a,n+2,1)).times(.5),i(a.d).slice(0,n)===(e=i(r.d)).slice(0,n)){if(e=e.slice(n-3,n+1),"9999"!=e&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(c(r,l+1,1),t=!r.times(r).eq(s));break}if(!o&&(c(a,l+1,0),a.times(a).eq(s))){r=a;break}n+=4,o=1}return Mt=!0,c(r,l,h.rounding,t)},Ut.tangent=Ut.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=qt(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,c(2==gt||4==gt?n.neg():n,t,e,!0)):new r(NaN)},Ut.times=Ut.mul=function(t){var e,n,r,i,o,a,s,u,l,h=this,p=h.constructor,d=h.d,m=(t=new p(t)).d;if(t.s*=h.s,!(d&&d[0]&&m&&m[0]))return new p(!t.s||d&&!d[0]&&!m||m&&!m[0]&&!d?NaN:d&&m?0*t.s:t.s/0);for(n=St(h.e/Rt)+St(t.e/Rt),u=d.length,l=m.length,u<l&&(o=d,d=m,m=o,a=u,u=l,l=a),o=[],a=u+l,r=a;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+m[r]*d[i-r-1]+e,o[i--]=s%zt|0,e=s/zt|0;o[i]=(o[i]+e)%zt|0}for(;!o[--a];)o.pop();for(e?++n:o.shift(),r=o.length;!o[--r];)o.pop();return t.d=o,t.e=f(o,n),Mt?c(t,p.precision,p.rounding):t},Ut.toBinary=function(t,e){return A(this,2,t,e)},Ut.toDecimalPlaces=Ut.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(o(t,0,vt),void 0===e?e=r.rounding:o(e,0,8),c(n,t+n.e+1,e))},Ut.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=l(r,!0):(o(t,0,vt),void 0===e?e=i.rounding:o(e,0,8),r=c(new i(r),t+1,e),n=l(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Ut.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return void 0===t?n=l(i):(o(t,0,vt),void 0===e?e=a.rounding:o(e,0,8),r=c(new a(i),t+i.e+1,e),n=l(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Ut.toFraction=function(t){var e,n,r,o,a,s,u,c,l,f,h,p,m=this,g=m.d,y=m.constructor;if(!g)return new y(m);if(l=n=new y(1),r=c=new y(0),e=new y(r),a=e.e=d(g)-m.e-1,s=a%Rt,e.d[0]=Tt(10,s<0?Rt+s:s),null==t)t=a>0?e:l;else{if(u=new y(t),!u.isInt()||u.lt(l))throw Error(Ot+u);t=u.gt(e)?a>0?e:l:u}for(Mt=!1,u=new y(i(g)),f=y.precision,y.precision=a=g.length*Rt*2;h=qt(u,e,0,1,1),o=n.plus(h.times(r)),1!=o.cmp(t);)n=r,r=o,o=l,l=c.plus(h.times(o)),c=o,o=e,e=u.minus(h.times(o)),u=o;return o=qt(t.minus(n),r,0,1,1),c=c.plus(o.times(l)),n=n.plus(o.times(r)),c.s=l.s=m.s,p=qt(l,r,a,1).minus(m).abs().cmp(qt(c,n,a,1).minus(m).abs())<1?[l,r]:[c,n],y.precision=f,Mt=!0,p},Ut.toHexadecimal=Ut.toHex=function(t,e){return A(this,16,t,e)},Ut.toJSON=function(){var t,e,n,r,o,a,u,c,l=this,f=l.s<0;if(!l.d)return xt.charAt(l.s?f?82:83:84);if(e=l.e,1===l.d.length&&e<4&&e>=0&&(a=l.d[0],a<2857))return a<41?xt.charAt(f?a+41:a):(a-=41,f&&(a+=2816),r=a/88|0,xt.charAt(r)+xt.charAt(a-88*r));if(c=i(l.d),u="",!f&&e<=8&&e>=-7)r=64+e+7;else if(f&&e<=4&&e>=-3)r=80+e+3;else if(c.length===e+1)r=32*f;else if(r=32*f+16*(e<0),e=Math.abs(e),e<88)r+=1,u=xt.charAt(e);else if(e<7744)r+=2,a=e/88|0,u=xt.charAt(a)+xt.charAt(e-88*a);else for(t=s(String(e),10,88),o=t.length,r+=o,n=0;n<o;n++)u+=xt.charAt(t[n]);for(u=xt.charAt(r)+u,t=s(c,10,88),o=t.length,n=0;n<o;n++)u+=xt.charAt(t[n]);return u},Ut.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0!==e&&o(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(Mt=!1,e<4&&(e=[4,5,7,8][e]),n=qt(n,t,0,e,1).times(t),Mt=!0,c(n)):(t.s=n.s,n=t),n},Ut.toNumber=function(){return+this},Ut.toOctal=function(t,e){return A(this,8,t,e)},Ut.toPower=Ut.pow=function(t){var e,n,r,o,s,u,l,f=this,h=f.constructor,p=+(t=new h(t));if(!(f.d&&t.d&&f.d[0]&&t.d[0]))return new h(Tt(+f,p));if(f=new h(f),f.eq(1))return f;if(r=h.precision,s=h.rounding,t.eq(1))return c(f,r,s);if(e=St(t.e/Rt),n=t.d.length-1,l=e>=n,u=f.s,l){if((n=p<0?-p:p)<=It)return o=g(h,f,n,r),t.s<0?new h(1).div(o):c(o,r,s)}else if(u<0)return new h(NaN);return u=u<0&&1&t.d[Math.max(e,n)]?-1:1,n=Tt(+f,p),e=0!=n&&isFinite(n)?new h(n+"").e:St(p*(Math.log("0."+i(f.d))/Math.LN10+f.e+1)),e>h.maxE+1||e<h.minE-1?new h(e>0?u/0:0):(Mt=!1,h.rounding=f.s=1,n=Math.min(12,(e+"").length),o=x(t.times(b(f,r+n)),r),o=c(o,r+5,1),a(o.d,r,s)&&(e=r+10,o=c(x(t.times(b(f,e+n)),e),e+5,1),+i(o.d).slice(r+1,r+15)+1==1e14&&(o=c(o,r+1,0))),o.s=u,Mt=!0,h.rounding=s,c(o,r,s))},Ut.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=l(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(o(t,1,vt),void 0===e?e=i.rounding:o(e,0,8),r=c(new i(r),t,e),n=l(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},Ut.toSignificantDigits=Ut.toSD=function(t,e){var n=this,r=n.constructor;return void 0===t?(t=r.precision,e=r.rounding):(o(t,1,vt),void 0===e?e=r.rounding:o(e,0,8)),c(new r(n),t,e)},Ut.toString=function(){var t=this,e=t.constructor,n=l(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},Ut.truncated=Ut.trunc=function(){return c(new this.constructor(this),this.e+1,1)},Ut.valueOf=function(){var t=this,e=t.constructor,n=l(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var qt=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a,s,u){var l,f,h,p,d,m,g,y,v,x,b,w,_,N,M,E,O,A,S,T,k=r.constructor,C=r.s==i.s?1:-1,P=r.d,j=i.d;if(!(P&&P[0]&&j&&j[0]))return new k(r.s&&i.s&&(P?!j||P[0]!=j[0]:j)?P&&0==P[0]||!j?0*C:C/0:NaN);for(u?(d=1,f=r.e-i.e):(u=zt,d=Rt,f=St(r.e/d)-St(i.e/d)),S=j.length,O=P.length,v=new k(C),x=v.d=[],h=0;j[h]==(P[h]||0);h++);if(j[h]>(P[h]||0)&&f--,null==o?(N=o=k.precision,a=k.rounding):N=s?o+(r.e-i.e)+1:o,N<0)x.push(1),m=!0;else{if(N=N/d+2|0,h=0,1==S){for(p=0,j=j[0],N++;(h<O||p)&&N--;h++)M=p*u+(P[h]||0),x[h]=M/j|0,p=M%j|0;m=p||h<O}else{for(p=u/(j[0]+1)|0,p>1&&(j=t(j,p,u),P=t(P,p,u),S=j.length,O=P.length),E=S,b=P.slice(0,S),w=b.length;w<S;)b[w++]=0;T=j.slice(),T.unshift(0),A=j[0],j[1]>=u/2&&++A;do p=0,l=e(j,b,S,w),l<0?(_=b[0],S!=w&&(_=_*u+(b[1]||0)),p=_/A|0,p>1?(p>=u&&(p=u-1),g=t(j,p,u),y=g.length,w=b.length,l=e(g,b,y,w),1==l&&(p--,n(g,S<y?T:j,y,u))):(0==p&&(l=p=1),g=j.slice()),y=g.length,y<w&&g.unshift(0),n(b,g,w,u),l==-1&&(w=b.length,l=e(j,b,S,w),l<1&&(p++,n(b,S<w?T:j,w,u))),w=b.length):0===l&&(p++,b=[0]),x[h++]=p,l&&b[0]?b[w++]=P[E]||0:(b=[P[E]],w=1);while((E++<O||void 0!==b[0])&&N--);m=void 0!==b[0]}x[0]||x.shift()}if(1==d)v.e=f,dt=m;else{for(h=1,p=x[0];p>=10;p/=10)h++;v.e=h+f*d-1,c(v,s?o+v.e+1:o,a,m)}return v}}();if(_t=$(_t),bt=new _t(bt),wt=new _t(wt),"function"==typeof t&&t.amd)t(function(){return _t});else if("undefined"!=typeof n&&n.exports){if(n.exports=_t,!Nt)try{Nt=e("crypto")}catch(Dt){}}else r||(r="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),mt=r.Decimal,_t.noConflict=function(){return r.Decimal=mt,_t},r.Decimal=_t}(this)},{}],22:[function(e,n,r){var i=i||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",l=4e4,f=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,l)},h=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(o){u(o)}}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,u,l){l||(e=p(e));var d,m=this,g=e.type,y=g===c,v=function(){h(m,"writestart progress write writeend".split(" "))},x=function(){if((s||y&&a)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,m.readyState=m.DONE,v()},r.readAsDataURL(e),void(m.readyState=m.INIT)}if(d||(d=n().createObjectURL(e)),y)t.location.href=d;else{var i=t.open(d,"_blank");i||(t.location.href=d)}m.readyState=m.DONE,v(),f(d)};return m.readyState=m.INIT,i?(d=n().createObjectURL(e),void setTimeout(function(){r.href=d,r.download=u,o(r),v(),f(d),m.readyState=m.DONE})):void x()},m=d.prototype,g=function(t,e,n){return new d(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=p(t)),navigator.msSaveOrOpenBlob(t,e)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof n&&n.exports?n.exports.saveAs=i:"undefined"!=typeof t&&null!==t&&null!==t.amd&&t("FileSaver.js",function(){return i})},{}],23:[function(e,n,r){!function(e){"use strict";function i(t,e){return isNaN(t=parseInt(t,10))&&o(),t*e}function o(){throw"Invalid Param"}function a(t,e){return this instanceof a?(c(t,e),t=a.REDUCE?p(u.d,u.n):1,this.s=u.s,this.n=u.n/t,void(this.d=u.d/t)):new a(t,e)}var s=2e3,u={s:1,n:0,d:1},c=function(t,e){var n,r=0,a=1,s=1,c=0,l=0,f=0,h=1,p=1,d=0,m=1,g=1,y=1,v=1e7;if(void 0===t||null===t);else if(void 0!==e)r=t,a=e,s=r*a;else switch(typeof t){case"object":"d"in t&&"n"in t?(r=t.n,a=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(a=t[1])):o(),s=r*a;break;case"number":if(t<0&&(s=t,t=-t),t%1===0)r=t;else if(t>0){for(t>=1&&(p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=p);m<=v&&y<=v;){if(n=(d+g)/(m+y),t===n){m+y<=v?(r=d+g,a=m+y):y>m?(r=g,a=y):(r=d,a=m);break}t>n?(d+=g,m+=y):(g+=d,y+=m),m>v?(r=g,a=y):(r=d,a=m)}r*=p}else(isNaN(t)||isNaN(e))&&(a=r=NaN);break;case"string":if(m=t.match(/\d+|./g),"-"===m[d]?(s=-1,d++):"+"===m[d]&&d++,m.length===d+1?l=i(m[d++],s):"."===m[d+1]||"."===m[d]?("."!==m[d]&&(c=i(m[d++],s)),d++,(d+1===m.length||"("===m[d+1]&&")"===m[d+3]||"'"===m[d+1]&&"'"===m[d+3])&&(l=i(m[d],s),h=Math.pow(10,m[d].length),d++),("("===m[d]&&")"===m[d+2]||"'"===m[d]&&"'"===m[d+2])&&(f=i(m[d+1],s),p=Math.pow(10,m[d+1].length)-1,d+=3)):"/"===m[d+1]||":"===m[d+1]?(l=i(m[d],s),h=i(m[d+2],1),d+=3):"/"===m[d+3]&&" "===m[d+1]&&(c=i(m[d],s),l=i(m[d+2],s),h=i(m[d+4],1),d+=5),m.length<=d){a=h*p,s=r=f+a*c+p*l;break}default:o()}if(0===a)throw"DIV/0";u.s=s<0?-1:1,u.n=Math.abs(r),u.d=Math.abs(a)},l=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r},f=function(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>s)return 0;return r},h=function(t,e,n){for(var r=1,i=l(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0},p=function(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}};a.REDUCE=1,a.prototype={s:1,n:0,d:1,abs:function(){return new a(this.n,this.d)},neg:function(){return new a(-this.s*this.n,this.d)},add:function(t,e){return c(t,e),new a(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(t,e){return c(t,e),new a(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(t,e){return c(t,e),new a(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(t,e){return c(t,e),new a(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return new a(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new a(NaN):void 0===t?new a(this.s*this.n%this.d,1):(c(t,e),0===u.n&&0===this.d&&a(0,0),new a(this.s*u.d*this.n%(u.n*this.d),u.d*this.d));
},gcd:function(t,e){return c(t,e),new a(p(u.n,this.n),u.d*this.d/p(u.d,this.d))},lcm:function(t,e){return c(t,e),0===u.n&&0===this.n?new a:new a(u.n*this.n/p(u.n,this.n),p(u.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):new a(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):new a(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):new a(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new a(this.s*this.d,this.n)},pow:function(t){return t<0?new a(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new a(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return c(t,e),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(t,e){c(t,e);var n=this.s*this.n*u.d-u.s*u.n*this.d;return(0<n)-(n<0)},divisible:function(t,e){return c(t,e),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];do r.push(Math.floor(e/n)),t=e%n,e=n,n=t;while(1!==e);return r},toString:function(){var t,e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";a.REDUCE||(t=p(e,n),e/=t,n/=t);for(var r=String(e).split(""),i=0,o=[~this.s?"":"-","",""],s="",u=f(e,n),c=h(e,n,u),l=-1,d=1,m=15+u+c+r.length,g=0;g<m;g++,i*=10){if(g<r.length?i+=Number(r[g]):(d=2,l++),u>0)if(l===c)o[d]+=s+"(",s="";else if(l===u+c){o[d]+=s+")";break}i>=n?(o[d]+=s+(i/n|0),s="",i%=n):d>1?s+="0":o[d]&&(o[d]+="0")}return o[0]+=o[1]||"0",o[2]?o[0]+"."+o[2]:o[0]}},"function"==typeof t&&t.amd?t([],function(){return a}):"object"==typeof r?n.exports=a:e.Fraction=a}(this)},{}],24:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}function c(t,e){for(var n=t.indexOf(e);n!==-1;)t.splice(n,1),n=t.indexOf(e)}Object.defineProperty(n,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=t("./utils"),p=i(h),d=t("./logger"),m=r(d),g=t("./EventEmitter"),y=r(g),v=function(t){function e(n,r,i){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];a(this,e);var u=s(this,t.call(this));return u.backend=n,u.store=r,u.services=i,u.options=o,u.logger=m["default"].create("backendConnector"),u.state={},u.queue=[],u.backend&&u.backend.init&&u.backend.init(i,o.backend,o),u}return u(e,t),e.prototype.queueLoad=function(t,e,n){var r=this,i=[],o=[],a=[],s=[];return t.forEach(function(t){var n=!0;e.forEach(function(e){var a=t+"|"+e;r.store.hasResourceBundle(t,e)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?o.indexOf(a)<0&&o.push(a):(r.state[a]=1,n=!1,o.indexOf(a)<0&&o.push(a),i.indexOf(a)<0&&i.push(a),s.indexOf(e)<0&&s.push(e)))}),n||a.push(t)}),(i.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:i,pending:o,toLoadLanguages:a,toLoadNamespaces:s}},e.prototype.loaded=function(t,e,n){var r=this,i=t.split("|"),o=f(i,2),a=o[0],s=o[1];e&&this.emit("failedLoading",a,s,e),n&&this.store.addResourceBundle(a,s,n),this.state[t]=e?-1:2,this.queue.forEach(function(n){p.pushPath(n.loaded,[a],s),c(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(n.errors.length?n.callback(n.errors):n.callback(),r.emit("loaded",n.loaded),n.done=!0)}),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,n,r,i,o){var a=this;return r||(r=0),i||(i=250),t.length?void this.backend[n](t,e,function(s,u){return s&&u&&r<5?void setTimeout(function(){a.read.call(a,t,e,n,++r,2*i,o)},i):void o(s,u)}):o(null,{})},e.prototype.load=function(t,e,n){var r=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=l({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,n);return o.toLoad.length?void(i.allowMultiLoading&&this.backend.readMulti?this.read(o.toLoadLanguages,o.toLoadNamespaces,"readMulti",null,null,function(t,e){t&&r.logger.warn("loading namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading failed",t),!t&&e&&r.logger.log("loaded namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading",e),o.toLoad.forEach(function(n){var i=n.split("|"),o=f(i,2),a=o[0],s=o[1],u=p.getPath(e,[a,s]);if(u)r.loaded(n,t,u);else{var c="loading namespace "+s+" for language "+a+" via multiloading failed";r.loaded(n,c),r.logger.error(c)}})}):!function(){var t=function(t){var e=this,n=t.split("|"),r=f(n,2),i=r[0],o=r[1];this.read(i,o,"read",null,null,function(n,r){n&&e.logger.warn("loading namespace "+o+" for language "+i+" failed",n),!n&&r&&e.logger.log("loaded namespace "+o+" for language "+i,r),e.loaded(t,n,r)})};o.toLoad.forEach(function(e){t.call(r,e)})}()):void(o.pending.length||n())},e.prototype.reload=function(t,e){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var r=l({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),r.allowMultiLoading&&this.backend.readMulti?this.read(t,e,"readMulti",null,null,function(r,i){r&&n.logger.warn("reloading namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading failed",r),!r&&i&&n.logger.log("reloaded namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading",i),t.forEach(function(t){e.forEach(function(e){var o=p.getPath(i,[t,e]);if(o)n.loaded(t+"|"+e,r,o);else{var a="reloading namespace "+e+" for language "+t+" via multiloading failed";n.loaded(t+"|"+e,a),n.logger.error(a)}})})}):!function(){var r=function(t){var e=this,n=t.split("|"),r=f(n,2),i=r[0],o=r[1];this.read(i,o,"read",null,null,function(n,r){n&&e.logger.warn("reloading namespace "+o+" for language "+i+" failed",n),!n&&r&&e.logger.log("reloaded namespace "+o+" for language "+i,r),e.loaded(t,n,r)})};t.forEach(function(t){e.forEach(function(e){r.call(n,t+"|"+e)})})}()},e.prototype.saveMissing=function(t,e,n,r){this.backend&&this.backend.create&&this.backend.create(t,e,n,r),t&&t[0]&&this.store.addResource(t[0],e,n,r)},e}(y["default"]);n["default"]=v},{"./EventEmitter":26,"./logger":36,"./utils":38}],25:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=t("./utils"),f=(i(l),t("./logger")),h=r(f),p=t("./EventEmitter"),d=r(p),m=function(t){function e(n,r,i){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];a(this,e);var u=s(this,t.call(this));return u.cache=n,u.store=r,u.services=i,u.options=o,u.logger=h["default"].create("cacheConnector"),u.cache&&u.cache.init&&u.cache.init(i,o.cache,o),u}return u(e,t),e.prototype.load=function(t,e,n){var r=this;if(!this.cache)return n&&n();var i=c({},this.cache.options,this.options.cache);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),i.enabled?this.cache.load(t,function(e,i){if(e&&r.logger.error("loading languages "+t.join(", ")+" from cache failed",e),i)for(var o in i)for(var a in i[o])if("i18nStamp"!==a){var s=i[o][a];s&&r.store.addResourceBundle(o,a,s)}n&&n()}):n&&n()},e.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},e}(d["default"]);n["default"]=m},{"./EventEmitter":26,"./logger":36,"./utils":38}],26:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){r(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})},t.prototype.off=function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var r=n.observers[t].indexOf(e);r>-1&&n.observers[t].splice(r,1)}else delete n.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.observers[t]&&this.observers[t].forEach(function(t){t.apply(void 0,n)}),this.observers["*"]&&this.observers["*"].forEach(function(e){var r;e.apply(e,(r=[t]).concat.apply(r,n))})},t}();n["default"]=i},{}],27:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=t("./utils"),s=i(a),u=t("./logger"),c=r(u),l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),this.logger=c["default"].create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];e&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t}),t.interpolation||(t.interpolation={escapeValue:!0});var n=t.interpolation;this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.prefix=n.prefix?s.regexEscape(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?s.regexEscape(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?s.regexEscape(n.formatSeparator):n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?s.regexEscape(n.nestingPrefix):n.nestingPrefixEscaped||s.regexEscape("$t("),this.nestingSuffix=n.nestingSuffix?s.regexEscape(n.nestingSuffix):n.nestingSuffixEscaped||s.regexEscape(")"),this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},t.prototype.interpolate=function(t,e,n){function r(t){return t.replace(/\$/g,"$$$$")}var i=this,o=void 0,a=void 0,u=function(t){if(t.indexOf(i.formatSeparator)<0)return s.getPath(e,t);var r=t.split(i.formatSeparator),o=r.shift().trim(),a=r.join(i.formatSeparator).trim();return i.format(s.getPath(e,o),a,n)};for(this.resetRegExp();o=this.regexpUnescape.exec(t);){var c=u(o[1].trim());t=t.replace(o[0],c),this.regexpUnescape.lastIndex=0}for(;o=this.regexp.exec(t);)a=u(o[1].trim()),"string"!=typeof a&&(a=s.makeString(a)),a||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+t),a=""),a=r(this.escapeValue?s.escape(a):a),t=t.replace(o[0],a),this.regexp.lastIndex=0;return t},t.prototype.nest=function(t,e){function n(t){return t.replace(/\$/g,"$$$$")}function r(t){if(t.indexOf(",")<0)return t;var e=t.split(",");t=e.shift();var n=e.join(",");n=this.interpolate(n,u);try{u=JSON.parse(n)}catch(r){this.logger.error("failed parsing options string in nesting for key "+t,r)}return t}var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=void 0,a=void 0,u=JSON.parse(JSON.stringify(i));for(u.applyPostProcessor=!1;o=this.nestingRegexp.exec(t);)a=e(r.call(this,o[1].trim()),u),"string"!=typeof a&&(a=s.makeString(a)),a||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+t),a=""),a=n(this.escapeValue?s.escape(a):a),t=t.replace(o[0],a),this.regexp.lastIndex=0;return t},t}();n["default"]=l},{"./logger":36,"./utils":38}],28:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(n,"__esModule",{value:!0});var a=t("./logger"),s=r(a),u=function(){function t(e){i(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=s["default"].create("languageUtils")}return t.prototype.getLanguagePartFromCode=function(t){if(t.indexOf("-")<0)return t;var e=["NB-NO","NN-NO","nb-NO","nn-NO","nb-no","nn-no"],n=t.split("-");return this.formatLanguageCode(e.indexOf(t)>-1?n[1].toLowerCase():n[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=o(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=o(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=o(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t,e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist&&!e)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.toResolveHierarchy=function(t,e){var n=this;e=e||this.options.fallbackLng||[],"string"==typeof e&&(e=[e]);var r=[],i=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];n.isWhitelisted(t,e)?r.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t)};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t),!0),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),e.forEach(function(t){r.indexOf(t)<0&&i(n.formatLanguageCode(t))}),r},t}();n["default"]=u},{"./logger":36}],29:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t={};return c.forEach(function(e){e.lngs.forEach(function(n){return t[n]={numbers:e.nr,plurals:l[e.fc]}})}),t}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=t("./logger"),u=r(s),c=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],l={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}},f=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this.languageUtils=e,this.options=n,this.logger=u["default"].create("pluralResolver"),this.rules=o()}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return!(e&&e.numbers.length<=1)},t.prototype.getSuffix=function(t,e){var n=this,r=this.getRule(t);if(!r)return this.logger.warn("no plural rule found for: "+t),"";var i=function(){if(1===r.numbers.length)return{v:""};var t=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),i=r.numbers[t];2===r.numbers.length&&1===r.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===n.options.compatibilityJSON?1===i?{v:""}:"number"==typeof i?{v:"_plural_"+i.toString()}:{v:o()}:"v2"===n.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]?{v:o()}:2===r.numbers.length&&1===r.numbers[0]?{v:o()}:{v:n.options.prepend&&t.toString()?n.options.prepend+t.toString():t.toString()}}();return"object"===("undefined"==typeof i?"undefined":a(i))?i.v:void 0},t}();n["default"]=f},{"./logger":36}],30:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=t("./EventEmitter"),f=i(l),h=t("./utils"),p=r(h),d=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{ns:["translation"],defaultNS:"translation"}:arguments[1];a(this,e);var i=s(this,t.call(this));return i.data=n,i.options=r,i}return u(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],i=r.keySeparator||this.options.keySeparator;void 0===i&&(i=".");var o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=t.split(".")),p.getPath(this.data,o)},e.prototype.addResource=function(t,e,n,r){var i=arguments.length<=4||void 0===arguments[4]?{silent:!1}:arguments[4],o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(a=t.split("."),r=e,e=a[1]),this.addNamespaces(e),p.setPath(this.data,a,r),i.silent||this.emit("added",t,e,n,r)},e.prototype.addResources=function(t,e,n){for(var r in n)"string"==typeof n[r]&&this.addResource(t,e,r,n[r],{silent:!0});this.emit("added",t,e,n)},e.prototype.addResourceBundle=function(t,e,n,r,i){var o=[t,e];t.indexOf(".")>-1&&(o=t.split("."),r=n,n=e,e=o[1]),this.addNamespaces(e);var a=p.getPath(this.data,o)||{};r?p.deepExtend(a,n,i):a=c({},a,n),p.setPath(this.data,o,a),this.emit("added",t,e,n)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?c({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.toJSON=function(){return this.data},e}(f["default"]);n["default"]=d},{"./EventEmitter":26,"./utils":38}],31:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},f=t("./logger"),h=i(f),p=t("./EventEmitter"),d=i(p),m=t("./postProcessor"),g=i(m),y=t("./compatibility/v1"),v=r(y),x=t("./utils"),b=r(x),w=function(t){function e(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];a(this,e);var i=s(this,t.call(this));return b.copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=r,i.logger=h["default"].create("translator"),i}return u(e,t),e.prototype.changeLanguage=function(t){t&&(this.language=t)},e.prototype.exists=function(t){var e=arguments.length<=1||void 0===arguments[1]?{interpolation:{}}:arguments[1];return"v1"===this.options.compatibilityAPI&&(e=v.convertTOptions(e)),void 0!==this.resolve(t,e)},e.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var i=t.split(n);r=i[0],t=i[1]}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}},e.prototype.translate=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("object"!==("undefined"==typeof e?"undefined":l(e))?e=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(e=v.convertTOptions(e)),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var n=e.lng||this.language;if(n&&"cimode"===n.toLowerCase())return t[t.length-1];var r=e.keySeparator||this.options.keySeparator||".",i=this.extractFromKey(t[t.length-1],e),o=i.key,a=i.namespaces,s=a[a.length-1],u=this.resolve(t,e),f=Object.prototype.toString.apply(u),h=["[object Number]","[object Function]","[object RegExp]"],p=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(u&&"string"!=typeof u&&h.indexOf(f)<0&&(!p||"[object Array]"!==f)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(o,u,e):"key '"+o+" ("+this.language+")' returned an object instead of string.";var d="[object Array]"===f?[]:{};for(var m in u)d[m]=this.translate(""+o+r+m,c({joinArrays:!1,ns:a},e));u=d}else if(p&&"[object Array]"===f)u=u.join(p),u&&(u=this.extendTranslation(u,o,e));else{var g=!1,y=!1;if(this.isValidLookup(u)||void 0===e.defaultValue||(g=!0,u=e.defaultValue),this.isValidLookup(u)||(y=!0,u=o),y||g){this.logger.log("missingKey",n,s,o,u);var x=[];if("fallback"===this.options.saveMissingTo&&this.options.fallbackLng&&this.options.fallbackLng[0])for(var b=0;b<this.options.fallbackLng.length;b++)x.push(this.options.fallbackLng[b]);else"all"===this.options.saveMissingTo?x=this.languageUtils.toResolveHierarchy(e.lng||this.language):x.push(e.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(x,s,o,u):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(x,s,o,u)),this.emit("missingKey",x,s,o,u)}u=this.extendTranslation(u,o,e),y&&u===o&&this.options.appendNamespaceToMissingKey&&(u=s+":"+o),y&&this.options.parseMissingKeyHandler&&(u=this.options.parseMissingKeyHandler(u))}return u},e.prototype.extendTranslation=function(t,e,n){var r=this;n.interpolation&&this.interpolator.init(n);var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=c({},this.options.interpolation.defaultVariables,i)),t=this.interpolator.interpolate(t,i,this.language),t=this.interpolator.nest(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.translate.apply(r,e)},n),n.interpolation&&this.interpolator.reset();var o=n.postProcess||this.options.postProcess,a="string"==typeof o?[o]:o;return void 0!==t&&a&&a.length&&n.applyPostProcessor!==!1&&(t=g["default"].handle(a,t,e,n,this)),t},e.prototype.resolve=function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(r)){var i=e.extractFromKey(t,n),o=i.key,a=i.namespaces;e.options.fallbackNS&&(a=a.concat(e.options.fallbackNS));var s=void 0!==n.count&&"string"!=typeof n.count,u=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,c=n.lngs?n.lngs:e.languageUtils.toResolveHierarchy(n.lng||e.language);a.forEach(function(t){e.isValidLookup(r)||c.forEach(function(i){if(!e.isValidLookup(r)){var a=o,c=[a],l=void 0;s&&(l=e.pluralResolver.getSuffix(i,n.count)),s&&u&&c.push(a+l),u&&c.push(a+=""+e.options.contextSeparator+n.context),s&&c.push(a+=l);for(var f=void 0;f=c.pop();)e.isValidLookup(r)||(r=e.getResource(i,t,f,n))}})})}}),r},e.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},e.prototype.getResource=function(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return this.resourceStore.getResource(t,e,n,r)},e}(d["default"]);n["default"]=w},{"./EventEmitter":26,"./compatibility/v1":32,"./logger":36,"./postProcessor":37,"./utils":38}],32:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.interpolation={unescapeSuffix:"HTML"},t.interpolation.prefix=t.interpolationPrefix||"__",t.interpolation.suffix=t.interpolationSuffix||"__",t.interpolation.escapeValue=t.escapeInterpolation||!1,t.interpolation.nestingPrefix=t.reusePrefix||"$t(",t.interpolation.nestingSuffix=t.reuseSuffix||")",t}function o(t){return t.resStore&&(t.resources=t.resStore),t.ns&&t.ns.defaultNs?(t.defaultNS=t.ns.defaultNs,t.ns=t.ns.namespaces):t.defaultNS=t.ns||"translation",t.fallbackToDefaultNS&&t.defaultNS&&(t.fallbackNS=t.defaultNS),t.saveMissing=t.sendMissing,t.saveMissingTo=t.sendMissingTo||"current",t.returnNull=!t.fallbackOnNull,t.returnEmptyString=!t.fallbackOnEmpty,t.returnObjects=t.returnObjectTrees,
t.joinArrays="\n",t.returnedObjectHandler=t.objectTreeKeyHandler,t.parseMissingKeyHandler=t.parseMissingKey,t.appendNamespaceToMissingKey=!0,t.nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,"sprintf"===t.shortcutFunction&&(t.overloadTranslationOptionHandler=function(t){for(var e=[],n=1;n<t.length;n++)e.push(t[n]);return{postProcess:"sprintf",sprintf:e}}),t.whitelist=t.lngWhitelist,t.preload=t.preload,"current"===t.load&&(t.load="currentOnly"),"unspecific"===t.load&&(t.load="languageOnly"),t.backend=t.backend||{},t.backend.loadPath=t.resGetPath||"locales/__lng__/__ns__.json",t.backend.addPath=t.resPostPath||"locales/add/__lng__/__ns__",t.backend.allowMultiLoading=t.dynamicLoad,t.cache=t.cache||{},t.cache.prefix="res_",t.cache.expirationTime=6048e5,t.cache.enabled=!!t.useLocalStorage,t=i(t),t.defaultVariables&&(t.interpolation.defaultVariables=t.defaultVariables),t}function a(t){return t=i(t),t.joinArrays="\n",t}function s(t){return(t.interpolationPrefix||t.interpolationSuffix||t.escapeInterpolation)&&(t=i(t)),t.nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,t.returnObjects=t.returnObjectTrees,t}function u(t){t.lng=function(){return l["default"].deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),t.services.languageUtils.toResolveHierarchy(t.language)[0]},t.preload=function(e,n){l["default"].deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),t.loadLanguages(e,n)},t.setLng=function(e,n,r){return l["default"].deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof n&&(r=n,n={}),n||(n={}),n.fixLng===!0&&r?r(null,t.getFixedT(e)):void t.changeLanguage(e,r)},t.addPostProcessor=function(e,n){l["default"].deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),t.use({type:"postProcessor",name:e,process:n})}}Object.defineProperty(n,"__esModule",{value:!0}),n.convertAPIOptions=o,n.convertJSONOptions=a,n.convertTOptions=s,n.appendBackwardsAPI=u;var c=t("../logger"),l=r(c)},{"../logger":36}],33:[function(t,e,n){"use strict";function r(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,overloadTranslationOptionHandler:function(t){return{defaultValue:t[1]}},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function i(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&t.whitelist.push("cimode"),t}Object.defineProperty(n,"__esModule",{value:!0}),n.get=r,n.transformOptions=i},{}],34:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=t("./logger"),h=i(f),p=t("./EventEmitter"),d=i(p),m=t("./ResourceStore"),g=i(m),y=t("./Translator"),v=i(y),x=t("./LanguageUtils"),b=i(x),w=t("./PluralResolver"),_=i(w),N=t("./Interpolator"),M=i(N),E=t("./BackendConnector"),O=i(E),A=t("./CacheConnector"),S=i(A),T=t("./defaults"),k=t("./postProcessor"),C=i(k),P=t("./compatibility/v1"),j=r(P),z=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments[1];a(this,e);var i=s(this,t.call(this));return i.options=(0,T.transformOptions)(n),i.services={},i.logger=h["default"],i.modules={},r&&!i.isInitialized&&i.init(n,r),i}return u(e,t),e.prototype.init=function(t,e){function n(t){if(t)return"function"==typeof t?new t:t}var r=this;if("function"==typeof t&&(e=t,t={}),t||(t={}),"v1"===t.compatibilityAPI?this.options=l({},(0,T.get)(),(0,T.transformOptions)(j.convertAPIOptions(t)),{}):"v1"===t.compatibilityJSON?this.options=l({},(0,T.get)(),(0,T.transformOptions)(j.convertJSONOptions(t)),{}):this.options=l({},(0,T.get)(),this.options,(0,T.transformOptions)(t)),e||(e=function(){}),!this.options.isClone){this.modules.logger?h["default"].init(n(this.modules.logger),this.options):h["default"].init(null,this.options);var i=new b["default"](this.options);this.store=new g["default"](this.options.resources,this.options);var o=this.services;o.logger=h["default"],o.resourceStore=this.store,o.resourceStore.on("added removed",function(t,e){o.cacheConnector.save()}),o.languageUtils=i,o.pluralResolver=new _["default"](i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON}),o.interpolator=new M["default"](this.options),o.backendConnector=new O["default"](n(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t].concat(n))}),o.backendConnector.on("loaded",function(t){o.cacheConnector.save()}),o.cacheConnector=new S["default"](n(this.modules.cache),o.resourceStore,o,this.options),o.cacheConnector.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t].concat(n))}),this.modules.languageDetector&&(o.languageDetector=n(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.translator=new v["default"](this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t].concat(n))})}var a=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"];a.forEach(function(t){r[t]=function(){return this.store[t].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&j.appendBackwardsAPI(this);var s=function(){r.changeLanguage(r.options.lng,function(t,n){r.emit("initialized",r.options),r.logger.log("initialized",r.options),e(t,n)})};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),this},e.prototype.loadResources=function(t){var e=this;if(t||(t=function(){}),this.options.resources)t(null);else{var n=function(){if(e.language&&"cimode"===e.language.toLowerCase())return{v:t()};var n=[],r=function(t){var r=e.services.languageUtils.toResolveHierarchy(t);r.forEach(function(t){n.indexOf(t)<0&&n.push(t)})};r(e.language),e.options.preload&&e.options.preload.forEach(function(t){r(t)}),e.services.cacheConnector.load(n,e.options.ns,function(){e.services.backendConnector.load(n,e.options.ns,t)})}();if("object"===("undefined"==typeof n?"undefined":c(n)))return n.v}},e.prototype.reloadResources=function(t,e){t||(t=this.languages),e||(e=this.options.ns),this.services.backendConnector.reload(t,e)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),"cache"===t.type&&(this.modules.cache=t),("logger"===t.type||t.log&&t.warn&&t.warn)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"postProcessor"===t.type&&C["default"].addPostProcessor(t),this},e.prototype.changeLanguage=function(t,e){var n=this,r=function(r){t&&(n.emit("languageChanged",t),n.logger.log("languageChanged",t)),e&&e(r,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.t.apply(n,e)})};!t&&this.services.languageDetector&&(t=this.services.languageDetector.detect()),t&&(this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.translator.changeLanguage(t),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(t)),this.loadResources(function(t){r(t)})},e.prototype.getFixedT=function(t,e){var n=this,r=function i(t,e){return e=e||{},e.lng=e.lng||i.lng,e.ns=e.ns||i.ns,n.t(t,e)};return r.lng=t,r.ns=e,r},e.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},e.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var n=this;return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),void this.loadResources(e)):e&&e()},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],r=t.filter(function(t){return n.indexOf(t)<0});return r.length?(this.options.preload=n.concat(r),void this.loadResources(e)):e()},e.prototype.dir=function(t){if(t||(t=this.language),!t)return"rtl";var e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return e.indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"},e.prototype.createInstance=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];return new e(t,n)},e.prototype.cloneInstance=function(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments[1],i=new e(l({},n,this.options,{isClone:!0}),r),o=["store","translator","services","language"];return o.forEach(function(e){i[e]=t[e]}),i},e}(d["default"]);n["default"]=new z},{"./BackendConnector":24,"./CacheConnector":25,"./EventEmitter":26,"./Interpolator":27,"./LanguageUtils":28,"./PluralResolver":29,"./ResourceStore":30,"./Translator":31,"./compatibility/v1":32,"./defaults":33,"./logger":36,"./postProcessor":37}],35:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./i18next"),o=r(i);n["default"]=o["default"]},{"./i18next":34}],36:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o={type:"logger",log:function(t){this._output("log",t)},warn:function(t){this._output("warn",t)},error:function(t){this._output("error",t)},_output:function(t,e){console&&console[t]&&console[t].apply(console,Array.prototype.slice.call(e))}},a=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),this.subs=[],this.init(e,n)}return t.prototype.init=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.prefix=e.prefix||"i18next:",this.logger=t||o,this.options=e,this.debug=e.debug!==!1},t.prototype.setDebug=function(t){this.debug=t,this.subs.forEach(function(e){e.setDebug(t)})},t.prototype.log=function(){this.forward(arguments,"log","",!0)},t.prototype.warn=function(){this.forward(arguments,"warn","",!0)},t.prototype.error=function(){this.forward(arguments,"error","")},t.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,n,r){r&&!this.debug||("string"==typeof t[0]&&(t[0]=n+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){var n=new t(this.logger,i({prefix:this.prefix+":"+e+":"},this.options));return this.subs.push(n),n},t}();n["default"]=new a},{}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))}),e}}},{}],38:[function(t,e,n){"use strict";function r(t){return null==t?"":""+t}function i(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})}function o(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(!t)return{};var o=r(i.shift());!t[o]&&n&&(t[o]=new n),t=t[o]}return t?{obj:t,k:r(i.shift())}:{}}function a(t,e,n){var r=o(t,e,Object),i=r.obj,a=r.k;i[a]=n}function s(t,e,n,r){var i=o(t,e,Object),a=i.obj,s=i.k;a[s]=a[s]||[],r&&(a[s]=a[s].concat(n)),r||a[s].push(n)}function u(t,e){var n=o(t,e),r=n.obj,i=n.k;if(r)return r[i]}function c(t,e,n){for(var r in e)r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):c(t[r],e[r],n):t[r]=e[r];return t}function l(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function f(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return h[t]}):t}Object.defineProperty(n,"__esModule",{value:!0}),n.makeString=r,n.copy=i,n.setPath=a,n.pushPath=s,n.getPath=u,n.deepExtend=c,n.regexEscape=l,n.escape=f;var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"}},{}],39:[function(t,e,n){e.exports=t("./dist/commonjs/index.js")["default"]},{"./dist/commonjs/index.js":35}],40:[function(e,n,r){(function(e){(function(){function i(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function a(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,r){for(var i=-1,o=t?t.length:0;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function u(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}function f(t,e){for(var n=-1,r=t?t.length:0,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function h(t,e){var n=t?t.length:0;return!!n&&N(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function m(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function g(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=t?t.length:0;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function x(t){return t.split("")}function b(t){return t.match(Re)||[]}function w(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function _(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function N(t,e,n){return e===e?X(t,e,n):_(t,E,n)}function M(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function E(t){return t!==t}function O(t,e){var n=t?t.length:0;return n?C(t,e)/n:jt}function A(t){return function(e){return null==e?rt:e[t]}}function S(t){return function(e){return null==t?rt:t[e]}}function T(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function k(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function C(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==rt&&(n=n===rt?o:n+o)}return n}function P(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function j(t,e){return d(e,function(e){return[e,t[e]]})}function z(t){return function(e){return t(e)}}function R(t,e){return d(e,function(e){return t[e]})}function I(t,e){return t.has(e)}function B(t,e){for(var n=-1,r=t.length;++n<r&&N(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length;n--&&N(e,t[n],0)>-1;);return n}function U(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function q(t){return"\\"+Hn[t]}function D(t,e){return null==t?rt:t[e]}function F(t){return Rn.test(t)}function $(t){return In.test(t)}function H(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t,e){return function(n){return t(e(n))}}function W(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==lt||(t[n]=lt,o[i++]=n)}return o}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function X(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function J(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function K(t){return F(t)?tt(t):sr(t)}function Q(t){return F(t)?et(t):x(t)}function tt(t){for(var e=jn.lastIndex=0;jn.test(t);)++e;return e}function et(t){return t.match(jn)||[]}function nt(t){return t.match(zn)||[]}var rt,it="4.16.4",ot=200,at="Unsupported core-js use. Try https://github.com/es-shims.",st="Expected a function",ut="__lodash_hash_undefined__",ct=500,lt="__lodash_placeholder__",ft=1,ht=2,pt=4,dt=8,mt=16,gt=32,yt=64,vt=128,xt=256,bt=512,wt=1,_t=2,Nt=30,Mt="...",Et=500,Ot=16,At=1,St=2,Tt=3,kt=1/0,Ct=9007199254740991,Pt=1.7976931348623157e308,jt=NaN,zt=4294967295,Rt=zt-1,It=zt>>>1,Bt=[["ary",vt],["bind",ft],["bindKey",ht],["curry",dt],["curryRight",mt],["flip",bt],["partial",gt],["partialRight",yt],["rearg",xt]],Lt="[object Arguments]",Ut="[object Array]",qt="[object Boolean]",Dt="[object Date]",Ft="[object Error]",$t="[object Function]",Ht="[object GeneratorFunction]",Vt="[object Map]",Gt="[object Number]",Wt="[object Object]",Yt="[object Promise]",Zt="[object Proxy]",Xt="[object RegExp]",Jt="[object Set]",Kt="[object String]",Qt="[object Symbol]",te="[object WeakMap]",ee="[object WeakSet]",ne="[object ArrayBuffer]",re="[object DataView]",ie="[object Float32Array]",oe="[object Float64Array]",ae="[object Int8Array]",se="[object Int16Array]",ue="[object Int32Array]",ce="[object Uint8Array]",le="[object Uint8ClampedArray]",fe="[object Uint16Array]",he="[object Uint32Array]",pe=/\b__p \+= '';/g,de=/\b(__p \+=) '' \+/g,me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39);/g,ye=/[&<>"']/g,ve=RegExp(ge.source),xe=RegExp(ye.source),be=/<%-([\s\S]+?)%>/g,we=/<%([\s\S]+?)%>/g,_e=/<%=([\s\S]+?)%>/g,Ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Me=/^\w*$/,Ee=/^\./,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,Se=RegExp(Ae.source),Te=/^\s+|\s+$/g,ke=/^\s+/,Ce=/\s+$/,Pe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /,Re=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ie=/\\(\\)?/g,Be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Le=/\w*$/,Ue=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,De=/^\[object .+?Constructor\]$/,Fe=/^0o[0-7]+$/i,$e=/^(?:0|[1-9]\d*)$/,He=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ve=/($^)/,Ge=/['\n\r\u2028\u2029\\]/g,We="\\ud800-\\udfff",Ye="\\u0300-\\u036f\\ufe20-\\ufe23",Ze="\\u20d0-\\u20f0",Xe="\\u2700-\\u27bf",Je="a-z\\xdf-\\xf6\\xf8-\\xff",Ke="\\xac\\xb1\\xd7\\xf7",Qe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",tn="\\u2000-\\u206f",en=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nn="A-Z\\xc0-\\xd6\\xd8-\\xde",rn="\\ufe0e\\ufe0f",on=Ke+Qe+tn+en,an="['â]",sn="["+We+"]",un="["+on+"]",cn="["+Ye+Ze+"]",ln="\\d+",fn="["+Xe+"]",hn="["+Je+"]",pn="[^"+We+on+ln+Xe+Je+nn+"]",dn="\\ud83c[\\udffb-\\udfff]",mn="(?:"+cn+"|"+dn+")",gn="[^"+We+"]",yn="(?:\\ud83c[\\udde6-\\uddff]){2}",vn="[\\ud800-\\udbff][\\udc00-\\udfff]",xn="["+nn+"]",bn="\\u200d",wn="(?:"+hn+"|"+pn+")",_n="(?:"+xn+"|"+pn+")",Nn="(?:"+an+"(?:d|ll|m|re|s|t|ve))?",Mn="(?:"+an+"(?:D|LL|M|RE|S|T|VE))?",En=mn+"?",On="["+rn+"]?",An="(?:"+bn+"(?:"+[gn,yn,vn].join("|")+")"+On+En+")*",Sn=On+En+An,Tn="(?:"+[fn,yn,vn].join("|")+")"+Sn,kn="(?:"+[gn+cn+"?",cn,yn,vn,sn].join("|")+")",Cn=RegExp(an,"g"),Pn=RegExp(cn,"g"),jn=RegExp(dn+"(?="+dn+")|"+kn+Sn,"g"),zn=RegExp([xn+"?"+hn+"+"+Nn+"(?="+[un,xn,"$"].join("|")+")",_n+"+"+Mn+"(?="+[un,xn+wn,"$"].join("|")+")",xn+"?"+wn+"+"+Nn,xn+"+"+Mn,ln,Tn].join("|"),"g"),Rn=RegExp("["+bn+We+Ye+Ze+rn+"]"),In=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ln=-1,Un={};Un[ie]=Un[oe]=Un[ae]=Un[se]=Un[ue]=Un[ce]=Un[le]=Un[fe]=Un[he]=!0,Un[Lt]=Un[Ut]=Un[ne]=Un[qt]=Un[re]=Un[Dt]=Un[Ft]=Un[$t]=Un[Vt]=Un[Gt]=Un[Wt]=Un[Xt]=Un[Jt]=Un[Kt]=Un[te]=!1;var qn={};qn[Lt]=qn[Ut]=qn[ne]=qn[re]=qn[qt]=qn[Dt]=qn[ie]=qn[oe]=qn[ae]=qn[se]=qn[ue]=qn[Vt]=qn[Gt]=qn[Wt]=qn[Xt]=qn[Jt]=qn[Kt]=qn[Qt]=qn[ce]=qn[le]=qn[fe]=qn[he]=!0,qn[Ft]=qn[$t]=qn[te]=!1;var Dn={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},Fn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vn=parseFloat,Gn=parseInt,Wn="object"==typeof e&&e&&e.Object===Object&&e,Yn="object"==typeof self&&self&&self.Object===Object&&self,Zn=Wn||Yn||Function("return this")(),Xn="object"==typeof r&&r&&!r.nodeType&&r,Jn=Xn&&"object"==typeof n&&n&&!n.nodeType&&n,Kn=Jn&&Jn.exports===Xn,Qn=Kn&&Wn.process,tr=function(){try{return Qn&&Qn.binding("util")}catch(t){}}(),er=tr&&tr.isArrayBuffer,nr=tr&&tr.isDate,rr=tr&&tr.isMap,ir=tr&&tr.isRegExp,or=tr&&tr.isSet,ar=tr&&tr.isTypedArray,sr=A("length"),ur=S(Dn),cr=S(Fn),lr=S($n),fr=function pr(t){function e(t){if(Js(t)&&!uh(t)&&!(t instanceof x)){if(t instanceof r)return t;if(cl.call(t,"__wrapped__"))return Yo(t)}return new r(t)}function n(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=rt}function x(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=zt,this.__views__=[]}function S(){var t=new x(this.__wrapped__);return t.__actions__=ji(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ji(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ji(this.__views__),t}function X(){if(this.__filtered__){var t=new x(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function tt(){var t=this.__wrapped__.value(),e=this.__dir__,n=uh(t),r=e<0,i=n?t.length:0,o=vo(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=Bl(u,this.__takeCount__);if(!n||i<ot||i==u&&p==u)return di(t,this.__actions__);var d=[];t:for(;u--&&h<p;){c+=e;for(var m=-1,g=t[c];++m<f;){var y=l[m],v=y.iteratee,x=y.type,b=v(g);if(x==St)g=b;else if(!b){if(x==At)continue t;break t}}d[h++]=g}return d}function et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Re(){this.__data__=Wl?Wl(null):{},this.size=0}function We(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ye(t){var e=this.__data__;if(Wl){var n=e[t];return n===ut?rt:n}return cl.call(e,t)?e[t]:rt}function Ze(t){var e=this.__data__;return Wl?e[t]!==rt:cl.call(e,t)}function Xe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wl&&e===rt?ut:e,this}function Je(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ke(){this.__data__=[],this.size=0}function Qe(t){var e=this.__data__,n=On(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Nl.call(e,n,1),--this.size,!0}function tn(t){var e=this.__data__,n=On(e,t);return n<0?rt:e[n][1]}function en(t){return On(this.__data__,t)>-1}function nn(t,e){var n=this.__data__,r=On(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function rn(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function on(){this.size=0,this.__data__={hash:new et,map:new($l||Je),string:new et}}function an(t){var e=mo(this,t)["delete"](t);return this.size-=e?1:0,e}function sn(t){return mo(this,t).get(t)}function un(t){return mo(this,t).has(t)}function cn(t,e){var n=mo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ln(t){var e=-1,n=t?t.length:0;for(this.__data__=new rn;++e<n;)this.add(t[e])}function fn(t){return this.__data__.set(t,ut),this}function hn(t){return this.__data__.has(t)}function pn(t){var e=this.__data__=new Je(t);this.size=e.size}function dn(){this.__data__=new Je,this.size=0}function mn(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function gn(t){return this.__data__.get(t)}function yn(t){return this.__data__.has(t)}function vn(t,e){var n=this.__data__;if(n instanceof Je){var r=n.__data__;if(!$l||r.length<ot-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rn(r)}return n.set(t,e),this.size=n.size,this}function xn(t,e){var n=uh(t),r=!n&&sh(t),i=!n&&!r&&lh(t),o=!n&&!r&&!i&&mh(t),a=n||r||i||o,s=a?P(t.length,el):[],u=s.length;for(var c in t)!e&&!cl.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Oo(c,u))||s.push(c);return s}function bn(t){var e=t.length;return e?t[Zr(0,e-1)]:rt}function wn(t,e){return Ho(ji(t),jn(e,0,t.length))}function _n(t){return Ho(ji(t))}function Nn(t,e,n,r){return t===rt||Bs(t,ol[n])&&!cl.call(r,n)?e:t}function Mn(t,e,n){(n===rt||Bs(t[e],n))&&(n!==rt||e in t)||Tn(t,e,n)}function En(t,e,n){var r=t[e];cl.call(t,e)&&Bs(r,n)&&(n!==rt||e in t)||Tn(t,e,n)}function On(t,e){for(var n=t.length;n--;)if(Bs(t[n][0],e))return n;return-1}function An(t,e,n,r){return af(t,function(t,i,o){e(r,t,n(t),o)}),r}function Sn(t,e){return t&&zi(e,Pu(e),t)}function Tn(t,e,n){"__proto__"==e&&El?El(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function kn(t,e){for(var n=-1,r=null==t,i=e.length,o=Yc(i);++n<i;)o[n]=r?rt:Tu(t,e[n]);return o}function jn(t,e,n){return t===t&&(n!==rt&&(t=t<=n?t:n),e!==rt&&(t=t>=e?t:e)),t}function zn(t,e,n,r,i,o,a){var s;if(r&&(s=o?r(t,i,o,a):r(t)),s!==rt)return s;if(!Xs(t))return t;var c=uh(t);if(c){if(s=wo(t),!e)return ji(t,s)}else{var l=vf(t),f=l==$t||l==Ht;if(lh(t))return wi(t,e);if(l==Wt||l==Lt||f&&!o){if(s=_o(f?{}:t),!e)return Ri(t,Sn(s,t))}else{if(!qn[l])return o?t:{};s=No(t,l,zn,e)}}a||(a=new pn);var h=a.get(t);if(h)return h;a.set(t,s);var p=c?rt:(n?co:Pu)(t);return u(p||t,function(i,o){p&&(o=i,i=t[o]),En(s,o,zn(i,e,n,r,o,t,a))}),s}function Rn(t){var e=Pu(t);return function(n){return In(n,t,e)}}function In(t,e,n){var r=n.length;if(null==t)return!r;for(t=Qc(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===rt&&!(i in t)||!o(a))return!1}return!0}function Dn(t,e,n){if("function"!=typeof t)throw new nl(st);return wf(function(){t.apply(rt,n)},e)}function Fn(t,e,n,r){var i=-1,o=h,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=d(e,z(n))),r?(o=p,a=!1):e.length>=ot&&(o=I,a=!1,e=new ln(e));t:for(;++i<s;){var l=t[i],f=n?n(l):l;if(l=r||0!==l?l:0,a&&f===f){for(var m=c;m--;)if(e[m]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}function $n(t,e){var n=!0;return af(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Hn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===rt?a===a&&!uu(a):n(a,s)))var s=a,u=o}return u}function Wn(t,e,n,r){var i=t.length;for(n=du(n),n<0&&(n=-n>i?0:i+n),r=r===rt||r>i?i:du(r),r<0&&(r+=i),r=n>r?0:mu(r);n<r;)t[n++]=e;return t}function Yn(t,e){var n=[];return af(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Xn(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Eo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Xn(s,e-1,n,r,i):m(i,s):r||(i[i.length]=s)}return i}function Jn(t,e){return t&&uf(t,e,Pu)}function Qn(t,e){return t&&cf(t,e,Pu)}function tr(t,e){return f(e,function(e){return Ws(t[e])})}function sr(t,e){e=So(e,t)?[e]:xi(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Vo(e[n++])];return n&&n==r?t:rt}function fr(t,e,n){var r=e(t);return uh(t)?r:m(r,n(t))}function dr(t){return hl.call(t)}function mr(t,e){return t>e}function gr(t,e){return null!=t&&cl.call(t,e)}function yr(t,e){return null!=t&&e in Qc(t)}function vr(t,e,n){return t>=Bl(e,n)&&t<Il(e,n)}function xr(t,e,n){for(var r=n?p:h,i=t[0].length,o=t.length,a=o,s=Yc(o),u=1/0,c=[];a--;){var l=t[a];a&&e&&(l=d(l,z(e))),u=Bl(l.length,u),s[a]=!n&&(e||i>=120&&l.length>=120)?new ln(a&&l):rt}l=t[0];var f=-1,m=s[0];t:for(;++f<i&&c.length<u;){var g=l[f],y=e?e(g):g;if(g=n||0!==g?g:0,!(m?I(m,y):r(c,y,n))){for(a=o;--a;){var v=s[a];if(!(v?I(v,y):r(t[a],y,n)))continue t}m&&m.push(y),c.push(g)}}return c}function br(t,e,n,r){return Jn(t,function(t,i,o){e(r,n(t),i,o)}),r}function wr(t,e,n){So(e,t)||(e=xi(e),t=qo(t,e),e=pa(e));var r=null==t?t:t[Vo(e)];return null==r?rt:a(r,t,n);
}function _r(t){return Js(t)&&hl.call(t)==Lt}function Nr(t){return Js(t)&&hl.call(t)==ne}function Mr(t){return Js(t)&&hl.call(t)==Dt}function Er(t,e,n,r,i){return t===e||(null==t||null==e||!Xs(t)&&!Js(e)?t!==t&&e!==e:Or(t,e,Er,n,r,i))}function Or(t,e,n,r,i,o){var a=uh(t),s=uh(e),u=Ut,c=Ut;a||(u=vf(t),u=u==Lt?Wt:u),s||(c=vf(e),c=c==Lt?Wt:c);var l=u==Wt,f=c==Wt,h=u==c;if(h&&lh(t)){if(!lh(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new pn),a||mh(t)?oo(t,e,n,r,i,o):ao(t,e,u,n,r,i,o);if(!(i&_t)){var p=l&&cl.call(t,"__wrapped__"),d=f&&cl.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,g=d?e.value():e;return o||(o=new pn),n(m,g,r,i,o)}}return!!h&&(o||(o=new pn),so(t,e,n,r,i,o))}function Ar(t){return Js(t)&&vf(t)==Vt}function Sr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Qc(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],c=t[u],l=s[1];if(a&&s[2]){if(c===rt&&!(u in t))return!1}else{var f=new pn;if(r)var h=r(c,l,u,t,e,f);if(!(h===rt?Er(l,c,r,wt|_t,f):h))return!1}}return!0}function Tr(t){if(!Xs(t)||Co(t))return!1;var e=Ws(t)?dl:De;return e.test(Go(t))}function kr(t){return Xs(t)&&hl.call(t)==Xt}function Cr(t){return Js(t)&&vf(t)==Jt}function Pr(t){return Js(t)&&Zs(t.length)&&!!Un[hl.call(t)]}function jr(t){return"function"==typeof t?t:null==t?_c:"object"==typeof t?uh(t)?Ur(t[0],t[1]):Lr(t):kc(t)}function zr(t){if(!Po(t))return Rl(t);var e=[];for(var n in Qc(t))cl.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Rr(t){if(!Xs(t))return Lo(t);var e=Po(t),n=[];for(var r in t)("constructor"!=r||!e&&cl.call(t,r))&&n.push(r);return n}function Ir(t,e){return t<e}function Br(t,e){var n=-1,r=Ls(t)?Yc(t.length):[];return af(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Lr(t){var e=go(t);return 1==e.length&&e[0][2]?zo(e[0][0],e[0][1]):function(n){return n===t||Sr(n,t,e)}}function Ur(t,e){return So(t)&&jo(e)?zo(Vo(t),e):function(n){var r=Tu(n,t);return r===rt&&r===e?Cu(n,t):Er(e,r,rt,wt|_t)}}function qr(t,e,n,r,i){t!==e&&uf(e,function(o,a){if(Xs(o))i||(i=new pn),Dr(t,e,a,n,qr,r,i);else{var s=r?r(t[a],o,a+"",t,e,i):rt;s===rt&&(s=o),Mn(t,a,s)}},ju)}function Dr(t,e,n,r,i,o,a){var s=t[n],u=e[n],c=a.get(u);if(c)return void Mn(t,n,c);var l=o?o(s,u,n+"",t,e,a):rt,f=l===rt;if(f){var h=uh(u),p=!h&&lh(u),d=!h&&!p&&mh(u);l=u,h||p||d?uh(s)?l=s:Us(s)?l=ji(s):p?(f=!1,l=wi(u,!0)):d?(f=!1,l=Si(u,!0)):l=[]:ou(u)||sh(u)?(l=s,sh(s)?l=yu(s):(!Xs(s)||r&&Ws(s))&&(l=_o(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a["delete"](u)),Mn(t,n,l)}function Fr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Oo(e,n)?t[e]:rt}function $r(t,e,n){var r=-1;e=d(e.length?e:[_c],z(po()));var i=Br(t,function(t,n,i){var o=d(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return k(i,function(t,e){return ki(t,e,n)})}function Hr(t,e){return t=Qc(t),Vr(t,e,function(e,n){return n in t})}function Vr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=t[a];n(s,a)&&Tn(o,a,s)}return o}function Gr(t){return function(e){return sr(e,t)}}function Wr(t,e,n,r){var i=r?M:N,o=-1,a=e.length,s=t;for(t===e&&(e=ji(e)),n&&(s=d(t,z(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Nl.call(s,u,1),Nl.call(t,u,1);return t}function Yr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;if(Oo(i))Nl.call(t,i,1);else if(So(i,t))delete t[Vo(i)];else{var a=xi(i),s=qo(t,a);null!=s&&delete s[Vo(pa(a))]}}}return t}function Zr(t,e){return t+kl(ql()*(e-t+1))}function Xr(t,e,n,r){for(var i=-1,o=Il(Tl((e-t)/(n||1)),0),a=Yc(o);o--;)a[r?o:++i]=t,t+=n;return a}function Jr(t,e){var n="";if(!t||e<1||e>Ct)return n;do e%2&&(n+=t),e=kl(e/2),e&&(t+=t);while(e);return n}function Kr(t,e){return _f(Uo(t,e,_c),t+"")}function Qr(t){return bn(Vu(t))}function ti(t,e){var n=Vu(t);return Ho(n,jn(e,0,n.length))}function ei(t,e,n,r){if(!Xs(t))return t;e=So(e,t)?[e]:xi(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=Vo(e[i]),c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):rt,c===rt&&(c=Xs(l)?l:Oo(e[i+1])?[]:{})}En(s,u,c),s=s[u]}return t}function ni(t){return Ho(Vu(t))}function ri(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Yc(i);++r<i;)o[r]=t[r+e];return o}function ii(t,e){var n;return af(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function oi(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=It){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!uu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ai(t,e,_c,n)}function ai(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=null===e,u=uu(e),c=e===rt;i<o;){var l=kl((i+o)/2),f=n(t[l]),h=f!==rt,p=null===f,d=f===f,m=uu(f);if(a)var g=r||d;else g=c?d&&(r||h):s?d&&h&&(r||!p):u?d&&h&&!p&&(r||!m):!p&&!m&&(r?f<=e:f<e);g?i=l+1:o=l}return Bl(o,Rt)}function si(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Bs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ui(t){return"number"==typeof t?t:uu(t)?jt:+t}function ci(t){if("string"==typeof t)return t;if(uh(t))return d(t,ci)+"";if(uu(t))return rf?rf.call(t):"";var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function li(t,e,n){var r=-1,i=h,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=p;else if(o>=ot){var c=e?null:df(t);if(c)return Y(c);a=!1,i=I,u=new ln}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function fi(t,e){e=So(e,t)?[e]:xi(e),t=qo(t,e);var n=Vo(pa(e));return!(null!=t&&cl.call(t,n))||delete t[n]}function hi(t,e,n,r){return ei(t,e,n(sr(t,e)),r)}function pi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ri(t,r?0:o,r?o+1:i):ri(t,r?o+1:0,r?i:o)}function di(t,e){var n=t;return n instanceof x&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,m([t],e.args))},n)}function mi(t,e,n){for(var r=-1,i=t.length;++r<i;)var o=o?m(Fn(o,t[r],e,n),Fn(t[r],o,e,n)):t[r];return o&&o.length?li(o,e,n):[]}function gi(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:rt;n(a,t[r],s)}return a}function yi(t){return Us(t)?t:[]}function vi(t){return"function"==typeof t?t:_c}function xi(t){return uh(t)?t:Nf(t)}function bi(t,e,n){var r=t.length;return n=n===rt?r:n,!e&&n>=r?t:ri(t,e,n)}function wi(t,e){if(e)return t.slice();var n=t.length,r=vl?vl(n):new t.constructor(n);return t.copy(r),r}function _i(t){var e=new t.constructor(t.byteLength);return new yl(e).set(new yl(t)),e}function Ni(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Mi(t,e,n){var r=e?n(V(t),!0):V(t);return g(r,i,new t.constructor)}function Ei(t){var e=new t.constructor(t.source,Le.exec(t));return e.lastIndex=t.lastIndex,e}function Oi(t,e,n){var r=e?n(Y(t),!0):Y(t);return g(r,o,new t.constructor)}function Ai(t){return nf?Qc(nf.call(t)):{}}function Si(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ti(t,e){if(t!==e){var n=t!==rt,r=null===t,i=t===t,o=uu(t),a=e!==rt,s=null===e,u=e===e,c=uu(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function ki(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Ti(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}function Ci(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=Il(o-a,0),l=Yc(u+c),f=!r;++s<u;)l[s]=e[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[s++]=t[i++];return l}function Pi(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=Il(o-s,0),f=Yc(l+c),h=!r;++i<l;)f[i]=t[i];for(var p=i;++u<c;)f[p+u]=e[u];for(;++a<s;)(h||i<o)&&(f[p+n[a]]=t[i++]);return f}function ji(t,e){var n=-1,r=t.length;for(e||(e=Yc(r));++n<r;)e[n]=t[n];return e}function zi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):rt;u===rt&&(u=t[s]),i?Tn(n,s,u):En(n,s,u)}return n}function Ri(t,e){return zi(t,gf(t),e)}function Ii(t,e){return function(n,r){var i=uh(n)?s:An,o=e?e():{};return i(n,t,po(r,2),o)}}function Bi(t){return Kr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:rt,a=i>2?n[2]:rt;for(o=t.length>3&&"function"==typeof o?(i--,o):rt,a&&Ao(n[0],n[1],a)&&(o=i<3?rt:o,i=1),e=Qc(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Li(t,e){return function(n,r){if(null==n)return n;if(!Ls(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Qc(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Ui(t){return function(e,n,r){for(var i=-1,o=Qc(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function qi(t,e,n){function r(){var e=this&&this!==Zn&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&ft,o=$i(t);return r}function Di(t){return function(e){e=xu(e);var n=F(e)?Q(e):rt,r=n?n[0]:e.charAt(0),i=n?bi(n,1).join(""):e.slice(1);return r[t]()+i}}function Fi(t){return function(e){return g(yc(Ju(e).replace(Cn,"")),t,"")}}function $i(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=of(t.prototype),r=t.apply(n,e);return Xs(r)?r:n}}function Hi(t,e,n){function r(){for(var o=arguments.length,s=Yc(o),u=o,c=ho(r);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:W(s,c);if(o-=l.length,o<n)return eo(t,e,Wi,r.placeholder,rt,s,l,rt,rt,n-o);var f=this&&this!==Zn&&this instanceof r?i:t;return a(f,this,s)}var i=$i(t);return r}function Vi(t){return function(e,n,r){var i=Qc(e);if(!Ls(e)){var o=po(n,3);e=Pu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:rt}}function Gi(t){return uo(function(e){var n=e.length,i=n,o=r.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new nl(st);if(o&&!s&&"wrapper"==fo(a))var s=new r([],(!0))}for(i=s?i:n;++i<n;){a=e[i];var u=fo(a),c="wrapper"==u?mf(a):rt;s=c&&ko(c[0])&&c[1]==(vt|dt|gt|xt)&&!c[4].length&&1==c[9]?s[fo(c[0])].apply(s,c[3]):1==a.length&&ko(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&uh(r)&&r.length>=ot)return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Wi(t,e,n,r,i,o,a,s,u,c){function l(){for(var y=arguments.length,v=Yc(y),x=y;x--;)v[x]=arguments[x];if(d)var b=ho(l),w=U(v,b);if(r&&(v=Ci(v,r,i,d)),o&&(v=Pi(v,o,a,d)),y-=w,d&&y<c){var _=W(v,b);return eo(t,e,Wi,l.placeholder,n,v,_,s,u,c-y)}var N=h?n:this,M=p?N[t]:t;return y=v.length,s?v=Do(v,s):m&&y>1&&v.reverse(),f&&u<y&&(v.length=u),this&&this!==Zn&&this instanceof l&&(M=g||$i(M)),M.apply(N,v)}var f=e&vt,h=e&ft,p=e&ht,d=e&(dt|mt),m=e&bt,g=p?rt:$i(t);return l}function Yi(t,e){return function(n,r){return br(n,t,e(r),{})}}function Zi(t,e){return function(n,r){var i;if(n===rt&&r===rt)return e;if(n!==rt&&(i=n),r!==rt){if(i===rt)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=ui(n),r=ui(r)),i=t(n,r)}return i}}function Xi(t){return uo(function(e){return e=d(e,z(po())),Kr(function(n){var r=this;return t(e,function(t){return a(t,r,n)})})})}function Ji(t,e){e=e===rt?" ":ci(e);var n=e.length;if(n<2)return n?Jr(e,t):e;var r=Jr(e,Tl(t/K(e)));return F(e)?bi(Q(r),0,t).join(""):r.slice(0,t)}function Ki(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,l=r.length,f=Yc(l+u),h=this&&this!==Zn&&this instanceof i?s:t;++c<l;)f[c]=r[c];for(;u--;)f[c++]=arguments[++e];return a(h,o?n:this,f)}var o=e&ft,s=$i(t);return i}function Qi(t){return function(e,n,r){return r&&"number"!=typeof r&&Ao(e,n,r)&&(n=r=rt),e=pu(e),n===rt?(n=e,e=0):n=pu(n),r=r===rt?e<n?1:-1:pu(r),Xr(e,n,r,t)}}function to(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=gu(e),n=gu(n)),t(e,n)}}function eo(t,e,n,r,i,o,a,s,u,c){var l=e&dt,f=l?a:rt,h=l?rt:a,p=l?o:rt,d=l?rt:o;e|=l?gt:yt,e&=~(l?yt:gt),e&pt||(e&=~(ft|ht));var m=[t,e,i,p,f,d,h,s,u,c],g=n.apply(rt,m);return ko(t)&&bf(g,m),g.placeholder=r,Fo(g,t,e)}function no(t){var e=Kc[t];return function(t,n){if(t=gu(t),n=Bl(du(n),292)){var r=(xu(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(xu(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function ro(t){return function(e){var n=vf(e);return n==Vt?V(e):n==Jt?Z(e):j(e,t(e))}}function io(t,e,n,r,i,o,a,s){var u=e&ht;if(!u&&"function"!=typeof t)throw new nl(st);var c=r?r.length:0;if(c||(e&=~(gt|yt),r=i=rt),a=a===rt?a:Il(du(a),0),s=s===rt?s:du(s),c-=i?i.length:0,e&yt){var l=r,f=i;r=i=rt}var h=u?rt:mf(t),p=[t,e,n,r,i,l,f,o,a,s];if(h&&Io(p,h),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=null==p[9]?u?0:t.length:Il(p[9]-c,0),!s&&e&(dt|mt)&&(e&=~(dt|mt)),e&&e!=ft)d=e==dt||e==mt?Hi(t,e,s):e!=gt&&e!=(ft|gt)||i.length?Wi.apply(rt,p):Ki(t,e,n,r);else var d=qi(t,e,n);var m=h?lf:bf;return Fo(m(d,p),t,e)}function oo(t,e,n,r,i,o){var a=i&_t,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=i&wt?new ln:rt;for(o.set(t,e),o.set(e,t);++l<s;){var p=t[l],d=e[l];if(r)var m=a?r(d,p,l,e,t,o):r(p,d,l,t,e,o);if(m!==rt){if(m)continue;f=!1;break}if(h){if(!v(e,function(t,e){if(!I(h,e)&&(p===t||n(p,t,r,i,o)))return h.push(e)})){f=!1;break}}else if(p!==d&&!n(p,d,r,i,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function ao(t,e,n,r,i,o,a){switch(n){case re:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ne:return!(t.byteLength!=e.byteLength||!r(new yl(t),new yl(e)));case qt:case Dt:case Gt:return Bs(+t,+e);case Ft:return t.name==e.name&&t.message==e.message;case Xt:case Kt:return t==e+"";case Vt:var s=V;case Jt:var u=o&_t;if(s||(s=Y),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;o|=wt,a.set(t,e);var l=oo(s(t),s(e),r,i,o,a);return a["delete"](t),l;case Qt:if(nf)return nf.call(t)==nf.call(e)}return!1}function so(t,e,n,r,i,o){var a=i&_t,s=Pu(t),u=s.length,c=Pu(e),l=c.length;if(u!=l&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in e:cl.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++f<u;){h=s[f];var g=t[h],y=e[h];if(r)var v=a?r(y,g,h,e,t,o):r(g,y,h,t,e,o);if(!(v===rt?g===y||n(g,y,r,i,o):v)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o["delete"](t),o["delete"](e),d}function uo(t){return _f(Uo(t,rt,oa),t+"")}function co(t){return fr(t,Pu,gf)}function lo(t){return fr(t,ju,yf)}function fo(t){for(var e=t.name+"",n=Zl[e],r=cl.call(Zl,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function ho(t){var n=cl.call(e,"placeholder")?e:t;return n.placeholder}function po(){var t=e.iteratee||Nc;return t=t===Nc?jr:t,arguments.length?t(arguments[0],arguments[1]):t}function mo(t,e){var n=t.__data__;return To(e)?n["string"==typeof e?"string":"hash"]:n.map}function go(t){for(var e=Pu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jo(i)]}return e}function yo(t,e){var n=D(t,e);return Tr(n)?n:rt}function vo(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Bl(e,t+a);break;case"takeRight":t=Il(t,e-a)}}return{start:t,end:e}}function xo(t){var e=t.match(je);return e?e[1].split(ze):[]}function bo(t,e,n){e=So(e,t)?[e]:xi(e);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Vo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t?t.length:0,!!i&&Zs(i)&&Oo(a,i)&&(uh(t)||sh(t)))}function wo(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&cl.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function _o(t){return"function"!=typeof t.constructor||Po(t)?{}:of(xl(t))}function No(t,e,n,r){var i=t.constructor;switch(e){case ne:return _i(t);case qt:case Dt:return new i((+t));case re:return Ni(t,r);case ie:case oe:case ae:case se:case ue:case ce:case le:case fe:case he:return Si(t,r);case Vt:return Mi(t,r,n);case Gt:case Kt:return new i(t);case Xt:return Ei(t);case Jt:return Oi(t,r,n);case Qt:return Ai(t)}}function Mo(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Pe,"{\n/* [wrapped with "+e+"] */\n")}function Eo(t){return uh(t)||sh(t)||!!(Ml&&t&&t[Ml])}function Oo(t,e){return e=null==e?Ct:e,!!e&&("number"==typeof t||$e.test(t))&&t>-1&&t%1==0&&t<e}function Ao(t,e,n){if(!Xs(n))return!1;var r=typeof e;return!!("number"==r?Ls(n)&&Oo(e,n.length):"string"==r&&e in n)&&Bs(n[e],t)}function So(t,e){if(uh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!uu(t))||(Me.test(t)||!Ne.test(t)||null!=e&&t in Qc(e))}function To(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ko(t){var n=fo(t),r=e[n];if("function"!=typeof r||!(n in x.prototype))return!1;if(t===r)return!0;var i=mf(r);return!!i&&t===i[0]}function Co(t){return!!sl&&sl in t}function Po(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||ol;return t===n}function jo(t){return t===t&&!Xs(t)}function zo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==rt||t in Qc(n)))}}function Ro(t){var e=Ns(t,function(t){return n.size===ct&&n.clear(),t}),n=e.cache;return e}function Io(t,e){var n=t[1],r=e[1],i=n|r,o=i<(ft|ht|vt),a=r==vt&&n==dt||r==vt&&n==xt&&t[7].length<=e[8]||r==(vt|xt)&&e[7].length<=e[8]&&n==dt;if(!o&&!a)return t;r&ft&&(t[2]=e[2],i|=n&ft?0:pt);var s=e[3];if(s){var u=t[3];t[3]=u?Ci(u,s,e[4]):s,t[4]=u?W(t[3],lt):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Pi(u,s,e[6]):s,t[6]=u?W(t[5],lt):e[6]),s=e[7],s&&(t[7]=s),r&vt&&(t[8]=null==t[8]?e[8]:Bl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Bo(t,e,n,r,i,o){return Xs(t)&&Xs(e)&&(o.set(e,t),qr(t,e,rt,Bo,o),o["delete"](e)),t}function Lo(t){var e=[];if(null!=t)for(var n in Qc(t))e.push(n);return e}function Uo(t,e,n){return e=Il(e===rt?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Il(r.length-e,0),s=Yc(o);++i<o;)s[i]=r[e+i];i=-1;for(var u=Yc(e+1);++i<e;)u[i]=r[i];return u[e]=n(s),a(t,this,u)}}function qo(t,e){return 1==e.length?t:sr(t,ri(e,0,-1))}function Do(t,e){for(var n=t.length,r=Bl(e.length,n),i=ji(t);r--;){var o=e[r];t[r]=Oo(o,n)?i[o]:rt}return t}function Fo(t,e,n){var r=e+"";return _f(t,Mo(r,Wo(xo(r),n)))}function $o(t){var e=0,n=0;return function(){var r=Ll(),i=Ot-(r-n);if(n=r,i>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(rt,arguments)}}function Ho(t,e){var n=-1,r=t.length,i=r-1;for(e=e===rt?r:e;++n<e;){var o=Zr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Vo(t){if("string"==typeof t||uu(t))return t;var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function Go(t){if(null!=t){try{return ul.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Wo(t,e){return u(Bt,function(n){var r="_."+n[0];e&n[1]&&!h(t,r)&&t.push(r)}),t.sort()}function Yo(t){if(t instanceof x)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=ji(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Zo(t,e,n){e=(n?Ao(t,e,n):e===rt)?1:Il(du(e),0);var r=t?t.length:0;if(!r||e<1)return[];for(var i=0,o=0,a=Yc(Tl(r/e));i<r;)a[o++]=ri(t,i,i+=e);return a}function Xo(t){for(var e=-1,n=t?t.length:0,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function Jo(){var t=arguments.length;if(!t)return[];for(var e=Yc(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return m(uh(n)?ji(n):[n],Xn(e,1))}function Ko(t,e,n){var r=t?t.length:0;return r?(e=n||e===rt?1:du(e),ri(t,e<0?0:e,r)):[]}function Qo(t,e,n){var r=t?t.length:0;return r?(e=n||e===rt?1:du(e),e=r-e,ri(t,0,e<0?0:e)):[]}function ta(t,e){return t&&t.length?pi(t,po(e,3),!0,!0):[]}function ea(t,e){return t&&t.length?pi(t,po(e,3),!0):[]}function na(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Ao(t,e,n)&&(n=0,r=i),Wn(t,e,n,r)):[]}function ra(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=null==n?0:du(n);return i<0&&(i=Il(r+i,0)),_(t,po(e,3),i)}function ia(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r-1;return n!==rt&&(i=du(n),i=n<0?Il(r+i,0):Bl(i,r-1)),_(t,po(e,3),i,!0)}function oa(t){var e=t?t.length:0;return e?Xn(t,1):[]}function aa(t){var e=t?t.length:0;return e?Xn(t,kt):[]}function sa(t,e){var n=t?t.length:0;return n?(e=e===rt?1:du(e),Xn(t,e)):[]}function ua(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function ca(t){return t&&t.length?t[0]:rt}function la(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=null==n?0:du(n);return i<0&&(i=Il(r+i,0)),N(t,e,i)}function fa(t){var e=t?t.length:0;return e?ri(t,0,-1):[]}function ha(t,e){return t?zl.call(t,e):""}function pa(t){var e=t?t.length:0;return e?t[e-1]:rt}function da(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;return n!==rt&&(i=du(n),i=i<0?Il(r+i,0):Bl(i,r-1)),e===e?J(t,e,i):_(t,E,i,!0)}function ma(t,e){return t&&t.length?Fr(t,du(e)):rt}function ga(t,e){return t&&t.length&&e&&e.length?Wr(t,e):t}function ya(t,e,n){return t&&t.length&&e&&e.length?Wr(t,e,po(n,2)):t}function va(t,e,n){return t&&t.length&&e&&e.length?Wr(t,e,rt,n):t}function xa(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=po(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Yr(t,i),n}function ba(t){return t?Dl.call(t):t}function wa(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Ao(t,e,n)?(e=0,n=r):(e=null==e?0:du(e),n=n===rt?r:du(n)),ri(t,e,n)):[]}function _a(t,e){return oi(t,e)}function Na(t,e,n){return ai(t,e,po(n,2))}function Ma(t,e){var n=t?t.length:0;if(n){var r=oi(t,e);if(r<n&&Bs(t[r],e))return r}return-1}function Ea(t,e){return oi(t,e,!0)}function Oa(t,e,n){return ai(t,e,po(n,2),!0)}function Aa(t,e){var n=t?t.length:0;if(n){var r=oi(t,e,!0)-1;if(Bs(t[r],e))return r}return-1}function Sa(t){return t&&t.length?si(t):[]}function Ta(t,e){return t&&t.length?si(t,po(e,2)):[]}function ka(t){var e=t?t.length:0;return e?ri(t,1,e):[]}function Ca(t,e,n){return t&&t.length?(e=n||e===rt?1:du(e),ri(t,0,e<0?0:e)):[]}function Pa(t,e,n){var r=t?t.length:0;return r?(e=n||e===rt?1:du(e),e=r-e,ri(t,e<0?0:e,r)):[]}function ja(t,e){return t&&t.length?pi(t,po(e,3),!1,!0):[]}function za(t,e){return t&&t.length?pi(t,po(e,3)):[]}function Ra(t){return t&&t.length?li(t):[]}function Ia(t,e){return t&&t.length?li(t,po(e,2)):[]}function Ba(t,e){return t&&t.length?li(t,rt,e):[]}function La(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){if(Us(t))return e=Il(t.length,e),!0}),P(e,function(e){return d(t,A(e))})}function Ua(t,e){if(!t||!t.length)return[];var n=La(t);return null==e?n:d(n,function(t){return a(e,rt,t)})}function qa(t,e){return gi(t||[],e||[],En)}function Da(t,e){return gi(t||[],e||[],ei)}function Fa(t){var n=e(t);return n.__chain__=!0,n}function $a(t,e){return e(t),t}function Ha(t,e){return e(t)}function Va(){return Fa(this)}function Ga(){return new r(this.value(),this.__chain__)}function Wa(){this.__values__===rt&&(this.__values__=hu(this.value()));var t=this.__index__>=this.__values__.length,e=t?rt:this.__values__[this.__index__++];return{done:t,value:e}}function Ya(){return this}function Za(t){for(var e,r=this;r instanceof n;){var i=Yo(r);i.__index__=0,i.__values__=rt,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Xa(){var t=this.__wrapped__;if(t instanceof x){var e=t;return this.__actions__.length&&(e=new x(this)),e=e.reverse(),e.__actions__.push({func:Ha,args:[ba],thisArg:rt}),new r(e,this.__chain__)}return this.thru(ba)}function Ja(){return di(this.__wrapped__,this.__actions__)}function Ka(t,e,n){var r=uh(t)?l:$n;return n&&Ao(t,e,n)&&(e=rt),r(t,po(e,3))}function Qa(t,e){var n=uh(t)?f:Yn;return n(t,po(e,3))}function ts(t,e){return Xn(as(t,e),1)}function es(t,e){return Xn(as(t,e),kt)}function ns(t,e,n){return n=n===rt?1:du(n),Xn(as(t,e),n)}function rs(t,e){var n=uh(t)?u:af;return n(t,po(e,3))}function is(t,e){var n=uh(t)?c:sf;return n(t,po(e,3))}function os(t,e,n,r){t=Ls(t)?t:Vu(t),n=n&&!r?du(n):0;var i=t.length;return n<0&&(n=Il(i+n,0)),su(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&N(t,e,n)>-1}function as(t,e){var n=uh(t)?d:Br;return n(t,po(e,3))}function ss(t,e,n,r){return null==t?[]:(uh(e)||(e=null==e?[]:[e]),n=r?rt:n,uh(n)||(n=null==n?[]:[n]),$r(t,e,n))}function us(t,e,n){var r=uh(t)?g:T,i=arguments.length<3;return r(t,po(e,4),n,i,af)}function cs(t,e,n){var r=uh(t)?y:T,i=arguments.length<3;return r(t,po(e,4),n,i,sf)}function ls(t,e){var n=uh(t)?f:Yn;return n(t,Ms(po(e,3)))}function fs(t){var e=uh(t)?bn:Qr;return e(t)}function hs(t,e,n){e=(n?Ao(t,e,n):e===rt)?1:du(e);var r=uh(t)?wn:ti;return r(t,e)}function ps(t){var e=uh(t)?_n:ni;return e(t)}function ds(t){if(null==t)return 0;if(Ls(t))return su(t)?K(t):t.length;var e=vf(t);return e==Vt||e==Jt?t.size:zr(t).length}function ms(t,e,n){var r=uh(t)?v:ii;return n&&Ao(t,e,n)&&(e=rt),r(t,po(e,3))}function gs(t,e){if("function"!=typeof e)throw new nl(st);return t=du(t),function(){if(--t<1)return e.apply(this,arguments)}}function ys(t,e,n){return e=n?rt:e,e=t&&null==e?t.length:e,io(t,vt,rt,rt,rt,rt,e)}function vs(t,e){var n;if("function"!=typeof e)throw new nl(st);return t=du(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=rt),n}}function xs(t,e,n){e=n?rt:e;var r=io(t,dt,rt,rt,rt,rt,rt,e);return r.placeholder=xs.placeholder,r}function bs(t,e,n){e=n?rt:e;var r=io(t,mt,rt,rt,rt,rt,rt,e);return r.placeholder=bs.placeholder,r}function ws(t,e,n){function r(e){var n=h,r=p;return h=p=rt,v=e,m=t.apply(r,n)}function i(t){return v=t,g=wf(s,e),x?r(t):m}function o(t){var n=t-y,r=t-v,i=e-n;return b?Bl(i,d-r):i}function a(t){var n=t-y,r=t-v;return y===rt||n>=e||n<0||b&&r>=d}function s(){var t=Xf();return a(t)?u(t):void(g=wf(s,o(t)))}function u(t){return g=rt,w&&h?r(t):(h=p=rt,m)}function c(){g!==rt&&pf(g),v=0,h=y=p=g=rt}function l(){return g===rt?m:u(Xf())}function f(){var t=Xf(),n=a(t);if(h=arguments,p=this,y=t,n){if(g===rt)return i(y);if(b)return g=wf(s,e),r(y)}return g===rt&&(g=wf(s,e)),m}var h,p,d,m,g,y,v=0,x=!1,b=!1,w=!0;if("function"!=typeof t)throw new nl(st);return e=gu(e)||0,Xs(n)&&(x=!!n.leading,b="maxWait"in n,d=b?Il(gu(n.maxWait)||0,e):d,w="trailing"in n?!!n.trailing:w),f.cancel=c,f.flush=l,f}function _s(t){return io(t,bt)}function Ns(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new nl(st);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ns.Cache||rn),n}function Ms(t){if("function"!=typeof t)throw new nl(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Es(t){return vs(2,t)}function Os(t,e){if("function"!=typeof t)throw new nl(st);return e=e===rt?e:du(e),Kr(t,e)}function As(t,e){if("function"!=typeof t)throw new nl(st);return e=e===rt?0:Il(du(e),0),Kr(function(n){var r=n[e],i=bi(n,0,e);return r&&m(i,r),a(t,this,i)})}function Ss(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new nl(st);return Xs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ws(t,e,{leading:r,maxWait:e,trailing:i})}function Ts(t){return ys(t,1)}function ks(t,e){return e=null==e?_c:e,nh(e,t)}function Cs(){if(!arguments.length)return[];var t=arguments[0];return uh(t)?t:[t]}function Ps(t){return zn(t,!1,!0)}function js(t,e){return zn(t,!1,!0,e)}function zs(t){return zn(t,!0,!0)}function Rs(t,e){return zn(t,!0,!0,e)}function Is(t,e){return null==e||In(t,e,Pu(e))}function Bs(t,e){return t===e||t!==t&&e!==e}function Ls(t){return null!=t&&Zs(t.length)&&!Ws(t)}function Us(t){return Js(t)&&Ls(t)}function qs(t){return t===!0||t===!1||Js(t)&&hl.call(t)==qt}function Ds(t){return null!=t&&1===t.nodeType&&Js(t)&&!ou(t)}function Fs(t){if(Ls(t)&&(uh(t)||"string"==typeof t||"function"==typeof t.splice||lh(t)||mh(t)||sh(t)))return!t.length;var e=vf(t);if(e==Vt||e==Jt)return!t.size;if(Po(t))return!zr(t).length;for(var n in t)if(cl.call(t,n))return!1;return!0}function $s(t,e){return Er(t,e)}function Hs(t,e,n){n="function"==typeof n?n:rt;var r=n?n(t,e):rt;return r===rt?Er(t,e,n):!!r}function Vs(t){return!!Js(t)&&(hl.call(t)==Ft||"string"==typeof t.message&&"string"==typeof t.name)}function Gs(t){return"number"==typeof t&&jl(t)}function Ws(t){var e=Xs(t)?hl.call(t):"";return e==$t||e==Ht||e==Zt}function Ys(t){return"number"==typeof t&&t==du(t)}function Zs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ct}function Xs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Js(t){return null!=t&&"object"==typeof t}function Ks(t,e){return t===e||Sr(t,e,go(e))}function Qs(t,e,n){return n="function"==typeof n?n:rt,Sr(t,e,go(e),n)}function tu(t){return iu(t)&&t!=+t}function eu(t){if(xf(t))throw new Xc(at);return Tr(t)}function nu(t){return null===t}function ru(t){return null==t}function iu(t){return"number"==typeof t||Js(t)&&hl.call(t)==Gt}function ou(t){if(!Js(t)||hl.call(t)!=Wt)return!1;var e=xl(t);if(null===e)return!0;var n=cl.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ul.call(n)==fl}function au(t){return Ys(t)&&t>=-Ct&&t<=Ct}function su(t){return"string"==typeof t||!uh(t)&&Js(t)&&hl.call(t)==Kt}function uu(t){return"symbol"==typeof t||Js(t)&&hl.call(t)==Qt}function cu(t){return t===rt}function lu(t){return Js(t)&&vf(t)==te}function fu(t){return Js(t)&&hl.call(t)==ee}function hu(t){if(!t)return[];if(Ls(t))return su(t)?Q(t):ji(t);if(bl&&t[bl])return H(t[bl]());var e=vf(t),n=e==Vt?V:e==Jt?Y:Vu;return n(t)}function pu(t){if(!t)return 0===t?t:0;if(t=gu(t),t===kt||t===-kt){var e=t<0?-1:1;return e*Pt}return t===t?t:0}function du(t){var e=pu(t),n=e%1;return e===e?n?e-n:e:0}function mu(t){return t?jn(du(t),0,zt):0}function gu(t){if("number"==typeof t)return t;if(uu(t))return jt;if(Xs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Xs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Te,"");var n=qe.test(t);return n||Fe.test(t)?Gn(t.slice(2),n?2:8):Ue.test(t)?jt:+t}function yu(t){return zi(t,ju(t))}function vu(t){return jn(du(t),-Ct,Ct)}function xu(t){return null==t?"":ci(t)}function bu(t,e){var n=of(t);return e?Sn(n,e):n}function wu(t,e){return w(t,po(e,3),Jn)}function _u(t,e){return w(t,po(e,3),Qn)}function Nu(t,e){return null==t?t:uf(t,po(e,3),ju)}function Mu(t,e){return null==t?t:cf(t,po(e,3),ju)}function Eu(t,e){return t&&Jn(t,po(e,3))}function Ou(t,e){return t&&Qn(t,po(e,3))}function Au(t){return null==t?[]:tr(t,Pu(t))}function Su(t){return null==t?[]:tr(t,ju(t))}function Tu(t,e,n){var r=null==t?rt:sr(t,e);return r===rt?n:r}function ku(t,e){return null!=t&&bo(t,e,gr)}function Cu(t,e){return null!=t&&bo(t,e,yr)}function Pu(t){return Ls(t)?xn(t):zr(t)}function ju(t){return Ls(t)?xn(t,!0):Rr(t)}function zu(t,e){var n={};return e=po(e,3),Jn(t,function(t,r,i){Tn(n,e(t,r,i),t)}),n}function Ru(t,e){var n={};return e=po(e,3),Jn(t,function(t,r,i){Tn(n,r,e(t,r,i))}),n}function Iu(t,e){return Bu(t,Ms(po(e)))}function Bu(t,e){return null==t?{}:Vr(t,lo(t),po(e))}function Lu(t,e,n){e=So(e,t)?[e]:xi(e);var r=-1,i=e.length;for(i||(t=rt,i=1);++r<i;){var o=null==t?rt:t[Vo(e[r])];o===rt&&(r=i,o=n),t=Ws(o)?o.call(t):o}return t}function Uu(t,e,n){return null==t?t:ei(t,e,n)}function qu(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:ei(t,e,n,r)}function Du(t,e,n){var r=uh(t),i=r||lh(t)||mh(t);if(e=po(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Xs(t)&&Ws(o)?of(xl(t)):{}}return(i?u:Jn)(t,function(t,r,i){return e(n,t,r,i)}),n}function Fu(t,e){return null==t||fi(t,e)}function $u(t,e,n){return null==t?t:hi(t,e,vi(n))}function Hu(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:hi(t,e,vi(n),r)}function Vu(t){return t?R(t,Pu(t)):[]}function Gu(t){return null==t?[]:R(t,ju(t))}function Wu(t,e,n){return n===rt&&(n=e,e=rt),n!==rt&&(n=gu(n),
n=n===n?n:0),e!==rt&&(e=gu(e),e=e===e?e:0),jn(gu(t),e,n)}function Yu(t,e,n){return e=pu(e),n===rt?(n=e,e=0):n=pu(n),t=gu(t),vr(t,e,n)}function Zu(t,e,n){if(n&&"boolean"!=typeof n&&Ao(t,e,n)&&(e=n=rt),n===rt&&("boolean"==typeof e?(n=e,e=rt):"boolean"==typeof t&&(n=t,t=rt)),t===rt&&e===rt?(t=0,e=1):(t=pu(t),e===rt?(e=t,t=0):e=pu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ql();return Bl(t+i*(e-t+Vn("1e-"+((i+"").length-1))),e)}return Zr(t,e)}function Xu(t){return Dh(xu(t).toLowerCase())}function Ju(t){return t=xu(t),t&&t.replace(He,ur).replace(Pn,"")}function Ku(t,e,n){t=xu(t),e=ci(e);var r=t.length;n=n===rt?r:jn(du(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function Qu(t){return t=xu(t),t&&xe.test(t)?t.replace(ye,cr):t}function tc(t){return t=xu(t),t&&Se.test(t)?t.replace(Ae,"\\$&"):t}function ec(t,e,n){t=xu(t),e=du(e);var r=e?K(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ji(kl(i),n)+t+Ji(Tl(i),n)}function nc(t,e,n){t=xu(t),e=du(e);var r=e?K(t):0;return e&&r<e?t+Ji(e-r,n):t}function rc(t,e,n){t=xu(t),e=du(e);var r=e?K(t):0;return e&&r<e?Ji(e-r,n)+t:t}function ic(t,e,n){return n||null==e?e=0:e&&(e=+e),Ul(xu(t).replace(ke,""),e||0)}function oc(t,e,n){return e=(n?Ao(t,e,n):e===rt)?1:du(e),Jr(xu(t),e)}function ac(){var t=arguments,e=xu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function sc(t,e,n){return n&&"number"!=typeof n&&Ao(t,e,n)&&(e=n=rt),(n=n===rt?zt:n>>>0)?(t=xu(t),t&&("string"==typeof e||null!=e&&!ph(e))&&(e=ci(e),!e&&F(t))?bi(Q(t),0,n):t.split(e,n)):[]}function uc(t,e,n){return t=xu(t),n=jn(du(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e}function cc(t,n,r){var i=e.templateSettings;r&&Ao(t,n,r)&&(n=rt),t=xu(t),n=bh({},n,i,Nn);var o,a,s=bh({},n.imports,i.imports,Nn),u=Pu(s),c=R(s,u),l=0,f=n.interpolate||Ve,h="__p += '",p=tl((n.escape||Ve).source+"|"+f.source+"|"+(f===_e?Be:Ve).source+"|"+(n.evaluate||Ve).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ln+"]")+"\n";t.replace(p,function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(l,u).replace(Ge,q),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),h+="';\n";var m=n.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(pe,""):h).replace(de,"$1").replace(me,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Fh(function(){return Jc(u,d+"return "+h).apply(rt,c)});if(g.source=h,Vs(g))throw g;return g}function lc(t){return xu(t).toLowerCase()}function fc(t){return xu(t).toUpperCase()}function hc(t,e,n){if(t=xu(t),t&&(n||e===rt))return t.replace(Te,"");if(!t||!(e=ci(e)))return t;var r=Q(t),i=Q(e),o=B(r,i),a=L(r,i)+1;return bi(r,o,a).join("")}function pc(t,e,n){if(t=xu(t),t&&(n||e===rt))return t.replace(Ce,"");if(!t||!(e=ci(e)))return t;var r=Q(t),i=L(r,Q(e))+1;return bi(r,0,i).join("")}function dc(t,e,n){if(t=xu(t),t&&(n||e===rt))return t.replace(ke,"");if(!t||!(e=ci(e)))return t;var r=Q(t),i=B(r,Q(e));return bi(r,i).join("")}function mc(t,e){var n=Nt,r=Mt;if(Xs(e)){var i="separator"in e?e.separator:i;n="length"in e?du(e.length):n,r="omission"in e?ci(e.omission):r}t=xu(t);var o=t.length;if(F(t)){var a=Q(t);o=a.length}if(n>=o)return t;var s=n-K(r);if(s<1)return r;var u=a?bi(a,0,s).join(""):t.slice(0,s);if(i===rt)return u+r;if(a&&(s+=u.length-s),ph(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=tl(i.source,xu(Le.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,f===rt?s:f)}}else if(t.indexOf(ci(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function gc(t){return t=xu(t),t&&ve.test(t)?t.replace(ge,lr):t}function yc(t,e,n){return t=xu(t),e=n?rt:e,e===rt?$(t)?nt(t):b(t):t.match(e)||[]}function vc(t){var e=t?t.length:0,n=po();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new nl(st);return[n(t[0]),t[1]]}):[],Kr(function(n){for(var r=-1;++r<e;){var i=t[r];if(a(i[0],this,n))return a(i[1],this,n)}})}function xc(t){return Rn(zn(t,!0))}function bc(t){return function(){return t}}function wc(t,e){return null==t||t!==t?e:t}function _c(t){return t}function Nc(t){return jr("function"==typeof t?t:zn(t,!0))}function Mc(t){return Lr(zn(t,!0))}function Ec(t,e){return Ur(t,zn(e,!0))}function Oc(t,e,n){var r=Pu(e),i=tr(e,r);null!=n||Xs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=tr(e,Pu(e)));var o=!(Xs(n)&&"chain"in n&&!n.chain),a=Ws(t);return u(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ji(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,m([this.value()],arguments))})}),t}function Ac(){return Zn._===this&&(Zn._=pl),this}function Sc(){}function Tc(t){return t=du(t),Kr(function(e){return Fr(e,t)})}function kc(t){return So(t)?A(Vo(t)):Gr(t)}function Cc(t){return function(e){return null==t?rt:sr(t,e)}}function Pc(){return[]}function jc(){return!1}function zc(){return{}}function Rc(){return""}function Ic(){return!0}function Bc(t,e){if(t=du(t),t<1||t>Ct)return[];var n=zt,r=Bl(t,zt);e=po(e),t-=zt;for(var i=P(r,e);++n<t;)e(n);return i}function Lc(t){return uh(t)?d(t,Vo):uu(t)?[t]:ji(Nf(t))}function Uc(t){var e=++ll;return xu(t)+e}function qc(t){return t&&t.length?Hn(t,_c,mr):rt}function Dc(t,e){return t&&t.length?Hn(t,po(e,2),mr):rt}function Fc(t){return O(t,_c)}function $c(t,e){return O(t,po(e,2))}function Hc(t){return t&&t.length?Hn(t,_c,Ir):rt}function Vc(t,e){return t&&t.length?Hn(t,po(e,2),Ir):rt}function Gc(t){return t&&t.length?C(t,_c):0}function Wc(t,e){return t&&t.length?C(t,po(e,2)):0}t=t?hr.defaults(Zn.Object(),t,hr.pick(Zn,Bn)):Zn;var Yc=t.Array,Zc=t.Date,Xc=t.Error,Jc=t.Function,Kc=t.Math,Qc=t.Object,tl=t.RegExp,el=t.String,nl=t.TypeError,rl=Yc.prototype,il=Jc.prototype,ol=Qc.prototype,al=t["__core-js_shared__"],sl=function(){var t=/[^.]+$/.exec(al&&al.keys&&al.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ul=il.toString,cl=ol.hasOwnProperty,ll=0,fl=ul.call(Qc),hl=ol.toString,pl=Zn._,dl=tl("^"+ul.call(cl).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ml=Kn?t.Buffer:rt,gl=t.Symbol,yl=t.Uint8Array,vl=ml?ml.allocUnsafe:rt,xl=G(Qc.getPrototypeOf,Qc),bl=gl?gl.iterator:rt,wl=Qc.create,_l=ol.propertyIsEnumerable,Nl=rl.splice,Ml=gl?gl.isConcatSpreadable:rt,El=function(){try{var t=yo(Qc,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ol=t.clearTimeout!==Zn.clearTimeout&&t.clearTimeout,Al=Zc&&Zc.now!==Zn.Date.now&&Zc.now,Sl=t.setTimeout!==Zn.setTimeout&&t.setTimeout,Tl=Kc.ceil,kl=Kc.floor,Cl=Qc.getOwnPropertySymbols,Pl=ml?ml.isBuffer:rt,jl=t.isFinite,zl=rl.join,Rl=G(Qc.keys,Qc),Il=Kc.max,Bl=Kc.min,Ll=Zc.now,Ul=t.parseInt,ql=Kc.random,Dl=rl.reverse,Fl=yo(t,"DataView"),$l=yo(t,"Map"),Hl=yo(t,"Promise"),Vl=yo(t,"Set"),Gl=yo(t,"WeakMap"),Wl=yo(Qc,"create"),Yl=Gl&&new Gl,Zl={},Xl=Go(Fl),Jl=Go($l),Kl=Go(Hl),Ql=Go(Vl),tf=Go(Gl),ef=gl?gl.prototype:rt,nf=ef?ef.valueOf:rt,rf=ef?ef.toString:rt,of=function(){function t(){}return function(e){if(!Xs(e))return{};if(wl)return wl(e);t.prototype=e;var n=new t;return t.prototype=rt,n}}();e.templateSettings={escape:be,evaluate:we,interpolate:_e,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,r.prototype=of(n.prototype),r.prototype.constructor=r,x.prototype=of(n.prototype),x.prototype.constructor=x,et.prototype.clear=Re,et.prototype["delete"]=We,et.prototype.get=Ye,et.prototype.has=Ze,et.prototype.set=Xe,Je.prototype.clear=Ke,Je.prototype["delete"]=Qe,Je.prototype.get=tn,Je.prototype.has=en,Je.prototype.set=nn,rn.prototype.clear=on,rn.prototype["delete"]=an,rn.prototype.get=sn,rn.prototype.has=un,rn.prototype.set=cn,ln.prototype.add=ln.prototype.push=fn,ln.prototype.has=hn,pn.prototype.clear=dn,pn.prototype["delete"]=mn,pn.prototype.get=gn,pn.prototype.has=yn,pn.prototype.set=vn;var af=Li(Jn),sf=Li(Qn,!0),uf=Ui(),cf=Ui(!0),lf=Yl?function(t,e){return Yl.set(t,e),t}:_c,ff=El?function(t,e){return El(t,"toString",{configurable:!0,enumerable:!1,value:bc(e),writable:!0})}:_c,hf=Kr,pf=Ol||function(t){return Zn.clearTimeout(t)},df=Vl&&1/Y(new Vl([,-0]))[1]==kt?function(t){return new Vl(t)}:Sc,mf=Yl?function(t){return Yl.get(t)}:Sc,gf=Cl?G(Cl,Qc):Pc,yf=Cl?function(t){for(var e=[];t;)m(e,gf(t)),t=xl(t);return e}:Pc,vf=dr;(Fl&&vf(new Fl(new ArrayBuffer(1)))!=re||$l&&vf(new $l)!=Vt||Hl&&vf(Hl.resolve())!=Yt||Vl&&vf(new Vl)!=Jt||Gl&&vf(new Gl)!=te)&&(vf=function(t){var e=hl.call(t),n=e==Wt?t.constructor:rt,r=n?Go(n):rt;if(r)switch(r){case Xl:return re;case Jl:return Vt;case Kl:return Yt;case Ql:return Jt;case tf:return te}return e});var xf=al?Ws:jc,bf=$o(lf),wf=Sl||function(t,e){return Zn.setTimeout(t,e)},_f=$o(ff),Nf=Ro(function(t){t=xu(t);var e=[];return Ee.test(t)&&e.push(""),t.replace(Oe,function(t,n,r,i){e.push(r?i.replace(Ie,"$1"):n||t)}),e}),Mf=Kr(function(t,e){return Us(t)?Fn(t,Xn(e,1,Us,!0)):[]}),Ef=Kr(function(t,e){var n=pa(e);return Us(n)&&(n=rt),Us(t)?Fn(t,Xn(e,1,Us,!0),po(n,2)):[]}),Of=Kr(function(t,e){var n=pa(e);return Us(n)&&(n=rt),Us(t)?Fn(t,Xn(e,1,Us,!0),rt,n):[]}),Af=Kr(function(t){var e=d(t,yi);return e.length&&e[0]===t[0]?xr(e):[]}),Sf=Kr(function(t){var e=pa(t),n=d(t,yi);return e===pa(n)?e=rt:n.pop(),n.length&&n[0]===t[0]?xr(n,po(e,2)):[]}),Tf=Kr(function(t){var e=pa(t),n=d(t,yi);return e===pa(n)?e=rt:n.pop(),n.length&&n[0]===t[0]?xr(n,rt,e):[]}),kf=Kr(ga),Cf=uo(function(t,e){var n=t?t.length:0,r=kn(t,e);return Yr(t,d(e,function(t){return Oo(t,n)?+t:t}).sort(Ti)),r}),Pf=Kr(function(t){return li(Xn(t,1,Us,!0))}),jf=Kr(function(t){var e=pa(t);return Us(e)&&(e=rt),li(Xn(t,1,Us,!0),po(e,2))}),zf=Kr(function(t){var e=pa(t);return Us(e)&&(e=rt),li(Xn(t,1,Us,!0),rt,e)}),Rf=Kr(function(t,e){return Us(t)?Fn(t,e):[]}),If=Kr(function(t){return mi(f(t,Us))}),Bf=Kr(function(t){var e=pa(t);return Us(e)&&(e=rt),mi(f(t,Us),po(e,2))}),Lf=Kr(function(t){var e=pa(t);return Us(e)&&(e=rt),mi(f(t,Us),rt,e)}),Uf=Kr(La),qf=Kr(function(t){var e=t.length,n=e>1?t[e-1]:rt;return n="function"==typeof n?(t.pop(),n):rt,Ua(t,n)}),Df=uo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return kn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof x&&Oo(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Ha,args:[o],thisArg:rt}),new r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(rt),t})):this.thru(o)}),Ff=Ii(function(t,e,n){cl.call(t,n)?++t[n]:Tn(t,n,1)}),$f=Vi(ra),Hf=Vi(ia),Vf=Ii(function(t,e,n){cl.call(t,n)?t[n].push(e):Tn(t,n,[e])}),Gf=Kr(function(t,e,n){var r=-1,i="function"==typeof e,o=So(e),s=Ls(t)?Yc(t.length):[];return af(t,function(t){var u=i?e:o&&null!=t?t[e]:rt;s[++r]=u?a(u,t,n):wr(t,e,n)}),s}),Wf=Ii(function(t,e,n){Tn(t,n,e)}),Yf=Ii(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Zf=Kr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ao(t,e[0],e[1])?e=[]:n>2&&Ao(e[0],e[1],e[2])&&(e=[e[0]]),$r(t,Xn(e,1),[])}),Xf=Al||function(){return Zn.Date.now()},Jf=Kr(function(t,e,n){var r=ft;if(n.length){var i=W(n,ho(Jf));r|=gt}return io(t,r,e,n,i)}),Kf=Kr(function(t,e,n){var r=ft|ht;if(n.length){var i=W(n,ho(Kf));r|=gt}return io(e,r,t,n,i)}),Qf=Kr(function(t,e){return Dn(t,1,e)}),th=Kr(function(t,e,n){return Dn(t,gu(e)||0,n)});Ns.Cache=rn;var eh=hf(function(t,e){e=1==e.length&&uh(e[0])?d(e[0],z(po())):d(Xn(e,1),z(po()));var n=e.length;return Kr(function(r){for(var i=-1,o=Bl(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return a(t,this,r)})}),nh=Kr(function(t,e){var n=W(e,ho(nh));return io(t,gt,rt,e,n)}),rh=Kr(function(t,e){var n=W(e,ho(rh));return io(t,yt,rt,e,n)}),ih=uo(function(t,e){return io(t,xt,rt,rt,rt,e)}),oh=to(mr),ah=to(function(t,e){return t>=e}),sh=_r(function(){return arguments}())?_r:function(t){return Js(t)&&cl.call(t,"callee")&&!_l.call(t,"callee")},uh=Yc.isArray,ch=er?z(er):Nr,lh=Pl||jc,fh=nr?z(nr):Mr,hh=rr?z(rr):Ar,ph=ir?z(ir):kr,dh=or?z(or):Cr,mh=ar?z(ar):Pr,gh=to(Ir),yh=to(function(t,e){return t<=e}),vh=Bi(function(t,e){if(Po(e)||Ls(e))return void zi(e,Pu(e),t);for(var n in e)cl.call(e,n)&&En(t,n,e[n])}),xh=Bi(function(t,e){zi(e,ju(e),t)}),bh=Bi(function(t,e,n,r){zi(e,ju(e),t,r)}),wh=Bi(function(t,e,n,r){zi(e,Pu(e),t,r)}),_h=uo(kn),Nh=Kr(function(t){return t.push(rt,Nn),a(bh,rt,t)}),Mh=Kr(function(t){return t.push(rt,Bo),a(Th,rt,t)}),Eh=Yi(function(t,e,n){t[e]=n},bc(_c)),Oh=Yi(function(t,e,n){cl.call(t,e)?t[e].push(n):t[e]=[n]},po),Ah=Kr(wr),Sh=Bi(function(t,e,n){qr(t,e,n)}),Th=Bi(function(t,e,n,r){qr(t,e,n,r)}),kh=uo(function(t,e){return null==t?{}:(e=d(e,Vo),Hr(t,Fn(lo(t),e)))}),Ch=uo(function(t,e){return null==t?{}:Hr(t,d(e,Vo))}),Ph=ro(Pu),jh=ro(ju),zh=Fi(function(t,e,n){return e=e.toLowerCase(),t+(n?Xu(e):e)}),Rh=Fi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ih=Fi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Bh=Di("toLowerCase"),Lh=Fi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Uh=Fi(function(t,e,n){return t+(n?" ":"")+Dh(e)}),qh=Fi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Dh=Di("toUpperCase"),Fh=Kr(function(t,e){try{return a(t,rt,e)}catch(n){return Vs(n)?n:new Xc(n)}}),$h=uo(function(t,e){return u(e,function(e){e=Vo(e),Tn(t,e,Jf(t[e],t))}),t}),Hh=Gi(),Vh=Gi(!0),Gh=Kr(function(t,e){return function(n){return wr(n,t,e)}}),Wh=Kr(function(t,e){return function(n){return wr(t,n,e)}}),Yh=Xi(d),Zh=Xi(l),Xh=Xi(v),Jh=Qi(),Kh=Qi(!0),Qh=Zi(function(t,e){return t+e},0),tp=no("ceil"),ep=Zi(function(t,e){return t/e},1),np=no("floor"),rp=Zi(function(t,e){return t*e},1),ip=no("round"),op=Zi(function(t,e){return t-e},0);return e.after=gs,e.ary=ys,e.assign=vh,e.assignIn=xh,e.assignInWith=bh,e.assignWith=wh,e.at=_h,e.before=vs,e.bind=Jf,e.bindAll=$h,e.bindKey=Kf,e.castArray=Cs,e.chain=Fa,e.chunk=Zo,e.compact=Xo,e.concat=Jo,e.cond=vc,e.conforms=xc,e.constant=bc,e.countBy=Ff,e.create=bu,e.curry=xs,e.curryRight=bs,e.debounce=ws,e.defaults=Nh,e.defaultsDeep=Mh,e.defer=Qf,e.delay=th,e.difference=Mf,e.differenceBy=Ef,e.differenceWith=Of,e.drop=Ko,e.dropRight=Qo,e.dropRightWhile=ta,e.dropWhile=ea,e.fill=na,e.filter=Qa,e.flatMap=ts,e.flatMapDeep=es,e.flatMapDepth=ns,e.flatten=oa,e.flattenDeep=aa,e.flattenDepth=sa,e.flip=_s,e.flow=Hh,e.flowRight=Vh,e.fromPairs=ua,e.functions=Au,e.functionsIn=Su,e.groupBy=Vf,e.initial=fa,e.intersection=Af,e.intersectionBy=Sf,e.intersectionWith=Tf,e.invert=Eh,e.invertBy=Oh,e.invokeMap=Gf,e.iteratee=Nc,e.keyBy=Wf,e.keys=Pu,e.keysIn=ju,e.map=as,e.mapKeys=zu,e.mapValues=Ru,e.matches=Mc,e.matchesProperty=Ec,e.memoize=Ns,e.merge=Sh,e.mergeWith=Th,e.method=Gh,e.methodOf=Wh,e.mixin=Oc,e.negate=Ms,e.nthArg=Tc,e.omit=kh,e.omitBy=Iu,e.once=Es,e.orderBy=ss,e.over=Yh,e.overArgs=eh,e.overEvery=Zh,e.overSome=Xh,e.partial=nh,e.partialRight=rh,e.partition=Yf,e.pick=Ch,e.pickBy=Bu,e.property=kc,e.propertyOf=Cc,e.pull=kf,e.pullAll=ga,e.pullAllBy=ya,e.pullAllWith=va,e.pullAt=Cf,e.range=Jh,e.rangeRight=Kh,e.rearg=ih,e.reject=ls,e.remove=xa,e.rest=Os,e.reverse=ba,e.sampleSize=hs,e.set=Uu,e.setWith=qu,e.shuffle=ps,e.slice=wa,e.sortBy=Zf,e.sortedUniq=Sa,e.sortedUniqBy=Ta,e.split=sc,e.spread=As,e.tail=ka,e.take=Ca,e.takeRight=Pa,e.takeRightWhile=ja,e.takeWhile=za,e.tap=$a,e.throttle=Ss,e.thru=Ha,e.toArray=hu,e.toPairs=Ph,e.toPairsIn=jh,e.toPath=Lc,e.toPlainObject=yu,e.transform=Du,e.unary=Ts,e.union=Pf,e.unionBy=jf,e.unionWith=zf,e.uniq=Ra,e.uniqBy=Ia,e.uniqWith=Ba,e.unset=Fu,e.unzip=La,e.unzipWith=Ua,e.update=$u,e.updateWith=Hu,e.values=Vu,e.valuesIn=Gu,e.without=Rf,e.words=yc,e.wrap=ks,e.xor=If,e.xorBy=Bf,e.xorWith=Lf,e.zip=Uf,e.zipObject=qa,e.zipObjectDeep=Da,e.zipWith=qf,e.entries=Ph,e.entriesIn=jh,e.extend=xh,e.extendWith=bh,Oc(e,e),e.add=Qh,e.attempt=Fh,e.camelCase=zh,e.capitalize=Xu,e.ceil=tp,e.clamp=Wu,e.clone=Ps,e.cloneDeep=zs,e.cloneDeepWith=Rs,e.cloneWith=js,e.conformsTo=Is,e.deburr=Ju,e.defaultTo=wc,e.divide=ep,e.endsWith=Ku,e.eq=Bs,e.escape=Qu,e.escapeRegExp=tc,e.every=Ka,e.find=$f,e.findIndex=ra,e.findKey=wu,e.findLast=Hf,e.findLastIndex=ia,e.findLastKey=_u,e.floor=np,e.forEach=rs,e.forEachRight=is,e.forIn=Nu,e.forInRight=Mu,e.forOwn=Eu,e.forOwnRight=Ou,e.get=Tu,e.gt=oh,e.gte=ah,e.has=ku,e.hasIn=Cu,e.head=ca,e.identity=_c,e.includes=os,e.indexOf=la,e.inRange=Yu,e.invoke=Ah,e.isArguments=sh,e.isArray=uh,e.isArrayBuffer=ch,e.isArrayLike=Ls,e.isArrayLikeObject=Us,e.isBoolean=qs,e.isBuffer=lh,e.isDate=fh,e.isElement=Ds,e.isEmpty=Fs,e.isEqual=$s,e.isEqualWith=Hs,e.isError=Vs,e.isFinite=Gs,e.isFunction=Ws,e.isInteger=Ys,e.isLength=Zs,e.isMap=hh,e.isMatch=Ks,e.isMatchWith=Qs,e.isNaN=tu,e.isNative=eu,e.isNil=ru,e.isNull=nu,e.isNumber=iu,e.isObject=Xs,e.isObjectLike=Js,e.isPlainObject=ou,e.isRegExp=ph,e.isSafeInteger=au,e.isSet=dh,e.isString=su,e.isSymbol=uu,e.isTypedArray=mh,e.isUndefined=cu,e.isWeakMap=lu,e.isWeakSet=fu,e.join=ha,e.kebabCase=Rh,e.last=pa,e.lastIndexOf=da,e.lowerCase=Ih,e.lowerFirst=Bh,e.lt=gh,e.lte=yh,e.max=qc,e.maxBy=Dc,e.mean=Fc,e.meanBy=$c,e.min=Hc,e.minBy=Vc,e.stubArray=Pc,e.stubFalse=jc,e.stubObject=zc,e.stubString=Rc,e.stubTrue=Ic,e.multiply=rp,e.nth=ma,e.noConflict=Ac,e.noop=Sc,e.now=Xf,e.pad=ec,e.padEnd=nc,e.padStart=rc,e.parseInt=ic,e.random=Zu,e.reduce=us,e.reduceRight=cs,e.repeat=oc,e.replace=ac,e.result=Lu,e.round=ip,e.runInContext=pr,e.sample=fs,e.size=ds,e.snakeCase=Lh,e.some=ms,e.sortedIndex=_a,e.sortedIndexBy=Na,e.sortedIndexOf=Ma,e.sortedLastIndex=Ea,e.sortedLastIndexBy=Oa,e.sortedLastIndexOf=Aa,e.startCase=Uh,e.startsWith=uc,e.subtract=op,e.sum=Gc,e.sumBy=Wc,e.template=cc,e.times=Bc,e.toFinite=pu,e.toInteger=du,e.toLength=mu,e.toLower=lc,e.toNumber=gu,e.toSafeInteger=vu,e.toString=xu,e.toUpper=fc,e.trim=hc,e.trimEnd=pc,e.trimStart=dc,e.truncate=mc,e.unescape=gc,e.uniqueId=Uc,e.upperCase=qh,e.upperFirst=Dh,e.each=rs,e.eachRight=is,e.first=ca,Oc(e,function(){var t={};return Jn(e,function(n,r){cl.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=it,u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),u(["drop","take"],function(t,e){x.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new x(this);n=n===rt?1:Il(du(n),0);var i=this.clone();return r?i.__takeCount__=Bl(n,i.__takeCount__):i.__views__.push({size:Bl(n,zt),type:t+(i.__dir__<0?"Right":"")}),i},x.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),u(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==At||n==Tt;x.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:po(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),u(["head","last"],function(t,e){var n="take"+(e?"Right":"");x.prototype[t]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");x.prototype[t]=function(){return this.__filtered__?new x(this):this[n](1)}}),x.prototype.compact=function(){return this.filter(_c)},x.prototype.find=function(t){return this.filter(t).head()},x.prototype.findLast=function(t){return this.reverse().find(t)},x.prototype.invokeMap=Kr(function(t,e){return"function"==typeof t?new x(this):this.map(function(n){return wr(n,t,e)})}),x.prototype.reject=function(t){return this.filter(Ms(po(t)))},x.prototype.slice=function(t,e){t=du(t);var n=this;return n.__filtered__&&(t>0||e<0)?new x(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==rt&&(e=du(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},x.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},x.prototype.toArray=function(){return this.take(zt)},Jn(x.prototype,function(t,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),a=e[o?"take"+("last"==n?"Right":""):n],s=o||/^find/.test(n);a&&(e.prototype[n]=function(){var n=this.__wrapped__,u=o?[1]:arguments,c=n instanceof x,l=u[0],f=c||uh(n),h=function(t){var n=a.apply(e,m([t],u));return o&&p?n[0]:n};f&&i&&"function"==typeof l&&1!=l.length&&(c=f=!1);var p=this.__chain__,d=!!this.__actions__.length,g=s&&!p,y=c&&!d;if(!s&&f){n=y?n:new x(this);var v=t.apply(n,u);return v.__actions__.push({func:Ha,args:[h],thisArg:rt}),new r(v,p)}return g&&y?t.apply(this,u):(v=this.thru(h),g?o?v.value()[0]:v.value():v)})}),u(["pop","push","shift","sort","splice","unshift"],function(t){var n=rl[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(uh(e)?e:[],t)}return this[r](function(e){return n.apply(uh(e)?e:[],t)})}}),Jn(x.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",o=Zl[i]||(Zl[i]=[]);o.push({name:n,func:r})}}),Zl[Wi(rt,ht).name]=[{name:"wrapper",func:rt}],x.prototype.clone=S,x.prototype.reverse=X,x.prototype.value=tt,e.prototype.at=Df,e.prototype.chain=Va,e.prototype.commit=Ga,e.prototype.next=Wa,e.prototype.plant=Za,e.prototype.reverse=Xa,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Ja,e.prototype.first=e.prototype.head,bl&&(e.prototype[bl]=Ya),e},hr=fr();"function"==typeof t&&"object"==typeof t.amd&&t.amd?(Zn._=hr,t(function(){return hr})):Jn?((Jn.exports=hr)._=hr,Xn._=hr):Zn._=hr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(t,e,n){e.exports=t("./lib/core/core")},{"./lib/core/core":44}],42:[function(t,e,n){function r(e){var n=i.create(e);return n.create=r,n["import"](t("./lib")),n}var i=t("./core");e.exports=r()},{"./core":41,"./lib":451}],43:[function(t,e,n){"use strict";function r(e,n,a,s,u){u.on("config",function(t,i){t.number!==i.number&&r(e,n,a,s,u)}),u["true"]=!0,u["false"]=!1,u["null"]=null,u.uninitialized=t("./utils/array").UNINITIALIZED,"BigNumber"===n.number?(u.Infinity=new e.BigNumber(1/0),u.NaN=new e.BigNumber(NaN),i.lazy(u,"pi",function(){return o.pi(e.BigNumber)}),i.lazy(u,"tau",function(){return o.tau(e.BigNumber)}),i.lazy(u,"e",function(){return o.e(e.BigNumber)}),i.lazy(u,"phi",function(){return o.phi(e.BigNumber)}),i.lazy(u,"E",function(){return u.e}),i.lazy(u,"LN2",function(){return new e.BigNumber(2).ln()}),i.lazy(u,"LN10",function(){return new e.BigNumber(10).ln()}),i.lazy(u,"LOG2E",function(){return new e.BigNumber(1).div(new e.BigNumber(2).ln())}),i.lazy(u,"LOG10E",function(){return new e.BigNumber(1).div(new e.BigNumber(10).ln())}),i.lazy(u,"PI",function(){return u.pi}),i.lazy(u,"SQRT1_2",function(){return new e.BigNumber("0.5").sqrt()}),i.lazy(u,"SQRT2",function(){return new e.BigNumber(2).sqrt()})):(u.Infinity=1/0,u.NaN=NaN,u.pi=Math.PI,u.tau=2*Math.PI,u.e=Math.E,u.phi=1.618033988749895,u.E=u.e,u.LN2=Math.LN2,u.LN10=Math.LN10,u.LOG2E=Math.LOG2E,u.LOG10E=Math.LOG10E,u.PI=u.pi,u.SQRT1_2=Math.SQRT1_2,u.SQRT2=Math.SQRT2),u.i=e.Complex.I,u.version=t("./version")}var i=t("./utils/object"),o=t("./utils/bignumber/constants");n.factory=r,n.lazy=!1,n.math=!0},{"./utils/array":505,"./utils/bignumber/constants":511,"./utils/object":528,"./version":531}],44:[function(t,e,n){var r=t("./../utils/object").isFactory,i=(t("./../utils/object").deepExtend,t("./typed")),o=t("./../utils/emitter"),a=t("./function/import"),s=t("./function/config");n.create=function(t){function e(t){if(!r(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,o=n.indexOf(t);return o===-1?(i=t.math===!0?t.factory(c.type,l,e,c.typed,c):t.factory(c.type,l,e,c.typed),n.push(t),u.push(i)):i=u[o],i}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=[],u=[],c=o.mixin({});c.type={},c.expression={transform:Object.create(c)},c.typed=i.create(c.type);var l={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1};return c["import"]=e(a),c.config=e(s),t&&c.config(t),c}},{"./../utils/emitter":523,"./../utils/object":528,"./function/config":45,"./function/import":46,"./typed":47}],45:[function(t,e,n){"use strict";function r(t,e,n,r,i){function o(t){if(t){var n=s.clone(e);a(t,"matrix",u),a(t,"number",c),s.deepExtend(e,t);var r=s.clone(e);return i.emit("config",r,n),r}return s.clone(e)}var u=["Matrix","Array"],c=["number","BigNumber","Fraction"];return o.MATRIX=u,o.NUMBER=c,o}function i(t,e){return t.indexOf(e)!==-1}function o(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}function a(t,e,n){if(void 0!==t[e]&&!i(n,t[e])){var r=o(n,t[e]);r!==-1&&(t[e]=n[r])}}var s=t("../../utils/object");n.name="config",n.math=!0,n.factory=r},{"../../utils/object":528}],46:[function(t,e,n){"use strict";function r(t,e,n,r,u){function c(t,e){var n=arguments.length;if(1!=n&&2!=n)throw new s("import",n,1,2);if(e||(e={}),o(t))p(t,e);else if(Array.isArray(t))t.forEach(function(t){c(t,e)});else if("object"==typeof t){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];d(i)?l(r,i,e):o(t)?p(t,e):c(i,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}function l(t,e,n){if(n.wrap&&"function"==typeof e&&(e=h(e)),m(u[t])&&m(e))return e=n.override?r(t,e.signatures):r(u[t],e),u[t]=e,f(t,e),void u.emit("import",t,function(){return e});if(void 0===u[t]||n.override)return u[t]=e,f(t,e),void u.emit("import",t,function(){return e});if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}function f(t,e){e&&"function"==typeof e.transform&&(u.expression.transform[t]=e.transform)}function h(t){var e=function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];e[n]=i&&i.valueOf()}return t.apply(u,e)};return t.transform&&(e.transform=t.transform),e}function p(t,e){if("string"==typeof t.name){var o=t.name,s=t.path?a(u,t.path):u,c=s.hasOwnProperty(o)?s[o]:void 0,l=function(){var i=n(t);if(m(c)&&m(i))return e.override||(i=r(c,i)),i;if(void 0===c||e.override)return i;if(!e.silent)throw new Error('Cannot import "'+o+'": already exists')};t.lazy!==!1?i(s,o,l):s[o]=l(),u.emit("import",o,l,t.path)}else n(t)}function d(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&t.isUnit===!0||t&&t.isComplex===!0||t&&t.isBigNumber===!0||t&&t.isFraction===!0||t&&t.isMatrix===!0||t&&Array.isArray(t)===!0}function m(t){return"function"==typeof t&&"object"==typeof t.signatures}return c}var i=t("../../utils/object").lazy,o=t("../../utils/object").isFactory,a=t("../../utils/object").traverse,s=(t("../../utils/object").extend,t("../../error/ArgumentsError"));n.math=!0,n.name="import",n.factory=r,n.lazy=!0},{"../../error/ArgumentsError":48,"../../utils/object":528}],47:[function(t,e,n){var r=t("typed-function"),i=t("./../utils/number").digits,o=function(){return o=r.create,r};n.create=function(t){var e=o();return e.types=[{name:"number",test:function(t){return"number"==typeof t}},{name:"Complex",test:function(t){return t&&t.isComplex}},{name:"BigNumber",test:function(t){return t&&t.isBigNumber}},{name:"Fraction",test:function(t){return t&&t.isFraction}},{name:"Unit",test:function(t){return t&&t.isUnit}},{name:"string",test:function(t){return"string"==typeof t}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(t){return t&&t.isMatrix}},{name:"DenseMatrix",test:function(t){return t&&t.isDenseMatrix}},{name:"SparseMatrix",test:function(t){return t&&t.isSparseMatrix}},{name:"ImmutableDenseMatrix",test:function(t){return t&&t.isImmutableDenseMatrix}},{name:"Range",test:function(t){return t&&t.isRange}},{name:"Index",test:function(t){return t&&t.isIndex}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"ResultSet",test:function(t){return t&&t.isResultSet}},{name:"Help",test:function(t){return t&&t.isHelp}},{name:"function",test:function(t){return"function"==typeof t}},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to Fraction (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber((+e))}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction((+e))}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new t.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new t.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},{"./../utils/number":527,"typed-function":534}],48:[function(t,e,n){"use strict";function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,e.exports=r},{}],49:[function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,e.exports=r},{}],50:[function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",r.prototype.isIndexError=!0,e.exports=r},{}],51:[function(t,e,n){"use strict";var r=t("./ArgumentsError"),i=t("./DimensionError"),o=t("./IndexError");e.exports=[{name:"ArgumentsError",path:"error",factory:function(){return r}},{name:"DimensionError",path:"error",factory:function(){return i}},{name:"IndexError",path:"error",factory:function(){return o}}]},{"./ArgumentsError":48,"./DimensionError":49,"./IndexError":50}],52:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t)throw new Error('Argument "doc" missing');this.doc=t}var u=r(t("./function/parser"))();return s.prototype.type="Help",s.prototype.isHelp=!0,s.prototype.toString=function(){
var t=this.doc||{},e="\n";if(t.name&&(e+="Name: "+t.name+"\n\n"),t.category&&(e+="Category: "+t.category+"\n\n"),t.description&&(e+="Description:\n    "+t.description+"\n\n"),t.syntax&&(e+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){e+="Examples:\n";for(var n=0;n<t.examples.length;n++){var r=t.examples[n];e+="    "+r+"\n";var i;try{i=u.eval(r)}catch(a){i=a}i&&!i.isHelp&&(e+="        "+o.format(i,{precision:14})+"\n")}e+="\n"}return t.seealso&&(e+="See also: "+t.seealso.join(", ")+"\n"),e},s.prototype.toJSON=function(){var t=i.clone(this.doc);return t.mathjs="Help",t},s.fromJSON=function(t){var e={};for(var n in t)"mathjs"!==n&&(e[n]=t[n]);return new s(e)},s.prototype.valueOf=s.prototype.toString,s}var i=t("../utils/object"),o=t("../utils/string");n.name="Help",n.path="type",n.factory=r},{"../utils/object":528,"../utils/string":529,"./function/parser":233}],53:[function(t,e,n){"use strict";function r(e,n,r,o,a){function s(){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}var u=r(t("./parse"));return s.prototype.type="Parser",s.prototype.isParser=!0,s.prototype.parse=function(t){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},s.prototype.compile=function(t){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},s.prototype.eval=function(t){return u(t).compile().eval(this.scope)},s.prototype.get=function(t){return this.scope[t]},s.prototype.getAll=function(){return i({},this.scope)},s.prototype.set=function(t,e){return this.scope[t]=e},s.prototype.remove=function(t){delete this.scope[t]},s.prototype.clear=function(){for(var t in this.scope)this.scope.hasOwnProperty(t)&&delete this.scope[t]},s}var i=t("../utils/object").extend;n.name="Parser",n.path="expression",n.factory=r,n.math=!0},{"../utils/object":528,"./parse":256}],54:[function(t,e,n){e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},{}],55:[function(t,e,n){e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},{}],56:[function(t,e,n){e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},{}],57:[function(t,e,n){e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},{}],58:[function(t,e,n){e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},{}],59:[function(t,e,n){e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},{}],60:[function(t,e,n){e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},{}],61:[function(t,e,n){e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},{}],62:[function(t,e,n){e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},{}],63:[function(t,e,n){e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},{}],64:[function(t,e,n){e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},{}],65:[function(t,e,n){e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},{}],66:[function(t,e,n){e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},{}],67:[function(t,e,n){e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},{}],68:[function(t,e,n){e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},{}],69:[function(t,e,n){e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},{}],70:[function(t,e,n){e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},{}],71:[function(t,e,n){e.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},{}],72:[function(t,e,n){e.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},{}],73:[function(t,e,n){e.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},{}],74:[function(t,e,n){e.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},{}],75:[function(t,e,n){e.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},{}],76:[function(t,e,n){e.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},{}],77:[function(t,e,n){e.exports={name:"number",category:"Construction",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},{}],78:[function(t,e,n){e.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},{}],79:[function(t,e,n){e.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},{}],80:[function(t,e,n){e.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},{}],81:[function(t,e,n){e.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},{}],82:[function(t,e,n){e.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},{}],83:[function(t,e,n){e.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},{}],84:[function(t,e,n){e.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},{}],85:[function(t,e,n){e.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu"]}},{}],86:[function(t,e,n){e.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},{}],87:[function(t,e,n){e.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup"]}},{}],88:[function(t,e,n){e.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},{}],89:[function(t,e,n){e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},{}],90:[function(t,e,n){e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},{}],91:[function(t,e,n){e.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},{}],92:[function(t,e,n){e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},{}],93:[function(t,e,n){e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},{}],94:[function(t,e,n){e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},{}],95:[function(t,e,n){e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},{}],96:[function(t,e,n){e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},{}],97:[function(t,e,n){e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},{}],98:[function(t,e,n){e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},{}],99:[function(t,e,n){e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},{}],100:[function(t,e,n){e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},{}],101:[function(t,e,n){e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},{}],102:[function(t,e,n){e.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},{}],103:[function(t,e,n){e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},{}],104:[function(t,e,n){e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},{}],105:[function(t,e,n){e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},{}],106:[function(t,e,n){e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},{}],107:[function(t,e,n){e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},{}],108:[function(t,e,n){e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},{}],109:[function(t,e,n){e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},{}],110:[function(t,e,n){e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},{}],111:[function(t,e,n){e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},{}],112:[function(t,e,n){e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},{}],113:[function(t,e,n){e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},{}],114:[function(t,e,n){e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},{}],115:[function(t,e,n){e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},{}],116:[function(t,e,n){e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},{}],117:[function(t,e,n){e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},{}],118:[function(t,e,n){e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},{}],119:[function(t,e,n){e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],120:[function(t,e,n){e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],121:[function(t,e,n){e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],122:[function(t,e,n){e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},{}],123:[function(t,e,n){e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},{}],124:[function(t,e,n){e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},{}],125:[function(t,e,n){e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},{}],126:[function(t,e,n){e.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},{}],127:[function(t,e,n){e.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},{}],128:[function(t,e,n){e.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},{}],129:[function(t,e,n){e.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},{}],130:[function(t,e,n){e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},{}],131:[function(t,e,n){e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},{}],132:[function(t,e,n){e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},{}],133:[function(t,e,n){e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},{}],134:[function(t,e,n){e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},{}],135:[function(t,e,n){e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},{}],136:[function(t,e,n){e.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},{}],137:[function(t,e,n){e.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},{}],138:[function(t,e,n){e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},{}],139:[function(t,e,n){e.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},{}],140:[function(t,e,n){e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},{}],141:[function(t,e,n){e.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},{}],142:[function(t,e,n){e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],143:[function(t,e,n){e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},{}],144:[function(t,e,n){e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],145:[function(t,e,n){e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],146:[function(t,e,n){e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},{}],147:[function(t,e,n){e.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],148:[function(t,e,n){e.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},{}],149:[function(t,e,n){e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},{}],150:[function(t,e,n){e.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},{}],151:[function(t,e,n){e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],152:[function(t,e,n){e.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",
examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},{}],153:[function(t,e,n){e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],154:[function(t,e,n){e.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},{}],155:[function(t,e,n){e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},{}],156:[function(t,e,n){e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze"]}},{}],157:[function(t,e,n){e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},{}],158:[function(t,e,n){e.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]}},{}],159:[function(t,e,n){e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},{}],160:[function(t,e,n){e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},{}],161:[function(t,e,n){e.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],162:[function(t,e,n){e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},{}],163:[function(t,e,n){e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},{}],164:[function(t,e,n){e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},{}],165:[function(t,e,n){e.exports={name:"factorial",category:"Probability",syntax:["kldivergence(x, y)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},{}],166:[function(t,e,n){e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},{}],167:[function(t,e,n){e.exports={name:"kldivergence",category:"Probability",syntax:["n!","factorial(n)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["math.kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},{}],168:[function(t,e,n){e.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},{}],169:[function(t,e,n){e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},{}],170:[function(t,e,n){e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])"],seealso:["random","randomInt"]}},{}],171:[function(t,e,n){e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},{}],172:[function(t,e,n){e.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},{}],173:[function(t,e,n){e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]}},{}],174:[function(t,e,n){e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},{}],175:[function(t,e,n){e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},{}],176:[function(t,e,n){e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},{}],177:[function(t,e,n){e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},{}],178:[function(t,e,n){e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},{}],179:[function(t,e,n){e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},{}],180:[function(t,e,n){e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},{}],181:[function(t,e,n){e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},{}],182:[function(t,e,n){e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},{}],183:[function(t,e,n){e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var"]}},{}],184:[function(t,e,n){e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},{}],185:[function(t,e,n){e.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(5, 2, 7)","mode([3, -1, 5, 7])"],seealso:["max","mean","min","median","prod","std","sum","var"]}},{}],186:[function(t,e,n){e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},{}],187:[function(t,e,n){e.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},{}],188:[function(t,e,n){e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},{}],189:[function(t,e,n){e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},{}],190:[function(t,e,n){e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},{}],191:[function(t,e,n){e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},{}],192:[function(t,e,n){e.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},{}],193:[function(t,e,n){e.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},{}],194:[function(t,e,n){e.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]}},{}],195:[function(t,e,n){e.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]}},{}],196:[function(t,e,n){e.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},{}],197:[function(t,e,n){e.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},{}],198:[function(t,e,n){e.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},{}],199:[function(t,e,n){e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},{}],200:[function(t,e,n){e.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},{}],201:[function(t,e,n){e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},{}],202:[function(t,e,n){e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},{}],203:[function(t,e,n){e.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},{}],204:[function(t,e,n){e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},{}],205:[function(t,e,n){e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},{}],206:[function(t,e,n){e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},{}],207:[function(t,e,n){e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},{}],208:[function(t,e,n){e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},{}],209:[function(t,e,n){e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},{}],210:[function(t,e,n){e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},{}],211:[function(t,e,n){e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},{}],212:[function(t,e,n){e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},{}],213:[function(t,e,n){e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},{}],214:[function(t,e,n){e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},{}],215:[function(t,e,n){e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},{}],216:[function(t,e,n){e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},{}],217:[function(t,e,n){e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},{}],218:[function(t,e,n){e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},{}],219:[function(t,e,n){e.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},{}],220:[function(t,e,n){e.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},{}],221:[function(t,e,n){e.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},{}],222:[function(t,e,n){e.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]}},{}],223:[function(t,e,n){e.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},{}],224:[function(t,e,n){e.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},{}],225:[function(t,e,n){e.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},{}],226:[function(t,e,n){e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},{}],227:[function(t,e,n){function r(e,n,r,i){var o={};return o.bignumber=t("./construction/bignumber"),o["boolean"]=t("./construction/boolean"),o.complex=t("./construction/complex"),o.fraction=t("./construction/fraction"),o.index=t("./construction/index"),o.matrix=t("./construction/matrix"),o.number=t("./construction/number"),o.sparse=t("./construction/sparse"),o.string=t("./construction/string"),o.unit=t("./construction/unit"),o.e=t("./constants/e"),o.E=t("./constants/e"),o["false"]=t("./constants/false"),o.i=t("./constants/i"),o.Infinity=t("./constants/Infinity"),o.LN2=t("./constants/LN2"),o.LN10=t("./constants/LN10"),o.LOG2E=t("./constants/LOG2E"),o.LOG10E=t("./constants/LOG10E"),o.NaN=t("./constants/NaN"),o["null"]=t("./constants/null"),o.pi=t("./constants/pi"),o.PI=t("./constants/pi"),o.phi=t("./constants/phi"),o.SQRT1_2=t("./constants/SQRT1_2"),o.SQRT2=t("./constants/SQRT2"),o.tau=t("./constants/tau"),o["true"]=t("./constants/true"),o.version=t("./constants/version"),o.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},o.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},o.planckConstant={description:"Planck constant",examples:["planckConstant"]},o.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},o.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},o.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},o.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},o.coulomb={description:"Coulomb's constant",examples:["coulomb"]},o.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},o.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},o.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},o.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},o.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},o.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},o.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},o.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},o.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},o.electronMass={description:"Electron mass",examples:["electronMass"]},o.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},o.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},o.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},o.protonMass={description:"Proton mass",examples:["protonMass"]},o.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},o.neutronMass={description:"Neutron mass",examples:["neutronMass"]},o.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},o.rydberg={description:"Rydberg constant",examples:["rydberg"]},o.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},o.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},o.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},o.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},o.avogadro={description:"Avogadro's number",examples:["avogadro"]},o.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},o.faraday={description:"Faraday constant",examples:["faraday"]},o.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},o.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},o.gasConstant={description:"Gas constant",examples:["gasConstant"]},o.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},o.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},o.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},o.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},o.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},o.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},o.molarMass={description:"Molar mass constant",examples:["molarMass"]},o.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},o.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},o.planckLength={description:"Planck length",examples:["planckLength"]},o.planckMass={description:"Planck mass",examples:["planckMass"]},o.planckTime={description:"Planck time",examples:["planckTime"]},o.planckCharge={description:"Planck charge",examples:["planckCharge"]},o.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},o.lsolve=t("./function/algebra/lsolve"),o.lup=t("./function/algebra/lup"),o.lusolve=t("./function/algebra/lusolve"),o.slu=t("./function/algebra/slu"),o.usolve=t("./function/algebra/usolve"),o.abs=t("./function/arithmetic/abs"),o.add=t("./function/arithmetic/add"),o.cbrt=t("./function/arithmetic/cbrt"),o.ceil=t("./function/arithmetic/ceil"),o.cube=t("./function/arithmetic/cube"),o.divide=t("./function/arithmetic/divide"),o.dotDivide=t("./function/arithmetic/dotDivide"),o.dotMultiply=t("./function/arithmetic/dotMultiply"),o.dotPow=t("./function/arithmetic/dotPow"),o.exp=t("./function/arithmetic/exp"),o.fix=t("./function/arithmetic/fix"),o.floor=t("./function/arithmetic/floor"),o.gcd=t("./function/arithmetic/gcd"),o.hypot=t("./function/arithmetic/hypot"),o.lcm=t("./function/arithmetic/lcm"),o.log=t("./function/arithmetic/log"),o.log10=t("./function/arithmetic/log10"),o.mod=t("./function/arithmetic/mod"),o.multiply=t("./function/arithmetic/multiply"),o.norm=t("./function/arithmetic/norm"),o.nthRoot=t("./function/arithmetic/nthRoot"),o.pow=t("./function/arithmetic/pow"),o.round=t("./function/arithmetic/round"),o.sign=t("./function/arithmetic/sign"),o.sqrt=t("./function/arithmetic/sqrt"),o.square=t("./function/arithmetic/square"),o.subtract=t("./function/arithmetic/subtract"),o.unaryMinus=t("./function/arithmetic/unaryMinus"),o.unaryPlus=t("./function/arithmetic/unaryPlus"),o.xgcd=t("./function/arithmetic/xgcd"),o.bitAnd=t("./function/bitwise/bitAnd"),o.bitNot=t("./function/bitwise/bitNot"),o.bitOr=t("./function/bitwise/bitOr"),o.bitXor=t("./function/bitwise/bitXor"),o.leftShift=t("./function/bitwise/leftShift"),o.rightArithShift=t("./function/bitwise/rightArithShift"),o.rightLogShift=t("./function/bitwise/rightLogShift"),o.bellNumbers=t("./function/combinatorics/bellNumbers"),o.catalan=t("./function/combinatorics/catalan"),o.composition=t("./function/combinatorics/composition"),o.stirlingS2=t("./function/combinatorics/stirlingS2"),o.config=t("./core/config"),o["import"]=t("./core/import"),o.typed=t("./core/typed"),o.arg=t("./function/complex/arg"),o.conj=t("./function/complex/conj"),o.re=t("./function/complex/re"),o.im=t("./function/complex/im"),o.eval=t("./function/expression/eval"),o.help=t("./function/expression/help"),o.distance=t("./function/geometry/distance"),o.intersect=t("./function/geometry/intersect"),o.and=t("./function/logical/and"),o.not=t("./function/logical/not"),o.or=t("./function/logical/or"),o.xor=t("./function/logical/xor"),o.concat=t("./function/matrix/concat"),o.cross=t("./function/matrix/cross"),o.det=t("./function/matrix/det"),o.diag=t("./function/matrix/diag"),o.dot=t("./function/matrix/dot"),o.eye=t("./function/matrix/eye"),o.filter=t("./function/matrix/filter"),o.flatten=t("./function/matrix/flatten"),o.forEach=t("./function/matrix/forEach"),o.inv=t("./function/matrix/inv"),o.map=t("./function/matrix/map"),o.ones=t("./function/matrix/ones"),o.partitionSelect=t("./function/matrix/partitionSelect"),o.range=t("./function/matrix/range"),o.resize=t("./function/matrix/resize"),o.size=t("./function/matrix/size"),o.sort=t("./function/matrix/sort"),o.squeeze=t("./function/matrix/squeeze"),o.subset=t("./function/matrix/subset"),
o.trace=t("./function/matrix/trace"),o.transpose=t("./function/matrix/transpose"),o.zeros=t("./function/matrix/zeros"),o.combinations=t("./function/probability/combinations"),o.factorial=t("./function/probability/factorial"),o.gamma=t("./function/probability/gamma"),o.kldivergence=t("./function/probability/kldivergence"),o.multinomial=t("./function/probability/multinomial"),o.permutations=t("./function/probability/permutations"),o.pickRandom=t("./function/probability/pickRandom"),o.random=t("./function/probability/random"),o.randomInt=t("./function/probability/randomInt"),o.compare=t("./function/relational/compare"),o.deepEqual=t("./function/relational/deepEqual"),o.equal=t("./function/relational/equal"),o.larger=t("./function/relational/larger"),o.largerEq=t("./function/relational/largerEq"),o.smaller=t("./function/relational/smaller"),o.smallerEq=t("./function/relational/smallerEq"),o.unequal=t("./function/relational/unequal"),o.max=t("./function/statistics/max"),o.mean=t("./function/statistics/mean"),o.median=t("./function/statistics/median"),o.min=t("./function/statistics/min"),o.mode=t("./function/statistics/mode"),o.prod=t("./function/statistics/prod"),o.quantileSeq=t("./function/statistics/quantileSeq"),o.std=t("./function/statistics/std"),o.sum=t("./function/statistics/sum"),o["var"]=t("./function/statistics/var"),o.acos=t("./function/trigonometry/acos"),o.acosh=t("./function/trigonometry/acosh"),o.acot=t("./function/trigonometry/acot"),o.acoth=t("./function/trigonometry/acoth"),o.acsc=t("./function/trigonometry/acsc"),o.acsch=t("./function/trigonometry/acsch"),o.asec=t("./function/trigonometry/asec"),o.asech=t("./function/trigonometry/asech"),o.asin=t("./function/trigonometry/asin"),o.asinh=t("./function/trigonometry/asinh"),o.atan=t("./function/trigonometry/atan"),o.atanh=t("./function/trigonometry/atanh"),o.atan2=t("./function/trigonometry/atan2"),o.cos=t("./function/trigonometry/cos"),o.cosh=t("./function/trigonometry/cosh"),o.cot=t("./function/trigonometry/cot"),o.coth=t("./function/trigonometry/coth"),o.csc=t("./function/trigonometry/csc"),o.csch=t("./function/trigonometry/csch"),o.sec=t("./function/trigonometry/sec"),o.sech=t("./function/trigonometry/sech"),o.sin=t("./function/trigonometry/sin"),o.sinh=t("./function/trigonometry/sinh"),o.tan=t("./function/trigonometry/tan"),o.tanh=t("./function/trigonometry/tanh"),o.to=t("./function/units/to"),o.clone=t("./function/utils/clone"),o.format=t("./function/utils/format"),o.isNaN=t("./function/utils/isNaN"),o.isInteger=t("./function/utils/isInteger"),o.isNegative=t("./function/utils/isNegative"),o.isNumeric=t("./function/utils/isNumeric"),o.isPositive=t("./function/utils/isPositive"),o.isPrime=t("./function/utils/isPrime"),o.isZero=t("./function/utils/isZero"),o["typeof"]=t("./function/utils/typeof"),o}n.name="docs",n.path="expression",n.factory=r},{"./constants/Infinity":54,"./constants/LN10":55,"./constants/LN2":56,"./constants/LOG10E":57,"./constants/LOG2E":58,"./constants/NaN":59,"./constants/SQRT1_2":60,"./constants/SQRT2":61,"./constants/e":62,"./constants/false":63,"./constants/i":64,"./constants/null":65,"./constants/phi":66,"./constants/pi":67,"./constants/tau":68,"./constants/true":69,"./constants/version":70,"./construction/bignumber":71,"./construction/boolean":72,"./construction/complex":73,"./construction/fraction":74,"./construction/index":75,"./construction/matrix":76,"./construction/number":77,"./construction/sparse":78,"./construction/string":79,"./construction/unit":80,"./core/config":81,"./core/import":82,"./core/typed":83,"./function/algebra/lsolve":84,"./function/algebra/lup":85,"./function/algebra/lusolve":86,"./function/algebra/slu":87,"./function/algebra/usolve":88,"./function/arithmetic/abs":89,"./function/arithmetic/add":90,"./function/arithmetic/cbrt":91,"./function/arithmetic/ceil":92,"./function/arithmetic/cube":93,"./function/arithmetic/divide":94,"./function/arithmetic/dotDivide":95,"./function/arithmetic/dotMultiply":96,"./function/arithmetic/dotPow":97,"./function/arithmetic/exp":98,"./function/arithmetic/fix":99,"./function/arithmetic/floor":100,"./function/arithmetic/gcd":101,"./function/arithmetic/hypot":102,"./function/arithmetic/lcm":103,"./function/arithmetic/log":104,"./function/arithmetic/log10":105,"./function/arithmetic/mod":106,"./function/arithmetic/multiply":107,"./function/arithmetic/norm":108,"./function/arithmetic/nthRoot":109,"./function/arithmetic/pow":110,"./function/arithmetic/round":111,"./function/arithmetic/sign":112,"./function/arithmetic/sqrt":113,"./function/arithmetic/square":114,"./function/arithmetic/subtract":115,"./function/arithmetic/unaryMinus":116,"./function/arithmetic/unaryPlus":117,"./function/arithmetic/xgcd":118,"./function/bitwise/bitAnd":119,"./function/bitwise/bitNot":120,"./function/bitwise/bitOr":121,"./function/bitwise/bitXor":122,"./function/bitwise/leftShift":123,"./function/bitwise/rightArithShift":124,"./function/bitwise/rightLogShift":125,"./function/combinatorics/bellNumbers":126,"./function/combinatorics/catalan":127,"./function/combinatorics/composition":128,"./function/combinatorics/stirlingS2":129,"./function/complex/arg":130,"./function/complex/conj":131,"./function/complex/im":132,"./function/complex/re":133,"./function/expression/eval":134,"./function/expression/help":135,"./function/geometry/distance":136,"./function/geometry/intersect":137,"./function/logical/and":138,"./function/logical/not":139,"./function/logical/or":140,"./function/logical/xor":141,"./function/matrix/concat":142,"./function/matrix/cross":143,"./function/matrix/det":144,"./function/matrix/diag":145,"./function/matrix/dot":146,"./function/matrix/eye":147,"./function/matrix/filter":148,"./function/matrix/flatten":149,"./function/matrix/forEach":150,"./function/matrix/inv":151,"./function/matrix/map":152,"./function/matrix/ones":153,"./function/matrix/partitionSelect":154,"./function/matrix/range":155,"./function/matrix/resize":156,"./function/matrix/size":157,"./function/matrix/sort":158,"./function/matrix/squeeze":159,"./function/matrix/subset":160,"./function/matrix/trace":161,"./function/matrix/transpose":162,"./function/matrix/zeros":163,"./function/probability/combinations":164,"./function/probability/factorial":165,"./function/probability/gamma":166,"./function/probability/kldivergence":167,"./function/probability/multinomial":168,"./function/probability/permutations":169,"./function/probability/pickRandom":170,"./function/probability/random":171,"./function/probability/randomInt":172,"./function/relational/compare":173,"./function/relational/deepEqual":174,"./function/relational/equal":175,"./function/relational/larger":176,"./function/relational/largerEq":177,"./function/relational/smaller":178,"./function/relational/smallerEq":179,"./function/relational/unequal":180,"./function/statistics/max":181,"./function/statistics/mean":182,"./function/statistics/median":183,"./function/statistics/min":184,"./function/statistics/mode":185,"./function/statistics/prod":186,"./function/statistics/quantileSeq":187,"./function/statistics/std":188,"./function/statistics/sum":189,"./function/statistics/var":190,"./function/trigonometry/acos":191,"./function/trigonometry/acosh":192,"./function/trigonometry/acot":193,"./function/trigonometry/acoth":194,"./function/trigonometry/acsc":195,"./function/trigonometry/acsch":196,"./function/trigonometry/asec":197,"./function/trigonometry/asech":198,"./function/trigonometry/asin":199,"./function/trigonometry/asinh":200,"./function/trigonometry/atan":201,"./function/trigonometry/atan2":202,"./function/trigonometry/atanh":203,"./function/trigonometry/cos":204,"./function/trigonometry/cosh":205,"./function/trigonometry/cot":206,"./function/trigonometry/coth":207,"./function/trigonometry/csc":208,"./function/trigonometry/csch":209,"./function/trigonometry/sec":210,"./function/trigonometry/sech":211,"./function/trigonometry/sin":212,"./function/trigonometry/sinh":213,"./function/trigonometry/tan":214,"./function/trigonometry/tanh":215,"./function/units/to":216,"./function/utils/clone":217,"./function/utils/format":218,"./function/utils/isInteger":219,"./function/utils/isNaN":220,"./function/utils/isNegative":221,"./function/utils/isNumeric":222,"./function/utils/isPositive":223,"./function/utils/isPrime":224,"./function/utils/isZero":225,"./function/utils/typeof":226}],228:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../parse"));return o("compile",{string:function(t){return a(t).compile()},"Array | Matrix":function(t){return i(t,function(t){return a(t).compile()})}})}var i=t("../../utils/collection/deepMap");n.name="compile",n.factory=r},{"../../utils/collection/deepMap":519,"../parse":256}],229:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../parse"));return o("compile",{string:function(t){var e={};return a(t).compile().eval(e)},"string, Object":function(t,e){return a(t).compile().eval(e)},"Array | Matrix":function(t){var e={};return i(t,function(t){return a(t).compile().eval(e)})},"Array | Matrix, Object":function(t,e){return i(t,function(t){return a(t).compile().eval(e)})}})}var i=t("../../utils/collection/deepMap");n.name="eval",n.factory=r},{"../../utils/collection/deepMap":519,"../parse":256}],230:[function(t,e,n){"use strict";function r(e,n,r,i,o){var a=r(t("../docs"));return i("help",{any:function(t){var n,r=t;if("string"!=typeof t)for(n in o)if(o.hasOwnProperty(n)&&t===o[n]){r=n;break}var i=a[r];if(!i)throw new Error('No documentation found on "'+r+'"');return new e.Help(i)}})}n.math=!0,n.name="help",n.factory=r},{"../docs":227}],231:[function(t,e,n){e.exports=[t("./compile"),t("./eval"),t("./help"),t("./parse"),t("./parser")]},{"./compile":228,"./eval":229,"./help":230,"./parse":232,"./parser":233}],232:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../parse"));return i("parse",{"string | Array | Matrix":o,"string | Array | Matrix, Object":o})}n.name="parse",n.factory=r},{"../parse":256}],233:[function(t,e,n){"use strict";function r(e,n,r,i,o){var a=r(t("../Parser"));return i("parser",{"":function(){return new a(o)}})}n.name="parser",n.factory=r,n.math=!0},{"../Parser":53}],234:[function(t,e,n){e.exports=[t("./docs"),t("./function"),t("./node"),t("./transform"),t("./Help"),t("./parse"),t("./Parser")]},{"./Help":52,"./Parser":53,"./docs":227,"./function":231,"./node":252,"./parse":256,"./transform":261}],235:[function(t,e,n){"use strict";e.exports={end:!0}},{}],236:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "object"');if(!e||!e.isIndexNode)throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(t){return!(t.isAccessorNode||t.isArrayNode||t.isConstantNode||t.isFunctionNode||t.isObjectNode||t.isParenthesisNode||t.isSymbolNode)}var s=r(t("./Node")),u=r(t("./utils/access"));return o.prototype=new s,o.prototype.type="AccessorNode",o.prototype.isAccessorNode=!0,o.prototype._compile=function(t,e){t.access=u;var n=this.object._compile(t,e),r=this.index._compile(t,e);return this.index.isObjectProperty()?n+'["'+this.index.getObjectProperty()+'"]':this.index.needsSize()?"(function () {  var object = "+n+";  var size = math.size(object).valueOf();  return access(object, "+r+");})()":"access("+n+", "+r+")"},o.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},o.prototype.map=function(t){return new o(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},o.prototype.clone=function(){return new o(this.object,this.index)},o.prototype._toString=function(t){var e=this.object.toString(t);return a(this.object)&&(e="("+e+")"),e+this.index.toString(t)},o.prototype._toTex=function(t){var e=this.object.toTex(t);return a(this.object)&&(e="\\left("+e+"\\right)"),e+this.index.toTex(t)},o}n.name="AccessorNode",n.path="expression.node",n.factory=r},{"./Node":245,"./utils/access":253}],237:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(function(t){return t&&t.isNode}))throw new TypeError("Array containing Nodes expected");var e=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:e,set:e})}var a=r(t("./Node"));return o.prototype=new a,o.prototype.type="ArrayNode",o.prototype.isArrayNode=!0,o.prototype._compile=function(t,e){var n="Array"!==t.math.config().matrix,r=this.items.map(function(n){return n._compile(t,e)});return(n?"math.matrix([":"[")+r.join(",")+(n?"])":"]")},o.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];t(n,"items["+e+"]",this)}},o.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new o(e)},o.prototype.clone=function(){return new o(this.items.slice(0))},o.prototype._toString=function(t){var e=this.items.map(function(e){return e.toString(t)});return"["+e.join(", ")+"]"},o.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach(function(n){e+=n.items?n.items.map(function(e){return e.toTex(t)}).join("&"):n.toTex(t),e+="\\\\"}),e+="\\end{bmatrix}"},o}n.name="ArrayNode",n.path="expression.node",n.factory=r},{"./Node":245}],238:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=n?e:null,this.value=n?n:e,!t||!t.isSymbolNode&&!t.isAccessorNode)throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(t&&t.isSymbolNode&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!this.index.isIndexNode)throw new TypeError('IndexNode expected as "index"');if(!this.value||!this.value.isNode)throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(t,e){e||(e="keep");var n=l.getPrecedence(t,e),r=l.getPrecedence(t.value,e);return"all"===e||null!==r&&r<=n}var s=r(t("./Node")),u=(r(t("./ArrayNode")),r(t("../../type/matrix/function/matrix")),r(t("./utils/assign"))),c=r(t("./utils/access")),l=(t("../keywords"),t("../operators"));return o.prototype=new s,o.prototype.type="AssignmentNode",o.prototype.isAssignmentNode=!0,o.prototype._compile=function(t,e){t.assign=u,t.access=c;var n,r=this.object._compile(t,e),i=this.index?this.index._compile(t,e):null,o=this.value._compile(t,e);if(this.index){if(this.index.isObjectProperty())return r+'["'+this.index.getObjectProperty()+'"] = '+o;if(this.object.isSymbolNode)return n=this.index.needsSize()?"var size = math.size(object).valueOf();":"","(function () {  var object = "+r+";  var value = "+o+";  "+n+'  scope["'+this.object.name+'"] = assign(object, '+i+", value);  return value;})()";n=this.index.needsSize()?"var size = math.size(object).valueOf();":"";var a=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var s='["'+this.object.index.getObjectProperty()+'"]';return"(function () {  var parent = "+a+";  var object = parent"+s+";  var value = "+o+";"+n+"  parent"+s+" = assign(object, "+i+", value);  return value;})()"}var l=this.object.index.needsSize()?"var size = math.size(parent).valueOf();":"",f=this.object.index._compile(t,e);return"(function () {  var parent = "+a+";  "+l+"  var parentIndex = "+f+";  var object = access(parent, parentIndex);  var value = "+o+";  "+n+"  assign(parent, parentIndex, assign(object, "+i+", value));  return value;})()"}if(!this.object.isSymbolNode)throw new TypeError("SymbolNode expected as object");return'scope["'+this.object.name+'"] = '+o},o.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},o.prototype.map=function(t){var e=this._ifNode(t(this.object,"object",this)),n=this.index?this._ifNode(t(this.index,"index",this)):null,r=this._ifNode(t(this.value,"value",this));return new o(e,n,r)},o.prototype.clone=function(){return new o(this.object,this.index,this.value)},o.prototype._toString=function(t){var e=this.object.toString(t),n=this.index?this.index.toString(t):"",r=this.value.toString(t);return a(this,t&&t.parenthesis)&&(r="("+r+")"),e+n+" = "+r},o.prototype._toTex=function(t){var e=this.object.toTex(t),n=this.index?this.index.toTex(t):"",r=this.value.toTex(t);return a(this,t&&t.parenthesis)&&(r="\\left("+r+"\\right)"),e+n+":="+r},o}t("../../utils/latex");n.name="AssignmentNode",n.path="expression.node",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/latex":526,"../keywords":235,"../operators":255,"./ArrayNode":237,"./Node":245,"./utils/access":253,"./utils/assign":254}],239:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map(function(t){var e=t&&t.node,n=!t||void 0===t.visible||t.visible;if(!e||!e.isNode)throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:e,visible:n}})}var a=r(t("./Node")),s=r(t("../../type/resultset/ResultSet"));return o.prototype=new a,o.prototype.type="BlockNode",o.prototype.isBlockNode=!0,o.prototype._compile=function(t,e){t.ResultSet=s;var n=this.blocks.map(function(n){var r=n.node._compile(t,e);return n.visible?"results.push("+r+");":r+";"});return"(function () {var results = [];"+n.join("")+"return new ResultSet(results);})()"},o.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},o.prototype.map=function(t){for(var e=[],n=0;n<this.blocks.length;n++){var r=this.blocks[n],i=this._ifNode(t(r.node,"blocks["+n+"].node",this));e[n]={node:i,visible:r.visible}}return new o(e)},o.prototype.clone=function(){var t=this.blocks.map(function(t){return{node:t.node,visible:t.visible}});return new o(t)},o.prototype._toString=function(t){return this.blocks.map(function(e){return e.node.toString(t)+(e.visible?"":";")}).join("\n")},o.prototype._toTex=function(t){return this.blocks.map(function(e){return e.node.toTex(t)+(e.visible?"":";")}).join("\\;\\;\n")},o}n.name="BlockNode",n.path="expression.node",n.factory=r},{"../../type/resultset/ResultSet":495,"./Node":245}],240:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Parameter condition must be a Node");if(!e||!e.isNode)throw new TypeError("Parameter trueExpr must be a Node");if(!n||!n.isNode)throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n}var s=r(t("./Node"));return a.prototype=new s,a.prototype.type="ConditionalNode",a.prototype.isConditionalNode=!0,a.prototype._compile=function(t,e){return t.testCondition=function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(e.isBigNumber===!0)return!e.isZero();if(e.isComplex===!0)return!(!e.re&&!e.im);if(e.isUnit===!0)return!!e.value}if(null===e||void 0===e)return!1;throw new TypeError('Unsupported type of condition "'+t.math["typeof"](e)+'"')},"testCondition("+this.condition._compile(t,e)+") ? ( "+this.trueExpr._compile(t,e)+") : ( "+this.falseExpr._compile(t,e)+")"},a.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},a.prototype.map=function(t){return new a(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},a.prototype.clone=function(){return new a(this.condition,this.trueExpr,this.falseExpr)},a.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=i.getPrecedence(this,e),r=this.condition.toString(t),o=i.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==o&&o<=n)&&(r="("+r+")");var a=this.trueExpr.toString(t),s=i.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(a="("+a+")");var u=this.falseExpr.toString(t),c=i.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u="("+u+")"),r+" ? "+a+" : "+u},a.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},a}var i=(t("../../utils/latex"),t("../operators"));n.name="ConditionalNode",n.path="expression.node",n.factory=r},{"../../utils/latex":526,"../operators":255,"./Node":245}],241:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(e){if("string"!=typeof e)throw new TypeError('String expected for parameter "valueType"');if("string"!=typeof t)throw new TypeError('String expected for parameter "value"');this.value=t,this.valueType=e}else this.value=t+"",this.valueType=i(t);if(!u[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var s=r(t("./Node")),u={number:!0,string:!0,"boolean":!0,undefined:!0,"null":!0};return a.prototype=new s,a.prototype.type="ConstantNode",a.prototype.isConstantNode=!0,a.prototype._compile=function(t,e){switch(this.valueType){case"number":var n=t.math.config().number;return"BigNumber"===n?'math.bignumber("'+this.value+'")':"Fraction"===n?'math.fraction("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(t,e){return t.substring(e.length)});case"string":return'"'+this.value+'"';case"boolean":return this.value;case"undefined":return this.value;case"null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"')}},a.prototype.forEach=function(t){},a.prototype.map=function(t){return this.clone()},a.prototype.clone=function(){return new a(this.value,this.valueType)},a.prototype._toString=function(t){switch(this.valueType){case"string":return'"'+this.value+'"';default:return this.value}},a.prototype._toTex=function(t){var e,n=this.value;switch(this.valueType){case"string":return'\\mathtt{"'+n+'"}';case"number":return e=n.toLowerCase().indexOf("e"),e!==-1?n.substring(0,e)+"\\cdot10^{"+n.substring(e+1)+"}":n;default:return n}},a}var i=t("../../utils/types").type;n.name="ConstantNode",n.path="expression.node",n.factory=r},{"../../utils/types":530,"./Node":245}],242:[function(t,e,n){"use strict";function r(e,n,r,s){function u(t,e,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!n||!n.isNode)throw new TypeError('Node expected for parameter "expr"');if(t in i)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map(function(t){return t&&t.name||t}),this.types=e.map(function(t){return t&&t.type||"any"}),this.expr=n}function c(t,e){var n=a.getPrecedence(t,e),r=a.getPrecedence(t.expr,e);return"all"===e||null!==r&&r<=n}var l=r(t("./Node"));return u.prototype=new l,u.prototype.type="FunctionAssignmentNode",u.prototype.isFunctionAssignmentNode=!0,u.prototype._compile=function(t,e){t.typed=s;var n=Object.create(e);this.params.forEach(function(t){n[t]=!0});var r=this.expr._compile(t,n);return'scope["'+this.name+'"] =   (function () {    var fn = typed("'+this.name+'", {      "'+this.types.join(",")+'": function ('+this.params.join(",")+") {        return "+r+'      }    });    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })()'},u.prototype.forEach=function(t){t(this.expr,"expr",this)},u.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new u(this.name,this.params.slice(0),e)},u.prototype.clone=function(){return new u(this.name,this.params.slice(0),this.expr)},u.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toString(t);return c(this,e)&&(n="("+n+")"),"function "+this.name+"("+this.params.join(", ")+") = "+n},u.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toTex(t);return c(this,e)&&(n="\\left("+n+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(o.toSymbol).join(",")+"\\right):="+n},u}var i=t("../keywords"),o=t("../../utils/latex"),a=t("../operators");n.name="FunctionAssignmentNode",n.path="expression.node",n.factory=r},{"../../utils/latex":526,"../keywords":235,"../operators":255,"./Node":245}],243:[function(t,e,n){"use strict";function r(e,n,r,o,a){function s(t,e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new l(t)),!t||!t.isNode)throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function u(t,e,n){for(var r,i="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),a=0;null!==(r=o.exec(t));)if(i+=t.substring(a,r.index),a=r.index,"$$"===r[0])i+="$",a++;else{a+=r[0].length;var s=e[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof s){case"string":i+=s;break;case"object":if(s.isNode)i+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=s.map(function(t,e){if(t&&t.isNode)return t.toTex(n);throw new TypeError("Template: "+r[1]+"["+e+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!s[r[2]]||!s[r[2]].isNode)throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=s[r[2]].toTex(n)}}return i+=t.slice(a)}var c=r(t("./Node")),l=r(t("./SymbolNode"));s.prototype=new c,s.prototype.type="FunctionNode",s.prototype.isFunctionNode=!0,s.prototype._compile=function(t,e){var n,r=this.fn._compile(t,e),i=this.args.map(function(n){return n._compile(t,e)});if(this.fn.isSymbolNode){var o=this.fn.name,a=t.math[o],s="function"==typeof a&&1==a.rawArgs;return s?(n=this._getUniqueArgumentsName(t),t[n]=this.args,r+"("+n+", math, scope)"):r+"("+i.join(", ")+")"}if(this.fn.isAccessorNode&&this.fn.index.isObjectProperty()){n=this._getUniqueArgumentsName(t),t[n]=this.args;var u=this.fn.object._compile(t,e),c=this.fn.index.getObjectProperty();return"(function () {var object = "+u+';return (object["'+c+'"] && object["'+c+'"].rawArgs)  ? object["'+c+'"]('+n+', math, scope) : object["'+c+'"]('+i.join(", ")+")})()"}return n=this._getUniqueArgumentsName(t),t[n]=this.args,"(function () {var fn = "+r+";return (fn && fn.rawArgs)  ? fn("+n+", math, scope) : fn("+i.join(", ")+")})()"},s.prototype._getUniqueArgumentsName=function(t){var e,n=0;do e="args"+n,n++;while(e in t);return e},s.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},s.prototype.map=function(t){for(var e=this.fn.map(t),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new s(e,n)},s.prototype.clone=function(){return new s(this.fn,this.args.slice(0))};var f=s.prototype.toString;s.prototype.toString=function(t){var e,n=this.fn.toString(t);return t&&"object"==typeof t.handler&&t.handler.hasOwnProperty(n)&&(e=t.handler[n](this,t)),"undefined"!=typeof e?e:f.call(this,t)},s.prototype._toString=function(t){var e=this.args.map(function(e){return e.toString(t)});return this.fn.toString(t)+"("+e.join(", ")+")"};var h=s.prototype.toTex;return s.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&t.handler.hasOwnProperty(this.name)&&(e=t.handler[this.name](this,t)),"undefined"!=typeof e?e:h.call(this,t)},s.prototype._toTex=function(t){var e,n=this.args.map(function(e){return e.toTex(t)});!a[this.name]||"function"!=typeof a[this.name].toTex&&"object"!=typeof a[this.name].toTex&&"string"!=typeof a[this.name].toTex||(e=a[this.name].toTex);var r;switch(typeof e){case"function":r=e(this,t);break;case"string":r=u(e,this,t);break;case"object":switch(typeof e[n.length]){case"function":r=e[n.length](this,t);break;case"string":r=u(e[n.length],this,t)}}return"undefined"!=typeof r?r:u(i.defaultTemplate,this,t)},s.prototype.getIdentifier=function(){return this.type+":"+this.name},s}var i=t("../../utils/latex");n.name="FunctionNode",n.path="expression.node",n.math=!0,n.factory=r},{"../../utils/latex":526,"./Node":245,"./SymbolNode":250}],244:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!u(t)||!t.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}var a=r(t("./Node")),s=(r(t("./RangeNode")),r(t("./SymbolNode")),r(t("../../type/matrix/Range"))),u=Array.isArray;return o.prototype=new a,o.prototype.type="IndexNode",o.prototype.isIndexNode=!0,o.prototype._compile=function(t,e){var n=Object.create(e);t.range=function(t,e,n){return new s(t&&t.isBigNumber===!0?t.toNumber():t,e&&e.isBigNumber===!0?e.toNumber():e,n&&n.isBigNumber===!0?n.toNumber():n)};var r=this.dimensions.map(function(e,r){return e&&e.isRangeNode?e.needsEnd()?(n.end=!0,"(function () {var end = size["+r+"]; return range("+e.start._compile(t,n)+", "+e.end._compile(t,n)+", "+(e.step?e.step._compile(t,n):"1")+"); })()"):"range("+e.start._compile(t,n)+", "+e.end._compile(t,n)+", "+(e.step?e.step._compile(t,n):"1")+")":e.isSymbolNode&&"end"===e.name?(n.end=!0,"(function () {var end = size["+r+"]; return "+e._compile(t,n)+"; })()"):e._compile(t,n)});return"math.index("+r.join(", ")+")"},o.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},o.prototype.map=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this._ifNode(t(this.dimensions[n],"dimensions["+n+"]",this));return new o(e)},o.prototype.clone=function(){return new o(this.dimensions.slice(0))},o.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&this.dimensions[0].isConstantNode&&"string"===this.dimensions[0].valueType},o.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null;
},o.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},o.prototype._toTex=function(t){var e=this.dimensions.map(function(e){return e.toTex(t)});return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},o.prototype.needsSize=function(){return this.dimensions.some(function(t){return t.isRangeNode&&t.needsEnd()||t.isSymbolNode&&"end"===t.name})},o}n.name="IndexNode",n.path="expression.node",n.factory=r},{"../../type/matrix/Range":473,"./Node":245,"./RangeNode":249,"./SymbolNode":250}],245:[function(t,e,n){"use strict";function r(t,e,n,r,o){function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator")}function s(t){for(var e in t)if(t.hasOwnProperty(e)&&e in i)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}return a.prototype.eval=function(t){return this.compile().eval(t)},a.prototype.type="Node",a.prototype.isNode=!0,a.prototype.comment="",a.prototype.compile=function(){if(arguments.length>0)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");var t={math:o.expression.transform,args:{},_validateScope:s},e={},n=this._compile(t,e),r=Object.keys(t).map(function(t){return"    var "+t+' = defs["'+t+'"];'}),i=r.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+n+";  }};",a=new Function("defs",i);return a(t)},a.prototype._compile=function(t,e){throw new Error("Cannot compile a Node interface")},a.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},a.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},a.prototype._ifNode=function(t){if(!t||!t.isNode)throw new TypeError("Callback function must return a Node");return t},a.prototype.traverse=function(t){function e(t,n){t.forEach(function(t,r,i){n(t,r,i),e(t,n)})}t(this,null,null),e(this,t)},a.prototype.transform=function(t){function e(t,n){return t.map(function(t,r,i){var o=n(t,r,i);return e(o,n)})}var n=t(this,null,null);return e(n,t)},a.prototype.filter=function(t){var e=[];return this.traverse(function(n,r,i){t(n,r,i)&&e.push(n)}),e},a.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},a.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},a.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},a.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof e?e:this._toString(t)},a.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},a.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof e?e:this._toTex(t)},a.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},a.prototype.getIdentifier=function(){return this.type},a.prototype.getContent=function(){return this},a}var i=t("../keywords");t("../../utils/object").extend;n.name="Node",n.path="expression.node",n.math=!0,n.factory=r},{"../../utils/object":528,"../keywords":235}],246:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||Object.keys(t).some(function(e){return!t[e]||!t[e].isNode})))throw new TypeError("Object containing Nodes expected")}var a=r(t("./Node"));return o.prototype=new a,o.prototype.type="ObjectNode",o.prototype.isObjectNode=!0,o.prototype._compile=function(t,e){var n=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&n.push('"'+r+'": '+this.properties[r]._compile(t,e));return"{"+n.join(", ")+"}"},o.prototype.forEach=function(t){for(var e in this.properties)this.properties.hasOwnProperty(e)&&t(this.properties[e],'properties["'+e+'"]',this)},o.prototype.map=function(t){var e={};for(var n in this.properties)this.properties.hasOwnProperty(n)&&(e[n]=this._ifNode(t(this.properties[n],'properties["'+n+'"]',this)));return new o(e)},o.prototype.clone=function(){var t={};for(var e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this.properties[e]);return new o(t)},o.prototype._toString=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push('"'+n+'": '+this.properties[n].toString(t));return"{"+e.join(", ")+"}"},o.prototype._toTex=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}"+e.join("\n")+"\\end{array}\\right\\}"},o}t("../../utils/string");n.name="ObjectNode",n.path="expression.node",n.factory=r},{"../../utils/string":529,"./Node":245}],247:[function(t,e,n){"use strict";function r(e,n,r,a,s){function u(t,e,n,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=r===!0,this.op=t,this.fn=e,this.args=n||[]}function c(t,e,n,r){var i=o.getPrecedence(t,e),a=o.getAssociativity(t,e);if("all"===e||n.length>2){var s=[];return n.forEach(function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":s.push(!1);break;default:s.push(!0)}}),s}switch(n.length){case 0:return[];case 1:var u=o.getPrecedence(n[0],e);if(r&&null!==u){var c,l;if("keep"===e?(c=n[0].getIdentifier(),l=t.getIdentifier()):(c=n[0].getContent().getIdentifier(),l=t.getContent().getIdentifier()),o.properties[i][l].latexLeftParens===!1)return[!1];if(o.properties[u][c].latexParens===!1)return[!1]}return null===u?[!1]:u<=i?[!0]:[!1];case 2:var f,h=o.getPrecedence(n[0],e),p=o.isAssociativeWith(t,n[0],e);f=null!==h&&(h===i&&"right"===a&&!p||h<i);var d,m=o.getPrecedence(n[1],e),g=o.isAssociativeWith(t,n[1],e);if(d=null!==m&&(m===i&&"left"===a&&!g||m<i),r){var l,y,v;"keep"===e?(l=t.getIdentifier(),y=t.args[0].getIdentifier(),v=t.args[1].getIdentifier()):(l=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),v=t.args[1].getContent().getIdentifier()),null!==h&&(o.properties[i][l].latexLeftParens===!1&&(f=!1),o.properties[h][y].latexParens===!1&&(f=!1)),null!==m&&(o.properties[i][l].latexRightParens===!1&&(d=!1),o.properties[m][v].latexParens===!1&&(d=!1))}return[f,d]}}var l=r(t("./Node"));r(t("./ConstantNode")),r(t("./SymbolNode")),r(t("./FunctionNode"));return u.prototype=new l,u.prototype.type="OperatorNode",u.prototype.isOperatorNode=!0,u.prototype._compile=function(t,e){if(!t.math[this.fn])throw new Error("Function "+this.fn+' missing in provided namespace "math"');var n=this.args.map(function(n){return n._compile(t,e)});return"math."+this.fn+"("+n.join(", ")+")"},u.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},u.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new u(this.op,this.fn,e)},u.prototype.clone=function(){return new u(this.op,this.fn,this.args.slice(0))},u.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,i=c(this,e,r,!1);switch(r.length){case 1:var a=o.getAssociativity(this,e),s=r[0].toString(t);return i[0]&&(s="("+s+")"),"right"===a?this.op+s:"left"===a?s+this.op:s+this.op;case 2:var u=r[0].toString(t),l=r[1].toString(t);return i[0]&&(u="("+u+")"),i[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==n?u+" "+l:u+" "+this.op+" "+l;default:return this.fn+"("+this.args.join(", ")+")"}},u.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,a=c(this,e,r,!0),s=i.operators[this.fn];switch(s="undefined"==typeof s?this.op:s,r.length){case 1:var u=o.getAssociativity(this,e),l=r[0].toTex(t);return a[0]&&(l="\\left("+l+"\\right)"),"right"===u?s+l:"left"===u?l+s:l+s;case 2:var f=r[0],h=f.toTex(t);a[0]&&(h="\\left("+h+"\\right)");var p=r[1],d=p.toTex(t);a[1]&&(d="\\left("+d+"\\right)");var m;switch(m="keep"===e?f.getIdentifier():f.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return s+"{"+h+"}{"+d+"}";case"OperatorNode:pow":switch(h="{"+h+"}",d="{"+d+"}",m){case"ConditionalNode":case"OperatorNode:divide":h="\\left("+h+"\\right)"}case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return h+"~"+d}return h+s+d;default:return"\\mathrm{"+this.fn+"}\\left("+r.map(function(e){return e.toTex(t)}).join(",")+"\\right)"}},u.prototype.getIdentifier=function(){return this.type+":"+this.fn},u}var i=t("../../utils/latex"),o=t("../operators");n.name="OperatorNode",n.path="expression.node",n.math=!0,n.factory=r},{"../../utils/latex":526,"../operators":255,"./ConstantNode":241,"./FunctionNode":243,"./Node":245,"./SymbolNode":250}],248:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "content"');this.content=t}var a=r(t("./Node"));return o.prototype=new a,o.prototype.type="ParenthesisNode",o.prototype.isParenthesisNode=!0,o.prototype._compile=function(t,e){return this.content._compile(t,e)},o.prototype.getContent=function(){return this.content.getContent()},o.prototype.forEach=function(t){t(this.content,"content",this)},o.prototype.map=function(t){var e=t(this.content,"content",this);return new o(e)},o.prototype.clone=function(){return new o(this.content)},o.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},o.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left("+this.content.toTex(t)+"\\right)":this.content.toTex(t)},o}n.name="ParenthesisNode",n.path="expression.node",n.factory=r},{"./Node":245}],249:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Node expected");if(!e||!e.isNode)throw new TypeError("Node expected");if(n&&(!n||!n.isNode))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null}function s(t,e){var n=i.getPrecedence(t,e),r={},o=i.getPrecedence(t.start,e);if(r.start=null!==o&&o<=n||"all"===e,t.step){var a=i.getPrecedence(t.step,e);r.step=null!==a&&a<=n||"all"===e}var s=i.getPrecedence(t.end,e);return r.end=null!==s&&s<=n||"all"===e,r}var u=r(t("./Node"));return a.prototype=new u,a.prototype.type="RangeNode",a.prototype.isRangeNode=!0,a.prototype.needsEnd=function(){var t=this.filter(function(t){return t&&t.isSymbolNode&&"end"==t.name});return t.length>0},a.prototype._compile=function(t,e){return"math.range("+this.start._compile(t,e)+", "+this.end._compile(t,e)+(this.step?", "+this.step._compile(t,e):"")+")"},a.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},a.prototype.map=function(t){return new a(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},a.prototype.clone=function(){return new a(this.start,this.end,this.step&&this.step)},a.prototype._toString=function(t){var e,n=t&&t.parenthesis?t.parenthesis:"keep",r=s(this,n),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var o=this.step.toString(t);r.step&&(o="("+o+")"),e+=":"+o}var a=this.end.toString(t);return r.end&&(a="("+a+")"),e+=":"+a},a.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=s(this,e),r=this.start.toTex(t);if(n.start&&(r="\\left("+r+"\\right)"),this.step){var i=this.step.toTex(t);n.step&&(i="\\left("+i+"\\right)"),r+=":"+i}var o=this.end.toTex(t);return n.end&&(o="\\left("+o+"\\right)"),r+=":"+o},a}var i=t("../operators");n.name="RangeNode",n.path="expression.node",n.factory=r},{"../operators":255,"./Node":245}],250:[function(t,e,n){"use strict";function r(e,n,r,o,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}function u(t){throw new Error("Undefined symbol "+t)}var c=r(t("./Node")),l=r(t("../../type/unit/Unit"));return s.prototype=new c,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,e){return t.undef=u,t.Unit=l,e[this.name]?this.name:this.name in t.math?'("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])':'("'+this.name+'" in scope ? scope["'+this.name+'"] : '+(l.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(t){return this.name},s.prototype._toTex=function(t){var e=!1;"undefined"==typeof a[this.name]&&l.isValuelessUnit(this.name)&&(e=!0);var n=i.toSymbol(this.name,e);return"\\"===n[0]?n:" "+n},s}var i=t("../../utils/latex");n.name="SymbolNode",n.path="expression.node",n.math=!0,n.factory=r},{"../../type/unit/Unit":498,"../../utils/latex":526,"./Node":245}],251:[function(t,e,n){"use strict";function r(t,e,n,r){function i(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}return i}n.name="UpdateNode",n.path="expression.node",n.factory=r},{}],252:[function(t,e,n){e.exports=[t("./AccessorNode"),t("./ArrayNode"),t("./AssignmentNode"),t("./BlockNode"),t("./ConditionalNode"),t("./ConstantNode"),t("./IndexNode"),t("./FunctionAssignmentNode"),t("./FunctionNode"),t("./Node"),t("./ObjectNode"),t("./OperatorNode"),t("./ParenthesisNode"),t("./RangeNode"),t("./SymbolNode"),t("./UpdateNode")]},{"./AccessorNode":236,"./ArrayNode":237,"./AssignmentNode":238,"./BlockNode":239,"./ConditionalNode":240,"./ConstantNode":241,"./FunctionAssignmentNode":242,"./FunctionNode":243,"./IndexNode":244,"./Node":245,"./ObjectNode":246,"./OperatorNode":247,"./ParenthesisNode":248,"./RangeNode":249,"./SymbolNode":250,"./UpdateNode":251}],253:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/matrix/subset")),s=r(t("../../../type/matrix/function/matrix"));return function(t,e){try{if(Array.isArray(t))return s(t).subset(e).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e);if("string"==typeof t)return a(t,e);if("object"==typeof t){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return t[e.getObjectProperty()]}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw i(n)}}}var i=t("../../transform/error.transform").transform;n.factory=r},{"../../../function/matrix/subset":374,"../../../type/matrix/function/matrix":477,"../../transform/error.transform":258}],254:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/matrix/subset")),s=r(t("../../../type/matrix/function/matrix"));return function(t,e,n){try{if(Array.isArray(t))return s(t).subset(e,n).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e,n);if("string"==typeof t)return a(t,e,n);if("object"==typeof t){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return t[e.getObjectProperty()]=n,t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw i(r)}}}var i=t("../../transform/error.transform").transform;n.factory=r},{"../../../function/matrix/subset":374,"../../../type/matrix/function/matrix":477,"../../transform/error.transform":258}],255:[function(t,e,n){"use strict";function r(t,e){var n=t;"keep"!==e&&(n=t.getContent());for(var r=n.getIdentifier(),i=0;i<a.length;i++)if(r in a[i])return i;return null}function i(t,e){var n=t;"keep"!==e&&(n=t.getContent());var i=n.getIdentifier(),o=r(n,e);if(null===o)return null;var s=a[o][i];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+s.associativity+"'.")}return null}function o(t,e,n){var i=t,o=e;if("keep"!==n)var i=t.getContent(),o=e.getContent();var s=i.getIdentifier(),u=o.getIdentifier(),c=r(i,n);if(null===c)return null;var l=a[c][s];if(l.hasOwnProperty("associativeWith")&&l.associativeWith instanceof Array){for(var f=0;f<l.associativeWith.length;f++)if(l.associativeWith[f]===u)return!0;return!1}return null}var a=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];e.exports.properties=a,e.exports.getPrecedence=r,e.exports.getAssociativity=i,e.exports.isAssociativeWith=o},{}],256:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){if(1!=arguments.length&&2!=arguments.length)throw new i("parse",arguments.length,1,2);if(yt=n&&n.nodes?n.nodes:{},"string"==typeof t)return vt=t,w();if(Array.isArray(t)||t instanceof e.Matrix)return o(t,function(t){if("string"!=typeof t)throw new TypeError("String expected");return vt=t,w()});throw new TypeError("String or matrix expected")}function u(){bt=0,wt=vt.charAt(0),Mt=0,Et=null}function c(){bt++,wt=vt.charAt(bt)}function l(){return vt.charAt(bt+1)}function f(){return vt.charAt(bt+2)}function h(){for(Nt=dt.NULL,_t="",xt="";y(wt);)c();if("#"==wt)for(;"\n"!=wt&&""!=wt;)xt+=wt,c();if(""==wt)return void(Nt=dt.DELIMITER);if("\n"==wt&&!Mt)return Nt=dt.DELIMITER,_t=wt,void c();var t=wt+l(),e=t+f();if(3==e.length&&mt[e])return Nt=dt.DELIMITER,_t=e,c(),c(),void c();if(2==t.length&&mt[t])return Nt=dt.DELIMITER,_t=t,c(),void c();if(mt[wt])return Nt=dt.DELIMITER,_t=wt,void c();if(!x(wt)){if(g()){for(;g()||b(wt);)_t+=wt,c();return void(Nt=gt.hasOwnProperty(_t)?dt.DELIMITER:dt.SYMBOL)}for(Nt=dt.UNKNOWN;""!=wt;)_t+=wt,c();throw K('Syntax error in part "'+_t+'"')}if(Nt=dt.NUMBER,"."==wt)_t+=wt,c(),b(wt)||(Nt=dt.DELIMITER);else{for(;b(wt);)_t+=wt,c();v(wt,l())&&(_t+=wt,c())}for(;b(wt);)_t+=wt,c();if(t=l(),"E"==wt||"e"==wt)if(b(t)||"-"==t||"+"==t){if(_t+=wt,c(),"+"!=wt&&"-"!=wt||(_t+=wt,c()),!b(wt))throw K('Digit expected, got "'+wt+'"');for(;b(wt);)_t+=wt,c();if(v(wt,l()))throw K('Digit expected, got "'+wt+'"')}else if("."==t)throw c(),K('Digit expected, got "'+wt+'"')}function p(){do h();while("\n"==_t)}function d(){Mt++}function m(){Mt--}function g(){var t=vt.charAt(bt-1),e=vt.charAt(bt+1),n=function(t){return/^[a-zA-Z_\u00C0-\u02AF\u0370-\u03FF]$/.test(t)},r=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)};return n(wt)||r(wt,e)||r(t,wt)}function y(t){return" "==t||"\t"==t||"\n"==t&&Mt>0}function v(t,e){return"."==t&&!mt[t+e]}function x(t){return t>="0"&&t<="9"||"."==t}function b(t){return t>="0"&&t<="9"}function w(){u(),h();var t=_();if(""!=_t)throw Nt==dt.DELIMITER?Q("Unexpected operator "+_t):K('Unexpected part "'+_t+'"');return t}function _(){var t,e,n=[];if(""==_t)return t=new ot("undefined","undefined"),t.comment=xt,t;for("\n"!=_t&&";"!=_t&&(t=N(),t.comment=xt);"\n"==_t||";"==_t;)0==n.length&&t&&(e=";"!=_t,n.push({node:t,visible:e})),h(),"\n"!=_t&&";"!=_t&&""!=_t&&(t=N(),t.comment=xt,e=";"!=_t,n.push({node:t,visible:e}));return n.length>0?new rt(n):t}function N(){var t,e,n,r,i=M();if("="==_t){if(i&&i.isSymbolNode)return t=i.name,p(),n=N(),new nt(new pt(t),n);if(i&&i.isAccessorNode)return p(),n=N(),new nt(i.object,i.index,n);if(i&&i.isFunctionNode&&(r=!0,e=[],t=i.name,i.args.forEach(function(t,n){t&&t.isSymbolNode?e[n]=t.name:r=!1}),r))return p(),n=N(),new at(t,e,n);throw K("Invalid left hand side of assignment operator =")}return i}function M(){for(var t=E();"?"==_t;){var e=Et;Et=Mt,p();var n=t,r=N();if(":"!=_t)throw K("False part of conditional expression expected");Et=null,p();var i=N();t=new it(n,r,i),Et=e}return t}function E(){for(var t=O();"or"==_t;)p(),t=new ct("or","or",[t,O()]);return t}function O(){for(var t=A();"xor"==_t;)p(),t=new ct("xor","xor",[t,A()]);return t}function A(){for(var t=S();"and"==_t;)p(),t=new ct("and","and",[t,S()]);return t}function S(){for(var t=T();"|"==_t;)p(),t=new ct("|","bitOr",[t,T()]);return t}function T(){for(var t=k();"^|"==_t;)p(),t=new ct("^|","bitXor",[t,k()]);return t}function k(){for(var t=C();"&"==_t;)p(),t=new ct("&","bitAnd",[t,C()]);return t}function C(){var t,e,n,r,i;for(t=P(),e={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};_t in e;)n=_t,r=e[n],p(),i=[t,P()],t=new ct(n,r,i);return t}function P(){var t,e,n,r,i;for(t=j(),e={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};_t in e;)n=_t,r=e[n],p(),i=[t,j()],t=new ct(n,r,i);return t}function j(){var t,e,n,r,i;for(t=z(),e={to:"to","in":"to"};_t in e;)n=_t,r=e[n],p(),"in"===n&&""===_t?t=new ct("*","multiply",[t,new pt("in")],(!0)):(i=[t,z()],t=new ct(n,r,i));return t}function z(){var t,e=[];if(t=":"==_t?new ot("1","number"):R(),":"==_t&&Et!==Mt){for(e.push(t);":"==_t&&e.length<3;)p(),")"==_t||"]"==_t||","==_t||""==_t?e.push(new pt("end")):e.push(R());t=3==e.length?new ht(e[0],e[2],e[1]):new ht(e[0],e[1])}return t}function R(){var t,e,n,r,i;for(t=I(),e={"+":"add","-":"subtract"};_t in e;)n=_t,r=e[n],p(),i=[t,I()],t=new ct(n,r,i);return t}function I(){var t,e,n,r,i;for(t=B(),e=t,n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(_t in n)r=_t,i=n[r],p(),e=B(),t=new ct(r,i,[t,e]);else{if(!(Nt==dt.SYMBOL||"in"==_t&&t&&t.isConstantNode||Nt==dt.NUMBER&&!e.isConstantNode||"("==_t))break;e=B(),t=new ct("*","multiply",[t,e],(!0))}return t}function B(){var t,e,n={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[_t];return n?(t=_t,p(),e=[B()],new ct(t,n,e)):L()}function L(){var t,e,n,r;return t=U(),"^"!=_t&&".^"!=_t||(e=_t,n="^"==e?"pow":"dotPow",p(),r=[t,B()],t=new ct(e,n,r)),t}function U(){var t,e,n,r,i;for(t=q(),e={"!":"factorial","'":"transpose"};_t in e;)n=_t,r=e[n],h(),i=[t],t=new ct(n,r,i),t=F(t);return t}function q(){var t,e=[];if(Nt==dt.SYMBOL&&yt[_t]){if(t=yt[_t],h(),"("==_t){if(e=[],d(),h(),")"!=_t)for(e.push(N());","==_t;)h(),e.push(N());if(")"!=_t)throw K("Parenthesis ) expected");m(),h()}return new t(e)}return D()}function D(){var t,e;return Nt==dt.SYMBOL||Nt==dt.DELIMITER&&_t in gt?(e=_t,h(),t=new pt(e),t=F(t)):$()}function F(t,e){for(var n;!("("!=_t&&"["!=_t&&"."!=_t||e&&e.indexOf(_t)===-1);)if(n=[],"("==_t){if(!t.isSymbolNode&&!t.isAccessorNode)return t;if(d(),h(),")"!=_t)for(n.push(N());","==_t;)h(),n.push(N());if(")"!=_t)throw K("Parenthesis ) expected");m(),h(),t=new ft(t,n)}else if("["==_t){if(d(),h(),"]"!=_t)for(n.push(N());","==_t;)h(),n.push(N());if("]"!=_t)throw K("Parenthesis ] expected");m(),h(),t=new tt(t,new st(n))}else{if(h(),Nt!=dt.SYMBOL)throw K("Property name expected after dot");n.push(new ot(_t)),h();var r=!0;t=new tt(t,new st(n,r))}return t}function $(){var t,e;return'"'==_t?(e=H(),t=new ot(e,"string"),t=F(t)):V()}function H(){for(var t="";""!=wt&&'"'!=wt;)"\\"==wt&&(t+=wt,c()),t+=wt,c();if(h(),'"'!=_t)throw K('End of string " expected');return h(),t}function V(){var t,e,n,r;if("["==_t){if(d(),h(),"]"!=_t){var i=G();if(";"==_t){for(n=1,e=[i];";"==_t;)h(),e[n]=G(),n++;if("]"!=_t)throw K("End of matrix ] expected");m(),h(),r=e[0].items.length;for(var o=1;o<n;o++)if(e[o].items.length!=r)throw Q("Column dimensions mismatch ("+e[o].items.length+" != "+r+")");t=new et(e)}else{if("]"!=_t)throw K("End of matrix ] expected");m(),h(),t=i}}else m(),h(),t=new et([]);return F(t)}return W()}function G(){for(var t=[N()],e=1;","==_t;)h(),t[e]=N(),e++;return new et(t)}function W(){if("{"==_t){var t,e={};do if(h(),"}"!=_t){if('"'==_t)t=H();else{if(Nt!=dt.SYMBOL)throw K("Symbol or string expected as object key");t=_t,h()}if(":"!=_t)throw K("Colon : expected after object key");h(),e[t]=N()}while(","==_t);if("}"!=_t)throw K("Comma , or bracket } expected after object value");h();var n=new ut(e);return n=F(n)}return Y()}function Y(){var t;return Nt==dt.NUMBER?(t=_t,h(),new ot(t,"number")):Z()}function Z(){var t;if("("==_t){if(d(),h(),t=N(),")"!=_t)throw K("Parenthesis ) expected");return m(),h(),t=new lt(t),t=F(t)}return X()}function X(){throw K(""==_t?"Unexpected end of expression":"Value expected")}function J(){return bt-_t.length+1}function K(t){var e=J(),n=new SyntaxError(t+" (char "+e+")");return n["char"]=e,n}function Q(t){var e=J(),n=new SyntaxError(t+" (char "+e+")");return n["char"]=e,n}var tt=r(t("./node/AccessorNode")),et=r(t("./node/ArrayNode")),nt=r(t("./node/AssignmentNode")),rt=r(t("./node/BlockNode")),it=r(t("./node/ConditionalNode")),ot=r(t("./node/ConstantNode")),at=r(t("./node/FunctionAssignmentNode")),st=r(t("./node/IndexNode")),ut=r(t("./node/ObjectNode")),ct=r(t("./node/OperatorNode")),lt=r(t("./node/ParenthesisNode")),ft=r(t("./node/FunctionNode")),ht=r(t("./node/RangeNode")),pt=r(t("./node/SymbolNode")),dt={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},mt={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},gt={mod:!0,to:!0,"in":!0,and:!0,xor:!0,or:!0,not:!0},yt={},vt="",xt="",bt=0,wt="",_t="",Nt=dt.NULL,Mt=0,Et=null;return s}var i=t("../error/ArgumentsError"),o=t("../utils/collection/deepMap");n.name="parse",n.path="expression",n.factory=r},{"../error/ArgumentsError":48,"../utils/collection/deepMap":519,"./node/AccessorNode":236,"./node/ArrayNode":237,"./node/AssignmentNode":238,"./node/BlockNode":239,"./node/ConditionalNode":240,"./node/ConstantNode":241,"./node/FunctionAssignmentNode":242,"./node/FunctionNode":243,"./node/IndexNode":244,"./node/ObjectNode":246,"./node/OperatorNode":247,"./node/ParenthesisNode":248,"./node/RangeNode":249,"./node/SymbolNode":250}],257:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../function/matrix/concat"));return o("concat",{"...any":function(t){var e=t.length-1,n=t[e];"number"==typeof n?t[e]=n-1:n&&n.isBigNumber===!0&&(t[e]=n.minus(1));try{return a.apply(null,t)}catch(r){throw i(r)}}})}var i=t("./error.transform").transform;n.name="concat",n.path="expression.transform",n.factory=r},{"../../function/matrix/concat":355,"./error.transform":258}],258:[function(t,e,n){var r=t("../../error/IndexError");n.transform=function(t){return t&&t.isIndexError?new r(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}},{"../../error/IndexError":50}],259:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e,n){var r,i;if(t[0]&&(r=t[0].compile().eval(n)),t[1])if(t[1]&&t[1].isSymbolNode)i=t[1].compile().eval(n);else{var o=n||{},s=t[1].filter(function(t){return t&&t.isSymbolNode&&!(t.name in e)&&!(t.name in o)})[0],u=Object.create(o),c=t[1].compile();if(!s)throw new Error("No undefined variable found in filter equation");var l=s.name;i=function(t){return u[l]=t,c.eval(u)}}return a(r,i)}var a=r(t("../../function/matrix/filter"));r(t("../node/SymbolNode"));return o.rawArgs=!0,o}t("../../utils/function").maxArgumentCount;n.name="filter",n.path="expression.transform",n.factory=r},{"../../function/matrix/filter":361,"../../utils/function":524,"../node/SymbolNode":250}],260:[function(t,e,n){"use strict";function r(e,n,r,o){r(t("../../function/matrix/forEach"));return o("forEach",{"Array | Matrix, function":function(t,e){var n=i(e),r=function(i,o){Array.isArray(i)?i.forEach(function(t,e){r(t,o.concat(e+1))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};r(t.valueOf(),[])}})}var i=t("../../utils/function").maxArgumentCount;n.name="forEach",n.path="expression.transform",n.factory=r},{"../../function/matrix/forEach":363,"../../utils/function":524}],261:[function(t,e,n){e.exports=[t("./concat.transform"),t("./filter.transform"),t("./forEach.transform"),t("./index.transform"),t("./map.transform"),t("./max.transform"),t("./mean.transform"),t("./min.transform"),t("./range.transform"),t("./subset.transform")]},{"./concat.transform":257,"./filter.transform":259,"./forEach.transform":260,"./index.transform":262,"./map.transform":263,"./max.transform":264,"./mean.transform":265,"./min.transform":266,"./range.transform":267,"./subset.transform":268}],262:[function(t,e,n){"use strict";function r(e,n,r){r(t("../../type/matrix/function/index"));return function(){for(var t=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];if(i&&i.isRange===!0)i.start--,i.end-=i.step>0?0:2;else if(i&&i.isSet===!0)i=i.map(function(t){return t-1});else if(i&&(i.isArray===!0||i.isMatrix))i=i.map(function(t){return t-1});else if("number"==typeof i)i--;else if(i&&i.isBigNumber===!0)i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");
t[n]=i}var o=new e.Index;return e.Index.apply(o,t),o}}Array.isArray;n.name="index",n.path="expression.transform",n.factory=r},{"../../type/matrix/function/index":476}],263:[function(t,e,n){"use strict";function r(e,n,r,o){var a=(r(t("../../function/matrix/map")),r(t("../../type/matrix/function/matrix")));return o("max",{"Array, function":function(t,e){return i(t,e,t)},"Matrix, function":function(t,e){return a(i(t.valueOf(),e,t))}})}function i(t,e,n){function r(t,o){return Array.isArray(t)?t.map(function(t,e){return r(t,o.concat(e+1))}):1===i?e(t):2===i?e(t,o):e(t,o,n)}var i=o(e);return r(t,[])}var o=t("../../utils/function").maxArgumentCount;n.name="map",n.path="expression.transform",n.factory=r},{"../../function/matrix/map":366,"../../type/matrix/function/matrix":477,"../../utils/function":524}],264:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../function/statistics/max"));return a("max",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&e.isBigNumber===!0&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(n){throw i(n)}}})}var i=t("./error.transform").transform,o=t("../../utils/collection/isCollection");n.name="max",n.path="expression.transform",n.factory=r},{"../../function/statistics/max":400,"../../utils/collection/isCollection":520,"./error.transform":258}],265:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../function/statistics/mean"));return a("mean",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&e.isBigNumber===!0&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(n){throw i(n)}}})}var i=t("./error.transform").transform,o=t("../../utils/collection/isCollection");n.name="mean",n.path="expression.transform",n.factory=r},{"../../function/statistics/mean":401,"../../utils/collection/isCollection":520,"./error.transform":258}],266:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../function/statistics/min"));return a("min",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&e.isBigNumber===!0&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(n){throw i(n)}}})}var i=t("./error.transform").transform,o=t("../../utils/collection/isCollection");n.name="min",n.path="expression.transform",n.factory=r},{"../../function/statistics/min":403,"../../utils/collection/isCollection":520,"./error.transform":258}],267:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../function/matrix/range"));return i("range",{"...any":function(t){var e=t.length-1,n=t[e];return"boolean"!=typeof n&&t.push(!0),o.apply(null,t)}})}n.name="range",n.path="expression.transform",n.factory=r},{"../../function/matrix/range":369}],268:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../function/matrix/subset"));return o("subset",{"...any":function(t){try{return a.apply(null,t)}catch(e){throw i(e)}}})}var i=t("./error.transform").transform;n.name="subset",n.path="expression.transform",n.factory=r},{"../../function/matrix/subset":374,"./error.transform":258}],269:[function(t,e,n){"use strict";function r(e,n,r,i){var a=r(t("../../../type/matrix/function/matrix")),s=r(t("../../arithmetic/abs")),u=r(t("../../arithmetic/addScalar")),c=r(t("../../arithmetic/divideScalar")),l=r(t("../../arithmetic/multiplyScalar")),f=r(t("../../arithmetic/subtract")),h=r(t("../../relational/larger")),p=r(t("../../relational/equalScalar")),d=r(t("../../arithmetic/unaryMinus")),m=e.SparseMatrix,g=e.DenseMatrix,y=e.Spa,v=i("lup",{DenseMatrix:function(t){return x(t)},SparseMatrix:function(t){return b(t)},Array:function(t){var e=a(t),n=x(e);return{L:n.L.valueOf(),U:n.U.valueOf(),p:n.p}}}),x=function(t){var e,n,r,i=t._size[0],a=t._size[1],d=Math.min(i,a),m=o.clone(t._data),y=[],v=[i,d],x=[],b=[d,a],w=[];for(e=0;e<i;e++)w[e]=e;for(n=0;n<a;n++){if(n>0)for(e=0;e<i;e++){var _=Math.min(e,n),N=0;for(r=0;r<_;r++)N=u(N,l(m[e][r],m[r][n]));m[e][n]=f(m[e][n],N)}var M=n,E=0,O=0;for(e=n;e<i;e++){var A=m[e][n],S=s(A);h(S,E)&&(M=e,E=S,O=A)}if(n!==M&&(w[n]=[w[M],w[M]=w[n]][0],g._swapRows(n,M,m)),n<i)for(e=n+1;e<i;e++){var T=m[e][n];p(T,0)||(m[e][n]=c(m[e][n],O))}}for(n=0;n<a;n++)for(e=0;e<i;e++)0===n&&(e<a&&(x[e]=[]),y[e]=[]),e<n?(e<a&&(x[e][n]=m[e][n]),n<i&&(y[e][n]=0)):e!==n?(e<a&&(x[e][n]=0),n<i&&(y[e][n]=m[e][n])):(e<a&&(x[e][n]=m[e][n]),n<i&&(y[e][n]=1));var k=new g({data:y,size:v}),C=new g({data:x,size:b}),P=[];for(e=0,d=w.length;e<d;e++)P[w[e]]=e;return{L:k,U:C,p:P,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},b=function(t){var e,n,r,i=t._size[0],o=t._size[1],a=Math.min(i,o),u=t._values,f=t._index,g=t._ptr,v=[],x=[],b=[],w=[i,a],_=[],N=[],M=[],E=[a,o],O=[],A=[];for(e=0;e<i;e++)O[e]=e,A[e]=e;var S=function(t,e){var n=A[t],r=A[e];O[n]=e,O[r]=t,A[t]=r,A[e]=n};for(n=0;n<o;n++){var T=new y;n<i&&(b.push(v.length),v.push(1),x.push(n)),M.push(_.length);var k=g[n],C=g[n+1];for(r=k;r<C;r++)e=f[r],T.set(O[e],u[r]);n>0&&T.forEach(0,n-1,function(t,e){m._forEachRow(t,v,x,b,function(n,r){n>t&&T.accumulate(n,d(l(r,e)))})});var P=n,j=T.get(n),z=s(j);T.forEach(n+1,i-1,function(t,e){var n=s(e);h(n,z)&&(P=t,z=n,j=e)}),n!==P&&(m._swapRows(n,P,w[1],v,x,b),m._swapRows(n,P,E[1],_,N,M),T.swap(n,P),S(n,P)),T.forEach(0,i-1,function(t,e){t<=n?(_.push(e),N.push(t)):(e=c(e,j),p(e,0)||(v.push(e),x.push(t)))})}return M.push(_.length),b.push(v.length),{L:new m({values:v,index:x,ptr:b,size:w}),U:new m({values:_,index:N,ptr:M,size:E}),p:O,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return v}var i=t("../../../utils/index"),o=i.object;n.name="lup",n.factory=r},{"../../../type/matrix/function/matrix":477,"../../../utils/index":525,"../../arithmetic/abs":294,"../../arithmetic/addScalar":296,"../../arithmetic/divideScalar":301,"../../arithmetic/multiplyScalar":316,"../../arithmetic/subtract":324,"../../arithmetic/unaryMinus":325,"../../relational/equalScalar":392,"../../relational/larger":394}],270:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../algebra/sparse/cs_sqr")),s=r(t("../../algebra/sparse/cs_lu")),u=i("slu",{"SparseMatrix, number, number":function(t,e,n){if(!a(e)||e<0||e>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=o(e,t,!1),i=s(t,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}});return u}var i=t("../../../utils/index"),o=i.number,a=o.isInteger;n.name="slu",n.factory=r},{"../../../utils/index":525,"../../algebra/sparse/cs_lu":284,"../../algebra/sparse/cs_sqr":291}],271:[function(t,e,n){e.exports=[t("./decomposition/lup"),t("./decomposition/slu"),t("./solver/lsolve"),t("./solver/lusolve"),t("./solver/usolve")]},{"./decomposition/lup":269,"./decomposition/slu":270,"./solver/lsolve":272,"./solver/lusolve":273,"./solver/usolve":274}],272:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../../type/matrix/function/matrix")),a=r(t("../../arithmetic/divideScalar")),s=r(t("../../arithmetic/multiplyScalar")),u=r(t("../../arithmetic/subtract")),c=r(t("../../relational/equalScalar")),l=r(t("./utils/solveValidation")),f=e.DenseMatrix,h=i("lsolve",{"SparseMatrix, Array | Matrix":function(t,e){return d(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return p(t,e)},"Array, Array | Matrix":function(t,e){var n=o(t),r=p(n,e);return r.valueOf()}}),p=function(t,e){e=l(t,e,!0);for(var n=e._data,r=t._size[0],i=t._size[1],o=[],h=t._data,p=0;p<i;p++){var d,m=n[p][0]||0;if(c(m,0))d=0;else{var g=h[p][p];if(c(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(m,g);for(var y=p+1;y<r;y++)n[y]=[u(n[y][0]||0,s(d,h[y][p]))]}o[p]=[d]}return new f({data:o,size:[r,1]})},d=function(t,e){e=l(t,e,!0);for(var n,r,i=e._data,o=t._size[0],h=t._size[1],p=t._values,d=t._index,m=t._ptr,g=[],y=0;y<h;y++){var v=i[y][0]||0;if(c(v,0))g[y]=[0];else{var x=0,b=[],w=[],_=m[y+1];for(r=m[y];r<_;r++)n=d[r],n===y?x=p[r]:n>y&&(b.push(p[r]),w.push(n));if(c(x,0))throw new Error("Linear system cannot be solved since matrix is singular");var N=a(v,x);for(r=0,_=w.length;r<_;r++)n=w[r],i[n]=[u(i[n][0]||0,s(N,b[r]))];g[y]=[N]}}return new f({data:g,size:[o,1]})};return h}n.name="lsolve",n.factory=r},{"../../../type/matrix/function/matrix":477,"../../arithmetic/divideScalar":301,"../../arithmetic/multiplyScalar":316,"../../arithmetic/subtract":324,"../../relational/equalScalar":392,"./utils/solveValidation":275}],273:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../type/matrix/function/matrix")),s=r(t("../decomposition/lup")),u=r(t("../decomposition/slu")),c=r(t("../sparse/cs_ipvec")),l=r(t("./utils/solveValidation")),f=r(t("./usolve")),h=r(t("./lsolve")),p=o("lusolve",{"Array, Array | Matrix":function(t,e){t=a(t);var n=s(t),r=m(n.L,n.U,n.p,null,e);return r.valueOf()},"DenseMatrix, Array | Matrix":function(t,e){var n=s(t);return m(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix":function(t,e){var n=s(t);return m(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix, number, number":function(t,e,n,r){var i=u(t,n,r);return m(i.L,i.U,i.p,i.q,e)},"Object, Array | Matrix":function(t,e){return m(t.L,t.U,t.p,t.q,e)}}),d=function(t){if(t&&t.isMatrix===!0)return t;if(i(t))return a(t);throw new TypeError("Invalid Matrix LU decomposition")},m=function(t,e,n,r,i){t=d(t),e=d(e),i=l(t,i,!1),n&&(i._data=c(n,i._data));var o=h(t,i),a=f(e,o);return r&&(a._data=c(r,a._data)),a};return p}var i=Array.isArray;n.name="lusolve",n.factory=r},{"../../../type/matrix/function/matrix":477,"../decomposition/lup":269,"../decomposition/slu":270,"../sparse/cs_ipvec":282,"./lsolve":272,"./usolve":274,"./utils/solveValidation":275}],274:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../../type/matrix/function/matrix")),a=r(t("../../arithmetic/divideScalar")),s=r(t("../../arithmetic/multiplyScalar")),u=r(t("../../arithmetic/subtract")),c=r(t("../../relational/equalScalar")),l=r(t("./utils/solveValidation")),f=e.DenseMatrix,h=i("usolve",{"SparseMatrix, Array | Matrix":function(t,e){return d(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return p(t,e)},"Array, Array | Matrix":function(t,e){var n=o(t),r=p(n,e);return r.valueOf()}}),p=function(t,e){e=l(t,e,!0);for(var n=e._data,r=t._size[0],i=t._size[1],o=[],h=t._data,p=i-1;p>=0;p--){var d,m=n[p][0]||0;if(c(m,0))d=0;else{var g=h[p][p];if(c(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(m,g);for(var y=p-1;y>=0;y--)n[y]=[u(n[y][0]||0,s(d,h[y][p]))]}o[p]=[d]}return new f({data:o,size:[r,1]})},d=function(t,e){e=l(t,e,!0);for(var n,r,i=e._data,o=t._size[0],h=t._size[1],p=t._values,d=t._index,m=t._ptr,g=[],y=h-1;y>=0;y--){var v=i[y][0]||0;if(c(v,0))g[y]=[0];else{var x=0,b=[],w=[],_=m[y],N=m[y+1];for(r=N-1;r>=_;r--)n=d[r],n===y?x=p[r]:n<y&&(b.push(p[r]),w.push(n));if(c(x,0))throw new Error("Linear system cannot be solved since matrix is singular");var M=a(v,x);for(r=0,N=w.length;r<N;r++)n=w[r],i[n]=[u(i[n][0],s(M,b[r]))];g[y]=[M]}}return new f({data:g,size:[o,1]})};return h}n.name="usolve",n.factory=r},{"../../../type/matrix/function/matrix":477,"../../arithmetic/divideScalar":301,"../../arithmetic/multiplyScalar":316,"../../arithmetic/subtract":324,"../../relational/equalScalar":392,"./utils/solveValidation":275}],275:[function(t,e,n){"use strict";function r(t){var e=t.DenseMatrix,n=function(t,n,r){var i=t.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+o.format(i)+")");var u=i[0],c=i[1];if(u!==c)throw new RangeError("Matrix must be square (size: "+o.format(i)+")");var l,f,h;if(n&&n.isMatrix===!0){var p=n.size();if(1===p.length){if(p[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],h=n._data,f=0;f<u;f++)l[f]=[h[f]];return new e({data:l,size:[u,1],datatype:n._datatype})}if(2===p.length){if(p[0]!==u||1!==p[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(n.isDenseMatrix===!0){if(r){for(l=[],h=n._data,f=0;f<u;f++)l[f]=[h[f][0]];return new e({data:l,size:[u,1],datatype:n._datatype})}return n}for(l=[],f=0;f<u;f++)l[f]=[0];for(var d=n._values,m=n._index,g=n._ptr,y=g[1],v=g[0];v<y;v++)f=m[v],l[f][0]=d[v];return new e({data:l,size:[u,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(s(n)){var x=a.size(n);if(1===x.length){if(x[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],f=0;f<u;f++)l[f]=[n[f]];return new e({data:l,size:[u,1]})}if(2===x.length){if(x[0]!==u||1!==x[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],f=0;f<u;f++)l[f]=[n[f][0]];return new e({data:l,size:[u,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}};return n}var i=t("../../../../utils/index"),o=i.string,a=i.array,s=Array.isArray;n.factory=r},{"../../../../utils/index":525}],276:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_flip")),o=r(t("./cs_fkeep")),a=r(t("./cs_tdfs")),s=r(t("../../arithmetic/add")),u=r(t("../../arithmetic/multiply")),c=r(t("../../matrix/transpose")),l=function(t,e){if(!e||t<=0||t>3)return null;var n=e._size,r=n[0],s=n[1],u=0,c=Math.max(16,10*Math.sqrt(s));c=Math.min(s-2,c);var l=f(t,e,r,s,c);o(l,m,null);for(var g,y,v,x,b,w,_,N,M,E,O,A,S,T,k,C,P=l._index,j=l._ptr,z=j[s],R=[],I=[],B=0,L=s+1,U=2*(s+1),q=3*(s+1),D=4*(s+1),F=5*(s+1),$=6*(s+1),H=7*(s+1),V=R,G=h(s,j,I,B,q,V,U,H,L,$,D,F),W=p(s,j,I,F,D,$,c,L,q,V,U),Y=0;W<s;){for(v=-1;Y<s&&(v=I[q+Y])==-1;Y++);I[U+v]!=-1&&(V[I[U+v]]=-1),I[q+Y]=I[U+v];var Z=I[D+v],X=I[L+v];W+=X;var J=0;I[L+v]=-X;var K=j[v],Q=0===Z?K:z,tt=Q;for(x=1;x<=Z+1;x++){for(x>Z?(w=v,_=K,N=I[B+v]-Z):(w=P[K++],_=j[w],N=I[B+w]),b=1;b<=N;b++)g=P[_++],(M=I[L+g])<=0||(J+=M,I[L+g]=-M,P[tt++]=g,I[U+g]!=-1&&(V[I[U+g]]=V[g]),V[g]!=-1?I[U+V[g]]=I[U+g]:I[q+I[F+g]]=I[U+g]);w!=v&&(j[w]=i(v),I[$+w]=0)}for(0!==Z&&(z=tt),I[F+v]=J,j[v]=Q,I[B+v]=tt-Q,I[D+v]=-2,G=d(G,u,I,$,s),E=Q;E<tt;E++)if(g=P[E],!((O=I[D+g])<=0)){M=-I[L+g];var et=G-M;for(K=j[g],A=j[g]+O-1;K<=A;K++)w=P[K],I[$+w]>=G?I[$+w]-=M:0!==I[$+w]&&(I[$+w]=I[F+w]+et)}for(E=Q;E<tt;E++){for(g=P[E],A=j[g],S=A+I[D+g]-1,T=A,k=0,C=0,K=A;K<=S;K++)if(w=P[K],0!==I[$+w]){var nt=I[$+w]-G;nt>0?(C+=nt,P[T++]=w,k+=w):(j[w]=i(v),I[$+w]=0)}I[D+g]=T-A+1;var rt=T,it=A+I[B+g];for(K=S+1;K<it;K++){y=P[K];var ot=I[L+y];ot<=0||(C+=ot,P[T++]=y,k+=y)}0===C?(j[g]=i(v),M=-I[L+g],J-=M,X+=M,W+=M,I[L+g]=0,I[D+g]=-1):(I[F+g]=Math.min(I[F+g],C),P[T]=P[rt],P[rt]=P[A],P[A]=v,I[B+g]=T-A+1,k=(k<0?-k:k)%s,I[U+g]=I[H+k],I[H+k]=g,V[g]=k)}for(I[F+v]=J,u=Math.max(u,J),G=d(G+u,u,I,$,s),E=Q;E<tt;E++)if(g=P[E],!(I[L+g]>=0))for(k=V[g],g=I[H+k],I[H+k]=-1;g!=-1&&I[U+g]!=-1;g=I[U+g],G++){for(N=I[B+g],O=I[D+g],K=j[g]+1;K<=j[g]+N-1;K++)I[$+P[K]]=G;var at=g;for(y=I[U+g];y!=-1;){var st=I[B+y]===N&&I[D+y]===O;for(K=j[y]+1;st&&K<=j[y]+N-1;K++)I[$+P[K]]!=G&&(st=0);st?(j[y]=i(g),I[L+g]+=I[L+y],I[L+y]=0,I[D+y]=-1,y=I[U+y],I[U+at]=y):(at=y,y=I[U+y])}}for(K=Q,E=Q;E<tt;E++)g=P[E],(M=-I[L+g])<=0||(I[L+g]=M,C=I[F+g]+J-M,C=Math.min(C,s-W-M),I[q+C]!=-1&&(V[I[q+C]]=g),I[U+g]=I[q+C],V[g]=-1,I[q+C]=g,Y=Math.min(Y,C),I[F+g]=C,P[K++]=g);I[L+v]=X,0===(I[B+v]=K-Q)&&(j[v]=-1,I[$+v]=0),0!==Z&&(z=K)}for(g=0;g<s;g++)j[g]=i(j[g]);for(y=0;y<=s;y++)I[q+y]=-1;for(y=s;y>=0;y--)I[L+y]>0||(I[U+y]=I[q+j[y]],I[q+j[y]]=y);for(w=s;w>=0;w--)I[L+w]<=0||j[w]!=-1&&(I[U+w]=I[q+j[w]],I[q+j[w]]=w);for(v=0,g=0;g<=s;g++)j[g]==-1&&(v=a(g,v,I,q,U,R,$));return R.splice(R.length-1,1),R},f=function(t,e,n,r,i){var o=c(e);if(1===t&&r===n)return s(e,o);if(2==t){for(var a=o._index,l=o._ptr,f=0,h=0;h<n;h++){var p=l[h];if(l[h]=f,!(l[h+1]-p>i))for(var d=l[h+1];p<d;p++)a[f++]=a[p]}return l[n]=f,e=c(o),u(o,e)}return u(o,e)},h=function(t,e,n,r,i,o,a,s,u,c,l,f){for(var h=0;h<t;h++)n[r+h]=e[h+1]-e[h];n[r+t]=0;for(var p=0;p<=t;p++)n[i+p]=-1,o[p]=-1,n[a+p]=-1,n[s+p]=-1,n[u+p]=1,n[c+p]=1,n[l+p]=0,n[f+p]=n[r+p];var m=d(0,0,n,c,t);return n[l+t]=-2,e[t]=-1,n[c+t]=0,m},p=function(t,e,n,r,o,a,s,u,c,l,f){for(var h=0,p=0;p<t;p++){var d=n[r+p];if(0===d)n[o+p]=-2,h++,e[p]=-1,n[a+p]=0;else if(d>s)n[u+p]=0,n[o+p]=-1,h++,e[p]=i(t),n[u+t]++;else{var m=n[c+d];m!=-1&&(l[m]=p),n[f+p]=n[c+d],n[c+d]=p}}return h},d=function(t,e,n,r,i){if(t<2||t+e<0){for(var o=0;o<i;o++)0!==n[r+o]&&(n[r+o]=1);t=2}return t},m=function(t,e){return t!=e};return l}n.name="cs_amd",n.path="sparse",n.factory=r},{"../../arithmetic/add":295,"../../arithmetic/multiply":315,"../../matrix/transpose":376,"./cs_fkeep":280,"./cs_flip":281,"./cs_tdfs":292}],277:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("../../matrix/transpose")),o=r(t("./cs_leaf")),a=function(t,e,n,r){if(!t||!e||!n)return null;var a,s,u,c,l,f,h,p=t._size,d=p[0],m=p[1],g=4*m+(r?m+d+1:0),y=[],v=0,x=m,b=2*m,w=3*m,_=4*m,N=5*m+1;for(u=0;u<g;u++)y[u]=-1;var M=[],E=i(t),O=E._index,A=E._ptr;for(u=0;u<m;u++)for(s=n[u],M[s]=y[w+s]==-1?1:0;s!=-1&&y[w+s]==-1;s=e[s])y[w+s]=u;if(r){for(u=0;u<m;u++)y[n[u]]=u;for(a=0;a<d;a++){for(u=m,f=A[a],h=A[a+1],l=f;l<h;l++)u=Math.min(u,y[O[l]]);y[N+a]=y[_+u],y[_+u]=a}}for(a=0;a<m;a++)y[v+a]=a;for(u=0;u<m;u++){for(s=n[u],e[s]!=-1&&M[e[s]]--,c=r?y[_+u]:s;c!=-1;c=r?y[N+c]:-1)for(l=A[c];l<A[c+1];l++){a=O[l];var S=o(a,s,y,w,x,b,v);S.jleaf>=1&&M[s]++,2==S.jleaf&&M[S.q]--}e[s]!=-1&&(y[v+s]=e[s])}for(s=0;s<m;s++)e[s]!=-1&&(M[e[s]]+=M[s]);return M};return a}n.name="cs_counts",n.path="sparse",n.factory=r},{"../../matrix/transpose":376,"./cs_leaf":283}],278:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_marked")),o=r(t("./cs_mark")),a=r(t("./cs_unflip")),s=function(t,e,n,r,s){var u,c,l,f=e._index,h=e._ptr,p=e._size,d=p[1],m=0;for(r[0]=t;m>=0;){t=r[m];var g=s?s[t]:t;i(h,t)||(o(h,t),r[d+m]=g<0?0:a(h[g]));var y=1;for(c=r[d+m],l=g<0?0:a(h[g+1]);c<l;c++)if(u=f[c],!i(h,u)){r[d+m]=c,r[++m]=u,y=0;break}y&&(m--,r[--n]=t)}return n};return s}n.name="cs_dfs",n.path="sparse",n.factory=r},{"./cs_mark":285,"./cs_marked":286,"./cs_unflip":293}],279:[function(t,e,n){"use strict";function r(){var t=function(t,e){if(!t)return null;var n,r,i=t._index,o=t._ptr,a=t._size,s=a[0],u=a[1],c=[],l=[],f=0,h=u;if(e)for(n=0;n<s;n++)l[h+n]=-1;for(var p=0;p<u;p++){c[p]=-1,l[f+p]=-1;for(var d=o[p],m=o[p+1],g=d;g<m;g++){var y=i[g];for(n=e?l[h+y]:y;n!=-1&&n<p;n=r)r=l[f+n],l[f+n]=p,r==-1&&(c[n]=p);e&&(l[h+y]=p)}}return c};return t}n.name="cs_etree",n.path="sparse",n.factory=r},{}],280:[function(t,e,n){"use strict";function r(){var t=function(t,e,n){for(var r=t._values,i=t._index,o=t._ptr,a=t._size,s=a[1],u=0,c=0;c<s;c++){var l=o[c];for(o[c]=u;l<o[c+1];l++)e(i[l],c,r?r[l]:1,n)&&(i[u]=i[l],r&&(r[u]=r[l]),u++)}return o[s]=u,i.splice(u,i.length-u),r&&r.splice(u,r.length-u),u};return t}n.name="cs_fkeep",n.path="sparse",n.factory=r},{}],281:[function(t,e,n){"use strict";function r(){var t=function(t){return-t-2};return t}n.name="cs_flip",n.path="sparse",n.factory=r},{}],282:[function(t,e,n){"use strict";function r(){var t=function(t,e,n){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i};return t}n.name="cs_ipvec",n.path="sparse",n.factory=r},{}],283:[function(t,e,n){"use strict";function r(){var t=function(t,e,n,r,i,o,a){var s,u,c,l,f=0;if(t<=e||n[r+e]<=n[i+t])return-1;if(n[i+t]=n[r+e],c=n[o+t],n[o+t]=e,c===-1)f=1,l=t;else{for(f=2,l=c;l!=n[a+l];l=n[a+l]);for(s=c;s!=l;s=u)u=n[a+s],n[a+s]=l}return{jleaf:f,q:l}};return t}n.name="cs_leaf",n.path="sparse",n.factory=r},{}],284:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("../../arithmetic/abs")),o=r(t("../../arithmetic/divideScalar")),a=r(t("../../arithmetic/multiply")),s=r(t("../../relational/larger")),u=r(t("../../relational/largerEq")),c=r(t("./cs_spsolve")),l=e.SparseMatrix,f=function(t,e,n){if(!t)return null;var r,f=t._size,h=f[1],p=100,d=100;e&&(r=e.q,p=e.lnz||p,d=e.unz||d);var m,g,y=[],v=[],x=[],b=new l({values:y,index:v,ptr:x,size:[h,h]}),w=[],_=[],N=[],M=new l({values:w,index:_,ptr:N,size:[h,h]}),E=[],O=[],A=[];for(m=0;m<h;m++)O[m]=0,E[m]=-1,x[m+1]=0;p=0,d=0;for(var S=0;S<h;S++){x[S]=p,N[S]=d;var T=r?r[S]:S,k=c(b,t,T,A,O,E,1),C=-1,P=-1;for(g=k;g<h;g++)if(m=A[g],E[m]<0){var j=i(O[m]);s(j,P)&&(P=j,C=m)}else _[d]=E[m],w[d++]=O[m];if(C==-1||P<=0)return null;E[T]<0&&u(i(O[T]),a(P,n))&&(C=T);var z=O[C];for(_[d]=S,w[d++]=z,E[C]=S,v[p]=C,y[p++]=1,g=k;g<h;g++)m=A[g],E[m]<0&&(v[p]=m,y[p++]=o(O[m],z)),O[m]=0}for(x[h]=p,N[h]=d,g=0;g<p;g++)v[g]=E[v[g]];return y.splice(p,y.length-p),v.splice(p,v.length-p),w.splice(d,w.length-d),_.splice(d,_.length-d),{L:b,U:M,pinv:E}};return f}n.name="cs_lu",n.path="sparse",n.factory=r},{"../../arithmetic/abs":294,"../../arithmetic/divideScalar":301,"../../arithmetic/multiply":315,"../../relational/larger":394,"../../relational/largerEq":395,"./cs_spsolve":290}],285:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_flip")),o=function(t,e){t[e]=i(t[e])};return o}n.name="cs_mark",n.path="sparse",n.factory=r},{"./cs_flip":281}],286:[function(t,e,n){"use strict";function r(){var t=function(t,e){return t[e]<0};return t}n.name="cs_marked",n.path="sparse",n.factory=r},{}],287:[function(t,e,n){"use strict";function r(t){var e=t.SparseMatrix,n=function(t,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=t._size,c=t._datatype,l=u[0],f=u[1],h=i&&t._values?[]:null,p=[],d=[],m=0,g=0;g<f;g++){d[g]=m;for(var y=r?r[g]:g,v=s[y],x=s[y+1],b=v;b<x;b++){var w=n?n[a[b]]:a[b];p[m]=w,h&&(h[m]=o[b]),m++}}return d[f]=m,new e({values:h,index:p,ptr:d,size:[l,f],datatype:c})};return n}n.name="cs_permute",n.path="sparse",n.factory=r},{}],288:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_tdfs")),o=function(t,e){if(!t)return null;var n,r=0,o=[],a=[],s=0,u=e,c=2*e;for(n=0;n<e;n++)a[s+n]=-1;for(n=e-1;n>=0;n--)t[n]!=-1&&(a[u+n]=a[s+t[n]],a[s+t[n]]=n);for(n=0;n<e;n++)t[n]==-1&&(r=i(n,r,a,s,u,o,c));return o};return o}n.name="cs_post",n.path="sparse",n.factory=r},{"./cs_tdfs":292}],289:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_dfs")),o=r(t("./cs_marked")),a=r(t("./cs_mark")),s=function(t,e,n,r,s){var u,c,l,f=t._ptr,h=t._size,p=e._index,d=e._ptr,m=h[1],g=m;for(c=d[n],l=d[n+1],u=c;u<l;u++){var y=p[u];o(f,y)||(g=i(y,t,g,r,s))}for(u=g;u<m;u++)a(f,r[u]);return g};return s}n.name="cs_reach",n.path="sparse",n.factory=r},{"./cs_dfs":278,"./cs_mark":285,"./cs_marked":286}],290:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("../../arithmetic/divideScalar")),o=r(t("../../arithmetic/multiply")),a=r(t("../../arithmetic/subtract")),s=r(t("./cs_reach")),u=function(t,e,n,r,u,c,l){var f,h,p,d,m=t._values,g=t._index,y=t._ptr,v=t._size,x=v[1],b=e._values,w=e._index,_=e._ptr,N=s(t,e,n,r,c);for(f=N;f<x;f++)u[r[f]]=0;for(h=_[n],p=_[n+1],f=h;f<p;f++)u[w[f]]=b[f];for(var M=N;M<x;M++){var E=r[M],O=c?c[E]:E;if(!(O<0))for(h=y[O],p=y[O+1],u[E]=i(u[E],m[l?h:p-1]),f=l?h+1:h,d=l?p:p-1;f<d;f++){var A=g[f];u[A]=a(u[A],o(m[f],u[E]))}}return N};return u}n.name="cs_spsolve",n.path="sparse",n.factory=r},{"../../arithmetic/divideScalar":301,"../../arithmetic/multiply":315,"../../arithmetic/subtract":324,"./cs_reach":289}],291:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_amd")),o=r(t("./cs_permute")),a=r(t("./cs_etree")),s=r(t("./cs_post")),u=r(t("./cs_counts")),c=function(t,e,n){var r,c=e._ptr,f=e._size,h=f[1],p={};if(p.q=i(t,e),t&&!p.q)return null;if(n){var d=t?o(e,null,p.q,0):e;p.parent=a(d,1);var m=s(p.parent,h);if(p.cp=u(d,p.parent,m,1),d&&p.parent&&p.cp&&l(d,p))for(p.unz=0,r=0;r<h;r++)p.unz+=p.cp[r]}else p.unz=4*c[h]+h,p.lnz=p.unz;return p},l=function(t,e){var n=t._ptr,r=t._index,i=t._size,o=i[0],a=i[1];e.pinv=[],e.leftmost=[];var s,u,c,l,f,h=e.parent,p=e.pinv,d=e.leftmost,m=[],g=0,y=o,v=o+a,x=o+2*a;for(u=0;u<a;u++)m[y+u]=-1,m[v+u]=-1,m[x+u]=0;for(s=0;s<o;s++)d[s]=-1;for(u=a-1;u>=0;u--)for(l=n[u],f=n[u+1],c=l;c<f;c++)d[r[c]]=u;for(s=o-1;s>=0;s--)p[s]=-1,u=d[s],u!=-1&&(0===m[x+u]++&&(m[v+u]=s),m[g+s]=m[y+u],m[y+u]=s);for(e.lnz=0,e.m2=o,u=0;u<a;u++)if(s=m[y+u],e.lnz++,s<0&&(s=e.m2++),p[s]=u,!(--x[u]<=0)){e.lnz+=m[x+u];var b=h[u];b!=-1&&(0===m[x+b]&&(m[v+b]=m[v+u]),m[g+m[v+u]]=m[y+b],m[y+b]=m[g+s],m[x+b]+=m[x+u])}for(s=0;s<o;s++)p[s]<0&&(p[s]=u++);return!0};return c}n.name="cs_sqr",n.path="sparse",n.factory=r},{"./cs_amd":276,"./cs_counts":277,"./cs_etree":279,"./cs_permute":287,"./cs_post":288}],292:[function(t,e,n){"use strict";function r(){var t=function(t,e,n,r,i,o,a){var s=0;for(n[a]=t;s>=0;){var u=n[a+s],c=n[r+u];c==-1?(s--,o[e++]=u):(n[r+u]=n[i+c],++s,n[a+s]=c)}return e};return t}n.name="cs_tdfs",n.path="sparse",n.factory=r},{}],293:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_flip")),o=function(t){return t<0?i(t):t};return o}n.name="cs_unflip",n.path="sparse",n.factory=r},{"./cs_flip":281}],294:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("abs",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.abs()}});return o.toTex={1:"\\left|${args[0]}\\right|"},o}var i=t("../../utils/collection/deepMap");n.name="abs",n.factory=r},{"../../utils/collection/deepMap":519}],295:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../type/matrix/function/matrix")),s=r(t("./addScalar")),u=t("../../utils/latex.js"),c=r(t("../../type/matrix/utils/algorithm01")),l=r(t("../../type/matrix/utils/algorithm04")),f=r(t("../../type/matrix/utils/algorithm10")),h=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),d=o("add",i({"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,s);break;default:n=c(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,s,!1);break;default:n=h(t,e,s)}}return n},"Array, Array":function(t,e){return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return d(a(t),e)},"Matrix, Array":function(t,e){return d(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,s,!1);break;default:n=p(t,e,s,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,s,!0);break;default:n=p(e,t,s,!0)}return n},"Array, any":function(t,e){return p(a(t),e,s,!1).valueOf()},"any, Array":function(t,e){return p(a(e),t,s,!0).valueOf()}},s.signatures));return d.toTex={2:"\\left(${args[0]}"+u.operators.add+"${args[1]}\\right)"},d}var i=t("../../utils/object").extend;n.name="add",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm01":480,"../../type/matrix/utils/algorithm04":483,"../../type/matrix/utils/algorithm10":489,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex.js":526,"../../utils/object":528,"./addScalar":296}],296:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=i(n.value,e.value),n.fixPrefix=!1,n}});return i}n.factory=r},{}],297:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,r){var i=t.arg()/3,a=t.abs(),s=new e.Complex(o(a),0).mul(new e.Complex(0,i).exp());if(r){var u=[s,new e.Complex(o(a),0).mul(new e.Complex(0,i+2*Math.PI/3).exp()),new e.Complex(o(a),0).mul(new e.Complex(0,i-2*Math.PI/3).exp())];return"Array"===n.matrix?u:f(u)}return s}function u(t){if(t.value&&t.value.isComplex){var n=t.clone();return n.value=1,n=n.pow(1/3),n.value=s(t.value),n}var r=l(t.value);r&&(t.value=c(t.value));var i;i=t.value&&t.value.isBigNumber?new e.BigNumber(1).div(3):t.value&&t.value.isFraction?new e.Fraction(1,3):1/3;var n=t.pow(i);return r&&(n.value=c(n.value)),n}var c=r(t("./unaryMinus")),l=r(t("../utils/isNegative")),f=r(t("../../type/matrix/function/matrix")),h=a("cbrt",{number:o,Complex:s,"Complex, boolean":s,BigNumber:function(t){return t.cbrt()},Unit:u,"Array | Matrix":function(t){return i(t,h,!0)}});return h.toTex={1:"\\sqrt[3]{${args[0]}}"},h}var i=t("../../utils/collection/deepMap"),o=Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),isFinite(t)?(e=Math.exp(Math.log(t)/3),e=(t/(e*e)+2*e)/3):e=t,n?-e:e};n.name="cbrt",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/collection/deepMap":519,"../utils/isNegative":445,"./unaryMinus":325}],298:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("ceil",{number:Math.ceil,Complex:function(t){return t.ceil()},BigNumber:function(t){return t.ceil()},Fraction:function(t){return t.ceil()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},o}var i=t("../../utils/collection/deepMap");n.name="ceil",n.factory=r},{"../../utils/collection/deepMap":519}],299:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("cube",{number:function(t){return t*t*t},Complex:function(t){return t.mul(t).mul(t)},BigNumber:function(t){return t.times(t).times(t)},Fraction:function(t){return t.pow(3)},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.pow(3)}});return o.toTex={1:"\\left(${args[0]}\\right)^3"},o}var i=t("../../utils/collection/deepMap");n.name="cube",n.factory=r},{"../../utils/collection/deepMap":519}],300:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("./divideScalar")),s=r(t("./multiply")),u=r(t("../matrix/inv")),c=r(t("../../type/matrix/function/matrix")),l=r(t("../../type/matrix/utils/algorithm11")),f=r(t("../../type/matrix/utils/algorithm14")),h=o("divide",i({"Array | Matrix, Array | Matrix":function(t,e){return s(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,a,!1);break;case"dense":n=f(t,e,a,!1)}return n},"Array, any":function(t,e){return f(c(t),e,a,!1).valueOf()},"any, Array | Matrix":function(t,e){return s(t,u(e))}},a.signatures));return h.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},h}var i=t("../../utils/object").extend;n.name="divide",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm14":493,"../../utils/object":528,"../matrix/inv":365,"./divideScalar":301,"./multiply":315}],301:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("./multiplyScalar")),a=i("divide",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone();return n.value=a(null===n.value?n._normalize(1):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.pow(-1);return n.value=o(null===n.value?n._normalize(1):n.value,t),n},"Unit, Unit":function(t,e){return t.divide(e)}});return a}n.factory=r},{"./multiplyScalar":316}],302:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("./divideScalar")),s=t("../../utils/latex"),u=r(t("../../type/matrix/utils/algorithm02")),c=r(t("../../type/matrix/utils/algorithm03")),l=r(t("../../type/matrix/utils/algorithm07")),f=r(t("../../type/matrix/utils/algorithm11")),h=r(t("../../type/matrix/utils/algorithm12")),p=r(t("../../type/matrix/utils/algorithm13")),d=r(t("../../type/matrix/utils/algorithm14")),m=i("dotDivide",{"any, any":a,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,a,!1);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){
case"sparse":n=c(t,e,a,!1);break;default:n=p(t,e,a)}}return n},"Array, Array":function(t,e){return m(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return m(o(t),e)},"Matrix, Array":function(t,e){return m(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,a,!1);break;default:n=d(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=h(e,t,a,!0);break;default:n=d(e,t,a,!0)}return n},"Array, any":function(t,e){return d(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return d(o(e),t,a,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.dotDivide+"${args[1]}\\right)"},m}n.name="dotDivide",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526,"./divideScalar":301}],303:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("./multiplyScalar")),s=t("../../utils/latex"),u=r(t("../../type/matrix/utils/algorithm02")),c=r(t("../../type/matrix/utils/algorithm09")),l=r(t("../../type/matrix/utils/algorithm11")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=i("dotMultiply",{"any, any":a,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,a,!1);break;default:n=f(t,e,a)}}return n},"Array, Array":function(t,e){return p(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return p(o(t),e)},"Matrix, Array":function(t,e){return p(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,a,!1);break;default:n=h(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,a,!0);break;default:n=h(e,t,a,!0)}return n},"Array, any":function(t,e){return h(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return h(o(e),t,a,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+s.operators.dotMultiply+"${args[1]}\\right)"},p}n.name="dotMultiply",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm09":488,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526,"./multiplyScalar":316}],304:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("./pow")),s=t("../../utils/latex"),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm11")),f=r(t("../../type/matrix/utils/algorithm12")),h=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),d=i("dotPow",{"any, any":a,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,a,!1);break;default:n=h(t,e,a)}}return n},"Array, Array":function(t,e){return d(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return d(o(t),e)},"Matrix, Array":function(t,e){return d(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(o(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(o(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.dotPow+"${args[1]}\\right)"},d}n.name="dotPow",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526,"./pow":319}],305:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("exp",{number:Math.exp,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\exp\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="exp",n.factory=r},{"../../utils/collection/deepMap":519}],306:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("fix",{number:function(t){return t>0?Math.floor(t):Math.ceil(t)},Complex:function(e){return new t.Complex(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(t){return t.isNegative()?t.ceil():t.floor()},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="fix",n.factory=r},{"../../utils/collection/deepMap":519}],307:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("floor",{number:Math.floor,Complex:function(t){return t.floor()},BigNumber:function(t){return t.floor()},Fraction:function(t){return t.floor()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},o}var i=t("../../utils/collection/deepMap");n.name="floor",n.factory=r},{"../../utils/collection/deepMap":519}],308:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,n){if(!t.isInt()||!n.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var r=new e.BigNumber(0);!n.isZero();){var i=t.mod(n);t=n,n=i}return t.lt(r)?t.neg():t}var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm01")),c=r(t("../../type/matrix/utils/algorithm04")),l=r(t("../../type/matrix/utils/algorithm10")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=o("gcd",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(t,e){return t.gcd(e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,p);break;default:n=u(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=f(t,e,p)}}return n},"Array, Array":function(t,e){return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return p(s(t),e)},"Matrix, Array":function(t,e){return p(t,s(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,p,!1);break;default:n=h(t,e,p,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,p,!0);break;default:n=h(e,t,p,!0)}return n},"Array, number | BigNumber":function(t,e){return h(s(t),e,p,!1).valueOf()},"number | BigNumber, Array":function(t,e){return h(s(e),t,p,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=p(t,e),i=0;i<n.length;i++)r=p(r,n[i]);return r}});return p.toTex="\\gcd\\left(${args}\\right)",p}function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!=e;)n=t%e,t=e,e=n;return t<0?-t:t}var o=t("../../utils/number").isInteger;n.name="gcd",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm01":480,"../../type/matrix/utils/algorithm04":483,"../../type/matrix/utils/algorithm10":489,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/number":527}],309:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t){for(var e=0,n=0,r=0;r<t.length;r++){var i=s(t[r]);h(n,i)?(e=l(e,l(c(n,i),c(n,i))),e=u(e,1),n=i):e=u(e,p(i)?l(c(i,n),c(i,n)):i)}return l(n,f(e))}var s=r(t("./abs")),u=r(t("./addScalar")),c=r(t("./divideScalar")),l=r(t("./multiplyScalar")),f=r(t("./sqrt")),h=r(t("../relational/smaller")),p=r(t("../utils/isPositive")),d=o("hypot",{"... number | BigNumber":a,Array:function(t){return d.apply(d,i(t))},Matrix:function(t){return d.apply(d,i(t.toArray()))}});return d.toTex="\\hypot\\left(${args}\\right)",d}var i=t("../../utils/array").flatten;n.name="hypot",n.factory=r},{"../../utils/array":505,"../relational/smaller":396,"../utils/isPositive":447,"./abs":294,"./addScalar":296,"./divideScalar":301,"./multiplyScalar":316,"./sqrt":322}],310:[function(t,e,n){e.exports=[t("./abs"),t("./add"),t("./addScalar"),t("./cbrt"),t("./ceil"),t("./cube"),t("./divide"),t("./dotDivide"),t("./dotMultiply"),t("./dotPow"),t("./exp"),t("./fix"),t("./floor"),t("./gcd"),t("./hypot"),t("./lcm"),t("./log"),t("./log10"),t("./mod"),t("./multiply"),t("./norm"),t("./nthRoot"),t("./pow"),t("./round"),t("./sign"),t("./sqrt"),t("./square"),t("./subtract"),t("./unaryMinus"),t("./unaryPlus"),t("./xgcd")]},{"./abs":294,"./add":295,"./addScalar":296,"./cbrt":297,"./ceil":298,"./cube":299,"./divide":300,"./dotDivide":302,"./dotMultiply":303,"./dotPow":304,"./exp":305,"./fix":306,"./floor":307,"./gcd":308,"./hypot":309,"./lcm":311,"./log":312,"./log10":313,"./mod":314,"./multiply":315,"./norm":317,"./nthRoot":318,"./pow":319,"./round":320,"./sign":321,"./sqrt":322,"./square":323,"./subtract":324,"./unaryMinus":325,"./unaryPlus":326,"./xgcd":327}],311:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,n){if(!t.isInt()||!n.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(t.isZero()||n.isZero())return new e.BigNumber(0);for(var r=t.times(n);!n.isZero();){var i=n;n=t.mod(i),t=i}return r.div(t).abs()}var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm02")),c=r(t("../../type/matrix/utils/algorithm06")),l=r(t("../../type/matrix/utils/algorithm11")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=o("lcm",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(t,e){return t.lcm(e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,p);break;default:n=u(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=f(t,e,p)}}return n},"Array, Array":function(t,e){return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return p(s(t),e)},"Matrix, Array":function(t,e){return p(t,s(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,p,!1);break;default:n=h(t,e,p,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,p,!0);break;default:n=h(e,t,p,!0)}return n},"Array, number | BigNumber":function(t,e){return h(s(t),e,p,!1).valueOf()},"number | BigNumber, Array":function(t,e){return h(s(e),t,p,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=p(t,e),i=0;i<n.length;i++)r=p(r,n[i]);return r}});return p.toTex=void 0,p}function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function lcm must be integer numbers");if(0==t||0==e)return 0;for(var n,r=t*e;0!=e;)n=e,e=t%n,t=n;return Math.abs(r/t)}var o=t("../../utils/number").isInteger;n.name="lcm",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm06":485,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/number":527}],312:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("./divideScalar")),s=o("log",{number:function(t){return t>=0||n.predictable?Math.log(t):new e.Complex(t,0).log()},Complex:function(t){return t.log()},BigNumber:function(t){return!t.isNegative()||n.predictable?t.ln():new e.Complex(t.toNumber(),0).log()},"Array | Matrix":function(t){return i(t,s)},"any, any":function(t,e){return a(s(t),s(e))}});return s.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},s}var i=t("../../utils/collection/deepMap");n.name="log",n.factory=r},{"../../utils/collection/deepMap":519,"./divideScalar":301}],313:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("log10",{number:function(n){return n>=0||e.predictable?o(n):new t.Complex(n,0).log().div(Math.LN10)},Complex:function(e){return new t.Complex(e).log().div(Math.LN10)},BigNumber:function(n){return!n.isNegative()||e.predictable?n.log():new t.Complex(n.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.log10||function(t){return Math.log(t)/Math.LN10};n.name="log10",n.factory=r},{"../../utils/collection/deepMap":519}],314:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}var a=r(t("../../type/matrix/function/matrix")),s=t("../../utils/latex"),u=r(t("../../type/matrix/utils/algorithm02")),c=r(t("../../type/matrix/utils/algorithm03")),l=r(t("../../type/matrix/utils/algorithm05")),f=r(t("../../type/matrix/utils/algorithm11")),h=r(t("../../type/matrix/utils/algorithm12")),p=r(t("../../type/matrix/utils/algorithm13")),d=r(t("../../type/matrix/utils/algorithm14")),m=i("mod",{"number, number":o,"BigNumber, BigNumber":function(t,e){return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){return t.mod(e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,m,!1);break;default:n=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,m,!1);break;default:n=p(t,e,m)}}return n},"Array, Array":function(t,e){return m(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return m(a(t),e)},"Matrix, Array":function(t,e){return m(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=h(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n},"Array, any":function(t,e){return d(a(t),e,m,!1).valueOf()},"any, Array":function(t,e){return d(a(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.mod+"${args[1]}\\right)"},m}n.name="mod",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm05":484,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526}],315:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("./addScalar")),l=r(t("./multiplyScalar")),f=r(t("../relational/equalScalar")),h=r(t("../../type/matrix/utils/algorithm11")),p=r(t("../../type/matrix/utils/algorithm14")),d=e.DenseMatrix,m=e.SparseMatrix,g=a("multiply",i({"Array, Array":function(t,e){y(o.size(t),o.size(e));var n=g(u(t),u(e));return n&&n.isMatrix===!0?n.valueOf():n},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return y(n,r),1===n.length?1===r.length?v(t,e,n[0]):x(t,e):1===r.length?w(t,e):_(t,e)},"Matrix, Array":function(t,e){return g(t,u(e))},"Array, Matrix":function(t,e){return g(u(t,e.storage()),e)},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=h(t,e,l,!1);break;case"dense":n=p(t,e,l,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=h(e,t,l,!0);break;case"dense":n=p(e,t,l,!0)}return n},"Array, any":function(t,e){return p(u(t),e,l,!1).valueOf()},"any, Array":function(t,e){return p(u(e),t,l,!0).valueOf()}},l.signatures)),y=function(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}},v=function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");var r,i=t._data,o=t._datatype,s=e._data,u=e._datatype,f=c,h=l;o&&u&&o===u&&"string"==typeof o&&(r=o,f=a.find(c,[r,r]),h=a.find(l,[r,r]));for(var p=h(i[0],s[0]),d=1;d<n;d++)p=f(p,h(i[d],s[d]));return p},x=function(t,e){switch(e.storage()){case"dense":return b(t,e)}throw new Error("Not implemented")},b=function(t,e){var n,r=t._data,i=t._size,o=t._datatype,s=e._data,u=e._size,f=e._datatype,h=i[0],p=u[1],m=c,g=l;o&&f&&o===f&&"string"==typeof o&&(n=o,m=a.find(c,[n,n]),g=a.find(l,[n,n]));for(var y=[],v=0;v<p;v++){for(var x=g(r[0],s[0][v]),b=1;b<h;b++)x=m(x,g(r[b],s[b][v]));y[v]=x}return new d({data:y,size:[p],datatype:n})},w=function(t,e){switch(t.storage()){case"dense":return N(t,e);case"sparse":return O(t,e)}},_=function(t,e){switch(t.storage()){case"dense":switch(e.storage()){case"dense":return M(t,e);case"sparse":return E(t,e)}break;case"sparse":switch(e.storage()){case"dense":return A(t,e);case"sparse":return S(t,e)}}},N=function(t,e){var n,r=t._data,i=t._size,o=t._datatype,s=e._data,u=e._datatype,f=i[0],h=i[1],p=c,m=l;o&&u&&o===u&&"string"==typeof o&&(n=o,p=a.find(c,[n,n]),m=a.find(l,[n,n]));for(var g=[],y=0;y<f;y++){for(var v=r[y],x=m(v[0],s[0]),b=1;b<h;b++)x=p(x,m(v[b],s[b]));g[y]=x}return new d({data:g,size:[f],datatype:n})},M=function(t,e){var n,r=t._data,i=t._size,o=t._datatype,s=e._data,u=e._size,f=e._datatype,h=i[0],p=i[1],m=u[1],g=c,y=l;o&&f&&o===f&&"string"==typeof o&&(n=o,g=a.find(c,[n,n]),y=a.find(l,[n,n]));for(var v=[],x=0;x<h;x++){var b=r[x];v[x]=[];for(var w=0;w<m;w++){for(var _=y(b[0],s[0][w]),N=1;N<p;N++)_=g(_,y(b[N],s[N][w]));v[x][w]=_}}return new d({data:v,size:[h,m],datatype:n})},E=function(t,e){var n=t._data,r=t._size,i=t._datatype,o=e._values,s=e._index,u=e._ptr,h=e._size,p=e._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,g=r[0],y=h[1],v=c,x=l,b=f,w=0;i&&p&&i===p&&"string"==typeof i&&(d=i,v=a.find(c,[d,d]),x=a.find(l,[d,d]),b=a.find(f,[d,d]),w=a.convert(0,d));for(var _=[],N=[],M=[],E=new m({values:_,index:N,ptr:M,size:[g,y],datatype:d}),O=0;O<y;O++){M[O]=N.length;var A=u[O],S=u[O+1];if(S>A)for(var T=0,k=0;k<g;k++){for(var C,P=k+1,j=A;j<S;j++){var z=s[j];T!==P?(C=x(n[k][z],o[j]),T=P):C=v(C,x(n[k][z],o[j]))}T!==P||b(C,w)||(N.push(k),_.push(C))}}return M[y]=N.length,E},O=function(t,e){var n=t._values,r=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,h=e._datatype,p=t._size[0],d=e._size[0],g=[],y=[],v=[],x=c,b=l,w=f,_=0;o&&h&&o===h&&"string"==typeof o&&(s=o,x=a.find(c,[s,s]),b=a.find(l,[s,s]),w=a.find(f,[s,s]),_=a.convert(0,s));var N=[],M=[];v[0]=0;for(var E=0;E<d;E++){var O=u[E];if(!w(O,_))for(var A=i[E],S=i[E+1],T=A;T<S;T++){var k=r[T];M[k]?N[k]=x(N[k],b(O,n[T])):(M[k]=!0,y.push(k),N[k]=b(O,n[T]))}}for(var C=y.length,P=0;P<C;P++){var j=y[P];g[P]=N[j]}return v[1]=y.length,new m({values:g,index:y,ptr:v,size:[p,1],datatype:s})},A=function(t,e){var n=t._values,r=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,h=e._datatype,p=t._size[0],d=e._size[0],g=e._size[1],y=c,v=l,x=f,b=0;o&&h&&o===h&&"string"==typeof o&&(s=o,y=a.find(c,[s,s]),v=a.find(l,[s,s]),x=a.find(f,[s,s]),b=a.convert(0,s));for(var w=[],_=[],N=[],M=new m({values:w,index:_,ptr:N,size:[p,g],datatype:s}),E=[],O=[],A=0;A<g;A++){N[A]=_.length;for(var S=A+1,T=0;T<d;T++){var k=u[T][A];if(!x(k,b))for(var C=i[T],P=i[T+1],j=C;j<P;j++){var z=r[j];O[z]!==S?(O[z]=S,_.push(z),E[z]=v(k,n[j])):E[z]=y(E[z],v(k,n[j]))}}for(var R=N[A],I=_.length,B=R;B<I;B++){var L=_[B];w[B]=E[L]}}return N[g]=_.length,M},S=function(t,e){var n,r=t._values,i=t._index,o=t._ptr,s=t._datatype,u=e._values,f=e._index,h=e._ptr,p=e._datatype,d=t._size[0],g=e._size[1],y=r&&u,v=c,x=l;s&&p&&s===p&&"string"==typeof s&&(n=s,v=a.find(c,[n,n]),x=a.find(l,[n,n]));for(var b,w,_,N,M,E,O,A,S=y?[]:void 0,T=[],k=[],C=new m({values:S,index:T,ptr:k,size:[d,g],datatype:n}),P=y?[]:void 0,j=[],z=0;z<g;z++){k[z]=T.length;var R=z+1;for(M=h[z],E=h[z+1],N=M;N<E;N++)if(A=f[N],y)for(w=o[A],_=o[A+1],b=w;b<_;b++)O=i[b],j[O]!==R?(j[O]=R,T.push(O),P[O]=x(u[N],r[b])):P[O]=v(P[O],x(u[N],r[b]));else for(w=o[A],_=o[A+1],b=w;b<_;b++)O=i[b],j[O]!==R&&(j[O]=R,T.push(O));if(y)for(var I=k[z],B=T.length,L=I;L<B;L++){var U=T[L];S[L]=P[U]}}return k[g]=T.length,C};return g.toTex={2:"\\left(${args[0]}"+s.operators.multiply+"${args[1]}\\right)"},g}var i=t("../../utils/object").extend,o=t("../../utils/array");n.name="multiply",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm14":493,"../../utils/array":505,"../../utils/latex":526,"../../utils/object":528,"../relational/equalScalar":392,"./addScalar":296,"./multiplyScalar":316}],316:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):i(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):i(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}});return i}n.factory=r},{}],317:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){var n=t.size();if(1==n.length){if(e===Number.POSITIVE_INFINITY||"inf"===e){var r=0;return t.forEach(function(t){var e=a(t);h(e,r)&&(r=e)},!0),r}if(e===Number.NEGATIVE_INFINITY||"-inf"===e){var i;return t.forEach(function(t){var e=a(t);i&&!p(e,i)||(i=e)},!0),i||0}if("fro"===e)return o(t,2);if("number"==typeof e&&!isNaN(e)){if(!f(e,0)){var d=0;return t.forEach(function(t){d=s(u(a(t),e),d)},!0),u(d,1/e)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==n.length){if(1===e){var y=[],v=0;return t.forEach(function(t,e){var n=e[1],r=s(y[n]||0,a(t));h(r,v)&&(v=r),y[n]=r},!0),v}if(e===Number.POSITIVE_INFINITY||"inf"===e){var x=[],b=0;return t.forEach(function(t,e){var n=e[0],r=s(x[n]||0,a(t));h(r,b)&&(b=r),x[n]=r},!0),b}if("fro"===e)return c(m(l(g(t),t)));if(2===e)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}var a=r(t("../arithmetic/abs")),s=r(t("../arithmetic/add")),u=r(t("../arithmetic/pow")),c=r(t("../arithmetic/sqrt")),l=r(t("../arithmetic/multiply")),f=r(t("../relational/equalScalar")),h=r(t("../relational/larger")),p=r(t("../relational/smaller")),d=r(t("../../type/matrix/function/matrix")),m=r(t("../matrix/trace")),g=r(t("../matrix/transpose")),y=i("norm",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},"boolean | null":function(t){return Math.abs(t)},Array:function(t){return o(d(t),2)},Matrix:function(t){return o(t,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(t){return y(t)},"Array, number | BigNumber | string":function(t,e){return o(d(t),e)},"Matrix, number | BigNumber | string":function(t,e){return o(t,e)}});return y.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},y}n.name="norm",n.factory=r},{"../../type/matrix/function/matrix":477,"../arithmetic/abs":294,"../arithmetic/add":295,"../arithmetic/multiply":315,"../arithmetic/pow":319,"../arithmetic/sqrt":322,"../matrix/trace":375,"../matrix/transpose":376,"../relational/equalScalar":392,"../relational/larger":394,"../relational/smaller":396}],318:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){var r=e.BigNumber.precision,i=e.BigNumber.clone({precision:r+2}),o=new e.BigNumber(0),a=new i(1),s=n.isNegative();if(s&&(n=n.neg()),n.isZero())throw new Error("Root must be non-zero");if(t.isNegative()&&!n.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(t.isZero())return s?new i(1/0):0;if(!t.isFinite())return s?o:t;var u=t.abs().pow(a.div(n));return u=t.isNeg()?u.neg():u,new e.BigNumber((s?a.div(u):u).toPrecision(r))}var u=r(t("../../type/matrix/function/matrix")),c=r(t("../../type/matrix/utils/algorithm01")),l=r(t("../../type/matrix/utils/algorithm02")),f=r(t("../../type/matrix/utils/algorithm06")),h=r(t("../../type/matrix/utils/algorithm11")),p=r(t("../../type/matrix/utils/algorithm13")),d=r(t("../../type/matrix/utils/algorithm14")),m=a("nthRoot",{number:function(t){return i(t,2)},"number, number":i,BigNumber:function(t){return s(t,new e.BigNumber(2))},Complex:function(t){return o(t,2)},"Complex, number":o,"BigNumber, BigNumber":s,"Array | Matrix":function(t){return m(t,2)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");n=f(t,e,m);break;default:n=l(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");n=c(t,e,m,!1);break;default:n=p(t,e,m)}}return n},"Array, Array":function(t,e){return m(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return m(u(t),e)},"Matrix, Array":function(t,e){return m(t,u(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=h(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");n=h(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n},"Array, number | BigNumber":function(t,e){return m(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return m(t,u(e)).valueOf()}});return m.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},m}function i(t,e){var n=e<0;if(n&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==t)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);return r=t<0?-r:r,n?1/r:r}function o(t,e){if(e<0)throw new Error("Root must be greater than zero");if(0===e)throw new Error("Root must be non-zero");if(e%1!==0)throw new Error("Root must be an integer");for(var n=t.arg(),r=t.abs(),i=[],o=Math.pow(r,1/e),a=0;a<e;a++)i.push({r:o,phi:(n+2*Math.PI*a)/e});return i}n.name="nthRoot",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm01":480,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm06":485,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493}],319:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,r){if(n.predictable&&!i(r)&&t<0)try{var o=d(r),a=m(o);if((r===a||Math.abs((r-a)/r)<1e-14)&&o.d%2===1)return(o.n%2===0?1:-1)*Math.pow(-t,r)}catch(s){}return i(r)||t>=0||n.predictable?Math.pow(t,r):new e.Complex(t,0).pow(r,0)}function u(t,e){if(!i(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var n=o(t);if(2!=n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!=n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var r=f(n[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(r=h(a,r)),e>>=1,a=h(a,a);return r}function c(t,e){return p(u(t.valueOf(),e))}var l=t("../../utils/latex"),f=r(t("../matrix/eye")),h=r(t("./multiply")),p=r(t("../../type/matrix/function/matrix")),d=r(t("../../type/fraction/function/fraction")),m=r(t("../../type/number")),g=a("pow",{"number, number":s,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,r){return r.isInteger()||t>=0||n.predictable?t.pow(r):new e.Complex(t.toNumber(),0).pow(r.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(n.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return s(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":u,"Array, BigNumber":function(t,e){return u(t,e.toNumber())},"Matrix, number":c,"Matrix, BigNumber":function(t,e){return c(t,e.toNumber())},"Unit, number":function(t,e){return t.pow(e)}});return g.toTex={2:"\\left(${args[0]}\\right)"+l.operators.pow+"{${args[1]}}"},g}var i=t("../../utils/number").isInteger,o=t("../../utils/array").size;n.name="pow",n.factory=r},{"../../type/fraction/function/fraction":465,"../../type/matrix/function/matrix":477,"../../type/number":494,"../../utils/array":505,"../../utils/latex":526,"../../utils/number":527,"../matrix/eye":360,"./multiply":315}],320:[function(t,e,n){"use strict";function r(e,n,r,a){var c=r(t("../../type/matrix/function/matrix")),l=r(t("../relational/equalScalar")),f=r(t("../matrix/zeros")),h=r(t("../../type/matrix/utils/algorithm11")),p=r(t("../../type/matrix/utils/algorithm12")),d=r(t("../../type/matrix/utils/algorithm14")),m=a("round",{number:Math.round,"number, number":function(t,e){if(!o(e))throw new TypeError(u);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return i(t,e)},Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);var n=e.toNumber();return t.round(n)},"number, BigNumber":function(t,n){if(!n.isInteger())throw new TypeError(u);return new e.BigNumber(t).toDecimalPlaces(n.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Array | Matrix":function(t){return s(t,m,!0)},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=h(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"number | Complex | BigNumber, Matrix":function(t,e){if(!l(t,0)){var n;switch(e.storage()){case"sparse":n=p(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n}return f(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return d(c(t),e,m,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return d(c(e),t,m,!0).valueOf()}});return m.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},m}function i(t,e){return parseFloat(a(t,e))}var o=t("../../utils/number").isInteger,a=t("../../utils/number").toFixed,s=t("../../utils/collection/deepMap"),u="Number of decimals in function round must be an integer";n.name="round",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm14":493,
"../../utils/collection/deepMap":519,"../../utils/number":527,"../matrix/zeros":377,"../relational/equalScalar":392}],321:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("sign",{number:i.sign,Complex:function(t){return t.sign()},BigNumber:function(e){return new t.BigNumber(e.cmp(0))},Fraction:function(e){return new t.Fraction(e.s,1)},"Array | Matrix":function(t){return o(t,a,!0)},Unit:function(t){return a(t.value)}});return a.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},a}var i=t("../../utils/number"),o=t("../../utils/collection/deepMap");n.name="sign",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/number":527}],322:[function(t,e,n){"use strict";function r(t,e,n,r){function o(n){return n>=0||e.predictable?Math.sqrt(n):new t.Complex(n,0).sqrt()}var a=r("sqrt",{number:o,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||e.predictable?t.sqrt():o(t.toNumber())},"Array | Matrix":function(t){return i(t,a,!0)},Unit:function(t){return t.pow(.5)}});return a.toTex={1:"\\sqrt{${args[0]}}"},a}var i=t("../../utils/collection/deepMap");n.name="sqrt",n.factory=r},{"../../utils/collection/deepMap":519}],323:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("square",{number:function(t){return t*t},Complex:function(t){return t.mul(t)},BigNumber:function(t){return t.times(t)},Fraction:function(t){return t.mul(t)},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.pow(2)}});return o.toTex={1:"\\left(${args[0]}\\right)^2"},o}var i=t("../../utils/collection/deepMap");n.name="square",n.factory=r},{"../../utils/collection/deepMap":519}],324:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=r(t("../../type/matrix/function/matrix")),u=r(t("./addScalar")),c=r(t("./unaryMinus")),l=r(t("../../type/matrix/utils/algorithm01")),f=r(t("../../type/matrix/utils/algorithm03")),h=r(t("../../type/matrix/utils/algorithm05")),p=r(t("../../type/matrix/utils/algorithm10")),d=r(t("../../type/matrix/utils/algorithm13")),m=r(t("../../type/matrix/utils/algorithm14")),g=o("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=g(n.value,e.value),n.fixPrefix=!1,n},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();if(n.length!==r.length)throw new i(n.length,r.length);var o;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":o=h(t,e,g);break;default:o=f(e,t,g,!0)}break;default:switch(e.storage()){case"sparse":o=l(t,e,g,!1);break;default:o=d(t,e,g)}}return o},"Array, Array":function(t,e){return g(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return g(s(t),e)},"Matrix, Array":function(t,e){return g(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=p(t,c(e),u);break;default:n=m(t,e,g)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=p(e,t,g,!0);break;default:n=m(e,t,g,!0)}return n},"Array, any":function(t,e){return m(s(t),e,g,!1).valueOf()},"any, Array":function(t,e){return m(s(e),t,g,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+a.operators.subtract+"${args[1]}\\right)"},g}var i=t("../../error/DimensionError");n.name="subtract",n.factory=r},{"../../error/DimensionError":49,"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm01":480,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm05":484,"../../type/matrix/utils/algorithm10":489,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526,"./addScalar":296,"./unaryMinus":325}],325:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=o("unaryMinus",{number:function(t){return-t},Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=s(t.value),e},"Array | Matrix":function(t){return i(t,s,!0)}});return s.toTex={1:a.operators.unaryMinus+"\\left(${args[0]}\\right)"},s}var i=t("../../utils/collection/deepMap");n.name="unaryMinus",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/latex":526}],326:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=o("unaryPlus",{number:function(t){return t},Complex:function(t){return t},BigNumber:function(t){return t},Fraction:function(t){return t},Unit:function(t){return t.clone()},"Array | Matrix":function(t){return i(t,s,!0)},"boolean | string | null":function(t){return"BigNumber"==n.number?new e.BigNumber((+t)):+t}});return s.toTex={1:a.operators.unaryPlus+"\\left(${args[0]}\\right)"},s}var i=t("../../utils/collection/deepMap");n.name="unaryPlus",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/latex":526}],327:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){var r,o,a,s=0,c=1,l=1,f=0;if(!i(t)||!i(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)o=Math.floor(t/e),a=t%e,r=s,s=c-o*s,c=r,r=l,l=f-o*l,f=r,t=e,e=a;var h;return h=t<0?[-t,-c,-f]:[t,t?c:0,f],"Array"===n.matrix?h:u(h)}function s(t,r){var i,o,a,s=new e.BigNumber(0),c=new e.BigNumber(1),l=s,f=c,h=c,p=s;if(!t.isInt()||!r.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!r.isZero();)o=t.div(r).floor(),a=t.mod(r),i=l,l=f.minus(o.times(l)),f=i,i=h,h=p.minus(o.times(h)),p=i,t=r,r=a;var d;return d=t.lt(s)?[t.neg(),f.neg(),p.neg()]:[t,t.isZero()?0:f,p],"Array"===n.matrix?d:u(d)}var u=r(t("../../type/matrix/function/matrix")),c=o("xgcd",{"number, number":a,"BigNumber, BigNumber":s});return c.toTex=void 0,c}var i=t("../../utils/number").isInteger;n.name="xgcd",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/number":527}],328:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../../type/matrix/utils/algorithm02")),l=r(t("../../type/matrix/utils/algorithm06")),f=r(t("../../type/matrix/utils/algorithm11")),h=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),d=a("bitAnd",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitAnd");return t&e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=h(t,e,d)}}return n},"Array, Array":function(t,e){return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return d(u(t),e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.bitAnd+"${args[1]}\\right)"},d}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/bitAnd");n.name="bitAnd",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm06":485,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/bitAnd":506,"../../utils/latex":526,"../../utils/number":527}],329:[function(t,e,n){"use strict";function r(e,n,r,s){var u=t("../../utils/latex"),c=s("bitNot",{number:function(t){if(!a(t))throw new Error("Integer expected in function bitNot");return~t},BigNumber:o,"Array | Matrix":function(t){return i(t,c)}});return c.toTex={1:u.operators.bitNot+"\\left(${args[0]}\\right)"},c}var i=t("../../utils/collection/deepMap"),o=t("../../utils/bignumber/bitNot"),a=t("../../utils/number").isInteger;n.name="bitNot",n.factory=r},{"../../utils/bignumber/bitNot":507,"../../utils/collection/deepMap":519,"../../utils/latex":526,"../../utils/number":527}],330:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../../type/matrix/utils/algorithm01")),l=r(t("../../type/matrix/utils/algorithm04")),f=r(t("../../type/matrix/utils/algorithm10")),h=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),d=a("bitOr",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitOr");return t|e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,d);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=h(t,e,d)}}return n},"Array, Array":function(t,e){return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return d(u(t),e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.bitOr+"${args[1]}\\right)"},d}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/bitOr");n.name="bitOr",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm01":480,"../../type/matrix/utils/algorithm04":483,"../../type/matrix/utils/algorithm10":489,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/bitOr":508,"../../utils/latex":526,"../../utils/number":527}],331:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../../type/matrix/utils/algorithm03")),l=r(t("../../type/matrix/utils/algorithm07")),f=r(t("../../type/matrix/utils/algorithm12")),h=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),d=a("bitXor",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitXor");return t^e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,d);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=h(t,e,d)}}return n},"Array, Array":function(t,e){return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return d(u(t),e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.bitXor+"${args[1]}\\right)"},d}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/bitXor");n.name="bitXor",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/bitXor":509,"../../utils/latex":526,"../../utils/number":527}],332:[function(t,e,n){e.exports=[t("./bitAnd"),t("./bitNot"),t("./bitOr"),t("./bitXor"),t("./leftShift"),t("./rightArithShift"),t("./rightLogShift")]},{"./bitAnd":328,"./bitNot":329,"./bitOr":330,"./bitXor":331,"./leftShift":333,"./rightArithShift":334,"./rightLogShift":335}],333:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../relational/equalScalar")),l=r(t("../matrix/zeros")),f=r(t("../../type/matrix/utils/algorithm01")),h=r(t("../../type/matrix/utils/algorithm02")),p=r(t("../../type/matrix/utils/algorithm08")),d=r(t("../../type/matrix/utils/algorithm10")),m=r(t("../../type/matrix/utils/algorithm11")),g=r(t("../../type/matrix/utils/algorithm13")),y=r(t("../../type/matrix/utils/algorithm14")),v=a("leftShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function leftShift");return t<<e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=p(t,e,v,!1);break;default:n=h(e,t,v,!0)}break;default:switch(e.storage()){case"sparse":n=f(t,e,v,!1);break;default:n=g(t,e,v)}}return n},"Array, Array":function(t,e){return v(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return v(u(t),e)},"Matrix, Array":function(t,e){return v(t,u(e))},"Matrix, number | BigNumber":function(t,e){if(!c(e,0)){var n;switch(t.storage()){case"sparse":n=m(t,e,v,!1);break;default:n=y(t,e,v,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!c(t,0)){var n;switch(e.storage()){case"sparse":n=d(e,t,v,!0);break;default:n=y(e,t,v,!0)}return n}return l(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return v(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return v(t,u(e)).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+s.operators.leftShift+"${args[1]}\\right)"},v}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/leftShift");n.name="leftShift",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm01":480,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm08":487,"../../type/matrix/utils/algorithm10":489,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/leftShift":513,"../../utils/latex":526,"../../utils/number":527,"../matrix/zeros":377,"../relational/equalScalar":392}],334:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../relational/equalScalar")),l=r(t("../matrix/zeros")),f=r(t("../../type/matrix/utils/algorithm01")),h=r(t("../../type/matrix/utils/algorithm02")),p=r(t("../../type/matrix/utils/algorithm08")),d=r(t("../../type/matrix/utils/algorithm10")),m=r(t("../../type/matrix/utils/algorithm11")),g=r(t("../../type/matrix/utils/algorithm13")),y=r(t("../../type/matrix/utils/algorithm14")),v=a("rightArithShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightArithShift");return t>>e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=p(t,e,v,!1);break;default:n=h(e,t,v,!0)}break;default:switch(e.storage()){case"sparse":n=f(t,e,v,!1);break;default:n=g(t,e,v)}}return n},"Array, Array":function(t,e){return v(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return v(u(t),e)},"Matrix, Array":function(t,e){return v(t,u(e))},"Matrix, number | BigNumber":function(t,e){if(!c(e,0)){var n;switch(t.storage()){case"sparse":n=m(t,e,v,!1);break;default:n=y(t,e,v,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!c(t,0)){var n;switch(e.storage()){case"sparse":n=d(e,t,v,!0);break;default:n=y(e,t,v,!0)}return n}return l(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return v(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return v(t,u(e)).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+s.operators.rightArithShift+"${args[1]}\\right)"},v}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/rightArithShift");n.name="rightArithShift",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm01":480,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm08":487,"../../type/matrix/utils/algorithm10":489,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/rightArithShift":515,"../../utils/latex":526,"../../utils/number":527,"../matrix/zeros":377,"../relational/equalScalar":392}],335:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=r(t("../../type/matrix/function/matrix")),u=r(t("../relational/equalScalar")),c=r(t("../matrix/zeros")),l=r(t("../../type/matrix/utils/algorithm01")),f=r(t("../../type/matrix/utils/algorithm02")),h=r(t("../../type/matrix/utils/algorithm08")),p=r(t("../../type/matrix/utils/algorithm10")),d=r(t("../../type/matrix/utils/algorithm11")),m=r(t("../../type/matrix/utils/algorithm13")),g=r(t("../../type/matrix/utils/algorithm14")),y=o("rightLogShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightLogShift");return t>>>e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=h(t,e,y,!1);break;default:n=f(e,t,y,!0)}break;default:switch(e.storage()){case"sparse":n=l(t,e,y,!1);break;default:n=m(t,e,y)}}return n},"Array, Array":function(t,e){return y(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return y(s(t),e)},"Matrix, Array":function(t,e){return y(t,s(e))},"Matrix, number | BigNumber":function(t,e){if(!u(e,0)){var n;switch(t.storage()){case"sparse":n=d(t,e,y,!1);break;default:n=g(t,e,y,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!u(t,0)){var n;switch(e.storage()){case"sparse":n=p(e,t,y,!0);break;default:n=g(e,t,y,!0)}return n}return c(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return y(s(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return y(t,s(e)).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+a.operators.rightLogShift+"${args[1]}\\right)"},y}var i=t("../../utils/number").isInteger;n.name="rightLogShift",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm01":480,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm08":487,"../../type/matrix/utils/algorithm10":489,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526,"../../utils/number":527,"../matrix/zeros":377,"../relational/equalScalar":392}],336:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../arithmetic/add")),a=r(t("./stirlingS2")),s=r(t("../utils/isNegative")),u=r(t("../utils/isInteger")),c=i("bellNumbers",{"number | BigNumber":function(t){if(!u(t)||s(t))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var e=0,n=0;n<=t;n++)e=o(e,a(t,n));return e}});return c.toTex={1:"\\mathrm{B}_{${args[0]}}"},c}n.name="bellNumbers",n.factory=r},{"../arithmetic/add":295,"../utils/isInteger":443,"../utils/isNegative":445,"./stirlingS2":340}],337:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../arithmetic/add")),a=r(t("../arithmetic/divide")),s=r(t("../arithmetic/multiply")),u=r(t("../probability/combinations")),c=r(t("../utils/isNegative")),l=r(t("../utils/isInteger")),f=i("catalan",{"number | BigNumber":function(t){if(!l(t)||c(t))throw new TypeError("Non-negative integer value expected in function catalan");return a(u(s(t,2),t),o(t,1))}});return f.toTex={1:"\\mathrm{C}_{${args[0]}}"},f}n.name="catalan",n.factory=r},{"../arithmetic/add":295,"../arithmetic/divide":300,"../arithmetic/multiply":315,"../probability/combinations":378,"../utils/isInteger":443,"../utils/isNegative":445}],338:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../probability/combinations")),a=r(t("../arithmetic/addScalar")),s=r(t("../utils/isPositive")),u=r(t("../utils/isInteger")),c=r(t("../relational/larger")),l=i("composition",{"number | BigNumber, number | BigNumber":function(t,e){if(!(u(t)&&s(t)&&u(e)&&s(e)))throw new TypeError("Positive integer value expected in function composition");if(c(e,t))throw new TypeError("k must be less than or equal to n in function composition");return o(a(t,-1),a(e,-1))}});return l.toTex=void 0,l}n.name="composition",n.factory=r},{"../arithmetic/addScalar":296,"../probability/combinations":378,"../relational/larger":394,"../utils/isInteger":443,"../utils/isPositive":447}],339:[function(t,e,n){e.exports=[t("./bellNumbers"),t("./composition"),t("./stirlingS2"),t("./catalan")]},{"./bellNumbers":336,"./catalan":337,"./composition":338,"./stirlingS2":340}],340:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../arithmetic/add")),a=r(t("../arithmetic/subtract")),s=r(t("../arithmetic/multiply")),u=r(t("../arithmetic/divide")),c=r(t("../arithmetic/pow")),l=r(t("../probability/factorial")),f=r(t("../probability/combinations")),h=r(t("../utils/isNegative")),p=r(t("../utils/isInteger")),d=r(t("../relational/larger")),m=i("stirlingS2",{"number | BigNumber, number | BigNumber":function(t,e){if(!p(t)||h(t)||!p(e)||h(e))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(e,t))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var n=l(e),r=0,i=0;i<=e;i++){var m=c(-1,a(e,i)),g=f(e,i),y=c(i,t);r=o(r,s(s(g,y),m))}return u(r,n)}});return m.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},m}n.name="stirlingS2",n.factory=r},{"../arithmetic/add":295,"../arithmetic/divide":300,"../arithmetic/multiply":315,"../arithmetic/pow":319,"../arithmetic/subtract":324,"../probability/combinations":378,"../probability/factorial":380,"../relational/larger":394,"../utils/isInteger":443,"../utils/isNegative":445}],341:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("arg",{number:function(t){return Math.atan2(0,t)},Complex:function(t){return t.arg()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\arg\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="arg",n.factory=r},{"../../utils/collection/deepMap":519}],342:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)^*"},o}var i=t("../../utils/collection/deepMap");n.name="conj",n.factory=r},{"../../utils/collection/deepMap":519}],343:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("im",{number:function(t){return 0},BigNumber:function(e){return new t.BigNumber(0)},Complex:function(t){return t.im},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=t("../../utils/collection/deepMap");n.name="im",n.factory=r},{"../../utils/collection/deepMap":519}],344:[function(t,e,n){e.exports=[t("./arg"),t("./conj"),t("./im"),t("./re")]},{"./arg":341,"./conj":342,"./im":343,"./re":345}],345:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("re",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.re},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=t("../../utils/collection/deepMap");n.name="re",n.factory=r},{"../../utils/collection/deepMap":519}],346:[function(t,e,n){"use strict";function r(e,n,r,s){var d=(r(t("../../type/matrix/function/matrix")),s("distance",{"Array, Array, Array":function(t,e,n){if(2==t.length&&2==e.length&&2==n.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");if(!i(n))throw new TypeError("Array with 2 numbers expected for third argument");var r=(n[1]-n[0])/(e[1]-e[0]),o=r*r*e[0],a=-1*(r*e[0]),s=t[1];return c(t[0],t[1],o,a,s)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(t,e,n){if(2==Object.keys(t).length&&2==Object.keys(e).length&&2==Object.keys(n).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!i(e))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers");if(!i(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("lineOnePtX")&&e.hasOwnProperty("lineOnePtY")&&n.hasOwnProperty("lineTwoPtX")&&n.hasOwnProperty("lineTwoPtY")){var r=(n.lineTwoPtY-n.lineTwoPtX)/(e.lineOnePtY-e.lineOnePtX),o=r*r*e.lineOnePtX,a=-1*(r*e.lineOnePtX),s=t.pointX;return c(t.pointX,t.pointY,o,a,s)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(t,e){if(2==t.length&&3==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return c(t[0],t[1],e[0],e[1],e[2])}if(3==t.length&&6==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 6 numbers expected for second argument");return l(t[0],t[1],t[2],e[0],e[1],e[2],e[3],e[4],e[5])}if(2==t.length&&2==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");return f(t[0],t[1],e[0],e[1])}if(3==t.length&&3==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return h(t[0],t[1],t[2],e[0],e[1],e[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(t,e){if(2==Object.keys(t).length&&3==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!o(e))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("xCoeffLine")&&e.hasOwnProperty("yCoeffLine")&&e.hasOwnProperty("yCoeffLine"))return c(t.pointX,t.pointY,e.xCoeffLine,e.yCoeffLine,e.constant);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&6==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointX, pointY and pointZ should be numbers");if(!a(e))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("x0")&&e.hasOwnProperty("y0")&&e.hasOwnProperty("z0")&&e.hasOwnProperty("a")&&e.hasOwnProperty("b")&&e.hasOwnProperty("c"))return l(t.pointX,t.pointY,t.pointZ,e.x0,e.y0,e.z0,e.a,e.b,e.c);throw new TypeError("Key names do not match")}if(2==Object.keys(t).length&&2==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointOneX and pointOneY should be numbers");if(!i(e))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY"))return f(t.pointOneX,t.pointOneY,e.pointTwoX,e.pointTwoY);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&3==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers");if(!o(e))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointOneZ")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY")&&e.hasOwnProperty("pointTwoZ"))return h(t.pointOneX,t.pointOneY,t.pointOneZ,e.pointTwoX,e.pointTwoY,e.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(t){if(!u(t))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return p(t)}}));return d}function i(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]}function o(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function a(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]&&"number"==typeof t[4]&&"number"==typeof t[5]}function s(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;r++)n.push(t[e[r]]);return n}function u(t){if(2==t[0].length&&"number"==typeof t[0][0]&&"number"==typeof t[0][1]){for(var e in t)if(2!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1])return!1}else{if(3!=t[0].length||"number"!=typeof t[0][0]||"number"!=typeof t[0][1]||"number"!=typeof t[0][2])return!1;for(var e in t)if(3!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1]||"number"!=typeof t[e][2])return!1}return!0}function c(t,e,n,r,i){var o=Math.abs(n*t+r*e+i),a=Math.pow(n*n+r*r,.5),s=o/a;return s}function l(t,e,n,r,i,o,a,s,u){var c=[(i-e)*u-(o-n)*s,(o-n)*a-(r-t)*u,(r-t)*s-(i-e)*a];c=Math.pow(c[0]*c[0]+c[1]*c[1]+c[2]*c[2],.5);var l=Math.pow(a*a+s*s+u*u,.5),f=c/l;return f}function f(t,e,n,r){var i=r-e,o=n-t,a=i*i+o*o,s=Math.pow(a,.5);return s}function h(t,e,n,r,i,o){var a=o-n,s=i-e,u=r-t,c=a*a+s*s+u*u,l=Math.pow(c,.5);return l}function p(t){for(var e=[],n=0;n<t.length-1;n++)for(var r=n+1;r<t.length;r++)2==t[0].length?e.push(f(t[n][0],t[n][1],t[r][0],t[r][1])):3==t[0].length&&e.push(h(t[n][0],t[n][1],t[n][2],t[r][0],t[r][1],t[r][2]));return e}n.name="distance",n.factory=r},{"../../type/matrix/function/matrix":477}],347:[function(t,e,n){e.exports=[t("./intersect"),t("./distance")]},{"./distance":346,"./intersect":348}],348:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){return 2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function a(t){return 3===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function s(t){return 4===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]}function u(t,e,r,i){var o=t,a=r,s=m(o,e),u=m(a,i),c=s[0]*u[1]-u[0]*s[1];if(f(c)<n.epsilon)return null;var l=(u[0]*o[1]-u[1]*o[0]-u[0]*a[1]+u[1]*a[0])/c;return h(d(s,l),o)}function c(t,e,n,r,i,o,a,s,u,c,l,f){var h=(t-a)*(c-a)+(e-s)*(l-s)+(n-u)*(f-u),p=(c-a)*(r-t)+(l-s)*(i-e)+(f-u)*(o-n),d=(t-a)*(r-t)+(e-s)*(i-e)+(n-u)*(o-n),m=(c-a)*(c-a)+(l-s)*(l-s)+(f-u)*(f-u),g=(r-t)*(r-t)+(i-e)*(i-e)+(o-n)*(o-n),y=(h*p-d*m)/(g*m-p*p),v=(h+y*p)/m,x=t+y*(r-t),b=e+y*(i-e),w=n+y*(o-n),_=a+v*(c-a),N=s+v*(l-s),M=u+v*(f-u);return x===_&&b===N&&w===M?[x,b,w]:null}function l(t,e,n,r,i,o,a,s,u,c){var l=(c-t*a-e*s-n*u)/(r*a+i*s+o*u-t-e-n),f=t+l*(r-t),h=e+l*(i-e),p=n+l*(o-n);return[f,h,p]}var f=r(t("../arithmetic/abs")),h=r(t("../arithmetic/add")),p=r(t("../../type/matrix/function/matrix")),d=r(t("../arithmetic/multiply")),m=r(t("../arithmetic/subtract")),g=i("intersect",{"Array, Array, Array":function(t,e,n){if(!a(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!s(n))throw new TypeError("Array with 4 numbers expected as third argument");return l(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(t,e,n,r){if(2===t.length){if(!o(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 2 numbers expected for second argument");
if(!o(n))throw new TypeError("Array with 2 numbers expected for third argument");if(!o(r))throw new TypeError("Array with 2 numbers expected for fourth argument");return u(t,e,n,r)}if(3===t.length){if(!a(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!a(n))throw new TypeError("Array with 3 numbers expected for third argument");if(!a(r))throw new TypeError("Array with 3 numbers expected for fourth argument");return c(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2])}throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(t,e,n){return p(g(t.valueOf(),e.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(t,e,n,r){return p(g(t.valueOf(),e.valueOf(),n.valueOf(),r.valueOf()))}});return g}n.name="intersect",n.factory=r},{"../../type/matrix/function/matrix":477,"../arithmetic/abs":294,"../arithmetic/add":295,"../arithmetic/multiply":315,"../arithmetic/subtract":324}],349:[function(t,e,n){e.exports=[t("./algebra"),t("./arithmetic"),t("./bitwise"),t("./combinatorics"),t("./complex"),t("./geometry"),t("./logical"),t("./matrix"),t("./probability"),t("./relational"),t("./statistics"),t("./string"),t("./trigonometry"),t("./unit"),t("./utils")]},{"./algebra":271,"./arithmetic":310,"./bitwise":332,"./combinatorics":339,"./complex":344,"./geometry":347,"./logical":351,"./matrix":364,"./probability":382,"./relational":393,"./statistics":399,"./string":411,"./trigonometry":432,"./unit":439,"./utils":442}],350:[function(t,e,n){"use strict";function r(e,n,r,i){var o=t("../../utils/latex"),a=r(t("../../type/matrix/function/matrix")),s=r(t("../matrix/zeros")),u=r(t("./not")),c=(r(t("../utils/isZero")),r(t("../../type/matrix/utils/algorithm02"))),l=r(t("../../type/matrix/utils/algorithm06")),f=r(t("../../type/matrix/utils/algorithm11")),h=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),d=i("and",{"number, number":function(t,e){return!(!t||!e)},"Complex, Complex":function(t,e){return!(0===t.re&&0===t.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(t,e){return!(t.isZero()||e.isZero()||t.isNaN()||e.isNaN())},"Unit, Unit":function(t,e){return d(t.value,e.value)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=h(t,e,d)}}return n},"Array, Array":function(t,e){return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return d(a(t),e)},"Matrix, Array":function(t,e){return d(t,a(e))},"Matrix, any":function(t,e){if(u(e))return s(t.size(),t.storage());var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){if(u(t))return s(t.size(),t.storage());var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return d(a(t),e).valueOf()},"any, Array":function(t,e){return d(t,a(e)).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+o.operators.and+"${args[1]}\\right)"},d}n.name="and",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm06":485,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526,"../matrix/zeros":377,"../utils/isZero":449,"./not":352}],351:[function(t,e,n){e.exports=[t("./and"),t("./not"),t("./or"),t("./xor")]},{"./and":350,"./not":352,"./or":353,"./xor":354}],352:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=o("not",{number:function(t){return!t},Complex:function(t){return 0===t.re&&0===t.im},BigNumber:function(t){return t.isZero()||t.isNaN()},Unit:function(t){return s(t.value)},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={1:a.operators.not+"\\left(${args[0]}\\right)"},s}var i=t("../../utils/collection/deepMap");n.name="not",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/latex":526}],353:[function(t,e,n){"use strict";function r(e,n,r,i){var o=t("../../utils/latex"),a=r(t("../../type/matrix/function/matrix")),s=r(t("../../type/matrix/utils/algorithm03")),u=r(t("../../type/matrix/utils/algorithm05")),c=r(t("../../type/matrix/utils/algorithm12")),l=r(t("../../type/matrix/utils/algorithm13")),f=r(t("../../type/matrix/utils/algorithm14")),h=i("or",{"number, number":function(t,e){return!(!t&&!e)},"Complex, Complex":function(t,e){return 0!==t.re||0!==t.im||0!==e.re||0!==e.im},"BigNumber, BigNumber":function(t,e){return!t.isZero()&&!t.isNaN()||!e.isZero()&&!e.isNaN()},"Unit, Unit":function(t,e){return h(t.value,e.value)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,h);break;default:n=s(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,h,!1);break;default:n=l(t,e,h)}}return n},"Array, Array":function(t,e){return h(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return h(a(t),e)},"Matrix, Array":function(t,e){return h(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,h,!1);break;default:n=f(t,e,h,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,h,!0);break;default:n=f(e,t,h,!0)}return n},"Array, any":function(t,e){return f(a(t),e,h,!1).valueOf()},"any, Array":function(t,e){return f(a(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+o.operators.or+"${args[1]}\\right)"},h}n.name="or",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm05":484,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526}],354:[function(t,e,n){"use strict";function r(e,n,r,i){var o=t("../../utils/latex"),a=r(t("../../type/matrix/function/matrix")),s=r(t("../../type/matrix/utils/algorithm03")),u=r(t("../../type/matrix/utils/algorithm07")),c=r(t("../../type/matrix/utils/algorithm12")),l=r(t("../../type/matrix/utils/algorithm13")),f=r(t("../../type/matrix/utils/algorithm14")),h=i("xor",{"number, number":function(t,e){return!!(!!t^!!e)},"Complex, Complex":function(t,e){return(0!==t.re||0!==t.im)!=(0!==e.re||0!==e.im)},"BigNumber, BigNumber":function(t,e){return(!t.isZero()&&!t.isNaN())!=(!e.isZero()&&!e.isNaN())},"Unit, Unit":function(t,e){return h(t.value,e.value)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,h);break;default:n=s(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,h,!1);break;default:n=l(t,e,h)}}return n},"Array, Array":function(t,e){return h(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return h(a(t),e)},"Matrix, Array":function(t,e){return h(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,h,!1);break;default:n=f(t,e,h,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,h,!0);break;default:n=f(e,t,h,!0)}return n},"Array, any":function(t,e){return f(a(t),e,h,!1).valueOf()},"any, Array":function(t,e){return f(a(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+o.operators.xor+"${args[1]}\\right)"},h}n.name="xor",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526}],355:[function(t,e,n){"use strict";function r(e,n,r,l){var f=r(t("../../type/matrix/function/matrix")),h=l("concat",{"...Array | Matrix | number | BigNumber":function(t){var e,n,r=t.length,l=-1,h=!1,p=[];for(e=0;e<r;e++){var d=t[e];if(d&&d.isMatrix===!0&&(h=!0),"number"==typeof d||d&&d.isBigNumber===!0){if(e!==r-1)throw new Error("Dimension must be specified as last argument");if(n=l,l=d.valueOf(),!a(l))throw new TypeError("Integer number expected for dimension");if(l<0||e>0&&l>n)throw new u(l,n+1)}else{var m=o(d).valueOf(),g=s.size(m);if(p[e]=m,n=l,l=g.length-1,e>0&&l!=n)throw new c(n+1,l+1)}}if(0==p.length)throw new SyntaxError("At least one matrix expected");for(var y=p.shift();p.length;)y=i(y,p.shift(),l,0);return h?f(y):y},"...string":function(t){return t.join("")}});return h.toTex=void 0,h}function i(t,e,n,r){if(r<n){if(t.length!=e.length)throw new c(t.length,e.length);for(var o=[],a=0;a<t.length;a++)o[a]=i(t[a],e[a],n,r+1);return o}return t.concat(e)}var o=t("../../utils/object").clone,a=t("../../utils/number").isInteger,s=t("../../utils/array"),u=t("../../error/IndexError"),c=t("../../error/DimensionError");n.name="concat",n.factory=r},{"../../error/DimensionError":49,"../../error/IndexError":50,"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/number":527,"../../utils/object":528}],356:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){var n=i(t),r=i(e);if(1!=n.length||1!=r.length||3!=n[0]||3!=r[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+n.join(", ")+"], B = ["+r.join(", ")+"])");return[u(c(t[1],e[2]),c(t[2],e[1])),u(c(t[2],e[0]),c(t[0],e[2])),u(c(t[0],e[1]),c(t[1],e[0]))]}var s=r(t("../../type/matrix/function/matrix")),u=r(t("../arithmetic/subtract")),c=r(t("../arithmetic/multiply")),l=o("cross",{"Matrix, Matrix":function(t,e){return s(a(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return s(a(t.toArray(),e))},"Array, Matrix":function(t,e){return s(a(t,e.toArray()))},"Array, Array":a});return l.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},l}var i=t("../../utils/array").size;n.name="cross",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505,"../arithmetic/multiply":315,"../arithmetic/subtract":324}],357:[function(t,e,n){"use strict";function r(e,n,r,i){function s(t,e,n){if(1==e)return o.clone(t[0][0]);if(2==e)return l(f(t[0][0],t[1][1]),f(t[1][0],t[0][1]));for(var r=function(t){var e,n,r=new Array(t.length),i=0;for(e=1;e<t.length;e++)i=c(i,t[e][e]);for(e=0;e<t.length;e++){for(r[e]=new Array(t.length),r[e][e]=h(i),n=0;n<e;n++)r[e][n]=0;for(n=e+1;n<t.length;n++)r[e][n]=t[e][n];e+1<t.length&&(i=l(i,t[e+1][e+1]))}return r},i=t,a=0;a<e-1;a++)i=f(r(i),t);return e%2==0?h(i[0][0]):i[0][0]}var u=r(t("../../type/matrix/function/matrix")),c=r(t("../arithmetic/add")),l=r(t("../arithmetic/subtract")),f=r(t("../arithmetic/multiply")),h=r(t("../arithmetic/unaryMinus")),p=i("det",{any:function(t){return o.clone(t)},"Array | Matrix":function(t){var e;switch(t&&t.isMatrix===!0?e=t.size():Array.isArray(t)?(t=u(t),e=t.size()):e=[],e.length){case 0:return o.clone(t);case 1:if(1==e[0])return o.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");case 2:var n=e[0],r=e[1];if(n==r)return s(t.clone().valueOf(),n,r);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(e)+")")}}});return p.toTex={1:"\\det\\left(${args[0]}\\right)"},p}var i=t("../../utils/index"),o=i.object,a=i.string;n.name="det",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/index":525,"../arithmetic/add":295,"../arithmetic/multiply":315,"../arithmetic/subtract":324,"../arithmetic/unaryMinus":325}],358:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,e,n,r){if(!o(e))throw new TypeError("Second parameter in function diag must be an integer");var i=e>0?e:0,a=e<0?-e:0;switch(n.length){case 1:return u(t,e,r,n[0],a,i);case 2:return c(t,e,r,n,a,i)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function u(t,n,r,i,o,a){var s=[i+o,i+a],u=e.Matrix.storage(r||"dense"),c=u.diagonal(s,t,n);return null!==r?c:c.valueOf()}function c(t,e,n,r,i,o){if(t&&t.isMatrix===!0){var a=t.diagonal(e);return null!==n?n!==a.storage()?l(a,n):a:a.valueOf()}for(var s=Math.min(r[0]-i,r[1]-o),u=[],c=0;c<s;c++)u[c]=t[c+i][c+o];return null!==n?l(u):u}var l=r(t("../../type/matrix/function/matrix")),f=a("diag",{Array:function(t){return s(t,0,i.size(t),null)},"Array, number":function(t,e){return s(t,e,i.size(t),null)},"Array, BigNumber":function(t,e){return s(t,e.toNumber(),i.size(t),null)},"Array, string":function(t,e){return s(t,0,i.size(t),e)},"Array, number, string":function(t,e,n){return s(t,e,i.size(t),n)},"Array, BigNumber, string":function(t,e,n){return s(t,e.toNumber(),i.size(t),n)},Matrix:function(t){return s(t,0,t.size(),t.storage())},"Matrix, number":function(t,e){return s(t,e,t.size(),t.storage())},"Matrix, BigNumber":function(t,e){return s(t,e.toNumber(),t.size(),t.storage())},"Matrix, string":function(t,e){return s(t,0,t.size(),e)},"Matrix, number, string":function(t,e,n){return s(t,e,t.size(),n)},"Matrix, BigNumber, string":function(t,e,n){return s(t,e.toNumber(),t.size(),n)}});return f.toTex=void 0,f}var i=t("../../utils/array"),o=(t("../../utils/object").clone,t("../../utils/number").isInteger);n.name="diag",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/number":527,"../../utils/object":528}],359:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){var n=i(t),r=i(e),o=n[0];if(1!==n.length||1!==r.length)throw new RangeError("Vector expected");if(n[0]!=r[0])throw new RangeError("Vectors must have equal length ("+n[0]+" != "+r[0]+")");if(0==o)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var a=0,c=0;c<o;c++)a=s(a,u(t[c],e[c]));return a}var s=r(t("../arithmetic/add")),u=r(t("../arithmetic/multiply")),c=o("dot",{"Matrix, Matrix":function(t,e){return a(t.toArray(),e.toArray())},"Matrix, Array":function(t,e){return a(t.toArray(),e)},"Array, Matrix":function(t,e){return a(t,e.toArray())},"Array, Array":a});return c.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},c}var i=t("../../utils/array").size;n.name="dot",n.factory=r},{"../../utils/array":505,"../arithmetic/add":295,"../arithmetic/multiply":315}],360:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,e){switch(t.length){case 0:return e?c(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,n,r){var a=t&&t.isBigNumber===!0?e.BigNumber:n&&n.isBigNumber===!0?e.BigNumber:null;if(t&&t.isBigNumber===!0&&(t=t.toNumber()),n&&n.isBigNumber===!0&&(n=n.toNumber()),!o(t)||t<1)throw new Error("Parameters in function eye must be positive integers");if(!o(n)||n<1)throw new Error("Parameters in function eye must be positive integers");var s=a?new e.BigNumber(1):1,u=a?new a(0):0,c=[t,n];if(r){var l=e.Matrix.storage(r);return l.diagonal(c,s,0,u)}for(var f=i.resize([],c,u),h=t<n?t:n,p=0;p<h;p++)f[p][p]=s;return f}var c=r(t("../../type/matrix/function/matrix")),l=a("eye",{"":function(){return"Matrix"===n.matrix?c([]):[]},string:function(t){return c(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===n.matrix?"default":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===n.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,n){return u(t,e,n)},Array:function(t){return s(t)},"Array, string":function(t,e){return s(t,e)},Matrix:function(t){return s(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return s(t.valueOf(),e)}});return l.toTex=void 0,l}var i=t("../../utils/array"),o=t("../../utils/number").isInteger;n.name="eye",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/number":527}],361:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=a("filter",{"Array, function":i,"Array, RegExp":o,"Matrix, function":function(t,e){return s(i(t.toArray(),e))},"Matrix, RegExp":function(t,e){return s(o(t.toArray(),e))}});return u.toTex=void 0,u}function i(t,e){if(1!==a(t).length)throw new Error("Only one dimensional matrices supported");var n=s(e);return t.filter(function(t,r,i){return 1===n?e(t):2===n?e(t,[r]):e(t,[r],i)})}function o(t,e){if(1!==a(t).length)throw new Error("Only one dimensional matrices supported");return t.filter(function(t){return e.test(t)})}var a=t("../../utils/array").size,s=t("../../utils/function").maxArgumentCount;n.name="filter",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/function":524}],362:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=a("flatten",{Array:function(t){return o(i(t))},Matrix:function(t){var e=o(i(t.toArray()));return s(e)}});return u.toTex=void 0,u}var i=t("../../utils/object").clone,o=t("../../utils/array").flatten;n.name="flatten",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/object":528}],363:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("forEach",{"Array, function":i,"Matrix, function":function(t,e){return t.forEach(e)}});return o.toTex=void 0,o}function i(t,e){var n=o(e),r=function(i,o){Array.isArray(i)?i.forEach(function(t,e){r(t,o.concat(e))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};r(t,[])}var o=t("../../utils/function").maxArgumentCount;n.name="forEach",n.factory=r},{"../../utils/function":524}],364:[function(t,e,n){e.exports=[t("./concat"),t("./cross"),t("./det"),t("./diag"),t("./dot"),t("./eye"),t("./filter"),t("./flatten"),t("./forEach"),t("./inv"),t("./map"),t("./ones"),t("./partitionSelect"),t("./range"),t("./resize"),t("./size"),t("./sort"),t("./squeeze"),t("./subset"),t("./trace"),t("./transpose"),t("./zeros")]},{"./concat":355,"./cross":356,"./det":357,"./diag":358,"./dot":359,"./eye":360,"./filter":361,"./flatten":362,"./forEach":363,"./inv":365,"./map":366,"./ones":367,"./partitionSelect":368,"./range":369,"./resize":370,"./size":371,"./sort":372,"./squeeze":373,"./subset":374,"./trace":375,"./transpose":376,"./zeros":377}],365:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e,n){var r,i,o,a,s;if(1==e){if(a=t[0][0],0==a)throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,a)]]}if(2==e){var d=h(t);if(0==d)throw Error("Cannot calculate inverse, determinant is zero");return[[u(t[1][1],d),u(f(t[0][1]),d)],[u(f(t[1][0]),d),u(t[0][0],d)]]}var m=t.concat();for(r=0;r<e;r++)m[r]=m[r].concat();for(var g=p(e).valueOf(),y=0;y<n;y++){for(r=y;r<e&&0==m[r][y];)r++;if(r==e||0==m[r][y])throw Error("Cannot calculate inverse, determinant is zero");r!=y&&(s=m[y],m[y]=m[r],m[r]=s,s=g[y],g[y]=g[r],g[r]=s);var v=m[y],x=g[y];for(r=0;r<e;r++){var b=m[r],w=g[r];if(r!=y){if(0!=b[y]){for(o=u(f(b[y]),v[y]),i=y;i<n;i++)b[i]=c(b[i],l(o,v[i]));for(i=0;i<n;i++)w[i]=c(w[i],l(o,x[i]))}}else{for(o=v[y],i=y;i<n;i++)b[i]=u(b[i],o);for(i=0;i<n;i++)w[i]=u(w[i],o)}}}return g}var s=r(t("../../type/matrix/function/matrix")),u=r(t("../arithmetic/divideScalar")),c=r(t("../arithmetic/addScalar")),l=r(t("../arithmetic/multiply")),f=r(t("../arithmetic/unaryMinus")),h=r(t("../matrix/det")),p=r(t("./eye")),d=o("inv",{"Array | Matrix":function(t){var e=t.isMatrix===!0?t.size():i.array.size(t);switch(e.length){case 1:if(1==e[0])return t.isMatrix===!0?s([u(1,t.valueOf()[0])]):[u(1,t[0])];throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");case 2:var n=e[0],r=e[1];if(n==r)return t.isMatrix===!0?s(a(t.valueOf(),n,r),t.storage()):a(t,n,r);throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i.string.format(e)+")")}},any:function(t){return u(1,t)}});return d.toTex={1:"\\left(${args[0]}\\right)^{-1}"},d}var i=t("../../utils/index");n.name="inv",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/index":525,"../arithmetic/addScalar":296,"../arithmetic/divideScalar":301,"../arithmetic/multiply":315,"../arithmetic/unaryMinus":325,"../matrix/det":357,"./eye":360}],366:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("map",{"Array, function":i,"Matrix, function":function(t,e){return t.map(e)}});return o.toTex=void 0,o}function i(t,e){var n=o(e),r=function(i,o){return Array.isArray(i)?i.map(function(t,e){return r(t,o.concat(e))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};return r(t,[])}var o=t("../../utils/function").maxArgumentCount;n.name="map",n.factory=r},{"../../utils/function":524}],367:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){var r=u(t),i=r?new e.BigNumber(1):1;if(c(t),n){var a=l(n);return t.length>0?a.resize(t,i):a}var s=[];return t.length>0?o(s,t,i):s}function u(t){var e=!1;return t.forEach(function(t,n,r){t&&t.isBigNumber===!0&&(e=!0,r[n]=t.toNumber())}),e}function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function ones must be positive integers")})}var l=r(t("../../type/matrix/function/matrix")),f=a("ones",{"":function(){return"Array"===n.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){var e=t[t.length-1];if("string"==typeof e){var r=t.pop();return s(t,r)}return"Array"===n.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});return f.toTex=void 0,f}var i=t("../../utils/number").isInteger,o=t("../../utils/array").resize;n.name="ones",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/number":527}],368:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){return-c(t,e)}function s(t,e,n){if(!i(e)||e<0)throw new Error("k must be a non-negative integer");if(t&&t.isMatrix){var r=t.size();if(r.length>1)throw new Error("Only one dimensional matrices supported");return u(t.valueOf(),e,n)}if(Array.isArray(t))return u(t,e,n)}function u(t,e,n){if(e>=t.length)throw new Error("k out of bounds");for(var r=0,i=t.length-1;r<i;){for(var o=r,a=i,s=t[Math.floor(Math.random()*(i-r+1))+r];o<a;)if(n(t[o],s)>=0){var u=t[a];t[a]=t[o],t[o]=u,--a}else++o;n(t[o],s)>0&&--o,e<=o?i=o:r=o+1}return t[e]}var c=r(t("../relational/compare"));return o("partitionSelect",{"Array | Matrix, number":function(t,e){return s(t,e,c)},"Array | Matrix, number, string":function(t,e,n){if("asc"===n)return s(t,e,c);if("desc"===n)return s(t,e,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s})}var i=t("../../utils/number").isInteger;n.name="partitionSelect",n.factory=r},{"../../utils/number":527,"../relational/compare":389}],369:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){return"Array"===n.matrix?t:h(t)}function a(t,r){var i=f(t);if(!i)throw new SyntaxError('String "'+t+'" is no valid range');var a;return"BigNumber"===n.number?(a=r?l:c,o(a(new e.BigNumber(i.start),new e.BigNumber(i.end),new e.BigNumber(i.step)))):(a=r?u:s,o(a(i.start,i.end,i.step)))}function s(t,e,n){var r=[],i=t;if(n>0)for(;i<e;)r.push(i),i+=n;else if(n<0)for(;i>e;)r.push(i),i+=n;return r}function u(t,e,n){var r=[],i=t;if(n>0)for(;i<=e;)r.push(i),i+=n;else if(n<0)for(;i>=e;)r.push(i),i+=n;return r}function c(t,e,n){var r=[],i=t;if(n.gt(p))for(;i.lt(e);)r.push(i),i=i.plus(n);else if(n.lt(p))for(;i.gt(e);)r.push(i),i=i.plus(n);return r}function l(t,e,n){var r=[],i=t;if(n.gt(p))for(;i.lte(e);)r.push(i),i=i.plus(n);else if(n.lt(p))for(;i.gte(e);)r.push(i),i=i.plus(n);return r}function f(t){var e=t.split(":"),n=e.map(function(t){return Number(t)}),r=n.some(function(t){return isNaN(t)});if(r)return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}var h=r(t("../../type/matrix/function/matrix")),p=new e.BigNumber(0),d=new e.BigNumber(1),m=i("range",{string:a,"string, boolean":a,"number, number":function(t,e){return o(s(t,e,1))},"number, number, number":function(t,e,n){return o(s(t,e,n))},"number, number, boolean":function(t,e,n){return o(n?u(t,e,1):s(t,e,1))},"number, number, number, boolean":function(t,e,n,r){return o(r?u(t,e,n):s(t,e,n))},"BigNumber, BigNumber":function(t,e){return o(c(t,e,d))},"BigNumber, BigNumber, BigNumber":function(t,e,n){return o(c(t,e,n))},"BigNumber, BigNumber, boolean":function(t,e,n){return o(n?l(t,e,d):c(t,e,d))},"BigNumber, BigNumber, BigNumber, boolean":function(t,e,n,r){return o(r?l(t,e,n):c(t,e,n))}});return m.toTex=void 0,m}n.name="range",n.factory=r},{"../../type/matrix/function/matrix":477}],370:[function(t,e,n){"use strict";function r(e,n,r,l){function f(t,e,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==e.length)throw new i(e.length,1);var r=e[0];if("number"!=typeof r||!a(r))throw new TypeError("Invalid size, must contain positive integers (size: "+s(e)+")");if(t.length>r)return t.substring(0,r);if(t.length<r){for(var o=t,u=0,c=r-t.length;u<c;u++)o+=n;return o}return t}var h=r(t("../../type/matrix/function/matrix")),p=function(t,e,r){if(2!=arguments.length&&3!=arguments.length)throw new o("resize",arguments.length,2,3);if(e&&e.isMatrix===!0&&(e=e.valueOf()),e.length&&e[0]&&e[0].isBigNumber===!0&&(e=e.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t})),t&&t.isMatrix===!0)return t.resize(e,r,!0);if("string"==typeof t)return f(t,e,r);var i=!Array.isArray(t)&&"Array"!==n.matrix;if(0==e.length){for(;Array.isArray(t);)t=t[0];return u(t)}Array.isArray(t)||(t=[t]),t=u(t);var a=c.resize(t,e,r);return i?h(a):a};return p.toTex=void 0,p}var i=t("../../error/DimensionError"),o=t("../../error/ArgumentsError"),a=t("../../utils/number").isInteger,s=t("../../utils/string").format,u=t("../../utils/object").clone,c=t("../../utils/array");n.name="resize",n.factory=r},{"../../error/ArgumentsError":48,"../../error/DimensionError":49,"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/number":527,"../../utils/object":528,"../../utils/string":529}],371:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../type/matrix/function/matrix")),s=o("size",{Matrix:function(t){return a(t.size())},Array:i.size,string:function(t){return"Array"===n.matrix?[t.length]:a([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===n.matrix?[]:a([])}});return s.toTex=void 0,s}var i=t("../../utils/array");n.name="size",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505}],372:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t){if("asc"===t)return l;if("desc"===t)return f;throw new Error('String "asc" or "desc" expected')}function s(t){if(1!==i(t).length)throw new Error("One dimensional array expected")}function u(t){if(1!==t.size().length)throw new Error("One dimensional matrix expected")}var c=r(t("../../type/matrix/function/matrix")),l=r(t("../relational/compare")),f=function(t,e){return-l(t,e)},h=o("sort",{Array:function(t){return s(t),t.sort(l)},Matrix:function(t){return u(t),c(t.toArray().sort(l),t.storage())},"Array, function":function(t,e){return s(t),t.sort(e)},"Matrix, function":function(t,e){return u(t),c(t.toArray().sort(e),t.storage())},"Array, string":function(t,e){return s(t),t.sort(a(e))},"Matrix, string":function(t,e){return u(t),c(t.toArray().sort(a(e)),t.storage())}});return h.toTex=void 0,h}var i=t("../../utils/array").size;n.name="sort",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505,"../relational/compare":389}],373:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=a("squeeze",{Array:function(t){return o.squeeze(i.clone(t))},Matrix:function(t){var e=o.squeeze(t.toArray());return Array.isArray(e)?s(e):e},any:function(t){return i.clone(t)}});return u.toTex=void 0,u}var i=t("../../utils/object"),o=t("../../utils/array");n.name="squeeze",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/object":528}],374:[function(t,e,n){"use strict";function r(e,n,r,c){function l(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(1!=e.size().length)throw new u(e.size().length,1);var n=t.length;s(e.min()[0],n),s(e.max()[0],n);var r=e.dimension(0),i="";return r.forEach(function(e){i+=t.charAt(e)}),i}function f(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(1!=e.size().length)throw new u(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0),o=i.size()[0];if(o!=n.length)throw new u(i.size()[0],n.length);var a=t.length;s(e.min()[0]),s(e.max()[0]);for(var c=[],l=0;l<a;l++)c[l]=t.charAt(l);if(i.forEach(function(t,e){c[t]=n.charAt(e[0])}),c.length>a)for(l=a-1,o=c.length;l<o;l++)c[l]||(c[l]=r);return c.join("")}var h=r(t("../../type/matrix/function/matrix")),p=c("subset",{"Array, Index":function(t,e){var n=h(t),r=n.subset(e);return r&&r.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":i,"string, Index":l,"Array, Index, any":function(t,e,n){return h(a(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,r){return h(a(t)).subset(e,n,r).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,r){return t.clone().subset(e,n,r)},"string, Index, string":f,"string, Index, string, string":f,"Object, Index, any":o});return p.toTex=void 0,p}function i(t,e){if(1!==e.size().length)throw new u(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return t[n]}function o(t,e,n){if(1!==e.size().length)throw new u(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=a(t);return i[r]=n,i}var a=t("../../utils/object").clone,s=t("../../utils/array").validateIndex,u=t("../../error/DimensionError");n.name="subset",n.factory=r},{"../../error/DimensionError":49,"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/object":528}],375:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../arithmetic/add")),c=a("trace",{Array:function(t){return c(s(t))},Matrix:function(t){var e;switch(t.storage()){case"dense":e=l(t);break;case"sparse":e=f(t)}return e},any:i}),l=function(t){var e=t._size,n=t._data;switch(e.length){case 1:if(1==e[0])return i(n[0]);throw new RangeError("Matrix must be square (size: "+o(e)+")");case 2:var r=e[0],a=e[1];if(r===a){for(var s=0,c=0;c<r;c++)s=u(s,n[c][c]);return s}throw new RangeError("Matrix must be square (size: "+o(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o(e)+")")}},f=function(t){var e=t._values,n=t._index,r=t._ptr,i=t._size,a=i[0],s=i[1];if(a===s){var c=0;if(e.length>0)for(var l=0;l<s;l++)for(var f=r[l],h=r[l+1],p=f;p<h;p++){var d=n[p];if(d===l){c=u(c,e[p]);break}if(d>l)break}return c}throw new RangeError("Matrix must be square (size: "+o(i)+")")};return c.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},c}var i=t("../../utils/object").clone,o=t("../../utils/string").format;n.name="trace",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/object":528,"../../utils/string":529,"../arithmetic/add":295}],376:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=e.DenseMatrix,l=e.SparseMatrix,f=a("transpose",{Array:function(t){return f(u(t)).valueOf()},Matrix:function(t){var e,n=t.size();switch(n.length){case 1:e=t.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+o(n)+")");switch(t.storage()){case"dense":e=h(t,r,i);break;case"sparse":
e=p(t,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+o(this._size)+")")}return e},any:function(t){return i(t)}}),h=function(t,e,n){for(var r,o=t._data,a=[],s=0;s<n;s++){r=a[s]=[];for(var u=0;u<e;u++)r[u]=i(o[u][s])}return new c({data:a,size:[n,e],datatype:t._datatype})},p=function(t,e,n){for(var r=t._values,o=t._index,a=t._ptr,s=r?[]:void 0,u=[],c=[],f=[],h=0;h<e;h++)f[h]=0;var p,d,m;for(p=0,d=o.length;p<d;p++)f[o[p]]++;for(var g=0,y=0;y<e;y++)c.push(g),g+=f[y],f[y]=c[y];for(c.push(g),m=0;m<n;m++)for(var v=a[m],x=a[m+1],b=v;b<x;b++){var w=f[o[b]]++;u[w]=m,r&&(s[w]=i(r[b]))}return new l({values:s,index:u,ptr:c,size:[n,e],datatype:t._datatype})};return f.toTex={1:"\\left(${args[0]}\\right)"+s.operators.transpose},f}var i=t("../../utils/object").clone,o=t("../../utils/string").format;n.name="transpose",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/latex":526,"../../utils/object":528,"../../utils/string":529}],377:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){var r=u(t),i=r?new e.BigNumber(0):0;if(c(t),n){var a=l(n);return t.length>0?a.resize(t,i):a}var s=[];return t.length>0?o(s,t,i):s}function u(t){var e=!1;return t.forEach(function(t,n,r){t&&t.isBigNumber===!0&&(e=!0,r[n]=t.toNumber())}),e}function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")})}var l=r(t("../../type/matrix/function/matrix")),f=a("zeros",{"":function(){return"Array"===n.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){var e=t[t.length-1];if("string"==typeof e){var r=t.pop();return s(t,r)}return"Array"===n.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});return f.toTex=void 0,f}var i=t("../../utils/number").isInteger,o=t("../../utils/array").resize;n.name="zeros",n.factory=r},{"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/number":527}],378:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("combinations",{"number, number":function(t,e){var n,r,i;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(n=Math.max(e,t-e),r=1,i=1;i<=t-n;i++)r=r*(n+i)/i;return r},"BigNumber, BigNumber":function(e,n){var r,o,a,s,u=new t.BigNumber(1);if(!i(e)||!i(n))throw new TypeError("Positive integer value expected in function combinations");if(n.gt(e))throw new TypeError("k must be less than n in function combinations");for(r=e.minus(n),n.lt(r)&&(r=n),o=u,a=u,s=e.minus(r);a.lte(s);a=a.plus(1))o=o.times(r.plus(a)).dividedBy(a);return o}});return a.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},a}function i(t){return t.isInteger()&&t.gte(0)}var o=t("../../utils/number").isInteger;n.name="combinations",n.factory=r},{"../../utils/number":527}],379:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t){if(!l.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var e=Array.prototype.slice.call(arguments,1),n=l[t].apply(this,e);return function(t){var e={random:function(t,e,r){var s,c,l;if(arguments.length>3)throw new i("random",arguments.length,0,3);if(1===arguments.length?o(t)?s=t:l=t:2===arguments.length?o(t)?(s=t,l=e):(c=t,l=e):(s=t,c=e,l=r),void 0===l&&(l=1),void 0===c&&(c=0),void 0!==s){var f=a(s.valueOf(),c,l,n);return s&&s.isMatrix===!0?u(f):f}return n(c,l)},randomInt:function(t,e,n){var s,c,l;if(arguments.length>3||arguments.length<1)throw new i("randomInt",arguments.length,1,3);if(1===arguments.length?o(t)?s=t:l=t:2===arguments.length?o(t)?(s=t,l=e):(c=t,l=e):(s=t,c=e,l=n),void 0===c&&(c=0),void 0!==s){var f=a(s.valueOf(),c,l,r);return s&&s.isMatrix===!0?u(f):f}return r(c,l)},pickRandom:function(t){if(1!==arguments.length)throw new i("pickRandom",arguments.length,1);if(t&&t.isMatrix===!0)t=t.valueOf();else if(!Array.isArray(t))throw new TypeError("Unsupported type of value in function pickRandom");if(c.size(t).length>1)throw new Error("Only one dimensional vectors supported");return t[Math.floor(Math.random()*t.length)]}},n=function(e,n){return e+t()*(n-e)},r=function(e,n){return Math.floor(e+t()*(n-e))},a=function(t,e,n,r){var i,o,s=[];if(t=t.slice(0),t.length>1)for(o=0,i=t.shift();o<i;o++)s.push(a(t,e,n,r));else for(o=0,i=t.shift();o<i;o++)s.push(r(e,n));return s};return e}(n)}var u=r(t("../../type/matrix/function/matrix")),c=t("../../utils/array"),l={uniform:function(){return Math.random},normal:function(){return function(){for(var t,e,n=-1;n<0||n>1;)t=Math.random(),e=Math.random(),n=1/6*Math.pow(-2*Math.log(t),.5)*Math.cos(2*Math.PI*e)+.5;return n}}};return s.toTex=void 0,s}var i=t("../../error/ArgumentsError"),o=t("../../utils/collection/isCollection");n.name="distribution",n.factory=r},{"../../error/ArgumentsError":48,"../../type/matrix/function/matrix":477,"../../utils/array":505,"../../utils/collection/isCollection":520}],380:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("./gamma")),s=t("../../utils/latex"),u=o("factorial",{number:function(t){if(t<0)throw new Error("Value must be non-negative");return a(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error("Value must be non-negative");return a(t.plus(1))},"Array | Matrix":function(t){return i(t,u)}});return u.toTex={1:"\\left(${args[0]}\\right)"+s.operators.factorial},u}var i=t("../../utils/collection/deepMap");n.name="factorial",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/latex":526,"./gamma":381}],381:[function(t,e,n){"use strict";function r(e,n,r,u){function c(t){if(t.isZero())return new e.BigNumber(1);for(var r=n.precision+(0|Math.log(t.toNumber())),i=e.BigNumber.clone({precision:r}),o=new i(t),a=t.toNumber()-1;a>1;)o=o.times(a),a--;return new e.BigNumber(o.toPrecision(e.BigNumber.precision))}var l=r(t("../arithmetic/multiply")),f=r(t("../arithmetic/pow")),h=u("gamma",{number:function(t){var e,n;if(o(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0==i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*h(1-t));if(t>=171.35)return 1/0;if(t>85){var u=t*t,c=u*t,l=c*t,f=l*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*u)-139/(51840*c)-571/(2488320*l)+163879/(209018880*f)+5246819/(75246796800*f*t))}--t,n=s[0];for(var p=1;p<s.length;++p)n+=s[p]/(t+p);return e=t+a+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n},Complex:function(t){var n,r;if(0==t.im)return h(t.re);t=new e.Complex(t.re-1,t.im),r=new e.Complex(s[0],0);for(var i=1;i<s.length;++i){var o=t.re+i,u=o*o+t.im*t.im;0!=u?(r.re+=s[i]*o/u,r.im+=-(s[i]*t.im)/u):r.re=s[i]<0?-(1/0):1/0}n=new e.Complex(t.re+a+.5,t.im);var c=Math.sqrt(2*Math.PI);t.re+=.5;var p=f(n,t);0==p.im?p.re*=c:0==p.re?p.im*=c:(p.re*=c,p.im*=c);var d=Math.exp(-n.re);return n.re=d*Math.cos(-n.im),n.im=d*Math.sin(-n.im),l(l(p,n),r)},BigNumber:function(t){if(t.isInteger())return t.isNegative()||t.isZero()?new e.BigNumber(1/0):c(t.minus(1));if(!t.isFinite())return new e.BigNumber(t.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(t){return i(t,h)}});return h.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},h}var i=t("../../utils/collection/deepMap"),o=t("../../utils/number").isInteger,a=4.7421875,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];n.name="gamma",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/number":527,"../arithmetic/multiply":315,"../arithmetic/pow":319}],382:[function(t,e,n){e.exports=[t("./combinations"),t("./factorial"),t("./gamma"),t("./kldivergence"),t("./multinomial"),t("./permutations"),t("./pickRandom"),t("./random"),t("./randomInt")]},{"./combinations":378,"./factorial":380,"./gamma":381,"./kldivergence":383,"./multinomial":384,"./permutations":385,"./pickRandom":386,"./random":387,"./randomInt":388}],383:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){var n=e.size().length,r=t.size().length;if(n>1)throw new Error("first object must be one dimensional");if(r>1)throw new Error("second object must be one dimensional");if(n!==r)throw new Error("Length of two vectors must be equal");var i=u(t);if(0===i)throw new Error("Sum of elements in first object must be non zero");var o=u(e);if(0===o)throw new Error("Sum of elements in second object must be non zero");var a=s(t,u(t)),p=s(e,u(e)),d=u(c(a,f(l(a,p))));return h(d)?d:Number.NaN}var a=r(t("../../type/matrix/function/matrix")),s=r(t("../arithmetic/divide")),u=r(t("../statistics/sum")),c=r(t("../arithmetic/multiply")),l=r(t("../arithmetic/dotDivide")),f=r(t("../arithmetic/log")),h=r(t("../utils/isNumeric")),p=i("kldivergence",{"Array, Array":function(t,e){return o(a(t),a(e))},"Matrix, Array":function(t,e){return o(t,a(e))},"Array, Matrix":function(t,e){return o(a(t),e)},"Matrix, Matrix":function(t,e){return o(t,e)}});return p}n.name="kldivergence",n.factory=r},{"../../type/matrix/function/matrix":477,"../arithmetic/divide":300,"../arithmetic/dotDivide":302,"../arithmetic/log":312,"../arithmetic/multiply":315,"../statistics/sum":408,"../utils/isNumeric":446}],384:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../arithmetic/add")),s=r(t("../arithmetic/multiply")),u=r(t("../arithmetic/divide")),c=r(t("../probability/factorial")),l=r(t("../utils/isInteger")),f=r(t("../utils/isPositive"));return o("multinomial",{"Array | Matrix":function(t){var e=0,n=1;return i(t,function(t){if(!l(t)||!f(t))throw new TypeError("Positive integer value expected in function multinomial");e=a(e,t),n=s(n,c(t))}),u(c(e),n)}})}var i=t("../../utils/collection/deepForEach");n.name="multinomial",n.factory=r},{"../../utils/collection/deepForEach":518,"../arithmetic/add":295,"../arithmetic/divide":300,"../arithmetic/multiply":315,"../probability/factorial":380,"../utils/isInteger":443,"../utils/isPositive":447}],385:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("./factorial")),u=a("permutations",{"number | BigNumber":s,"number, number":function(t,e){var n,r;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(e>t)throw new TypeError("second argument k must be less than or equal to first argument n");for(n=1,r=t-e+1;r<=t;r++)n*=r;return n},"BigNumber, BigNumber":function(t,n){var r,o;if(!i(t)||!i(n))throw new TypeError("Positive integer value expected in function permutations");if(n.gt(t))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=new e.BigNumber(1),o=t.minus(n).plus(1);o.lte(t);o=o.plus(1))r=r.times(o);return r}});return u.toTex=void 0,u}function i(t){return t.isInteger()&&t.gte(0)}var o=t("../../utils/number").isInteger;n.name="permutations",n.factory=r},{"../../utils/number":527,"./factorial":380}],386:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("./distribution")),a=o("uniform").pickRandom;return a.toTex=void 0,a}n.name="pickRandom",n.factory=r},{"./distribution":379}],387:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("./distribution")),a=o("uniform").random;return a.toTex=void 0,a}n.name="random",n.factory=r},{"./distribution":379}],388:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("./distribution")),a=o("uniform").randomInt;return a.toTex=void 0,a}n.name="randomInt",n.factory=r},{"./distribution":379}],389:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm05")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=a("compare",{"boolean, boolean":function(t,e){return t===e?0:t>e?1:-1},"number, number":function(t,e){return t===e||i(t,e,n.epsilon)?0:t>e?1:-1},"BigNumber, BigNumber":function(t,r){return t.eq(r)||o(t,r,n.epsilon)?new e.BigNumber(0):new e.BigNumber(t.cmp(r))},"Fraction, Fraction":function(t,n){return new e.Fraction(t.compare(n))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return p(t.value,e.value)},"string, string":function(t,e){return t===e?0:t>e?1:-1},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,p);break;default:n=u(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=f(t,e,p)}}return n},"Array, Array":function(t,e){return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return p(s(t),e)},"Matrix, Array":function(t,e){return p(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,p,!1);break;default:n=h(t,e,p,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,p,!0);break;default:n=h(e,t,p,!0)}return n},"Array, any":function(t,e){return h(s(t),e,p,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,p,!0).valueOf()}});return p.toTex=void 0,p}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="compare",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm05":484,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/nearlyEqual":514,"../../utils/number":527}],390:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(Array.isArray(t)){if(Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(!o(t[r],e[r]))return!1;return!0}return!1}return!Array.isArray(e)&&a(t,e)}var a=r(t("./equal")),s=i("deepEqual",{"any, any":function(t,e){return o(t.valueOf(),e.valueOf())}});return s.toTex=void 0,s}n.name="deepEqual",n.factory=r},{"./equal":391}],391:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("./equalScalar")),s=r(t("../../type/matrix/utils/algorithm03")),u=r(t("../../type/matrix/utils/algorithm07")),c=r(t("../../type/matrix/utils/algorithm12")),l=r(t("../../type/matrix/utils/algorithm13")),f=r(t("../../type/matrix/utils/algorithm14")),h=t("../../utils/latex"),p=i("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:a(t,e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,a);break;default:n=s(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,a,!1);break;default:n=l(t,e,a)}}return n},"Array, Array":function(t,e){return p(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return p(o(t),e)},"Matrix, Array":function(t,e){return p(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=f(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,a,!0);break;default:n=f(e,t,a,!0)}return n},"Array, any":function(t,e){return f(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return f(o(e),t,a,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+h.operators.equal+"${args[1]}\\right)"},p}n.name="equal",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526,"./equalScalar":392}],392:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,n){return t===n||i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.eq(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)},"string, string":function(t,e){return t===e}});return a}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.factory=r},{"../../utils/bignumber/nearlyEqual":514,"../../utils/number":527}],393:[function(t,e,n){e.exports=[t("./compare"),t("./deepEqual"),t("./equal"),t("./larger"),t("./largerEq"),t("./smaller"),t("./smallerEq"),t("./unequal")]},{"./compare":389,"./deepEqual":390,"./equal":391,"./larger":394,"./largerEq":395,"./smaller":396,"./smallerEq":397,"./unequal":398}],394:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=t("../../utils/latex"),d=a("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t>e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=f(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+p.operators.larger+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="larger",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/nearlyEqual":514,"../../utils/latex":526,"../../utils/number":527}],395:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=t("../../utils/latex"),d=a("largerEq",{"boolean, boolean":function(t,e){return t>=e},"number, number":function(t,e){return t>=e||i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gte(e)||o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.compare(e)!==-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t>=e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=f(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+p.operators.largerEq+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="largerEq",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/nearlyEqual":514,"../../utils/latex":526,"../../utils/number":527}],396:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=t("../../utils/latex"),d=a("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.compare(e)===-1},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t<e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=f(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+p.operators.smaller+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="smaller",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/nearlyEqual":514,"../../utils/latex":526,"../../utils/number":527}],397:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=t("../../utils/latex"),d=a("smallerEq",{"boolean, boolean":function(t,e){return t<=e},"number, number":function(t,e){return t<=e||i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lte(e)||o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t<=e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=f(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+p.operators.smallerEq+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="smallerEq",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/nearlyEqual":514,"../../utils/latex":526,"../../utils/number":527}],398:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=t("../../utils/latex"),d=a("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:m(t,e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,m);break;default:n=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,m,!1);break;default:n=f(t,e,m)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,m,!1);break;default:n=h(t,e,m,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,m,!0);break;default:n=h(e,t,m,!0)}return n},"Array, any":function(t,e){return h(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,m,!0).valueOf()}}),m=a("_unequal",{"boolean, boolean":function(t,e){return t!==e},"number, number":function(t,e){return!i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return!o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return!t.equals(e)},"Complex, Complex":function(t,e){return!t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t!==e}});return d.toTex={2:"\\left(${args[0]}"+p.operators.unequal+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="unequal",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm07":486,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/bignumber/nearlyEqual":514,"../../utils/latex":526,"../../utils/number":527}],399:[function(t,e,n){e.exports=[t("./max"),t("./mean"),t("./median"),t("./min"),t("./mode"),t("./prod"),t("./quantileSeq"),t("./std"),t("./sum"),t("./var")]},{"./max":400,"./mean":401,"./median":402,"./min":403,"./mode":404,"./prod":405,"./quantileSeq":406,"./std":407,"./sum":408,"./var":409}],400:[function(t,e,n){"use strict";function r(e,n,r,s){function u(t,e){return l(t,e)?t:e}function c(t){var e=void 0;if(i(t,function(t){(void 0===e||l(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate max of an empty array");return e}var l=r(t("../relational/larger")),f=s("max",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function max");return c(t)}});return f.toTex="\\max\\left(${args}\\right)",f}var i=t("../../utils/collection/deepForEach"),o=t("../../utils/collection/reduce"),a=t("../../utils/collection/containsCollections");n.name="max",n.factory=r},{"../../utils/collection/containsCollections":517,"../../utils/collection/deepForEach":518,"../../utils/collection/reduce":521,"../relational/larger":394}],401:[function(t,e,n){"use strict";function r(e,n,r,u){function c(t,e){var n=a(t,e,f),r=Array.isArray(t)?i(t):t.size();return h(n,r[e])}function l(t){var e=0,n=0;if(o(t,function(t){e=f(e,t),n++}),0===n)throw new Error("Cannot calculate mean of an empty array");return h(e,n)}var f=r(t("../arithmetic/add")),h=r(t("../arithmetic/divide")),p=u("mean",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":c,"...":function(t){if(s(t))throw new TypeError("Scalar values expected in function mean");return l(t)}});return p.toTex=void 0,p}var i=t("../../utils/array").size,o=t("../../utils/collection/deepForEach"),a=t("../../utils/collection/reduce"),s=t("../../utils/collection/containsCollections");n.name="mean",n.factory=r},{"../../utils/array":505,"../../utils/collection/containsCollections":517,"../../utils/collection/deepForEach":518,"../../utils/collection/reduce":521,"../arithmetic/add":295,"../arithmetic/divide":300}],402:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t){t=i(t.valueOf());var e=t.length;if(0==e)throw new Error("Cannot calculate median of an empty array");if(e%2==0){for(var n=e/2-1,r=f(t,n+1),o=t[n],a=0;a<n;++a)l(t[a],o)>0&&(o=t[a]);return d(o,r)}var s=f(t,(e-1)/2);return p(s)}var u=r(t("../arithmetic/addScalar")),c=r(t("../arithmetic/divideScalar")),l=r(t("../relational/compare")),f=r(t("../matrix/partitionSelect")),h=a("median",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("median(A, dim) is not yet supported")},"...":function(t){if(o(t))throw new TypeError("Scalar values expected in function median");return s(t)}}),p=a({"number | BigNumber | Unit":function(t){return t}}),d=a({"number | BigNumber | Unit, number | BigNumber | Unit":function(t,e){return c(u(t,e),2)}});return h.toTex=void 0,h}var i=t("../../utils/array").flatten,o=(t("../../utils/collection/reduce"),t("../../utils/collection/containsCollections"));n.name="median",n.factory=r},{"../../utils/array":505,"../../utils/collection/containsCollections":517,"../../utils/collection/reduce":521,"../arithmetic/addScalar":296,"../arithmetic/divideScalar":301,"../matrix/partitionSelect":368,"../relational/compare":389}],403:[function(t,e,n){"use strict";function r(e,n,r,s){function u(t,e){return l(t,e)?t:e}function c(t){var e=void 0;if(i(t,function(t){(void 0===e||l(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate min of an empty array");return e}var l=r(t("../relational/smaller")),f=s("min",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function min");return c(t)}});return f.toTex="\\min\\left(${args}\\right)",
f}var i=t("../../utils/collection/deepForEach"),o=t("../../utils/collection/reduce"),a=t("../../utils/collection/containsCollections");n.name="min",n.factory=r},{"../../utils/collection/containsCollections":517,"../../utils/collection/deepForEach":518,"../../utils/collection/reduce":521,"../relational/smaller":396}],404:[function(t,e,n){"use strict";function r(t,e,n,r){function o(t){t=i(t.valueOf());var e=t.length;if(0==e)throw new Error("Cannot calculate mode of an empty array");var n={},r=[],o=0;for(var a in t)t[a]in n||(n[t[a]]=0),n[t[a]]++,n[t[a]]==o?r.push(t[a]):n[t[a]]>o&&(o=n[t[a]],r=[t[a]]);return r}var a=r("mode",{"Array | Matrix":o,"...":function(t){return o(t)}});return a}var i=t("../../utils/array").flatten;n.name="mode",n.factory=r},{"../../utils/array":505}],405:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t){var e=void 0;if(i(t,function(t){e=void 0===e?t:s(e,t)}),void 0===e)throw new Error("Cannot calculate prod of an empty array");return e}var s=r(t("../arithmetic/multiplyScalar")),u=o("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("prod(A, dim) is not yet supported")},"...":function(t){return a(t)}});return u.toTex=void 0,u}var i=t("../../utils/collection/deepForEach");n.name="prod",n.factory=r},{"../../utils/collection/deepForEach":518,"../arithmetic/multiplyScalar":316}],406:[function(t,e,n){"use strict";function r(e,n,r,u){function c(t,n,r){var a,u,c;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(s(t)){if(r=r||!1,"boolean"==typeof r){if(u=t.valueOf(),o(n)){if(n<0)throw new Error("N/prob must be non-negative");if(n<=1)return l(u,n,r);if(n>1){if(!i(n))throw new Error("N must be a positive integer");var f=n+1;a=new Array(n);for(var h=0;h<n;)a[h]=l(u,++h/f,r);return a}}if(n&&n.isBigNumber){if(n.isNegative())throw new Error("N/prob must be non-negative");if(c=new n.constructor(1),n.lte(c))return l(u,n,r);if(n.gt(c)){if(!n.isInteger())throw new Error("N must be a positive integer");var p=n.toNumber();if(p>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var f=new e.BigNumber(p+1);a=new Array(p);for(var h=0;h<p;)a[h]=l(u,new e.BigNumber((++h)).div(f),r);return a}}if(Array.isArray(n)){a=new Array(n.length);for(var h=0;h<a.length;++h){var d=n[h];if(o(d)){if(d<0||d>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!d||!d.isBigNumber)throw new TypeError("Unexpected type of argument in function quantileSeq");if(c=new d.constructor(1),d.isNegative()||d.gt(c))throw new Error("Probability must be between 0 and 1, inclusive")}a[h]=l(u,d,r)}return a}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function l(t,e,n){var r=a(t),i=r.length;if(0===i)throw new Error("Cannot calculate quantile of an empty sequence");if(o(e)){var s=e*(i-1),u=s%1;if(0===u){var c=n?r[s]:p(r,s);return m(c),c}var l,g,y=Math.floor(s);if(n)l=r[y],g=r[y+1];else{g=p(r,y+1),l=r[y];for(var v=0;v<y;++v)d(r[v],l)>0&&(l=r[v])}return m(l),m(g),f(h(l,1-u),h(g,u))}var s=e.times(i-1);if(s.isInteger()){s=s.toNumber();var c=n?r[s]:p(r,s);return m(c),c}var l,g,y=s.floor(),u=s.minus(y),x=y.toNumber();if(n)l=r[x],g=r[x+1];else{g=p(r,x+1),l=r[x];for(var v=0;v<x;++v)d(r[v],l)>0&&(l=r[v])}m(l),m(g);var b=new u.constructor(1);return f(h(l,b.minus(u)),h(g,u))}var f=r(t("../arithmetic/add")),h=r(t("../arithmetic/multiply")),p=r(t("../matrix/partitionSelect")),d=r(t("../relational/compare")),m=u({"number | BigNumber | Unit":function(t){return t}});return c}var i=t("../../utils/number").isInteger,o=t("../../utils/number").isNumber,a=t("../../utils/array").flatten,s=t("../../utils/collection/isCollection");n.name="quantileSeq",n.factory=r},{"../../utils/array":505,"../../utils/collection/isCollection":520,"../../utils/number":527,"../arithmetic/add":295,"../arithmetic/multiply":315,"../matrix/partitionSelect":368,"../relational/compare":389}],407:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(0==t.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return a(s.apply(null,arguments))}var a=r(t("../arithmetic/sqrt")),s=r(t("../statistics/var")),u=i("std",{"Array | Matrix":o,"Array | Matrix, string":o,"...":function(t){return o(t)}});return u.toTex=void 0,u}n.name="std",n.factory=r},{"../arithmetic/sqrt":322,"../statistics/var":409}],408:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t){var r=void 0;if(i(t,function(t){r=void 0===r?t:s(r,t)}),void 0===r)switch(n.number){case"number":return 0;case"BigNumber":return new e.BigNumber(0);case"Fraction":return new e.Fraction(0);default:return 0}return r}var s=r(t("../arithmetic/addScalar")),u=o("sum",{"Array | Matrix":function(t){return a(t)},"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":function(t){return a(t)}});return u.toTex=void 0,u}var i=t("../../utils/collection/deepForEach");n.name="sum",n.factory=r},{"../../utils/collection/deepForEach":518,"../arithmetic/addScalar":296}],409:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){var r=0,i=0;if(0==t.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(o(t,function(t){r=u(r,t),i++}),0===i)throw new Error("Cannot calculate var of an empty array");var a=f(r,i);switch(r=0,o(t,function(t){var e=c(t,a);r=u(r,l(e,e))}),n){case"uncorrected":return f(r,i);case"biased":return f(r,i+1);case"unbiased":var s=r&&r.isBigNumber===!0?new e.BigNumber(0):0;return 1==i?s:f(r,i-1);default:throw new Error('Unknown normalization "'+n+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}var u=r(t("../arithmetic/addScalar")),c=r(t("../arithmetic/subtract")),l=r(t("../arithmetic/multiplyScalar")),f=r(t("../arithmetic/divideScalar")),h=a("variance",{"Array | Matrix":function(t){return s(t,i)},"Array | Matrix, string":s,"...":function(t){return s(t,i)}});return h.toTex="\\mathrm{Var}\\left(${args}\\right)",h}var i="unbiased",o=t("../../utils/collection/deepForEach");n.name="var",n.factory=r},{"../../utils/collection/deepForEach":518,"../arithmetic/addScalar":296,"../arithmetic/divideScalar":301,"../arithmetic/multiplyScalar":316,"../arithmetic/subtract":324}],410:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("format",{any:i.format,"any, Object | function | number":i.format});return o.toTex=void 0,o}var i=t("../../utils/string");n.name="format",n.factory=r},{"../../utils/string":529}],411:[function(t,e,n){e.exports=[t("./format"),t("./print")]},{"./format":410,"./print":412}],412:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("print",{"string, Object":i,"string, Object, number | Object":i});return o.toTex=void 0,o}function i(t,e,n){return t.replace(/\$([\w\.]+)/g,function(t,r){for(var i=r.split("."),s=e[i.shift()];i.length&&void 0!==s;){var u=i.shift();s=u?s[u]:s+"."}return void 0!==s?o(s)?s:a(s,n):t})}var o=t("../../utils/string").isString,a=t("../../utils/string").format;n.name="print",n.factory=r},{"../../utils/string":529}],413:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acos",{number:function(n){return n>=-1&&n<=1||e.predictable?Math.acos(n):new t.Complex(n,0).acos()},Complex:function(t){return t.acos()},BigNumber:function(t){return t.acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acos",n.factory=r},{"../../utils/collection/deepMap":519}],414:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("acosh",{number:function(n){return n>=1||e.predictable?o(n):n<=-1?new t.Complex(Math.log(Math.sqrt(n*n-1)-n),Math.PI):new t.Complex(n,0).acosh()},Complex:function(t){return t.acosh()},BigNumber:function(t){return t.acosh()},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)};n.name="acosh",n.factory=r},{"../../utils/collection/deepMap":519}],415:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acot",{number:function(t){return Math.atan(1/t)},Complex:function(t){return t.acot()},BigNumber:function(e){return new t.BigNumber(1).div(e).atan()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acot",n.factory=r},{"../../utils/collection/deepMap":519}],416:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acoth",{number:function(n){return n>=1||n<=-1||e.predictable?isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0:new t.Complex(n,0).acoth()},Complex:function(t){return t.acoth()},BigNumber:function(e){return new t.BigNumber(1).div(e).atanh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acoth",n.factory=r},{"../../utils/collection/deepMap":519}],417:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acsc",{number:function(n){return n<=-1||n>=1||e.predictable?Math.asin(1/n):new t.Complex(n,0).acsc()},Complex:function(t){return t.acsc()},BigNumber:function(e){return new t.BigNumber(1).div(e).asin()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acsc",n.factory=r},{"../../utils/collection/deepMap":519}],418:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acsch",{number:function(t){return t=1/t,Math.log(t+Math.sqrt(t*t+1))},Complex:function(t){return t.acsch()},BigNumber:function(e){return new t.BigNumber(1).div(e).asinh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acsch",n.factory=r},{"../../utils/collection/deepMap":519}],419:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("asec",{number:function(n){return n<=-1||n>=1||e.predictable?Math.acos(1/n):new t.Complex(n,0).asec()},Complex:function(t){return t.asec()},BigNumber:function(e){return new t.BigNumber(1).div(e).acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="asec",n.factory=r},{"../../utils/collection/deepMap":519}],420:[function(t,e,n){"use strict";function r(e,n,r,o){var a=(o.find(r(t("./acosh")),["Complex"]),o("asech",{number:function(t){if(t<=1&&t>=-1||n.predictable){t=1/t;var r=Math.sqrt(t*t-1);return t>0||n.predictable?Math.log(r+t):new e.Complex(Math.log(r-t),Math.PI)}return new e.Complex(t,0).asech()},Complex:function(t){return t.asech()},BigNumber:function(t){return new e.BigNumber(1).div(t).acosh()},"Array | Matrix":function(t){return i(t,a)}}));return a.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap");n.name="asech",n.factory=r},{"../../utils/collection/deepMap":519,"./acosh":414}],421:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("asin",{number:function(n){return n>=-1&&n<=1||e.predictable?Math.asin(n):new t.Complex(n,0).asin()},Complex:function(t){return t.asin()},BigNumber:function(t){return t.asin()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="asin",n.factory=r},{"../../utils/collection/deepMap":519}],422:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("asinh",{number:Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Complex:function(t){return t.asinh()},BigNumber:function(t){return t.asinh()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="asinh",n.factory=r},{"../../utils/collection/deepMap":519}],423:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("atan",{number:function(t){return Math.atan(t)},Complex:function(t){return t.atan()},BigNumber:function(t){return t.atan()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="atan",n.factory=r},{"../../utils/collection/deepMap":519}],424:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("../../type/matrix/utils/algorithm02")),s=r(t("../../type/matrix/utils/algorithm03")),u=r(t("../../type/matrix/utils/algorithm09")),c=r(t("../../type/matrix/utils/algorithm11")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),p=i("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(t,n){return e.BigNumber.atan2(t,n)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=a(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,p,!1);break;default:n=f(t,e,p)}}return n},"Array, Array":function(t,e){return p(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return p(o(t),e)},"Matrix, Array":function(t,e){return p(t,o(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,p,!1);break;default:n=h(t,e,p,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,p,!0);break;default:n=h(e,t,p,!0)}return n},"Array, number | BigNumber":function(t,e){return h(o(t),e,p,!1).valueOf()},"number | BigNumber, Array":function(t,e){return h(o(e),t,p,!0).valueOf()}});return p.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},p}n.name="atan2",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm02":481,"../../type/matrix/utils/algorithm03":482,"../../type/matrix/utils/algorithm09":488,"../../type/matrix/utils/algorithm11":490,"../../type/matrix/utils/algorithm12":491,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493}],425:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("atanh",{number:function(n){return n<=1&&n>=-1||e.predictable?o(n):new t.Complex(n,0).atanh()},Complex:function(t){return t.atanh()},BigNumber:function(t){return t.atanh()},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2};n.name="atanh",n.factory=r},{"../../utils/collection/deepMap":519}],426:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("cos",{number:Math.cos,Complex:function(t){return t.cos()},BigNumber:function(t){return t.cos()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="cos",n.factory=r},{"../../utils/collection/deepMap":519}],427:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("cosh",{number:o,Complex:function(t){return t.cosh()},BigNumber:function(t){return t.cosh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\cosh\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2};n.name="cosh",n.factory=r},{"../../utils/collection/deepMap":519}],428:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("cot",{number:function(t){return 1/Math.tan(t)},Complex:function(t){return t.cot()},BigNumber:function(e){return new t.BigNumber(1).div(e.tan())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="cot",n.factory=r},{"../../utils/collection/deepMap":519}],429:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("coth",{number:i,Complex:function(t){return t.coth()},BigNumber:function(e){return new t.BigNumber(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\coth\\left(${args[0]}\\right)"},a}function i(t){var e=Math.exp(2*t);return(e+1)/(e-1)}var o=t("../../utils/collection/deepMap");n.name="coth",n.factory=r},{"../../utils/collection/deepMap":519}],430:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("csc",{number:function(t){return 1/Math.sin(t)},Complex:function(t){return t.csc()},BigNumber:function(e){return new t.BigNumber(1).div(e.sin())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="csc",n.factory=r},{"../../utils/collection/deepMap":519}],431:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("csch",{number:i,Complex:function(t){return t.csch()},BigNumber:function(e){return new t.BigNumber(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},a}function i(t){return 0==t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*a(t)}var o=t("../../utils/collection/deepMap"),a=t("../../utils/number").sign;n.name="csch",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/number":527}],432:[function(t,e,n){e.exports=[t("./acos"),t("./acosh"),t("./acot"),t("./acoth"),t("./acsc"),t("./acsch"),t("./asec"),t("./asech"),t("./asin"),t("./asinh"),t("./atan"),t("./atan2"),t("./atanh"),t("./cos"),t("./cosh"),t("./cot"),t("./coth"),t("./csc"),t("./csch"),t("./sec"),t("./sech"),t("./sin"),t("./sinh"),t("./tan"),t("./tanh")]},{"./acos":413,"./acosh":414,"./acot":415,"./acoth":416,"./acsc":417,"./acsch":418,"./asec":419,"./asech":420,"./asin":421,"./asinh":422,"./atan":423,"./atan2":424,"./atanh":425,"./cos":426,"./cosh":427,"./cot":428,"./coth":429,"./csc":430,"./csch":431,"./sec":433,"./sech":434,"./sin":435,"./sinh":436,"./tan":437,"./tanh":438}],433:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("sec",{number:function(t){return 1/Math.cos(t)},Complex:function(t){return t.sec()},BigNumber:function(e){return new t.BigNumber(1).div(e.cos())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="sec",n.factory=r},{"../../utils/collection/deepMap":519}],434:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("sech",{number:i,Complex:function(t){return t.sech()},BigNumber:function(e){return new t.BigNumber(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},a}function i(t){return 2/(Math.exp(t)+Math.exp(-t))}var o=t("../../utils/collection/deepMap");n.name="sech",n.factory=r},{"../../utils/collection/deepMap":519}],435:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("sin",{number:Math.sin,Complex:function(t){return t.sin()},BigNumber:function(t){return t.sin()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sin\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="sin",n.factory=r},{"../../utils/collection/deepMap":519}],436:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("sinh",{number:o,Complex:function(t){return t.sinh()},BigNumber:function(t){return t.sinh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\sinh\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2};n.name="sinh",n.factory=r},{"../../utils/collection/deepMap":519}],437:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("tan",{number:Math.tan,Complex:function(t){return t.tan()},BigNumber:function(t){return t.tan()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\tan\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="tan",n.factory=r},{"../../utils/collection/deepMap":519}],438:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("tanh",{number:o,Complex:function(t){return t.tanh()},BigNumber:function(t){return t.tanh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\tanh\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};n.name="tanh",n.factory=r},{"../../utils/collection/deepMap":519}],439:[function(t,e,n){e.exports=[t("./to")]},{"./to":440}],440:[function(t,e,n){"use strict";function r(e,n,r,i){var o=t("../../utils/latex"),a=r(t("../../type/matrix/function/matrix")),s=r(t("../../type/matrix/utils/algorithm13")),u=r(t("../../type/matrix/utils/algorithm14")),c=i("to",{"Unit, Unit | string":function(t,e){return t.to(e)},"Matrix, Matrix":function(t,e){return s(t,e,c)},"Array, Array":function(t,e){return c(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return c(a(t),e)},"Matrix, Array":function(t,e){return c(t,a(e))},"Matrix, any":function(t,e){return u(t,e,c,!1)},"any, Matrix":function(t,e){return u(e,t,c,!0)},"Array, any":function(t,e){return u(a(t),e,c,!1).valueOf()},"any, Array":function(t,e){return u(a(e),t,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}"+o.operators.to+"${args[1]}\\right)"},c}n.name="to",n.factory=r},{"../../type/matrix/function/matrix":477,"../../type/matrix/utils/algorithm13":492,"../../type/matrix/utils/algorithm14":493,"../../utils/latex":526}],441:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("clone",{any:i.clone});return o.toTex=void 0,o}var i=t("../../utils/object");n.name="clone",n.factory=r},{"../../utils/object":528}],442:[function(t,e,n){e.exports=[t("./clone"),t("./isInteger"),t("./isNegative"),t("./isNumeric"),t("./isPositive"),t("./isPrime"),t("./isZero"),t("./isNaN"),t("./typeof")]},{"./clone":441,"./isInteger":443,"./isNaN":444,"./isNegative":445,"./isNumeric":446,"./isPositive":447,"./isPrime":448,"./isZero":449,"./typeof":450}],443:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("isInteger",{number:o.isInteger,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":function(t){return i(t,a)}});return a}var i=t("../../utils/collection/deepMap"),o=t("../../utils/number");n.name="isInteger",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/number":527}],444:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isNaN",{number:function(t){return Number.isNaN(t)},BigNumber:function(t){return t.isNaN()},Fraction:function(t){return!1},Complex:function(t){return Number.isNaN(t.re)&&Number.isNaN(t.im)},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":function(t){return i(t,Number.isNaN)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isNaN",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/number":527}],445:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isNegative",{number:function(t){return t<0},BigNumber:function(t){return t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s<0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isNegative",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/number":527}],446:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isNumeric",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/number":527}],447:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isPositive",{number:function(t){return t>0},BigNumber:function(t){return!t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s>0&&t.n>0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isPositive",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/number":527}],448:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isPrime",{number:function(t){if(t<2)return!1;if(2==t)return!0;if(t%2==0)return!1;for(var e=3;e*e<=t;e+=2)if(t%e==0)return!1;return!0},BigNumber:function(e){if(e.lt(2))return!1;if(e.equals(2))return!0;if(e.mod(2).isZero())return!1;for(var n=t.BigNumber(3);n.times(n).lte(e);n=n.plus(1))if(e.mod(n).isZero())return!1;return!0},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");n.name="isPrime",n.factory=r},{"../../utils/collection/deepMap":519}],449:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isZero",{number:function(t){return 0===t},BigNumber:function(t){return t.isZero()},Complex:function(t){return 0===t.re&&0===t.im},Fraction:function(t){return 1===t.d&&0===t.n},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isZero",n.factory=r},{"../../utils/collection/deepMap":519,"../../utils/number":527}],450:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("_typeof",{any:function(t){var e=i.type(t);if("Object"===e){if(t.isBigNumber===!0)return"BigNumber";if(t.isComplex===!0)return"Complex";if(t.isFraction===!0)return"Fraction";if(t.isMatrix===!0)return"Matrix";if(t.isUnit===!0)return"Unit";if(t.isIndex===!0)return"Index";if(t.isRange===!0)return"Range";if(t.isChain===!0)return"Chain";if(t.isHelp===!0)return"Help"}return e}});return o.toTex=void 0,o}var i=t("../../utils/types");n.name="typeof",n.factory=r},{"../../utils/types":530}],451:[function(t,e,n){e.exports=[t("./type"),t("./constants"),t("./expression"),t("./function"),t("./json"),t("./error")]},{"./constants":43,"./error":51,"./expression":234,"./function":349,"./json":452,"./type":467}],452:[function(t,e,n){e.exports=[t("./reviver")]},{"./reviver":453}],453:[function(t,e,n){"use strict";function r(t,e,n,r){return function(e,n){var r=t[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}}n.name="reviver",n.path="json",n.factory=r},{}],454:[function(t,e,n){function r(t,e,n,r,o){var a=i.clone({precision:e.precision});return a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(t){return new a(t.value)},o.on("config",function(t,e){t.precision!==e.precision&&a.config({precision:t.precision})}),a}var i=t("decimal.js");n.name="BigNumber",n.path="type",n.factory=r,n.math=!0},{"decimal.js":21}],455:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(t){return t},Fraction:function(e){return new t.BigNumber(e.n).div(e.d)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)"},o}var i=t("../../../utils/collection/deepMap");n.name="bignumber",n.factory=r},{"../../../utils/collection/deepMap":519}],456:[function(t,e,n){e.exports=[t("./BigNumber"),t("./function/bignumber")]},{"./BigNumber":454,"./function/bignumber":455}],457:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("bool",{"":function(){return!1},"boolean":function(t){return t},number:function(t){return!!t},BigNumber:function(t){return!t.isZero()},string:function(t){var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;var n=Number(t);if(""!=t&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+t+'" to a boolean')},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("./../utils/collection/deepMap");n.name="boolean",n.factory=r},{"./../utils/collection/deepMap":519}],458:[function(t,e,n){"use strict";function r(t,e,n,r,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");t&&t.isChain?this.value=t.value:this.value=t}function u(t,e){"function"==typeof e&&(s.prototype[t]=l(e))}function c(t,e){o(s.prototype,t,function(){var t=e();if("function"==typeof t)return l(t)})}function l(t){return function(){for(var e=[this.value],n=0;n<arguments.length;n++)e[n+1]=arguments[n];return new s(t.apply(t,e))}}return s.prototype.type="Chain",s.prototype.isChain=!0,s.prototype.done=function(){return this.value},s.prototype.valueOf=function(){return this.value},s.prototype.toString=function(){return i(this.value)},s.createProxy=function(t,e){if("string"==typeof t)u(t,e);else for(var n in t)t.hasOwnProperty(n)&&u(n,t[n])},s.createProxy(a),a.on("import",function(t,e,n){void 0===n&&c(t,e)}),s}var i=t("../../utils/string").format,o=t("../../utils/object").lazy;n.name="Chain",n.path="type",n.factory=r,n.math=!0,n.lazy=!1},{"../../utils/object":528,"../../utils/string":529}],459:[function(t,e,n){"use strict";function r(t,e,n,r){return r("chain",{"":function(){return new t.Chain},any:function(e){return new t.Chain(e)}})}n.name="chain",n.factory=r},{}],460:[function(t,e,n){e.exports=[t("./Chain"),t("./function/chain")]},{"./Chain":458,"./function/chain":459}],461:[function(t,e,n){function r(t,e,n,r,s){return i.prototype.type="Complex",i.prototype.isComplex=!0,i.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},i.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},i.prototype.format=function(t){var e="",n=this.im,r=this.re,i=o(this.re,t),s=o(this.im,t),u=a(t)?t:t?t.precision:null;if(null!==u){var c=Math.pow(10,-u);Math.abs(r/n)<c&&(r=0),Math.abs(n/r)<c&&(n=0)}return e=0==n?i:0==r?1==n?"i":n==-1?"-i":s+"i":n>0?1==n?i+" + i":i+" + "+s+"i":n==-1?i+" - i":i+" - "+s.substring(1)+"i"},i.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return i(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(a(n)){if(r&&r.isUnit&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),a(r))return new i({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.");
}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},i.prototype.valueOf=i.prototype.toString,i.fromJSON=function(t){return new i(t)},i.EPSILON=e.epsilon,s.on("config",function(t,e){t.epsilon!==e.epsilon&&(i.EPSILON=t.epsilon)}),i}var i=t("complex.js"),o=t("../../utils/number").format,a=t("../../utils/number").isNumber;n.name="Complex",n.path="type",n.factory=r,n.math=!0},{"../../utils/number":527,"complex.js":2}],462:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../../utils/latex"),s=o("complex",{"":function(){return e.Complex.ZERO},number:function(t){return new e.Complex(t,0)},"number, number":function(t,n){return new e.Complex(t,n)},"BigNumber, BigNumber":function(t,n){return new e.Complex(t.toNumber(),n.toNumber())},Complex:function(t){return t.clone()},string:function(t){return e.Complex(t)},Object:function(t){if("re"in t&&"im"in t)return new e.Complex(t.re,t.im);if("r"in t&&"phi"in t)return new e.Complex(t);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+a.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},s}var i=t("../../../utils/collection/deepMap");n.name="complex",n.factory=r},{"../../../utils/collection/deepMap":519,"../../../utils/latex":526}],463:[function(t,e,n){e.exports=[t("./Complex"),t("./function/complex")]},{"./Complex":461,"./function/complex":462}],464:[function(t,e,n){function r(t,e,n,r){return i}var i=t("fraction.js");i.prototype.type="Fraction",i.prototype.isFraction=!0,i.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},i.fromJSON=function(t){return new i(t)},n.name="Fraction",n.path="type",n.factory=r},{"fraction.js":23}],465:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},"number, number":function(e,n){return new t.Fraction(e,n)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../../utils/collection/deepMap");n.name="fraction",n.factory=r},{"../../../utils/collection/deepMap":519}],466:[function(t,e,n){e.exports=[t("./Fraction"),t("./function/fraction")]},{"./Fraction":464,"./function/fraction":465}],467:[function(t,e,n){e.exports=[t("./bignumber"),t("./boolean"),t("./chain"),t("./complex"),t("./fraction"),t("./matrix"),t("./number"),t("./resultset"),t("./string"),t("./unit")]},{"./bignumber":456,"./boolean":457,"./chain":460,"./complex":463,"./fraction":466,"./matrix":479,"./number":494,"./resultset":496,"./string":497,"./unit":502}],468:[function(t,e,n){"use strict";function r(e,n,r,c){function m(t,e){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!p(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)"DenseMatrix"===t.type?(this._data=u.clone(t._data),this._size=u.clone(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&l(t.data)&&l(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))this._data=w(t),this._size=s.size(this._data),s.validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e}}function g(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var n=e.isScalar();if(n)return t.get(e.min());var r=e.size();if(r.length!=t._size.length)throw new o(r.length,t._size.length);for(var i=e.min(),a=e.max(),s=0,u=t._size.length;s<u;s++)d(i[s],t._size[s]),d(a[s],t._size[s]);return new m(y(t._data,e,r.length,0),t._datatype)}function y(t,e,n,r){var i=r==n-1,o=e.dimension(r);return i?o.map(function(e){return t[e]}).valueOf():o.map(function(i){var o=t[i];return y(o,e,n,r+1)}).valueOf()}function v(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var i,a=e.size(),c=e.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.valueOf()):i=s.size(n),c){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(a.length<t._size.length)throw new o(a.length,t._size.length,"<");if(i.length<a.length){for(var l=0,f=0;1===a[l]&&1===i[l];)l++;for(;1===a[l];)f++,l++;n=s.unsqueeze(n,a.length,f,i)}if(!u.deepEqual(a,i))throw new o(a,i,">");var h=e.max().map(function(t){return t+1});b(t,h,r);var p=a.length,d=0;x(t._data,e,n,p,d)}return t}function x(t,e,n,r,i){var o=i==r-1,a=e.dimension(i);o?a.forEach(function(e,r){d(e),t[e]=n[r[0]]}):a.forEach(function(o,a){d(o),x(t[o],e,n[a[0]],r,i+1)})}function b(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,a=e.length;o<a;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&N(t,r,n)}function w(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];l(r)?t[e]=w(r):r&&r.isMatrix===!0&&(t[e]=w(r.valueOf()))}return t}var _=r(t("./Matrix"));m.prototype=new _,m.prototype.type="DenseMatrix",m.prototype.isDenseMatrix=!0,m.prototype.storage=function(){return"dense"},m.prototype.datatype=function(){return this._datatype},m.prototype.create=function(t,e){return new m(t,e)},m.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return g(this,t);case 2:case 3:return v(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},m.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);for(var e=0;e<t.length;e++)d(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var a=t[r];d(a,n.length),n=n[a]}return n},m.prototype.set=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new o(t.length,this._size.length,"<");var r,i,a,s=t.map(function(t){return t+1});b(this,s,n);var u=this._data;for(r=0,i=t.length-1;r<i;r++)a=t[r],d(a,u.length),u=u[a];return a=t[t.length-1],d(a,u.length),u[a]=e,this},m.prototype.resize=function(t,e,n){if(!l(t))throw new TypeError("Array expected");var r=n?this.clone():this;return N(r,t,e)};var N=function(t,e,n){if(0===e.length){for(var r=t._data;l(r);)r=r[0];return r}return t._size=e.slice(0),t._data=s.resize(t._data,t._size,n),t};return m.prototype.clone=function(){var t=new m({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype});return t},m.prototype.size=function(){return this._size.slice(0)},m.prototype.map=function(t){var e=this,n=function(r,i){return l(r)?r.map(function(t,e){return n(t,i.concat(e))}):t(r,i,e)};return new m({data:n(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},m.prototype.forEach=function(t){var e=this,n=function(r,i){l(r)?r.forEach(function(t,e){n(t,i.concat(e))}):t(r,i,e)};n(this._data,[])},m.prototype.toArray=function(){return u.clone(this._data)},m.prototype.valueOf=function(){return this._data},m.prototype.format=function(t){return a.format(this._data,t)},m.prototype.toString=function(){return a.format(this._data)},m.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},m.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!h(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=0;s<o;s++)a[s]=this._data[s+n][s+e];return new m({data:a,size:[o],datatype:this._datatype})},m.diagonal=function(t,n,r,i,o){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!h(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){if(r&&r.isBigNumber===!0&&(r=r.toNumber()),!f(r)||!h(r))throw new TypeError("The parameter k must be an integer number")}else r=0;i&&p(o)&&(i=c.convert(i,o));var a,u=r>0?r:0,d=r<0?-r:0,g=t[0],y=t[1],v=Math.min(g-d,y-u);if(l(n)){if(n.length!==v)throw new Error("Invalid value array length");a=function(t){return n[t]}}else if(n&&n.isMatrix===!0){var x=n.size();if(1!==x.length||x[0]!==v)throw new Error("Invalid matrix length");a=function(t){return n.get([t])}}else a=function(){return n};i||(i=a(0)&&a(0).isBigNumber===!0?new e.BigNumber(0):0);var b=[];if(t.length>0){b=s.resize(b,t,i);for(var w=0;w<v;w++)b[w+d][w+u]=a(w)}return new m({data:b,size:[g,y]})},m.fromJSON=function(t){return new m(t)},m.prototype.swapRows=function(t,e){if(!(f(t)&&h(t)&&f(e)&&h(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(t,this._size[0]),d(e,this._size[0]),m._swapRows(t,e,this._data),this},m._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},e.Matrix._storage.dense=m,e.Matrix._storage["default"]=m,m}var i=t("../../utils/index"),o=t("../../error/DimensionError"),a=i.string,s=i.array,u=i.object,c=i.number,l=Array.isArray,f=c.isNumber,h=c.isInteger,p=a.isString,d=s.validateIndex;n.name="DenseMatrix",n.path="type",n.factory=r,n.lazy=!1},{"../../error/DimensionError":49,"../../utils/index":525,"./Matrix":471}],469:[function(t,e,n){"use strict";function r(e,n,r,i){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var a=r(t("../../function/relational/smaller")),s=r(t("../../function/relational/larger")),u=1/Math.log((1+Math.sqrt(5))/2);o.prototype.type="FibonacciHeap",o.prototype.isFibonacciHeap=!0,o.prototype.insert=function(t,e){var n={key:t,value:e,degree:0};if(this._minimum){var r=this._minimum;n.left=r,n.right=r.right,r.right=n,n.right.left=n,a(t,r.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},o.prototype.size=function(){return this._size},o.prototype.clear=function(){this._minimum=null,this._size=0},o.prototype.isEmpty=function(){return!!this._minimum},o.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,n=t.degree,r=t.child;n>0;){var i=r.right;r.left.right=r.right,r.right.left=r.left,r.left=e,r.right=e.right,e.right=r,r.right.left=r,r.parent=null,r=i,n--}return t.left.right=t.right,t.right.left=t.left,t==t.right?e=null:(e=t.right,e=p(e,this._size)),this._size--,this._minimum=e,t},o.prototype.remove=function(t){this._minimum=c(this._minimum,t,-1),this.extractMinimum()};var c=function(t,e,n){e.key=n;var r=e.parent;return r&&a(e.key,r.key)&&(l(t,e,r),f(t,r)),a(e.key,t.key)&&(t=e),t},l=function(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child==e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1},f=function(t,e){var n=e.parent;n&&(e.mark?(l(t,e,n),f(n)):e.mark=!0)},h=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1},p=function(t,e){var n=Math.floor(Math.log(e)*u)+1,r=new Array(n),i=0,o=t;if(o)for(i++,o=o.right;o!==t;)i++,o=o.right;for(var c;i>0;){for(var l=o.degree,f=o.right;;){if(c=r[l],!c)break;if(s(o.key,c.key)){var p=c;c=o,o=p}h(c,o),r[l]=null,l++}r[l]=o,o=f,i--}t=null;for(var d=0;d<n;d++)c=r[d],c&&(t?(c.left.right=c.right,c.right.left=c.left,c.left=t,c.right=t.right,t.right=c,c.right.left=c,a(c.key,t.key)&&(t=c)):t=c);return t};return o}n.name="FibonacciHeap",n.path="type",n.factory=r},{"../../function/relational/larger":394,"../../function/relational/smaller":396}],470:[function(t,e,n){"use strict";function r(e,n,r){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0||s(t)){var n=new c(t,e);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(t&&s(t.data)&&s(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min="undefined"!=typeof t.min?t.min:null,this._max="undefined"!=typeof t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}var c=r(t("./DenseMatrix")),l=r(t("../../function/relational/smaller"));return o.prototype=new c,o.prototype.type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(t){switch(arguments.length){case 1:var e=c.prototype.subset.call(this,t);return e.isMatrix?new o({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.clone=function(){var t=new o({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype});return t},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(t){return new o(t)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||l(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},o.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||l(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},o}var i=t("../../utils/index"),o=i.string,a=i.object,s=Array.isArray,u=o.isString;n.name="ImmutableDenseMatrix",n.path="type",n.factory=r},{"../../function/relational/smaller":396,"../../utils/index":525,"./DenseMatrix":468}],471:[function(t,e,n){"use strict";function r(t,e,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(t){if(!a(t))throw new TypeError("format must be a string value");var e=i._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}var i=t("../../utils/index"),o=i.string,a=o.isString;n.name="Matrix",n.path="type",n.factory=r},{"../../utils/index":525}],472:[function(t,e,n){"use strict";function r(t){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var r=0,i=arguments.length;r<i;r++){var o=arguments[r];if(o&&o.isRange===!0)this._dimensions.push(o),this._isScalar=!1;else if(o&&(Array.isArray(o)||o.isMatrix===!0)){var a=n(o.valueOf());this._dimensions.push(a);var s=a.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(n([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function n(e){for(var n=0,r=e.length;n<r;n++)if("number"!=typeof e[n]||!o(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t.ImmutableDenseMatrix(e)}return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=i(this._dimensions),t._isScalar=this._isScalar,t},e.create=function(t){var n=new e;return e.apply(n,t),n},e.prototype.size=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?1:r.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.max()}return t},e.prototype.min=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.min()}return t},e.prototype.forEach=function(t){for(var e=0,n=this._dimensions.length;e<n;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t.push("string"==typeof r?r:r.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];"string"==typeof r?t.push(JSON.stringify(r)):t.push(r.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}var i=t("../../utils/object").clone,o=t("../../utils/number").isInteger;n.name="Index",n.path="type",n.factory=r},{"../../utils/number":527,"../../utils/object":528}],473:[function(t,e,n){"use strict";function r(t,e,n,r){function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(t.isBigNumber===!0)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=e)if(e.isBigNumber===!0)e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(null!=n)if(n.isBigNumber===!0)n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=e?parseFloat(e):0,this.step=null!=n?parseFloat(n):1}return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":"),n=e.map(function(t){return parseFloat(t)}),r=n.some(function(t){return isNaN(t)});if(r)return null;switch(n.length){case 2:return new o(n[0],n[1]);case 3:return new o(n[0],n[2],n[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var t=0,e=this.start,n=this.step,r=this.end,o=r-e;return i.sign(n)==i.sign(o)?t=Math.ceil(o/n):0==o&&(t=0),isNaN(t)&&(t=0),[t]},o.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},o.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},o.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;e<r;)t(e,[i],this),e+=n,i++;else if(n<0)for(;e>r;)t(e,[i],this),e+=n,i++},o.prototype.map=function(t){var e=[];return this.forEach(function(n,r,i){e[r[0]]=t(n,r,i)}),e},o.prototype.toArray=function(){var t=[];return this.forEach(function(e,n){t[n[0]]=e}),t},o.prototype.valueOf=function(){return this.toArray()},o.prototype.format=function(t){var e=i.format(this.start,t);return 1!=this.step&&(e+=":"+i.format(this.step,t)),e+=":"+i.format(this.end,t)},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(t){return new o(t.start,t.end,t.step)},o}var i=t("../../utils/number");n.name="Range",n.path="type",n.factory=r},{"../../utils/number":527}],474:[function(t,e,n){"use strict";function r(e,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e.FibonacciHeap}var o=r(t("../../function/arithmetic/add")),a=r(t("../../function/relational/equalScalar"));return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var n=this._heap.insert(t,e);this._values[t]=n}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,e){var n=this._values[t];n?n.value=o(n.value,e):(n=this._heap.insert(t,e),this._values[t]=n)},i.prototype.forEach=function(t,e,n){var r=this._heap,i=this._values,o=[],s=r.extractMinimum();for(s&&o.push(s);s&&s.key<=e;)s.key>=t&&(a(s.value,0)||n(s.key,s.value,this)),s=r.extractMinimum(),s&&o.push(s);for(var u=0;u<o.length;u++){var c=o[u];s=r.insert(c.key,c.value),i[s.key]=s}},i.prototype.swap=function(t,e){var n=this._values[t],r=this._values[e];if(!n&&r)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(n&&!r)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}n.name="Spa",n.path="type",n.factory=r},{"../../function/arithmetic/add":295,"../../function/relational/equalScalar":392}],475:[function(t,e,n){"use strict";function r(e,n,r,m){function g(t,e){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!p(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)x(this,t,e);else if(t&&l(t.index)&&l(t.ptr)&&l(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))b(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}var y=r(t("./Matrix")),v=r(t("../../function/relational/equalScalar")),x=function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?s.clone(e._values):void 0,t._index=s.clone(e._index),t._ptr=s.clone(e._ptr),t._size=s.clone(e._size),t._datatype=n||e._datatype):b(t,e.valueOf(),n||e._datatype)},b=function(t,e,n){t._values=[],t._index=[],t._ptr=[],t._datatype=n;var r=e.length,i=0,o=v,a=0;if(p(n)&&(o=m.find(v,[n,n])||v,a=m.convert(0,n)),r>0){var s=0;do{t._ptr.push(t._index.length);for(var u=0;u<r;u++){var c=e[u];if(l(c)){if(0===s&&i<c.length&&(i=c.length),s<c.length){var f=c[s];o(f,a)||(t._values.push(f),t._index.push(u))}}else 0===s&&i<1&&(i=1),o(c,a)||(t._values.push(c),t._index.push(u))}s++}while(s<i)}t._ptr.push(t._index.length),t._size=[r,i]};g.prototype=new y,g.prototype.type="SparseMatrix",g.prototype.isSparseMatrix=!0,g.prototype.storage=function(){return"sparse"},g.prototype.datatype=function(){return this._datatype},g.prototype.create=function(t,e){return new g(t,e)},g.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},g.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return w(this,t);case 2:case 3:return _(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}};var w=function(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var n=e.isScalar();if(n)return t.get(e.min());var r=e.size();if(r.length!=t._size.length)throw new o(r.length,t._size.length);var i,a,s,u,c=e.min(),l=e.max();for(i=0,a=t._size.length;i<a;i++)d(c[i],t._size[i]),d(l[i],t._size[i]);var f=t._values,h=t._index,p=t._ptr,m=e.dimension(0),y=e.dimension(1),v=[],x=[];m.forEach(function(t,e){x[t]=e[0],v[t]=!0});var b=f?[]:void 0,w=[],_=[];return y.forEach(function(t){for(_.push(w.length),s=p[t],u=p[t+1];s<u;s++)i=h[s],v[i]===!0&&(w.push(x[i]),b&&b.push(f[s]))}),_.push(w.length),new g({values:b,index:w,ptr:_,size:r,datatype:t._datatype})},_=function(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var i,u=e.size(),c=e.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.toArray()):i=a.size(n),c){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==u.length&&2!==u.length)throw new o(u.length,t._size.length,"<");if(i.length<u.length){for(var l=0,f=0;1===u[l]&&1===i[l];)l++;for(;1===u[l];)f++,l++;n=a.unsqueeze(n,u.length,f,i)}if(!s.deepEqual(u,i))throw new o(u,i,">");for(var h=e.min()[0],p=e.min()[1],d=i[0],m=i[1],g=0;g<d;g++)for(var y=0;y<m;y++){var v=n[g][y];t.set([g+h,y+p],v,r)}}return t};g.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];d(e,this._size[0]),d(n,this._size[1]);var r=N(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},g.prototype.set=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var r=t[0],i=t[1],a=this._size[0],s=this._size[1],u=v,c=0;p(this._datatype)&&(u=m.find(v,[this._datatype,this._datatype])||v,c=m.convert(0,this._datatype)),(r>a-1||i>s-1)&&(O(this,Math.max(r+1,a),Math.max(i+1,s),n),a=this._size[0],s=this._size[1]),d(r,a),d(i,s);var f=N(r,this._ptr[i],this._ptr[i+1],this._index);return f<this._ptr[i+1]&&this._index[f]===r?u(e,c)?M(f,i,this._values,this._index,this._ptr):this._values[f]=e:E(f,r,i,e,this._values,this._index,this._ptr),this};var N=function(t,e,n,r){if(n-e===0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e},M=function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--},E=function(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++};g.prototype.resize=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")});var r=n?this.clone():this;return O(r,t[0],t[1],e)};var O=function(t,e,n,r){var i=r||0,o=v,a=0;p(t._datatype)&&(o=m.find(v,[t._datatype,t._datatype])||v,a=m.convert(0,t._datatype),i=m.convert(i,t._datatype));var s,u,c,l=!o(i,a),f=t._size[0],h=t._size[1];if(n>h){for(u=h;u<n;u++)if(t._ptr[u]=t._values.length,l)for(s=0;s<f;s++)t._values.push(i),t._index.push(s);t._ptr[n]=t._values.length}else n<h&&(t._ptr.splice(n+1,h-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(h=n,e>f){if(l){var d=0;for(u=0;u<h;u++){t._ptr[u]=t._ptr[u]+d,c=t._ptr[u+1]+d;var g=0;for(s=f;s<e;s++,g++)t._values.splice(c+g,0,i),t._index.splice(c+g,0,s),d++}t._ptr[h]=t._values.length}}else if(e<f){var y=0;for(u=0;u<h;u++){t._ptr[u]=t._ptr[u]-y;var x=t._ptr[u],b=t._ptr[u+1]-y;for(c=x;c<b;c++)s=t._index[c],s>e-1&&(t._values.splice(c,1),t._index.splice(c,1),y++)}t._ptr[u]=t._values.length}return t._size[0]=e,t._size[1]=n,t};g.prototype.clone=function(){var t=new g({values:this._values?s.clone(this._values):void 0,index:s.clone(this._index),ptr:s.clone(this._ptr),size:s.clone(this._size),datatype:this._datatype});return t},g.prototype.size=function(){return this._size.slice(0)},g.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var n=this,r=this._size[0],i=this._size[1],o=function(e,r,i){return t(e,[r,i],n)};return A(this,0,r-1,0,i-1,o,e)};var A=function(t,e,n,r,i,o,a){var s=[],u=[],c=[],l=v,f=0;p(t._datatype)&&(l=m.find(v,[t._datatype,t._datatype])||v,f=m.convert(0,t._datatype));for(var h=function(t,e,n){t=o(t,e,n),l(t,f)||(s.push(t),u.push(e))},d=r;d<=i;d++){c.push(s.length);for(var y=t._ptr[d],x=t._ptr[d+1],b=e,w=y;w<x;w++){var _=t._index[w];if(_>=e&&_<=n){if(!a)for(var N=b;N<_;N++)h(0,N-e,d-r);h(t._values[w],_-e,d-r)}b=_+1}if(!a)for(var M=b;M<=n;M++)h(0,M-e,d-r)}return c.push(s.length),new g({values:s,index:u,ptr:c,size:[n-e+1,i-r+1]})};g.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this,r=this._size[0],i=this._size[1],o=0;o<i;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,c=a;c<s;c++){var l=this._index[c];if(!e)for(var f=u;f<l;f++)t(0,[f,o],n);t(this._values[c],[l,o],n),u=l+1}if(!e)for(var h=u;h<r;h++)t(0,[h,o],n)}},g.prototype.toArray=function(){return S(this._values,this._index,this._ptr,this._size,!0)},g.prototype.valueOf=function(){return S(this._values,this._index,this._ptr,this._size,!1)};var S=function(t,e,n,r,i){var o,a,u=r[0],c=r[1],l=[];for(o=0;o<u;o++)for(l[o]=[],a=0;a<c;a++)l[o][a]=0;for(a=0;a<c;a++)for(var f=n[a],h=n[a+1],p=f;p<h;p++)o=e[p],l[o][a]=t?i?s.clone(t[p]):t[p]:1;return l};return g.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+u.format(e,t)+" x "+u.format(n,t)+"] density: "+u.format(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],c=a;c<s;c++){var l=this._index[c];i+="\n    ("+u.format(l,t)+", "+u.format(o,t)+") ==> "+(this._values?u.format(this._values[c],t):"X")}return i},g.prototype.toString=function(){return u.format(this.toArray())},g.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},g.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!h(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=[],u=[];u[0]=0;for(var c=e;c<i&&a.length<o;c++)for(var l=this._ptr[c],p=this._ptr[c+1],d=l;d<p;d++){var m=this._index[d];if(m===c-e+n){a.push(this._values[d]),s[a.length-1]=m-n;break}}return u.push(a.length),new g({values:a,index:s,ptr:u,size:[o,1]})},g.fromJSON=function(t){return new g(t)},g.diagonal=function(t,e,n,r,i){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!h(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(n.isBigNumber===!0&&(n=n.toNumber()),!f(n)||!h(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=v,a=0;p(i)&&(o=m.find(v,[i,i])||v,a=m.convert(0,i));var s,u=n>0?n:0,c=n<0?-n:0,d=t[0],y=t[1],x=Math.min(d-c,y-u);if(l(e)){
if(e.length!==x)throw new Error("Invalid value array length");s=function(t){return e[t]}}else if(e&&e.isMatrix===!0){var b=e.size();if(1!==b.length||b[0]!==x)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};for(var w=[],_=[],N=[],M=0;M<y;M++){N.push(w.length);var E=M-u;if(E>=0&&E<x){var O=s(E);o(O,a)||(_.push(E+c),w.push(O))}}return N.push(w.length),new g({values:w,index:_,ptr:N,size:[d,y]})},g.prototype.swapRows=function(t,e){if(!(f(t)&&h(t)&&f(e)&&h(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(t,this._size[0]),d(e,this._size[0]),g._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},g._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],s=o;s<a;s++)i(n[s],e[s])},g._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],u=o[a+1],c=N(t,s,u,i),l=N(e,s,u,i);if(c<u&&l<u&&i[c]===t&&i[l]===e){if(r){var f=r[c];r[c]=r[l],r[l]=f}}else if(c<u&&i[c]===t&&(l>=u||i[l]!==e)){var h=r?r[c]:void 0;i.splice(l,0,e),r&&r.splice(l,0,h),i.splice(l<=c?c+1:c,1),r&&r.splice(l<=c?c+1:c,1)}else if(l<u&&i[l]===e&&(c>=u||i[c]!==t)){var p=r?r[l]:void 0;i.splice(c,0,t),r&&r.splice(c,0,p),i.splice(c<=l?l+1:l,1),r&&r.splice(c<=l?l+1:l,1)}}},e.Matrix._storage.sparse=g,g}var i=t("../../utils/index"),o=t("../../error/DimensionError"),a=i.array,s=i.object,u=i.string,c=i.number,l=Array.isArray,f=c.isNumber,h=c.isInteger,p=u.isString,d=a.validateIndex;n.name="SparseMatrix",n.path="type",n.factory=r,n.lazy=!1},{"../../error/DimensionError":49,"../../function/relational/equalScalar":392,"../../utils/index":525,"./Matrix":471}],476:[function(t,e,n){"use strict";function r(t,e,n,r){return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var n=e.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t&&(Array.isArray(t)||t.isMatrix===!0)?t.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t}):t}),r=new t.Index;return t.Index.apply(r,n),r}})}n.name="index",n.factory=r},{}],477:[function(t,e,n){"use strict";function r(t,e,n,r){function i(e,n,r){var i=t.Matrix.storage(n||"default");return new i(e,r)}var o=r("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o}n.name="matrix",n.factory=r},{}],478:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.SparseMatrix,o=r("sparse",{"":function(){return new i([])},string:function(t){return new i([],t)},"Array | Matrix":function(t){return new i(t)},"Array | Matrix, string":function(t,e){return new i(t,e)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}n.name="sparse",n.factory=r},{}],479:[function(t,e,n){e.exports=[t("./Matrix"),t("./DenseMatrix"),t("./SparseMatrix"),t("./Spa"),t("./FibonacciHeap"),t("./ImmutableDenseMatrix"),t("./MatrixIndex"),t("./Range"),t("./function/index"),t("./function/matrix"),t("./function/sparse")]},{"./DenseMatrix":468,"./FibonacciHeap":469,"./ImmutableDenseMatrix":470,"./Matrix":471,"./MatrixIndex":472,"./Range":473,"./Spa":474,"./SparseMatrix":475,"./function/index":476,"./function/matrix":477,"./function/sparse":478}],480:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var s=t._data,u=t._size,c=t._datatype,l=e._values,f=e._index,h=e._ptr,p=e._size,d=e._datatype;if(u.length!==p.length)throw new i(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g,y=u[0],v=u[1],x="string"==typeof c&&c===d?c:void 0,b=x?r.find(n,[x,x]):n,w=[];for(m=0;m<y;m++)w[m]=[];var _=[],N=[];for(g=0;g<v;g++){for(var M=g+1,E=h[g],O=h[g+1],A=E;A<O;A++)m=f[A],_[m]=a?b(l[A],s[m][g]):b(s[m][g],l[A]),N[m]=M;for(m=0;m<y;m++)N[m]===M?w[m][g]=_[m]:w[m][g]=s[m][g]}return new o({data:w,size:[y,v],datatype:x})};return a}var i=t("../../../error/DimensionError");n.name="algorithm01",n.factory=r},{"../../../error/DimensionError":49}],481:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n,r){var u=t._data,c=t._size,l=t._datatype,f=e._values,h=e._index,p=e._ptr,d=e._size,m=e._datatype;if(c.length!==d.length)throw new i(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,y=c[0],v=c[1],x=a,b=0,w=n;"string"==typeof l&&l===m&&(g=l,x=o.find(a,[g,g]),b=o.convert(0,g),w=o.find(n,[g,g]));for(var _=[],N=[],M=[],E=0;E<v;E++){M[E]=N.length;for(var O=p[E],A=p[E+1],S=O;S<A;S++){var T=h[S],k=r?w(f[S],u[T][E]):w(u[T][E],f[S]);x(k,b)||(N.push(T),_.push(k))}}return M[v]=N.length,new s({values:_,index:N,ptr:M,size:[y,v],datatype:g})};return u}var i=t("../../../error/DimensionError");n.name="algorithm02",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":392}],482:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var s=t._data,u=t._size,c=t._datatype,l=e._values,f=e._index,h=e._ptr,p=e._size,d=e._datatype;if(u.length!==p.length)throw new i(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g=u[0],y=u[1],v=0,x=n;"string"==typeof c&&c===d&&(m=c,v=r.convert(0,m),x=r.find(n,[m,m]));for(var b=[],w=0;w<g;w++)b[w]=[];for(var _=[],N=[],M=0;M<y;M++){for(var E=M+1,O=h[M],A=h[M+1],S=O;S<A;S++){var T=f[S];_[T]=a?x(l[S],s[T][M]):x(s[T][M],l[S]),N[T]=E}for(var k=0;k<g;k++)N[k]===E?b[k][M]=_[k]:b[k][M]=a?x(v,s[k][M]):x(s[k][M],v)}return new o({data:b,size:[g,y],datatype:m})};return a}var i=t("../../../error/DimensionError");n.name="algorithm03",n.factory=r},{"../../../error/DimensionError":49}],483:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n){var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,h=e._values,p=e._index,d=e._ptr,m=e._size,g=e._datatype;if(l.length!==m.length)throw new i(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var y,v=l[0],x=l[1],b=a,w=0,_=n;"string"==typeof f&&f===g&&(y=f,b=o.find(a,[y,y]),w=o.convert(0,y),_=o.find(n,[y,y]));var N,M,E,O,A,S=r&&h?[]:void 0,T=[],k=[],C=new s({values:S,index:T,ptr:k,size:[v,x],datatype:y}),P=r&&h?[]:void 0,j=r&&h?[]:void 0,z=[],R=[];for(M=0;M<x;M++){k[M]=T.length;var I=M+1;for(O=c[M],A=c[M+1],E=O;E<A;E++)N=u[E],T.push(N),z[N]=I,P&&(P[N]=r[E]);for(O=d[M],A=d[M+1],E=O;E<A;E++)if(N=p[E],z[N]===I){if(P){var B=_(P[N],h[E]);b(B,w)?z[N]=null:P[N]=B}}else T.push(N),R[N]=I,j&&(j[N]=h[E]);if(P&&j)for(E=k[M];E<T.length;)N=T[E],z[N]===I?(S[E]=P[N],E++):R[N]===I?(S[E]=j[N],E++):T.splice(E,1)}return k[x]=T.length,C};return u}var i=t("../../../error/DimensionError");n.name="algorithm04",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":392}],484:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n){var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,h=e._values,p=e._index,d=e._ptr,m=e._size,g=e._datatype;if(l.length!==m.length)throw new i(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var y,v=l[0],x=l[1],b=a,w=0,_=n;"string"==typeof f&&f===g&&(y=f,b=o.find(a,[y,y]),w=o.convert(0,y),_=o.find(n,[y,y]));var N,M,E,O,A=r&&h?[]:void 0,S=[],T=[],k=new s({values:A,index:S,ptr:T,size:[v,x],datatype:y}),C=A?[]:void 0,P=A?[]:void 0,j=[],z=[];for(M=0;M<x;M++){T[M]=S.length;var R=M+1;for(E=c[M],O=c[M+1];E<O;E++)N=u[E],S.push(N),j[N]=R,C&&(C[N]=r[E]);for(E=d[M],O=d[M+1];E<O;E++)N=p[E],j[N]!==R&&S.push(N),z[N]=R,P&&(P[N]=h[E]);if(A)for(E=T[M];E<S.length;){N=S[E];var I=j[N],B=z[N];if(I===R||B===R){var L=I===R?C[N]:w,U=B===R?P[N]:w,q=_(L,U);b(q,w)?S.splice(E,1):(A.push(q),E++)}}}return T[x]=S.length,k};return u}var i=t("../../../error/DimensionError");n.name="algorithm05",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":392}],485:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../../function/relational/equalScalar")),u=e.SparseMatrix,c=function(t,e,n){var r=t._values,c=t._size,l=t._datatype,f=e._values,h=e._size,p=e._datatype;if(c.length!==h.length)throw new o(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var d,m=c[0],g=c[1],y=s,v=0,x=n;"string"==typeof l&&l===p&&(d=l,y=a.find(s,[d,d]),v=a.convert(0,d),x=a.find(n,[d,d]));for(var b=r&&f?[]:void 0,w=[],_=[],N=new u({values:b,index:w,ptr:_,size:[m,g],datatype:d}),M=b?[]:void 0,E=[],O=[],A=0;A<g;A++){_[A]=w.length;var S=A+1;if(i(t,A,E,M,O,S,N,x),i(e,A,E,M,O,S,N,x),M)for(var T=_[A];T<w.length;){var k=w[T];if(O[k]===S){var C=M[k];y(C,v)?w.splice(T,1):(b.push(C),T++)}else w.splice(T,1)}else for(var P=_[A];P<w.length;){var j=w[P];O[j]!==S?w.splice(P,1):P++}}return _[g]=w.length,N};return c}var i=t("./../../../utils/collection/scatter"),o=t("../../../error/DimensionError");n.name="algorithm06",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":392,"./../../../utils/collection/scatter":522}],486:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n){var a=t._size,u=t._datatype,c=e._size,l=e._datatype;if(a.length!==c.length)throw new i(a.length,c.length);if(a[0]!==c[0]||a[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+c+")");var f,h=a[0],p=a[1],d=0,m=n;"string"==typeof u&&u===l&&(f=u,d=r.convert(0,f),m=r.find(n,[f,f]));var g,y,v=[];for(g=0;g<h;g++)v[g]=[];var x=new o({data:v,size:[h,p],datatype:f}),b=[],w=[],_=[],N=[];for(y=0;y<p;y++){var M=y+1;for(s(t,y,_,b,M),s(e,y,N,w,M),g=0;g<h;g++){var E=_[g]===M?b[g]:d,O=N[g]===M?w[g]:d;v[g][y]=m(E,O)}}return x},s=function(t,e,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=s[e],c=s[e+1];u<c;u++){var l=a[u];n[l]=i,r[l]=o[u]}};return a}var i=t("../../../error/DimensionError");n.name="algorithm07",n.factory=r},{"../../../error/DimensionError":49}],487:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n){var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,h=e._values,p=e._index,d=e._ptr,m=e._size,g=e._datatype;if(l.length!==m.length)throw new i(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!r||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y,v=l[0],x=l[1],b=a,w=0,_=n;"string"==typeof f&&f===g&&(y=f,b=o.find(a,[y,y]),w=o.convert(0,y),_=o.find(n,[y,y]));for(var N,M,E,O,A=[],S=[],T=[],k=new s({values:A,index:S,ptr:T,size:[v,x],datatype:y}),C=[],P=[],j=0;j<x;j++){T[j]=S.length;var z=j+1;for(M=c[j],E=c[j+1],N=M;N<E;N++)O=u[N],P[O]=z,C[O]=r[N],S.push(O);for(M=d[j],E=d[j+1],N=M;N<E;N++)O=p[N],P[O]===z&&(C[O]=_(C[O],h[N]));for(N=T[j];N<S.length;){O=S[N];var R=C[O];b(R,w)?S.splice(N,1):(A.push(R),N++)}}return T[x]=S.length,k};return u}var i=t("../../../error/DimensionError");n.name="algorithm08",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":392}],488:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n){var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,h=e._values,p=e._index,d=e._ptr,m=e._size,g=e._datatype;if(l.length!==m.length)throw new i(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var y,v=l[0],x=l[1],b=a,w=0,_=n;"string"==typeof f&&f===g&&(y=f,b=o.find(a,[y,y]),w=o.convert(0,y),_=o.find(n,[y,y]));var N,M,E,O,A,S=r&&h?[]:void 0,T=[],k=[],C=new s({values:S,index:T,ptr:k,size:[v,x],datatype:y}),P=S?[]:void 0,j=[];for(M=0;M<x;M++){k[M]=T.length;var z=M+1;if(P)for(O=d[M],A=d[M+1],E=O;E<A;E++)N=p[E],j[N]=z,P[N]=h[E];for(O=c[M],A=c[M+1],E=O;E<A;E++)if(N=u[E],P){var R=j[N]===z?P[N]:w,I=_(r[E],R);b(I,w)||(T.push(N),S.push(I))}else T.push(N)}return k[x]=T.length,C};return u}var i=t("../../../error/DimensionError");n.name="algorithm09",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":392}],489:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix,o=function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=c[0],p=c[1],d=n;"string"==typeof l&&(f=l,e=r.convert(e,f),d=r.find(n,[f,f]));for(var m=[],g=new i({data:m,size:[h,p],datatype:f}),y=[],v=[],x=0;x<p;x++){for(var b=x+1,w=u[x],_=u[x+1],N=w;N<_;N++){var M=s[N];y[M]=a[N],v[M]=b}for(var E=0;E<h;E++)0===x&&(m[E]=[]),v[E]===b?m[E][x]=o?d(e,y[E]):d(y[E],e):m[E][x]=e}return g};return o}n.name="algorithm10",n.factory=r},{}],490:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../../function/relational/equalScalar")),a=e.SparseMatrix,s=function(t,e,n,r){var s=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=l[0],d=l[1],m=o,g=0,y=n;"string"==typeof f&&(h=f,m=i.find(o,[h,h]),g=i.convert(0,h),e=i.convert(e,h),y=i.find(n,[h,h]));for(var v=[],x=[],b=[],w=new a({values:v,index:x,ptr:b,size:[p,d],datatype:h}),_=0;_<d;_++){b[_]=x.length;for(var N=c[_],M=c[_+1],E=N;E<M;E++){var O=u[E],A=r?y(e,s[E]):y(s[E],e);m(A,g)||(x.push(O),v.push(A))}}return b[d]=x.length,w};return s}n.name="algorithm11",n.factory=r},{"../../../function/relational/equalScalar":392}],491:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix,o=function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=c[0],p=c[1],d=n;"string"==typeof l&&(f=l,e=r.convert(e,f),d=r.find(n,[f,f]));for(var m=[],g=new i({data:m,size:[h,p],datatype:f}),y=[],v=[],x=0;x<p;x++){for(var b=x+1,w=u[x],_=u[x+1],N=w;N<_;N++){var M=s[N];y[M]=a[N],v[M]=b}for(var E=0;E<h;E++)0===x&&(m[E]=[]),v[E]===b?m[E][x]=o?d(e,y[E]):d(y[E],e):m[E][x]=o?d(e,0):d(0,e)}return g};return o}n.name="algorithm12",n.factory=r},{}],492:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix,a=function(t,e,n){var a=t._data,u=t._size,c=t._datatype,l=e._data,f=e._size,h=e._datatype,p=[];if(u.length!==f.length)throw new o(u.length,f.length);for(var d=0;d<u.length;d++){if(u[d]!==f[d])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");p[d]=u[d]}var m,g=n;"string"==typeof c&&c===h&&(m=c,e=r.convert(e,m),g=r.find(n,[m,m]));var y=p.length>0?s(g,0,p,p[0],a,l):[];return new i({data:y,size:p,datatype:m})},s=function(t,e,n,r,i,o){var a=[];if(e===n.length-1)for(var u=0;u<r;u++)a[u]=t(i[u],o[u]);else for(var c=0;c<r;c++)a[c]=s(t,e+1,n,n[e+1],i[c],o[c]);return a};return a}var i=t("../../../utils/index"),o=t("../../../error/DimensionError"),a=i.string;a.isString;n.name="algorithm13",n.factory=r},{"../../../error/DimensionError":49,"../../../utils/index":525}],493:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var u,c=t._data,l=t._size,f=t._datatype,h=n;"string"==typeof f&&(u=f,e=r.convert(e,u),h=r.find(n,[u,u]));var p=l.length>0?s(h,0,l,l[0],c,e,a):[];return new o({data:p,size:i(l),datatype:u})},s=function(t,e,n,r,i,o,a){var u=[];if(e===n.length-1)for(var c=0;c<r;c++)u[c]=a?t(o,i[c]):t(i[c],o);else for(var l=0;l<r;l++)u[l]=s(t,e+1,n,n[e+1],i[l],o,a);return u};return a}var i=t("../../../utils/object").clone;n.name="algorithm14",n.factory=r},{"../../../utils/object":528}],494:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("number",{"":function(){return 0},number:function(t){return t},string:function(t){var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=t("./../utils/collection/deepMap");n.name="number",n.factory=r},{"./../utils/collection/deepMap":519}],495:[function(t,e,n){"use strict";function r(t,e,n,r){function i(t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(t){return new i(t.entries)},i}n.name="ResultSet",n.path="type",n.factory=r},{}],496:[function(t,e,n){e.exports=[t("./ResultSet")]},{"./ResultSet":495}],497:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("string",{"":function(){return""},number:o.format,"null":function(t){return"null"},"boolean":function(t){return t+""},string:function(t){return t},"Array | Matrix":function(t){return i(t,a)},any:function(t){return String(t)}});return a.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},a}var i=t("./../utils/collection/deepMap"),o=t("../utils/number");n.name="string",n.factory=r},{"../utils/number":527,"./../utils/collection/deepMap":519}],498:[function(t,e,n){"use strict";function r(e,n,r,s,u){function c(t,e){if(!(this instanceof c))throw new Error("Constructor must be called with the new operator");if(void 0!==t&&!T(t)&&!t.isComplex)throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!=e&&("string"!=typeof e||""==e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=e){var n=c.parse(e);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:$,prefix:L.NONE,power:0}],this.dimensions=[];for(var r=0;r<q.length;r++)this.dimensions[r]=0}this.value=void 0!=t?this._normalize(t):null,this.fixPrefix=!1,this.isUnitListSimplified=!0}function l(){for(;" "==I||"\t"==I;)p()}function f(t){return t>="0"&&t<="9"||"."==t}function h(t){return t>="0"&&t<="9"}function p(){R++,I=z.charAt(R)}function d(t){R=t,I=z.charAt(R)}function m(){var t,e="";if(t=R,"+"==I?p():"-"==I&&(e+=I,p()),!f(I))return d(t),null;if("."==I){if(e+=I,p(),!h(I))return d(t),null}else{for(;h(I);)e+=I,p();"."==I&&(e+=I,p())}for(;h(I);)e+=I,p();if("E"==I||"e"==I){var n="",r=R;if(n+=I,p(),"+"!=I&&"-"!=I||(n+=I,p()),!h(I))return d(r),e;for(e+=n;h(I);)e+=I,p()}return e}function g(){for(var t="",e=z.charCodeAt(R);e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122;)t+=I,p(),e=z.charCodeAt(R);return e=t.charCodeAt(0),e>=65&&e<=90||e>=97&&e<=122?t||null:null}function y(t){return I===t?(p(),t):null}function v(t){if(H.hasOwnProperty(t)){var e=H[t],n=e.prefixes[""];return{unit:e,prefix:n}}for(var r in H)if(H.hasOwnProperty(r)&&i(t,r)){var e=H[r],o=t.length-r.length,a=t.substring(0,o),n=e.prefixes[a];if(void 0!==n)return{unit:e,prefix:n}}return null}function x(t){if("BigNumber"===t.number){var n=a.pi(e.BigNumber);H.rad.value=new e.BigNumber(1),H.deg.value=n.div(180),H.grad.value=n.div(200),H.cycle.value=n.times(2),H.arcsec.value=n.div(648e3),H.arcmin.value=n.div(10800)}else H.rad.value=1,H.deg.value=Math.PI/180,H.grad.value=Math.PI/200,H.cycle.value=2*Math.PI,H.arcsec.value=Math.PI/648e3,H.arcmin.value=Math.PI/10800}function b(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),r=function(t){return/^[a-zA-Z]$/.test(t)},i=function(t){return t>="0"&&t<="9"};if(0===e&&!r(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!r(n)&&!i(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}var w=r(t("../../function/arithmetic/addScalar")),_=r(t("../../function/arithmetic/subtract")),N=r(t("../../function/arithmetic/multiplyScalar")),M=r(t("../../function/arithmetic/divideScalar")),E=r(t("../../function/arithmetic/pow")),O=r(t("../../function/arithmetic/abs")),A=r(t("../../function/arithmetic/fix")),S=r(t("../../function/relational/equal")),T=r(t("../../function/utils/isNumeric")),k=r(t("../../function/string/format")),C=r(t("../../function/utils/typeof")),P=r(t("../../type/number")),j=r(t("../../type/complex/Complex"));c.prototype.type="Unit",c.prototype.isUnit=!0;var z,R,I;c.parse=function(t,r){if(r=r||{},z=t,R=-1,I="","string"!=typeof z)throw new TypeError("Invalid argument in Unit.parse, string expected");var i=new c;i.units=[],p(),l();var o=m(),a=null;o&&(a="BigNumber"===n.number?new e.BigNumber(o):"Fraction"===n.number?new e.Fraction(o):parseFloat(o)),l();for(var s=1,u=!1,f=[],h=1;;){for(l();"("===I;)f.push(s),h*=s,s=1,p(),l();if(!I)break;var d=I,x=g();if(null==x)throw new SyntaxError('Unexpected "'+d+'" in "'+z+'" at index '+R.toString());var b=v(x);if(null==b)throw new SyntaxError('Unit "'+x+'" not found.');var w=s*h;if(l(),y("^")){l();var _=m();if(null==_)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');w*=_}i.units.push({unit:b.unit,prefix:b.prefix,power:w});for(var N=0;N<q.length;N++)i.dimensions[N]+=(b.unit.dimensions[N]||0)*w;for(l();")"===I;){if(0===f.length)throw new SyntaxError('Unmatched ")" in "'+z+'" at index '+R.toString());h/=f.pop(),p(),l()}if(u=!1,y("*")?(s=1,u=!0):y("/")?(s=-1,u=!0):s=1,b.unit.base){var M=b.unit.base.key;G.auto[M]={unit:b.unit,prefix:b.prefix}}}if(l(),I)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==f.length)throw new SyntaxError('Unmatched "(" in "'+z+'"');if(0==i.units.length&&!r.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return i.value=void 0!=a?i._normalize(a):null,i},c.prototype.clone=function(){var t=new c;t.fixPrefix=this.fixPrefix,t.isUnitListSimplified=this.isUnitListSimplified,t.value=o(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++){t.units[e]={};for(var n in this.units[e])this.units[e].hasOwnProperty(n)&&(t.units[e][n]=this.units[e][n])}return t},c.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},c.prototype._normalize=function(t){var e,n,r,i,o;if(null==t||0===this.units.length)return t;if(this._isDerived()){var a=t;o=c._getNumberConverter(C(t));for(var s=0;s<this.units.length;s++)e=o(this.units[s].unit.value),i=o(this.units[s].prefix.value),r=o(this.units[s].power),a=N(a,E(N(e,i),r));return a}return o=c._getNumberConverter(C(t)),e=o(this.units[0].unit.value),n=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),N(w(t,n),N(e,i))},c.prototype._denormalize=function(t,e){var n,r,i,o,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var s=t;a=c._getNumberConverter(C(t));for(var u=0;u<this.units.length;u++)n=a(this.units[u].unit.value),o=a(this.units[u].prefix.value),i=a(this.units[u].power),s=M(s,E(N(n,o),i));return s}return a=c._getNumberConverter(C(t)),n=a(this.units[0].unit.value),o=a(this.units[0].prefix.value),r=a(this.units[0].unit.offset),void 0==e?_(M(M(t,n),o),r):_(M(M(t,n),e),r)},c.isValuelessUnit=function(t){return null!=v(t)},c.prototype.hasBase=function(t){if("string"==typeof t&&(t=D[t]),!t)return!1;for(var e=0;e<q.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},c.prototype.equalBase=function(t){for(var e=0;e<q.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},c.prototype.equals=function(t){return this.equalBase(t)&&S(this.value,t.value)},c.prototype.multiply=function(t){for(var e=this.clone(),n=0;n<q.length;n++)e.dimensions[n]=(this.dimensions[n]||0)+(t.dimensions[n]||0);for(var n=0;n<t.units.length;n++){var r={};for(var i in t.units[n])r[i]=t.units[n][i];e.units.push(r)}if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,a=null==t.value?t._normalize(1):t.value;e.value=N(o,a)}else e.value=null;return e.isUnitListSimplified=!1,B(e)},c.prototype.divide=function(t){for(var e=this.clone(),n=0;n<q.length;n++)e.dimensions[n]=(this.dimensions[n]||0)-(t.dimensions[n]||0);for(var n=0;n<t.units.length;n++){var r={};for(var i in t.units[n])r[i]=t.units[n][i];r.power=-r.power,e.units.push(r)}if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,a=null==t.value?t._normalize(1):t.value;e.value=M(o,a)}else e.value=null;return e.isUnitListSimplified=!1,B(e)},c.prototype.pow=function(t){for(var e=this.clone(),n=0;n<q.length;n++)e.dimensions[n]=(this.dimensions[n]||0)*t;for(var n=0;n<e.units.length;n++)e.units[n].power*=t;return null!=e.value?e.value=E(e.value,t):e.value=null,e.isUnitListSimplified=!1,B(e)};var B=function(t){return t.equalBase(D.NONE)&&null!==t.value&&!n.predictable?t.value:t};c.prototype.abs=function(){var t=this.clone();t.value=O(t.value);for(var e in t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=H.W);return t},c.prototype.to=function(t){var e,n=null==this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=c.parse(t),!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=o(n),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}if(t&&t.isUnit){if(!this.equalBase(t))throw new Error("Units do not match");if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return e=t.clone(),e.value=o(n),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}throw new Error("String or Unit expected as parameter")},c.prototype.toNumber=function(t){return P(this.toNumeric(t))},c.prototype.toNumeric=function(t){var e=this;return t&&(e=this.to(t)),e._isDerived()?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},c.prototype.toString=function(){return this.format()},c.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},c.fromJSON=function(t){var e=new c(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},c.prototype.valueOf=c.prototype.toString,c.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!=this.value){var e,n=[];for(var r in W)if(this.hasBase(D[r])){e=r;break}if("NONE"===e)this.units=[];else{var i;e&&W.hasOwnProperty(e)&&(i=W[e]);if(i)this.units=[{unit:i.unit,prefix:i.prefix,power:1}];else{for(var o=!1,a=0;a<q.length;a++){var s=q[a];Math.abs(this.dimensions[a]||0)>1e-12&&(W.hasOwnProperty(s)?n.push({unit:W[s].unit,prefix:W[s].prefix,power:this.dimensions[a]||0}):o=!0)}t("util");n.length<this.units.length&&!o&&(this.units=n)}}this.isUnitListSimplified=!0}},c.prototype.formatUnits=function(){this.simplifyUnitListLazy();for(var t="",e="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var i=0;i<this.units.length;i++)this.units[i].power<0&&(n>0?(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power+1)>1e-15&&(e+="^"+-this.units[i].power)):(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,e+="^"+this.units[i].power));t=t.substr(1),e=e.substr(1),n>1&&r>0&&(t="("+t+")"),r>1&&n>0&&(e="("+e+")");var o=t;return n>0&&r>0&&(o+=" / "),o+=e},c.prototype.format=function(t){this.simplifyUnitListLazy();var e=!1,n=!0;"undefined"!=typeof this.value&&null!==this.value&&this.value.isComplex&&(e=Math.abs(this.value.re)<1e-14,n=Math.abs(this.value.im)<1e-14);for(var r in this.units)this.units[r].unit&&("VA"===this.units[r].unit.name&&e?this.units[r].unit=H.VAR:"VAR"!==this.units[r].unit.name||e||(this.units[r].unit=H.VA));1!==this.units.length||this.fixPrefix||Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(this.units[0].prefix=this._bestPrefix());var i=this._denormalize(this.value),o=null!==this.value?k(i,t||{}):"",a=this.formatUnits();return this.value&&this.value.isComplex&&(o="("+o+")"),a.length>0&&o.length>0&&(o+=" "),o+=a},c.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=O(this.value),e=O(this.units[0].unit.value),n=this.units[0].prefix;if(0===t)return n;var r=this.units[0].power,i=Math.abs(Math.log(t/Math.pow(n.value*e,r))/Math.LN10-1.2),o=this.units[0].unit.prefixes;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];if(s.scientific){var u=Math.abs(Math.log(t/Math.pow(s.value*e,r))/Math.LN10-1.2);(u<i||u===i&&s.name.length<n.name.length)&&(n=s,i=u)}}return n},c.prototype.splitUnit=function(t){for(var e=this.clone(),n=[],r=0;r<t.length&&(e=e.to(t[r]),r!=t.length-1);r++){var i=A(e.toNumeric()),o=new c(i,t[r].toString());n.push(o),e=_(e,o)}return n.push(e),n};var L={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",
value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};L.SHORTLONG={};for(var U in L.SHORT)L.SHORT.hasOwnProperty(U)&&(L.SHORTLONG[U]=L.SHORT[U]);for(var U in L.LONG)L.LONG.hasOwnProperty(U)&&(L.SHORTLONG[U]=L.LONG[U]);var q=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],D={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var U in D)D[U].key=U;var F={},$={name:"",base:F,value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},H={meter:{name:"meter",base:D.LENGTH,prefixes:L.LONG,value:1,offset:0},inch:{name:"inch",base:D.LENGTH,prefixes:L.NONE,value:.0254,offset:0},foot:{name:"foot",base:D.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yard:{name:"yard",base:D.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mile:{name:"mile",base:D.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},link:{name:"link",base:D.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rod:{name:"rod",base:D.LENGTH,prefixes:L.NONE,value:5.02921,offset:0},chain:{name:"chain",base:D.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:D.LENGTH,prefixes:L.NONE,value:1e-10,offset:0},m:{name:"m",base:D.LENGTH,prefixes:L.SHORT,value:1,offset:0},"in":{name:"in",base:D.LENGTH,prefixes:L.NONE,value:.0254,offset:0},ft:{name:"ft",base:D.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yd:{name:"yd",base:D.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mi:{name:"mi",base:D.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},li:{name:"li",base:D.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rd:{name:"rd",base:D.LENGTH,prefixes:L.NONE,value:5.02921,offset:0},ch:{name:"ch",base:D.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},mil:{name:"mil",base:D.LENGTH,prefixes:L.NONE,value:254e-7,offset:0},m2:{name:"m2",base:D.SURFACE,prefixes:L.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:D.SURFACE,prefixes:L.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:D.SURFACE,prefixes:L.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:D.SURFACE,prefixes:L.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:D.SURFACE,prefixes:L.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:D.SURFACE,prefixes:L.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:D.SURFACE,prefixes:L.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:D.SURFACE,prefixes:L.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:D.SURFACE,prefixes:L.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:D.SURFACE,prefixes:L.NONE,value:1e4,offset:0},m3:{name:"m3",base:D.VOLUME,prefixes:L.CUBIC,value:1,offset:0},L:{name:"L",base:D.VOLUME,prefixes:L.SHORT,value:.001,offset:0},l:{name:"l",base:D.VOLUME,prefixes:L.SHORT,value:.001,offset:0},litre:{name:"litre",base:D.VOLUME,prefixes:L.LONG,value:.001,offset:0},cuin:{name:"cuin",base:D.VOLUME,prefixes:L.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:D.VOLUME,prefixes:L.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:D.VOLUME,prefixes:L.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:D.VOLUME,prefixes:L.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:D.VOLUME,prefixes:L.NONE,value:15e-6,offset:0},drop:{name:"drop",base:D.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:D.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},minim:{name:"minim",base:D.VOLUME,prefixes:L.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:D.VOLUME,prefixes:L.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:D.VOLUME,prefixes:L.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:D.VOLUME,prefixes:L.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:D.VOLUME,prefixes:L.NONE,value:1e-6,offset:0},cup:{name:"cup",base:D.VOLUME,prefixes:L.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:D.VOLUME,prefixes:L.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:D.VOLUME,prefixes:L.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:D.VOLUME,prefixes:L.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:D.VOLUME,prefixes:L.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:D.VOLUME,prefixes:L.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:D.VOLUME,prefixes:L.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:D.VOLUME,prefixes:L.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:D.VOLUME,prefixes:L.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:D.VOLUME,prefixes:L.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:D.VOLUME,prefixes:L.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:D.VOLUME,prefixes:L.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:D.VOLUME,prefixes:L.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:D.VOLUME,prefixes:L.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:D.VOLUME,prefixes:L.NONE,value:.1173478,offset:0},obl:{name:"obl",base:D.VOLUME,prefixes:L.NONE,value:.1589873,offset:0},g:{name:"g",base:D.MASS,prefixes:L.SHORT,value:.001,offset:0},gram:{name:"gram",base:D.MASS,prefixes:L.LONG,value:.001,offset:0},ton:{name:"ton",base:D.MASS,prefixes:L.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:D.MASS,prefixes:L.SHORT,value:1e3,offset:0},grain:{name:"grain",base:D.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:D.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:D.MASS,prefixes:L.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:D.MASS,prefixes:L.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:D.MASS,prefixes:L.NONE,value:45.359237,offset:0},stick:{name:"stick",base:D.MASS,prefixes:L.NONE,value:.115,offset:0},stone:{name:"stone",base:D.MASS,prefixes:L.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:D.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:D.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:D.MASS,prefixes:L.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:D.MASS,prefixes:L.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:D.MASS,prefixes:L.NONE,value:45.359237,offset:0},s:{name:"s",base:D.TIME,prefixes:L.SHORT,value:1,offset:0},min:{name:"min",base:D.TIME,prefixes:L.NONE,value:60,offset:0},h:{name:"h",base:D.TIME,prefixes:L.NONE,value:3600,offset:0},second:{name:"second",base:D.TIME,prefixes:L.LONG,value:1,offset:0},sec:{name:"sec",base:D.TIME,prefixes:L.LONG,value:1,offset:0},minute:{name:"minute",base:D.TIME,prefixes:L.NONE,value:60,offset:0},hour:{name:"hour",base:D.TIME,prefixes:L.NONE,value:3600,offset:0},day:{name:"day",base:D.TIME,prefixes:L.NONE,value:86400,offset:0},week:{name:"week",base:D.TIME,prefixes:L.NONE,value:604800,offset:0},month:{name:"month",base:D.TIME,prefixes:L.NONE,value:2629800,offset:0},year:{name:"year",base:D.TIME,prefixes:L.NONE,value:31557600,offset:0},decade:{name:"year",base:D.TIME,prefixes:L.NONE,value:315576e3,offset:0},century:{name:"century",base:D.TIME,prefixes:L.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:D.TIME,prefixes:L.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:D.FREQUENCY,prefixes:L.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:D.FREQUENCY,prefixes:L.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:D.ANGLE,prefixes:L.NONE,value:1,offset:0},deg:{name:"deg",base:D.ANGLE,prefixes:L.NONE,value:null,offset:0},grad:{name:"grad",base:D.ANGLE,prefixes:L.NONE,value:null,offset:0},cycle:{name:"cycle",base:D.ANGLE,prefixes:L.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:D.ANGLE,prefixes:L.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:D.ANGLE,prefixes:L.NONE,value:null,offset:0},A:{name:"A",base:D.CURRENT,prefixes:L.SHORT,value:1,offset:0},ampere:{name:"ampere",base:D.CURRENT,prefixes:L.LONG,value:1,offset:0},K:{name:"K",base:D.TEMPERATURE,prefixes:L.NONE,value:1,offset:0},degC:{name:"degC",base:D.TEMPERATURE,prefixes:L.NONE,value:1,offset:273.15},degF:{name:"degF",base:D.TEMPERATURE,prefixes:L.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:D.TEMPERATURE,prefixes:L.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:D.TEMPERATURE,prefixes:L.NONE,value:1,offset:0},celsius:{name:"celsius",base:D.TEMPERATURE,prefixes:L.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:D.TEMPERATURE,prefixes:L.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:D.TEMPERATURE,prefixes:L.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:D.AMOUNT_OF_SUBSTANCE,prefixes:L.SHORT,value:1,offset:0},mole:{name:"mole",base:D.AMOUNT_OF_SUBSTANCE,prefixes:L.LONG,value:1,offset:0},cd:{name:"cd",base:D.LUMINOUS_INTENSITY,prefixes:L.NONE,value:1,offset:0},candela:{name:"candela",base:D.LUMINOUS_INTENSITY,prefixes:L.NONE,value:1,offset:0},N:{name:"N",base:D.FORCE,prefixes:L.SHORT,value:1,offset:0},newton:{name:"newton",base:D.FORCE,prefixes:L.LONG,value:1,offset:0},dyn:{name:"dyn",base:D.FORCE,prefixes:L.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:D.FORCE,prefixes:L.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:D.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:D.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:D.FORCE,prefixes:L.LONG,value:4448.2216,offset:0},J:{name:"J",base:D.ENERGY,prefixes:L.SHORT,value:1,offset:0},joule:{name:"joule",base:D.ENERGY,prefixes:L.SHORT,value:1,offset:0},erg:{name:"erg",base:D.ENERGY,prefixes:L.NONE,value:1e-5,offset:0},Wh:{name:"Wh",base:D.ENERGY,prefixes:L.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:D.ENERGY,prefixes:L.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:D.ENERGY,prefixes:L.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:"electronvolt",base:D.ENERGY,prefixes:L.LONG,value:1.602176565e-19,offset:0},W:{name:"W",base:D.POWER,prefixes:L.SHORT,value:1,offset:0},watt:{name:"W",base:D.POWER,prefixes:L.LONG,value:1,offset:0},hp:{name:"hp",base:D.POWER,prefixes:L.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:D.POWER,prefixes:L.SHORT,value:j.I,offset:0},VA:{name:"VA",base:D.POWER,prefixes:L.SHORT,value:1,offset:0},Pa:{name:"Pa",base:D.PRESSURE,prefixes:L.SHORT,value:1,offset:0},psi:{name:"psi",base:D.PRESSURE,prefixes:L.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:D.PRESSURE,prefixes:L.NONE,value:101325,offset:0},bar:{name:"bar",base:D.PRESSURE,prefixes:L.NONE,value:1e5,offset:0},torr:{name:"torr",base:D.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:D.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:D.PRESSURE,prefixes:L.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:D.PRESSURE,prefixes:L.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:D.ELECTRIC_CHARGE,prefixes:L.LONG,value:1,offset:0},C:{name:"C",base:D.ELECTRIC_CHARGE,prefixes:L.SHORT,value:1,offset:0},farad:{name:"farad",base:D.ELECTRIC_CAPACITANCE,prefixes:L.LONG,value:1,offset:0},F:{name:"F",base:D.ELECTRIC_CAPACITANCE,prefixes:L.SHORT,value:1,offset:0},volt:{name:"volt",base:D.ELECTRIC_POTENTIAL,prefixes:L.LONG,value:1,offset:0},V:{name:"V",base:D.ELECTRIC_POTENTIAL,prefixes:L.SHORT,value:1,offset:0},ohm:{name:"ohm",base:D.ELECTRIC_RESISTANCE,prefixes:L.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:D.ELECTRIC_INDUCTANCE,prefixes:L.LONG,value:1,offset:0},H:{name:"H",base:D.ELECTRIC_INDUCTANCE,prefixes:L.SHORT,value:1,offset:0},siemens:{name:"siemens",base:D.ELECTRIC_CONDUCTANCE,prefixes:L.LONG,value:1,offset:0},S:{name:"S",base:D.ELECTRIC_CONDUCTANCE,prefixes:L.SHORT,value:1,offset:0},weber:{name:"weber",base:D.MAGNETIC_FLUX,prefixes:L.LONG,value:1,offset:0},Wb:{name:"Wb",base:D.MAGNETIC_FLUX,prefixes:L.SHORT,value:1,offset:0},tesla:{name:"tesla",base:D.MAGNETIC_FLUX_DENSITY,prefixes:L.LONG,value:1,offset:0},T:{name:"T",base:D.MAGNETIC_FLUX_DENSITY,prefixes:L.SHORT,value:1,offset:0},b:{name:"b",base:D.BIT,prefixes:L.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:D.BIT,prefixes:L.BINARY_LONG,value:1,offset:0},B:{name:"B",base:D.BIT,prefixes:L.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:D.BIT,prefixes:L.BINARY_LONG,value:8,offset:0}},V={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",hertz:"hertz",radians:"rad",degree:"deg",degrees:"deg",gradian:"grad",gradians:"grad",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};x(n),u.on("config",function(t,e){t.number!==e.number&&x(t)});var G={si:{NONE:{unit:$,prefix:L.NONE[""]},LENGTH:{unit:H.m,prefix:L.SHORT[""]},MASS:{unit:H.g,prefix:L.SHORT.k},TIME:{unit:H.s,prefix:L.SHORT[""]},CURRENT:{unit:H.A,prefix:L.SHORT[""]},TEMPERATURE:{unit:H.K,prefix:L.SHORT[""]},LUMINOUS_INTENSITY:{unit:H.cd,prefix:L.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:H.mol,prefix:L.SHORT[""]},ANGLE:{unit:H.rad,prefix:L.SHORT[""]},BIT:{unit:H.bit,prefix:L.SHORT[""]},FORCE:{unit:H.N,prefix:L.SHORT[""]},ENERGY:{unit:H.J,prefix:L.SHORT[""]},POWER:{unit:H.W,prefix:L.SHORT[""]},PRESSURE:{unit:H.Pa,prefix:L.SHORT[""]},ELECTRIC_CHARGE:{unit:H.C,prefix:L.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:H.F,prefix:L.SHORT[""]},ELECTRIC_POTENTIAL:{unit:H.V,prefix:L.SHORT[""]},ELECTRIC_RESISTANCE:{unit:H.ohm,prefix:L.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:H.H,prefix:L.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:H.S,prefix:L.SHORT[""]},MAGNETIC_FLUX:{unit:H.Wb,prefix:L.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:H.T,prefix:L.SHORT[""]},FREQUENCY:{unit:H.Hz,prefix:L.SHORT[""]}}};G.cgs=JSON.parse(JSON.stringify(G.si)),G.cgs.LENGTH={unit:H.m,prefix:L.SHORT.c},G.cgs.MASS={unit:H.g,prefix:L.SHORT[""]},G.cgs.FORCE={unit:H.dyn,prefix:L.SHORT[""]},G.cgs.ENERGY={unit:H.erg,prefix:L.NONE[""]},G.us=JSON.parse(JSON.stringify(G.si)),G.us.LENGTH={unit:H.ft,prefix:L.NONE[""]},G.us.MASS={unit:H.lbm,prefix:L.NONE[""]},G.us.TEMPERATURE={unit:H.degF,prefix:L.NONE[""]},G.us.FORCE={unit:H.lbf,prefix:L.NONE[""]},G.us.ENERGY={unit:H.BTU,prefix:L.BTU[""]},G.us.POWER={unit:H.hp,prefix:L.NONE[""]},G.us.PRESSURE={unit:H.psi,prefix:L.NONE[""]},G.auto=JSON.parse(JSON.stringify(G.si));var W=G.auto;c.setUnitSystem=function(t){if(!G.hasOwnProperty(t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(G).join(", "));W=G[t]},c.getUnitSystem=function(){for(var t in G)if(G[t]===W)return t},c.typeConverters={BigNumber:function(t){return new e.BigNumber(t+"")},Fraction:function(t){return new e.Fraction(t)},Complex:function(t){return t},number:function(t){return t}},c._getNumberConverter=function(t){if(!c.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return c.typeConverters[t]};for(var U in H){var Y=H[U];Y.dimensions=Y.base.dimensions}for(var Z in V)if(V.hasOwnProperty(Z)){var Y=H[V[Z]],X={};for(var U in Y)Y.hasOwnProperty(U)&&(X[U]=Y[U]);X.name=Z,H[Z]=X}return c.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var n in t)if(t.hasOwnProperty(n)&&c.deleteUnit(n),t[n].aliases)for(var r=0;r<t[n].aliases.length;r++)c.deleteUnit(t[n].aliases[r]);var i;for(var n in t)t.hasOwnProperty(n)&&(i=c.createUnitSingle(n,t[n]));return i},c.createUnitSingle=function(t,e,n){if("undefined"!=typeof e&&null!==e||(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(H.hasOwnProperty(t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');b(t);var r,i,o=null,a=[],s=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(r=e);else{if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');r=e.definition,i=e.prefixes,s=e.offset,a=e.aliases}if(a)for(var u=0;u<a.length;u++)if(H.hasOwnProperty(a[u]))throw new Error('Cannot create alias "'+a[u]+'": a unit with that name already exists');if(r&&"string"==typeof r&&!o)try{o=c.parse(r,{allowNoUnits:!0})}catch(l){throw l.message='Could not create unit "'+t+'" from "'+r+'": '+l.message,l}else r&&"Unit"===r.type&&(o=r.clone());a=a||[],s=s||0,i=i&&i.toUpperCase?L[i.toUpperCase()]||L.NONE:L.NONE;var f={};if(o){f={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:i,offset:s};var h=!1;for(var u in D)if(D.hasOwnProperty(u)){for(var p=!0,d=0;d<q.length;d++)if(Math.abs((f.dimensions[d]||0)-(D[u].dimensions[d]||0))>1e-12){p=!1;break}if(p){h=!0;break}}if(!h){var m=t+"_STUFF",g={dimensions:o.dimensions.slice(0)};g.key=m,D[m]=g,W[m]={unit:f,prefix:L.NONE[""]},f.base=m}}else{var m=t+"_STUFF";if(q.indexOf(m)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');q.push(m);for(var y in D)D.hasOwnProperty(y)&&(D[y].dimensions[q.length-1]=0);for(var g={dimensions:[]},u=0;u<q.length;u++)g.dimensions[u]=0;g.dimensions[q.length-1]=1,g.key=m,D[m]=g,f={name:t,value:1,dimensions:D[m].dimensions.slice(0),prefixes:i,offset:s,base:m},W[m]={unit:f,prefix:L.NONE[""]}}c.UNITS[t]=f;for(var u=0;u<a.length;u++){var v=a[u],x={};for(var w in f)f.hasOwnProperty(w)&&(x[w]=f[w]);x.name=v,c.UNITS[v]=x}return new c(null,t)},c.deleteUnit=function(t){delete c.UNITS[t]},c.PREFIXES=L,c.BASE_UNITS=D,c.UNITS=H,c.UNIT_SYSTEMS=G,c}var i=t("../../utils/string").endsWith,o=t("../../utils/object").clone,a=t("../../utils/bignumber/constants");n.name="Unit",n.path="type",n.factory=r,n.math=!0},{"../../function/arithmetic/abs":294,"../../function/arithmetic/addScalar":296,"../../function/arithmetic/divideScalar":301,"../../function/arithmetic/fix":306,"../../function/arithmetic/multiplyScalar":316,"../../function/arithmetic/pow":319,"../../function/arithmetic/subtract":324,"../../function/relational/equal":391,"../../function/string/format":410,"../../function/utils/isNumeric":446,"../../function/utils/typeof":450,"../../type/complex/Complex":461,"../../type/number":494,"../../utils/bignumber/constants":511,"../../utils/object":528,"../../utils/string":529,util:537}],499:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r("createUnit",{"Object, Object":function(e,n){return t.Unit.createUnit(e,n)},Object:function(e){return t.Unit.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,n,r){var i={};return i[e]=n,t.Unit.createUnit(i,r)},"string, Unit | string | Object":function(e,n){var r={};return r[e]=n,t.Unit.createUnit(r,{})},string:function(e){var n={};return n[e]={},t.Unit.createUnit(n,{})}});return i}t("../../../utils/collection/deepMap");n.name="createUnit",n.factory=r},{"../../../utils/collection/deepMap":519}],500:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r("splitUnit",{"Unit, Array":function(t,e){return t.splitUnit(e)}});return i}t("../../../utils/collection/deepMap");n.name="splitUnit",n.factory=r},{"../../../utils/collection/deepMap":519}],501:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("unit",{Unit:function(t){return t.clone()},string:function(e){return t.Unit.isValuelessUnit(e)?new t.Unit(null,e):t.Unit.parse(e)},"number | BigNumber | Fraction | Complex, string":function(e,n){return new t.Unit(e,n)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=t("../../../utils/collection/deepMap");n.name="unit",n.factory=r},{"../../../utils/collection/deepMap":519}],502:[function(t,e,n){e.exports=[t("./Unit"),t("./function/unit"),t("./function/createUnit"),t("./function/splitUnit"),t("./physicalConstants")]},{"./Unit":498,"./function/createUnit":499,"./function/splitUnit":500,"./function/unit":501,"./physicalConstants":503}],503:[function(t,e,n){function r(t,e,n,r,o){function a(e){var n=t.Unit.parse(e);return n.fixPrefix=!0,n}i(o,"speedOfLight",function(){return a("299792458 m s^-1")}),i(o,"gravitationConstant",function(){return a("6.6738480e-11 m^3 kg^-1 s^-2")}),i(o,"planckConstant",function(){return a("6.626069311e-34 J s")}),i(o,"reducedPlanckConstant",function(){return a("1.05457172647e-34 J s")}),i(o,"magneticConstant",function(){return a("1.2566370614e-6 N A^-2")}),i(o,"electricConstant",function(){return a("8.854187817e-12 F m^-1")}),i(o,"vacuumImpedance",function(){return a("376.730313461 ohm")}),i(o,"coulomb",function(){return a("8.9875517873681764e9 N m^2 C^-2")}),i(o,"elementaryCharge",function(){return a("1.60217656535e-19 C")}),i(o,"bohrMagneton",function(){return a("9.2740096820e-24 J T^-1")}),i(o,"conductanceQuantum",function(){return a("7.748091734625e-5 S")}),i(o,"inverseConductanceQuantum",function(){return a("12906.403721742 ohm")}),i(o,"magneticFluxQuantum",function(){return a("2.06783375846e-15 Wb")}),i(o,"nuclearMagneton",function(){return a("5.0507835311e-27 J T^-1")}),i(o,"klitzing",function(){return a("25812.807443484 ohm")}),i(o,"bohrRadius",function(){return a("5.291772109217e-11 m")}),i(o,"classicalElectronRadius",function(){return a("2.817940326727e-15 m")}),i(o,"electronMass",function(){return a("9.1093829140e-31 kg")}),i(o,"fermiCoupling",function(){return a("1.1663645e-5 GeV^-2")}),i(o,"fineStructure",function(){return.007297352569824}),i(o,"hartreeEnergy",function(){return a("4.3597443419e-18 J")}),i(o,"protonMass",function(){return a("1.67262177774e-27 kg")}),i(o,"deuteronMass",function(){return a("3.3435830926e-27 kg")}),i(o,"neutronMass",function(){return a("1.6749271613e-27 kg")}),i(o,"quantumOfCirculation",function(){return a("3.636947552024e-4 m^2 s^-1")}),i(o,"rydberg",function(){return a("10973731.56853955 m^-1")}),i(o,"thomsonCrossSection",function(){return a("6.65245873413e-29 m^2")}),i(o,"weakMixingAngle",function(){return.222321}),i(o,"efimovFactor",function(){return 22.7}),i(o,"atomicMass",function(){return a("1.66053892173e-27 kg")}),i(o,"avogadro",function(){return a("6.0221412927e23 mol^-1")}),i(o,"boltzmann",function(){return a("1.380648813e-23 J K^-1")}),i(o,"faraday",function(){return a("96485.336521 C mol^-1")}),i(o,"firstRadiation",function(){return a("3.7417715317e-16 W m^2")}),i(o,"loschmidt",function(){return a("2.686780524e25 m^-3")}),i(o,"gasConstant",function(){return a("8.314462175 J K^-1 mol^-1")}),i(o,"molarPlanckConstant",function(){return a("3.990312717628e-10 J s mol^-1")}),i(o,"molarVolume",function(){return a("2.241396820e-10 m^3 mol^-1")}),i(o,"sackurTetrode",function(){return-1.164870823}),i(o,"secondRadiation",function(){return a("1.438777013e-2 m K")}),i(o,"stefanBoltzmann",function(){return a("5.67037321e-8 W m^-2 K^-4")}),i(o,"wienDisplacement",function(){return a("2.897772126e-3 m K")}),i(o,"molarMass",function(){return a("1e-3 kg mol^-1")}),i(o,"molarMassC12",function(){return a("1.2e-2 kg mol^-1")}),i(o,"gravity",function(){return a("9.80665 m s^-2")}),i(o,"planckLength",function(){return a("1.61619997e-35 m")}),i(o,"planckMass",function(){return a("2.1765113e-8 kg")}),i(o,"planckTime",function(){return a("5.3910632e-44 s")}),i(o,"planckCharge",function(){return a("1.87554595641e-18 C")}),i(o,"planckTemperature",function(){return a("1.41683385e+32 K")})}var i=t("../../utils/object").lazy;n.factory=r,n.lazy=!1,n.math=!0},{"../../utils/object":528}],504:[function(t,e,n){"use strict";function r(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number");var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1,this.sign=n,this.coefficients=r.replace(".","").replace(/^0*/,function(t){return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)}),0===this.coefficients.length&&(this.coefficients.push(0),i++),this.exponent=i}function i(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}r.prototype.toEngineering=function(t){var e=this.roundDigits(t),n=e.exponent,r=e.coefficients,o=n%3===0?n:n<0?n-3-n%3:n-n%3,a=n>=0?n:Math.abs(o);r.length-1<a&&(r=r.concat(i(a-(r.length-1))));for(var s=Math.abs(n-o),u=1,c="";--s>=0;)u++;var l=r.slice(u).join(""),f=l.match(/[1-9]/)?"."+l:"";return c=r.slice(0,u).join("")+f,c+="e"+(n>=0?"+":"")+o.toString(),e.sign+c},r.prototype.toFixed=function(t){var e=this.roundDigits(this.exponent+1+(t||0)),n=e.coefficients,r=e.exponent+1,o=r+(t||0);return n.length<o&&(n=n.concat(i(o-n.length))),r<0&&(n=i(-r+1).concat(n),r=1),t&&n.splice(r,0,0===r?"0.":"."),this.sign+n.join("")},r.prototype.toExponential=function(t){var e=t?this.roundDigits(t):this.clone(),n=e.coefficients,r=e.exponent;n.length<t&&(n=n.concat(i(t-n.length)));var o=n.shift();return this.sign+o+(n.length>0?"."+n.join(""):"")+"e"+(r>=0?"+":"")+r},r.prototype.toPrecision=function(t,e){var n=e&&void 0!==e.lower?e.lower:.001,r=e&&void 0!==e.upper?e.upper:1e5,o=Math.abs(Math.pow(10,this.exponent));if(o<n||o>=r)return this.toExponential(t);var a=t?this.roundDigits(t):this.clone(),s=a.coefficients,u=a.exponent;s.length<t&&(s=s.concat(i(t-s.length))),s=s.concat(i(u-s.length+1+(s.length<t?t-s.length:0))),s=i(-u).concat(s);var c=u>0?u:0;return c<s.length-1&&s.splice(c+1,0,"."),this.sign+s.join("")},r.prototype.clone=function(){var t=new r("0");return t.sign=this.sign,t.coefficients=this.coefficients.slice(0),t.exponent=this.exponent,t},r.prototype.roundDigits=function(t){for(var e=this.clone(),n=e.coefficients;t<=0;)n.unshift(0),e.exponent++,t++;if(n.length>t){var r=n.splice(t,n.length-t);if(r[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),e.exponent++,i++),i--,n[i]++}}return e},e.exports=r},{}],505:[function(t,e,n){"use strict";function r(t,e,n){var i,o=t.length;if(o!=e[n])throw new c(o,e[n]);if(n<e.length-1){var a=n+1;for(i=0;i<o;i++){var s=t[i];if(!Array.isArray(s))throw new c(e.length-1,e.length,"<");r(t[i],e,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new c(e.length+1,e.length,">")}function i(t,e,r,o){var a,s,u=t.length,c=e[r],l=Math.min(u,c);if(t.length=c,r<e.length-1){var f=r+1;for(a=0;a<l;a++)s=t[a],Array.isArray(s)||(s=[s],t[a]=s),i(s,e,f,o);for(a=l;a<c;a++)s=[],t[a]=s,i(s,e,f,o)}else{for(a=0;a<l;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];if(o!==n.UNINITIALIZED)for(a=l;a<c;a++)t[a]=o}}function o(t,e,n){var r,i;if(n<e){var a=n+1;for(r=0,i=t.length;r<i;r++)t[r]=o(t[r],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function a(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=a(t[r],e,o)}else for(var s=n;s<e;s++)t=[t];return t}var s=t("./number"),u=t("./string"),c=(t("./object"),t("./types"),t("../error/DimensionError")),l=t("../error/IndexError");n.size=function(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e},n.validate=function(t,e){var n=0==e.length;if(n){if(Array.isArray(t))throw new c(t.length,0)}else r(t,e,0)},n.validateIndex=function(t,e){if(!s.isNumber(t)||!s.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new l(t,e)},n.UNINITIALIZED={},
n.resize=function(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!s.isNumber(t)||!s.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(e)+")")});var r=void 0!==n?n:0;return i(t,e,0,r),t},n.squeeze=function(t,e){for(var r=e||n.size(t);Array.isArray(t)&&1===t.length;)t=t[0],r.shift();for(var i=r.length;1===r[i-1];)i--;return i<r.length&&(t=o(t,i,0),r.length=i),t},n.unsqueeze=function(t,e,r,i){var o=i||n.size(t);if(r)for(var s=0;s<r;s++)t=[t],o.unshift(1);for(t=a(t,e,0);o.length<e;)o.push(1);return t},n.flatten=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function n(t){Array.isArray(t)?t.forEach(n):e.push(t)}),e},n.isArray=Array.isArray},{"../error/DimensionError":49,"../error/IndexError":50,"./number":527,"./object":528,"./string":529,"./types":530}],506:[function(t,e,n){var r=t("./bitwise");e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()==e.isNegative()?t:new n(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t}return r(t,e,function(t,e){return t&e})}},{"./bitwise":510}],507:[function(t,e,n){e.exports=function(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,n=e.precision;e.config({precision:1e9});var t=t.plus(new e(1));return t.s=-t.s||null,e.config({precision:n}),t}},{}],508:[function(t,e,n){var r=t("./bitwise");e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);var i=new n((-1));return t.isZero()||e.eq(i)||t.eq(e)?e:e.isZero()||t.eq(i)?t:t.isFinite()&&e.isFinite()?r(t,e,function(t,e){return t|e}):!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?i:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t}},{"./bitwise":510}],509:[function(t,e,n){var r=t("./bitwise"),i=t("./bitNot");e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new n(0);var o=new n((-1));return t.eq(o)?i(e):e.eq(o)?i(t):t.isFinite()&&e.isFinite()?r(t,e,function(t,e){return t^e}):t.isFinite()||e.isFinite()?new n(t.isNegative()==e.isNegative()?1/0:-(1/0)):o}},{"./bitNot":507,"./bitwise":510}],510:[function(t,e,n){function r(t){for(var e=t.d,n=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}var a;for(a=n.length-1;"0"==n.charAt(a);--a);var s=t.e,u=n.slice(0,a+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;u+="0");else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var l=[0],r=0;r<u.length;){for(var f=l.length;f--;l[f]*=10);l[0]+=u.charAt(r++)<<0;for(var a=0;a<l.length;++a)l[a]>1&&(null==l[a+1]&&(l[a+1]=0),l[a+1]+=l[a]>>1,l[a]&=1)}return l.reverse()}var i=t("./bitNot");e.exports=function(t,e,n){var o,a,s=t.constructor,u=+(t.s<0),c=+(e.s<0);if(u){o=r(i(t));for(var l=0;l<o.length;++l)o[l]^=1}else o=r(t);if(c){a=r(i(e));for(var l=0;l<a.length;++l)a[l]^=1}else a=r(e);var f,h,p;o.length<=a.length?(f=o,h=a,p=u):(f=a,h=o,p=c);var d=f.length,m=h.length,g=1^n(u,c),y=new s(1^g),v=new s(1),x=new s(2),b=s.precision;for(s.config({precision:1e9});d>0;)n(f[--d],h[--m])==g&&(y=y.plus(v)),v=v.times(x);for(;m>0;)n(p,h[--m])==g&&(y=y.plus(v)),v=v.times(x);return s.config({precision:b}),0==g&&(y.s=-y.s),y}},{"./bitNot":507}],511:[function(t,e,n){function r(t){return t[0].precision}var i=t("../function").memoize;n.e=i(function(t){return new t(1).exp()},r),n.phi=i(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},r),n.pi=i(function(t){return pi=t.acos(-1)},r),n.tau=i(function(t){return n.pi(t).times(2)},r)},{"../function":524}],512:[function(t,e,n){n.format=function(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",i=void 0;switch(void 0!==e&&(e.notation&&(r=e.notation),"number"==typeof e?i=e:e.precision&&(i=e.precision)),r){case"fixed":return n.toFixed(t,i);case"exponential":return n.toExponential(t,i);case"auto":var o=.001,a=1e5;e&&e.exponential&&(void 0!==e.exponential.lower&&(o=e.exponential.lower),void 0!==e.exponential.upper&&(a=e.exponential.upper));({toExpNeg:t.constructor.toExpNeg,toExpPos:t.constructor.toExpPos});if(t.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),t.isZero())return"0";var s,u=t.abs();return s=u.gte(o)&&u.lt(a)?t.toSignificantDigits(i).toFixed():n.toExponential(t,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},n.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},n.toFixed=function(t,e){return t.toFixed(e||0)}},{}],513:[function(t,e,n){e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:t.isFinite()||e.isFinite()?e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new n(2).pow(e)):new n(NaN)}},{}],514:[function(t,e,n){"use strict";e.exports=function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}},{}],515:[function(t,e,n){e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new n(2).pow(e)).floor():new n(t.isNegative()?-1:t.isFinite()?0:NaN)}},{}],516:[function(t,e,n){"use strict";n.isBoolean=function(t){return"boolean"==typeof t}},{}],517:[function(t,e,n){"use strict";var r=t("./isCollection");e.exports=function(t){for(var e=0;e<t.length;e++)if(r(t[e]))return!0;return!1}},{"./isCollection":520}],518:[function(t,e,n){"use strict";e.exports=function r(t,e){t&&t.isMatrix===!0&&(t=t.valueOf());for(var n=0,i=t.length;n<i;n++){var o=t[n];Array.isArray(o)?r(o,e):e(o)}}},{}],519:[function(t,e,n){"use strict";e.exports=function r(t,e,n){return t&&"function"==typeof t.map?t.map(function(t){return r(t,e,n)}):e(t)}},{}],520:[function(t,e,n){"use strict";e.exports=function(t){return Array.isArray(t)||t&&t.isMatrix===!0}},{}],521:[function(t,e,n){"use strict";function r(t,e,n){var o,a,s,u;if(e<=0){if(Array.isArray(t[0])){for(u=i(t),a=[],o=0;o<u.length;o++)a[o]=r(u[o],e-1,n);return a}for(s=t[0],o=1;o<t.length;o++)s=n(s,t[o]);return s}for(a=[],o=0;o<t.length;o++)a[o]=r(t[o],e-1,n);return a}function i(t){var e,n,r=t.length,i=t[0].length,o=[];for(n=0;n<i;n++){var a=[];for(e=0;e<r;e++)a.push(t[e][n]);o.push(a)}return o}var o=t("../array").size,a=t("../../error/IndexError");e.exports=function(t,e,n){var i=Array.isArray(t)?o(t):t.size();if(e<0||e>=i.length)throw new a(e,i.length);return t&&t.isMatrix===!0?t.create(r(t.valueOf(),e,n)):r(t,e,n)}},{"../../error/IndexError":50,"../array":505}],522:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o,a,s,u,c,l){var f,h,p,d,m=t._values,g=t._index,y=t._ptr,v=a._index;if(r)for(h=y[e],p=y[e+1],f=h;f<p;f++)d=g[f],n[d]!==o?(n[d]=o,v.push(d),c?(r[d]=u?s(m[f],l):s(l,m[f]),i[d]=o):r[d]=m[f]):(r[d]=u?s(m[f],r[d]):s(r[d],m[f]),i[d]=o);else for(h=y[e],p=y[e+1],f=h;f<p;f++)d=g[f],n[d]!==o?(n[d]=o,v.push(d)):i[d]=o}},{}],523:[function(t,e,n){var r=t("tiny-emitter");n.mixin=function(t){var e=new r;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},{"tiny-emitter":533}],524:[function(t,e,n){n.memoize=function(t,e){return function n(){"object"!=typeof n.cache&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e(r):JSON.stringify(r);return o in n.cache?n.cache[o]:n.cache[o]=t.apply(t,r)}},n.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}},{}],525:[function(t,e,n){"use strict";n.array=t("./array"),n["boolean"]=t("./boolean"),n["function"]=t("./function"),n.number=t("./number"),n.object=t("./object"),n.string=t("./string"),n.types=t("./types"),n.emitter=t("./emitter")},{"./array":505,"./boolean":516,"./emitter":523,"./function":524,"./number":527,"./object":528,"./string":529,"./types":530}],526:[function(t,e,n){"use strict";n.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega","true":"\\mathrm{True}","false":"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},n.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},n.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var r={deg:"^\\circ"};n.toSymbol=function(t,e){if(e="undefined"!=typeof e&&e)return r.hasOwnProperty(t)?r[t]:"\\mathrm{"+t+"}";if(n.symbols.hasOwnProperty(t))return n.symbols[t];if(t.indexOf("_")!==-1){var i=t.indexOf("_");return n.toSymbol(t.substring(0,i))+"_{"+n.toSymbol(t.substring(i+1))+"}"}return t}},{}],527:[function(t,e,n){"use strict";var r=t("./NumberFormatter");n.isNumber=function(t){return"number"==typeof t},n.isInteger=function(t){return!!isFinite(t)&&t==Math.round(t)},n.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},n.format=function(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-(1/0))return"-Infinity";if(isNaN(t))return"NaN";var r="auto",i=void 0;switch(e&&(e.notation&&(r=e.notation),n.isNumber(e)?i=e:e.precision&&(i=e.precision)),r){case"fixed":return n.toFixed(t,i);case"exponential":return n.toExponential(t,i);case"engineering":return n.toEngineering(t,i);case"auto":return n.toPrecision(t,i,e&&e.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},n.toExponential=function(t,e){return new r(t).toExponential(e)},n.toEngineering=function(t,e){return new r(t).toEngineering(e)},n.toFixed=function(t,e){return new r(t).toFixed(e)},n.toPrecision=function(t,e,n){return new r(t).toPrecision(e,n)},n.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},n.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,n.nearlyEqual=function(t,e,r){if(null==r)return t==e;if(t==e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var i=Math.abs(t-e);return i<n.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}},{"./NumberFormatter":504}],528:[function(t,e,n){"use strict";n.clone=function r(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null===t||void 0===t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map(function(t){return r(t)});if(t instanceof Number)return new Number(t.valueOf());if(t instanceof String)return new String(t.valueOf());if(t instanceof Boolean)return new Boolean(t.valueOf());if(t instanceof Date)return new Date(t.valueOf());if(t&&t.isBigNumber===!0)return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=r(t[i]));return n},n.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},n.deepExtend=function i(t,e){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n in e)if(e.hasOwnProperty(n))if(e[n]&&e[n].constructor===Object)void 0===t[n]&&(t[n]={}),t[n].constructor===Object?i(t[n],e[n]):t[n]=e[n];else{if(Array.isArray(e[n]))throw new TypeError("Arrays are not supported by deepExtend");t[n]=e[n]}return t},n.deepEqual=function(t,e){var r,i,o;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!=e.length)return!1;for(i=0,o=t.length;i<o;i++)if(!n.deepEqual(t[i],e[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!n.deepEqual(t[r],e[r]))return!1;for(r in e)if(!n.deepEqual(t[r],e[r]))return!1;return!0}return typeof t==typeof e&&t==e},n.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},n.lazy=function(t,e,r){if(n.canDefineProperty()){var i,o=!0;Object.defineProperty(t,e,{get:function(){return o&&(i=r(),o=!1),i},set:function(t){i=t,o=!1},configurable:!0,enumerable:!0})}else t[e]=r()},n.traverse=function(t,e){var n=t;if(e)for(var r=e.split("."),i=0;i<r.length;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}return n},n.isFactory=function(t){return t&&"function"==typeof t.factory}},{}],529:[function(t,e,n){"use strict";function r(t,e){if(Array.isArray(t)){for(var i="[",o=t.length,a=0;a<o;a++)0!=a&&(i+=", "),i+=r(t[a],e);return i+="]"}return n.format(t,e)}var i=t("./number").format,o=t("./bignumber/formatter").format;n.isString=function(t){return"string"==typeof t},n.endsWith=function(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e},n.format=function(t,e){if("number"==typeof t)return i(t,e);if(t&&t.isBigNumber===!0)return o(t,e);if(t&&t.isFraction===!0)return e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return r(t,e);if(n.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"==typeof t){if("function"==typeof t.format)return t.format(e);if(t&&t.toString()!=={}.toString())return t.toString();var a=[];for(var s in t)t.hasOwnProperty(s)&&a.push('"'+s+'": '+n.format(t[s],e));return"{"+a.join(", ")+"}"}return String(t)}},{"./bignumber/formatter":512,"./number":527}],530:[function(t,e,n){"use strict";n.type=function(t){var e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":"Object":"function"===e?"Function":e},n.isScalar=function(t){return!(t&&t.isMatrix||Array.isArray(t))}},{}],531:[function(t,e,n){e.exports="3.5.3"},{}],532:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){g&&d&&(g=!1,d.length?m=d.concat(m):y=-1,m.length&&u())}function u(){if(!g){var t=o(s);g=!0;for(var e=m.length;e;){for(d=m,m=[];++y<e;)d&&d[y].run();y=-1,e=m.length}d=null,g=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var f,h,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,m=[],g=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new c(t,e)),1!==m.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],533:[function(t,e,n){function r(){}r.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},e.exports=r},{}],534:[function(e,n,r){"use strict";!function(e,i){"function"==typeof t&&t.amd?t([],i):"object"==typeof r?n.exports=i():e.typed=i()}(this,function(){function t(){function e(t){for(var e,n=0;n<_.types.length;n++){var r=_.types[n];if(r.name===t){e=r.test;break}}if(!e){var i;for(n=0;n<_.types.length;n++)if(r=_.types[n],r.name.toLowerCase()==t.toLowerCase()){i=r.name;break}throw new Error('Unknown type "'+t+'"'+(i?'. Did you mean "'+i+'"?':""))}return e}function n(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(r.signatures&&""!=r.name)if(""==e)e=r.name;else if(e!=r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function r(t,e,n,r,i){var o,a=d(r),s=i?i.split(","):null,u=t||"unnamed",c=s&&m(s,"any"),l={fn:t,index:n,actual:r,expected:s};o=s?e>n&&!c?"Unexpected type of argument in function "+u+" (expected: "+s.join(" or ")+", actual: "+a+", index: "+n+")":"Too few arguments in function "+u+" (expected: "+s.join(" or ")+", index: "+n+")":"Too many arguments in function "+u+" (expected: "+n+", actual: "+e+")";var f=new TypeError(o);return f.data=l,f}function i(t){this.name=t||"refs",this.categories={}}function o(t,e){if("string"==typeof t){var n=t.trim(),r="..."===n.substr(0,3);if(r&&(n=n.substr(3)),""===n)this.types=["any"];else{this.types=n.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(t)){if(t instanceof o)return t.clone();throw new Error("String or Array expected")}this.types=t}this.conversions=[],this.varArgs=r||e||!1,this.anyType=this.types.indexOf("any")!==-1}function a(t,e){var n;if("string"==typeof t)n=""!==t?t.split(","):[];else{if(!Array.isArray(t))throw new Error("string or Array expected");n=t}this.params=new Array(n.length);for(var r=0;r<n.length;r++){var i=new o(n[r]);if(this.params[r]=i,r===n.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=e}function s(t,e,n){this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=n||[]}function u(t){var e,n,r={},i=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];if(e=new a(o,s),e.ignore())continue;var u=e.expand();for(n=0;n<u.length;n++){var c=u[n],l=c.toString(),f=r[l];if(f){var h=a.compare(c,f);if(h<0)r[l]=c;else if(0===h)throw new Error('Signature "'+l+'" is defined twice')}else r[l]=c}}for(l in r)r.hasOwnProperty(l)&&i.push(r[l]);for(i.sort(function(t,e){return a.compare(t,e)}),n=0;n<i.length;n++)if(e=i[n],e.varArgs)for(var p=e.params.length-1,d=e.params[p],g=0;g<d.types.length;){if(d.conversions[g])for(var y=d.types[g],v=0;v<i.length;v++){var x=i[v],b=x.params[p];if(x!==e&&b&&m(b.types,y)&&!b.conversions[p]){d.types.splice(g,1),d.conversions.splice(g,1),g--;break}}g++}return i}function c(t){for(var e={},n=0;n<t.length;n++){var r=t[n];if(r.fn&&!r.hasConversions()){var i=r.params.join(",");e[i]=r.fn}}return e}function l(t,e){var n,r,i,a=e.length,u=[];for(n=0;n<t.length;n++)r=t[n],r.params.length!==a||i||(i=r),void 0!=r.params[a]&&u.push(r);u.sort(function(t,e){return o.compare(t.params[a],e.params[a])});var c=[];for(n=0;n<u.length;n++){r=u[n];var f=r.params[a],h=c.filter(function(t){return t.param.overlapping(f)})[0];if(h){if(h.param.varArgs)throw new Error('Conflicting types "'+h.param+'" and "'+f+'"');h.signatures.push(r)}else c.push({param:f,signatures:[r]})}var p=new Array(c.length);for(n=0;n<c.length;n++){var d=c[n];p[n]=l(d.signatures,e.concat(d.param))}return new s(e,i,p)}function f(t){for(var e=[],n=0;n<t;n++)e[n]="arg"+n;return e}function h(t,e){var n=new i,o=u(e);if(0==o.length)throw new Error("No signatures provided");var a=l(o,[]),s=[],h=t||"",d=f(p(o));s.push("function "+h+"("+d.join(", ")+") {"),s.push('  "use strict";'),s.push("  var name = '"+h+"';"),s.push(a.toCode(n,"  ")),s.push("}");var m=[n.toCode(),"return "+s.join("\n")].join("\n"),g=new Function(n.name,"createError",m),y=g(n,r);return y.signatures=c(o),y}function p(t){for(var e=0,n=0;n<t.length;n++){var r=t[n].params.length;r>e&&(e=r)}return e}function d(t){for(var e,n=0;n<_.types.length;n++){var r=_.types[n];if("Object"===r.name)e=r;else if(r.test(t))return r.name}return e&&e.test(t)?e.name:"unknown"}function m(t,e){return t.indexOf(e)!==-1}function g(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")}function y(t,e){var n=d(t);if(e===n)return t;for(var r=0;r<_.conversions.length;r++){var i=_.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)}i.prototype.add=function(t,e){var n=e||"fn";this.categories[n]||(this.categories[n]=[]);var r=this.categories[n].indexOf(t);return r==-1&&(r=this.categories[n].length,this.categories[n].push(t)),n+r},i.prototype.toCode=function(){var t=[],e=this.name+".categories",n=this.categories;for(var r in n)if(n.hasOwnProperty(r))for(var i=n[r],o=0;o<i.length;o++)t.push("var "+r+o+" = "+e+"['"+r+"']["+o+"];");return t.join("\n")},o.compare=function(t,e){if(t.anyType)return 1;if(e.anyType)return-1;if(m(t.types,"Object"))return 1;if(m(e.types,"Object"))return-1;if(t.hasConversions()){if(e.hasConversions()){var n,r,i;for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){r=t.conversions[n];break}for(n=0;n<e.conversions.length;n++)if(void 0!==e.conversions[n]){i=e.conversions[n];break}return _.conversions.indexOf(r)-_.conversions.indexOf(i)}return 1}if(e.hasConversions())return-1;var o,a;for(n=0;n<_.types.length;n++)if(_.types[n].name===t.types[0]){o=n;break}for(n=0;n<_.types.length;n++)if(_.types[n].name===e.types[0]){a=n;break}return o-a},o.prototype.overlapping=function(t){for(var e=0;e<this.types.length;e++)if(m(t.types,this.types[e]))return!0;return!1},o.prototype.clone=function(){var t=new o(this.types.slice(),this.varArgs);return t.conversions=this.conversions.slice(),t},o.prototype.hasConversions=function(){return this.conversions.length>0},o.prototype.contains=function(t){for(var e=0;e<this.types.length;e++)if(t[this.types[e]])return!0;return!1},o.prototype.toString=function(t){for(var e=[],n={},r=0;r<this.types.length;r++){var i=this.conversions[r],o=t&&i?i.to:this.types[r];o in n||(n[o]=!0,e.push(o))}return(this.varArgs?"...":"")+e.join("|")},a.prototype.clone=function(){return new a(this.params.slice(),this.fn)},a.prototype.expand=function(){function t(n,r){if(r.length<n.params.length){var i,s,u,c=n.params[r.length];if(c.varArgs){for(s=c.clone(),i=0;i<_.conversions.length;i++)if(u=_.conversions[i],!m(c.types,u.from)&&m(c.types,u.to)){var l=s.types.length;s.types[l]=u.from,s.conversions[l]=u}t(n,r.concat(s))}else{for(i=0;i<c.types.length;i++)t(n,r.concat(new o(c.types[i])));for(i=0;i<_.conversions.length;i++)u=_.conversions[i],!m(c.types,u.from)&&m(c.types,u.to)&&(s=new o(u.from),s.conversions[0]=u,t(n,r.concat(s)))}}else e.push(new a(r,n.fn))}var e=[];return t(this,[]),e},a.compare=function(t,e){if(t.params.length>e.params.length)return 1;if(t.params.length<e.params.length)return-1;var n,r=t.params.length,i=0,a=0;for(n=0;n<r;n++)t.params[n].hasConversions()&&i++,e.params[n].hasConversions()&&a++;if(i>a)return 1;if(i<a)return-1;for(n=0;n<t.params.length;n++){var s=o.compare(t.params[n],e.params[n]);if(0!==s)return s}return 0},a.prototype.hasConversions=function(){for(var t=0;t<this.params.length;t++)if(this.params[t].hasConversions())return!0;return!1},a.prototype.ignore=function(){for(var t={},e=0;e<_.ignore.length;e++)t[_.ignore[e]]=!0;for(e=0;e<this.params.length;e++)if(this.params[e].contains(t))return!0;return!1},a.prototype.toCode=function(t,e){for(var n=[],r=new Array(this.params.length),i=0;i<this.params.length;i++){var o=this.params[i],a=o.conversions[0];o.varArgs?r[i]="varArgs":a?r[i]=t.add(a.convert,"convert")+"(arg"+i+")":r[i]="arg"+i}var s=this.fn?t.add(this.fn,"signature"):void 0;return s?e+"return "+s+"("+r.join(", ")+"); // signature: "+this.params.join(", "):n.join("\n")},a.prototype.toString=function(){return this.params.join(", ")},s.prototype.toCode=function(t,n,r){var i=[];if(this.param){var o=this.path.length-1,a=this.param.conversions[0],s="// type: "+(a?a.from+" (convert to "+a.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)i.push(n+"if (arguments.length > "+o+") {"),i.push(n+"  var varArgs = [];"),i.push(n+"  for (var i = "+o+"; i < arguments.length; i++) {"),i.push(n+"    varArgs.push(arguments[i]);"),i.push(n+"  }"),i.push(this.signature.toCode(t,n+"  ")),i.push(n+"}");else{for(var u=function(n,r){for(var i=[],o=0;o<n.length;o++)i[o]=t.add(e(n[o]),"test")+"("+r+")";return i.join(" || ")}.bind(this),c=this.param.types,l=[],f=0;f<c.length;f++)void 0===this.param.conversions[f]&&l.push(c[f]);i.push(n+"if ("+u(c,"arg"+o)+") { "+s),i.push(n+"  var varArgs = [arg"+o+"];"),i.push(n+"  for (var i = "+(o+1)+"; i < arguments.length; i++) {"),i.push(n+"    if ("+u(l,"arguments[i]")+") {"),i.push(n+"      varArgs.push(arguments[i]);");for(var f=0;f<c.length;f++){var h=this.param.conversions[f];if(h){var p=t.add(e(c[f]),"test"),d=t.add(h.convert,"convert");i.push(n+"    }"),i.push(n+"    else if ("+p+"(arguments[i])) {"),i.push(n+"      varArgs.push("+d+"(arguments[i]));")}}i.push(n+"    } else {"),i.push(n+"      throw createError(name, arguments.length, i, arguments[i], '"+l.join(",")+"');"),i.push(n+"    }"),i.push(n+"  }"),i.push(this.signature.toCode(t,n+"  ")),i.push(n+"}")}else if(this.param.anyType)i.push(n+"// type: any"),i.push(this._innerCode(t,n,r));else{var m=this.param.types[0],p="any"!==m?t.add(e(m),"test"):null;i.push(n+"if ("+p+"(arg"+o+")) { "+s),i.push(this._innerCode(t,n+"  ",r)),i.push(n+"}")}}else i.push(this._innerCode(t,n,r));return i.join("\n")},s.prototype._innerCode=function(t,e,n){var r,i=[];this.signature&&(i.push(e+"if (arguments.length === "+this.path.length+") {"),i.push(this.signature.toCode(t,e+"  ")),i.push(e+"}"));var o;for(r=0;r<this.childs.length;r++)if(this.childs[r].param.anyType){o=this.childs[r];break}for(r=0;r<this.childs.length;r++)i.push(this.childs[r].toCode(t,e,o));n&&!this.param.anyType&&i.push(n.toCode(t,e,o));var a=this._exceptions(t,e);return a&&i.push(a),i.join("\n")},s.prototype._exceptions=function(t,e){var n=this.path.length;if(0===this.childs.length)return[e+"if (arguments.length > "+n+") {",e+"  throw createError(name, arguments.length, "+n+", arguments["+n+"]);",e+"}"].join("\n");for(var r={},i=[],o=0;o<this.childs.length;o++){var a=this.childs[o];if(a.param)for(var s=0;s<a.param.types.length;s++){var u=a.param.types[s];u in r||a.param.conversions[s]||(r[u]=!0,i.push(u))}}return e+"throw createError(name, arguments.length, "+n+", arguments["+n+"], '"+i.join(",")+"');"};var v=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],x={},b=[],w=[],_={config:x,types:v,conversions:b,ignore:w};return _=h("typed",{Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);var i=n(e);return h(i,t)},"string, Object":h,"...Function":function(t){for(var e,r=n(t),i={},o=0;o<t.length;o++){var a=t[o];if("object"!=typeof a.signatures)throw e=new TypeError("Function is no typed-function (index: "+o+")"),e.data={index:o},e;for(var s in a.signatures)if(a.signatures.hasOwnProperty(s))if(i.hasOwnProperty(s)){if(a.signatures[s]!==i[s])throw e=new Error('Signature "'+s+'" is defined twice'),e.data={signature:s},e}else i[s]=a.signatures[s]}return h(r,i)}}),_.config=x,_.types=v,_.conversions=b,_.ignore=w,_.create=t,_.find=g,_.convert=y,_.addType=function(t){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");_.types.push(t)},_.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");_.conversions.push(t)},_}return t()})},{}],535:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],536:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],537:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){
var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&O(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return x(i)||(i=u(t,i,r)),i}var o=c(t,e);if(o)return o;var a=Object.keys(e),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),E(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(e);if(0===a.length){if(O(e)){var g=e.name?": "+e.name:"";return t.stylize("[Function"+g+"]","special")}if(_(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(M(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E(e))return l(e)}var y="",v=!1,b=["{","}"];if(d(e)&&(v=!0,b=["[","]"]),O(e)){var w=e.name?": "+e.name:"";y=" [Function"+w+"]"}if(_(e)&&(y=" "+RegExp.prototype.toString.call(e)),M(e)&&(y=" "+Date.prototype.toUTCString.call(e)),E(e)&&(y=" "+l(e)),0===a.length&&(!v||0==e.length))return b[0]+y+b[1];if(r<0)return _(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var N;return N=v?f(t,e,r,m,a):a.map(function(n){return h(t,e,r,m,n,v)}),t.seen.pop(),p(N,y,b)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(x(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)T(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=g(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return null==t}function v(t){return"number"==typeof t}function x(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function _(t){return N(t)&&"[object RegExp]"===S(t)}function N(t){return"object"==typeof t&&null!==t}function M(t){return N(t)&&"[object Date]"===S(t)}function E(t){return N(t)&&("[object Error]"===S(t)||t instanceof Error)}function O(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function S(t){return Object.prototype.toString.call(t)}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var k=/%[sdj%]/g;n.format=function(t){if(!x(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(k,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])a+=g(s)||!N(s)?" "+s:" "+i(s);return a},n.deprecate=function(t,i){function o(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation,a=!0}return t.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return o};var C,P={};n.debuglog=function(t){if(w(C)&&(C=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(C)){e.pid;P[t]=function(){n.format.apply(n,arguments)}}else P[t]=function(){};return P[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=y,n.isNumber=v,n.isString=x,n.isSymbol=b,n.isUndefined=w,n.isRegExp=_,n.isObject=N,n.isDate=M,n.isError=E,n.isFunction=O,n.isPrimitive=A,n.isBuffer=t("./support/isBuffer");n.log=function(){},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!N(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":536,_process:532,inherits:535}],538:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.App=n.AppConfig=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=r(a),u=t("./i18n/i18n"),c=t("./utils"),l=t("./model/index"),f=(r(l),t("./objective/objective-rules-manager")),h=t("./validation/tree-validator"),p=t("./tree-designer/tree-designer"),d=t("./data-model"),m=t("./templates"),g=t("./sidebar"),y=t("./toolbar"),v=t("./expression-engine"),x=t("./settings-dialog"),b=t("./objective/expected-value-maximization-rule"),w=n.AppConfig=function _(t){i(this,_),this.width=void 0,this.height=void 0,this.rule=b.ExpectedValueMaximizationRule.NAME,this.lng="en",this.format={payoff:{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0},probability:{minimumFractionDigits:2,maximumFractionDigits:3}},t&&c.Utils.deepExtend(this,t)};n.App=function(){function t(e,n){i(this,t),this.setConfig(n),this.initI18n(),this.initContainer(e),this.initDataModel(),this.initExpressionEngine(),this.initTreeValidator(),this.initObjectiveRulesManager(),this.initPayoffNumberFormat(),this.initTreeDesigner(),this.initSidebar(),this.initSettingsDialog(),this.initToolbar(),this.initOnBeforeUnload()}return o(t,[{key:"setConfig",value:function(t){return t?this.config=new w(t):this.config=new w,this}},{key:"initContainer",value:function(t){this.container=s.select("#"+t),this.container.html(m.Templates.get("main"))}},{key:"initI18n",value:function(){u.i18n.init(this.config.lng)}},{key:"initDataModel",value:function(){var t=this;this.dataModel=new d.DataModel,this.dataModel.nodeAddedCallback=this.dataModel.nodeRemovedCallback=function(e){return c.Utils.waitForFinalEvent(function(){return t.onNodeAddedOrRemoved()},"onNodeAddedOrRemoved")}}},{key:"initExpressionEngine",value:function(){this.expressionEngine=new v.ExpressionEngine(this.dataModel.expressionScope)}},{key:"initTreeValidator",value:function(){this.treeValidator=new h.TreeValidator(this.expressionEngine)}},{key:"initObjectiveRulesManager",value:function(){this.objectiveRulesManager=new f.ObjectiveRulesManager(this.config.rule,this.dataModel,this.expressionEngine),this.checkValidityAndRecomputeObjective()}},{key:"initSidebar",value:function(){this.sidebar=new g.Sidebar(this.container.select("#sidebar"),this)}},{key:"initSettingsDialog",value:function(){this.settingsDialog=new x.SettingsDialog(this)}},{key:"initToolbar",value:function(){this.toolbar=new y.Toolbar(this.container.select("#toolbar"),this)}},{key:"initPayoffNumberFormat",value:function(){this.payoffNumberFormat=new Intl.NumberFormat([],this.config.format.payoff)}},{key:"initTreeDesigner",value:function(){var t=this,e={rule:t.config.rule,onNodeSelected:function(e){t.onObjectSelected(e)},onEdgeSelected:function(e){t.onObjectSelected(e)},onSelectionCleared:function(){t.onSelectionCleared()},payoffNumberFormatter:function(e){return t.payoffNumberFormat.format(e)}};this.treeDesigner=new p.TreeDesigner(this.container.select("#tree-designer-container"),this.dataModel,e)}},{key:"onObjectSelected",value:function(t){var e=this;this.selectedObject!==t&&(this.selectedObject=t,setTimeout(function(){e.sidebar.updateObjectPropertiesView(e.selectedObject),e.treeDesigner.updatePlottingRegionSize()},10))}},{key:"onSelectionCleared",value:function(){var t=this;this.selectedObject=null,this.sidebar.hideObjectProperties(),setTimeout(function(){t.treeDesigner.updatePlottingRegionSize()},10)}},{key:"updateView",value:function(){this.treeDesigner.redraw(!0),this.sidebar.updateObjectPropertiesView(this.selectedObject),this.toolbar.update(),this.sidebar.updateLayoutOptions()}},{key:"undo",value:function(){var t=this;t.dataModel.undo(),t.selectedObject&&(t.selectedObject=t.dataModel.findById(t.selectedObject.$id)),this.checkValidityAndRecomputeObjective(),t.updateView()}},{key:"redo",value:function(){var t=this;t.dataModel.redo(),t.selectedObject&&(t.selectedObject=t.dataModel.findById(t.selectedObject.$id)),this.checkValidityAndRecomputeObjective(),t.updateView()}},{key:"onNodeAddedOrRemoved",value:function(){this.checkValidityAndRecomputeObjective(),this.updateView()}},{key:"onObjectUpdated",value:function(t){this.checkValidityAndRecomputeObjective(),this.treeDesigner.redraw(!0)}},{key:"checkValidityAndRecomputeObjective",value:function(){var t=this;this.validationResults=[],this.dataModel.getRoots().forEach(function(e){var n=t.treeValidator.validate(t.dataModel.getAllNodesInSubtree(e));t.validationResults.push(n),n.isValid()?t.objectiveRulesManager.recomputeTree(e):t.objectiveRulesManager.clearTree(e)}),this.updateValidationMessages()}},{key:"updateValidationMessages",value:function(){var t=this;this.treeDesigner?t.treeDesigner.updateValidationMessages(t.validationResults):setTimeout(function(){t.treeDesigner.updateValidationMessages(t.validationResults)},1)}},{key:"newDiagram",value:function(){this.dataModel.clear(),this.updateView()}},{key:"openDiagram",value:function(t){t.lng&&(this.config.lng=t.lng),t.rule&&(this.config.rule=t.rule),t.format&&(this.config.format=t.format),this.setConfig(this.config),this.dataModel.clear(),this.dataModel.load(t.trees),this.updatePayoffNumberFormat(),this.updateView()}},{key:"serialize",value:function(t,e){var n=this,r={lng:n.config.lng,rule:n.objectiveRulesManager.currentRule.name,format:n.config.format,trees:n.dataModel.getRoots()};return JSON.stringify(r,function(r,i){if(!r.startsWith("$")&&"parentNode"!=r&&!(t&&"location"==r||e&&"computed"==r))return null!==i&&void 0!==i&&i.mathjs?n.expressionEngine.serialize(i):i},2)}},{key:"updatePayoffNumberFormat",value:function(){this.initPayoffNumberFormat(),this.updateView()}},{key:"initOnBeforeUnload",value:function(){var t=this;window.addEventListener("beforeunload",function(e){if(t.dataModel.isUndoAvailable()||t.dataModel.isRedoAvailable()){var n=u.i18n.t("confirm.beforeunload");return e.returnValue=n,n}})}}]),t}()},{"./d3":541,"./data-model":542,"./expression-engine":544,"./i18n/i18n":547,"./model/index":550,"./objective/expected-value-maximization-rule":557,"./objective/objective-rules-manager":559,"./settings-dialog":560,"./sidebar":561,"./templates":562,"./toolbar":563,"./tree-designer/tree-designer":569,"./utils":570,"./validation/tree-validator":573}],539:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ContextMenu=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=r(a);n.ContextMenu=function(){function t(e,n){i(this,t);var r=this;return"function"==typeof n?r.openCallback=n:(n=n||{},r.openCallback=n.onOpen,r.closeCallback=n.onClose),s.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),s.select("body").on("click.d3-context-menu",function(){s.select(".d3-context-menu").style("display","none"),r.closeCallback&&r.closeCallback()}),function(t,n){var i=this;s.selectAll(".d3-context-menu").html("");var o=s.selectAll(".d3-context-menu").on("contextmenu",function(t){s.select(".d3-context-menu").style("display","none"),s.event.preventDefault(),s.event.stopPropagation()}).append("ul");o.selectAll("li").data("function"==typeof e?e(t):e).enter().append("li").attr("class",function(t){var e="";return t.divider&&(e+=" is-divider"),t.disabled&&(e+=" is-disabled"),t.action||(e+=" is-header"),e}).html(function(e){return e.divider?"<hr>":(!e.title,"string"==typeof e.title?e.title:e.title(t))}).on("click",function(e,o){e.disabled||e.action&&(e.action(i,t,n),s.select(".d3-context-menu").style("display","none"),r.closeCallback&&r.closeCallback())}),r.openCallback&&r.openCallback(t,n)===!1||(s.select(".d3-context-menu").style("left",s.event.pageX-2+"px").style("top",s.event.pageY-2+"px").style("display","block"),s.event.preventDefault(),s.event.stopPropagation())}}return o(t,null,[{key:"hide",value:function(){s.select(".d3-context-menu").style("display","none")}}]),t}()},{"./d3":541}],540:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.D3Extensions=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./utils"),s=t("./d3"),u=r(s);n.D3Extensions=function(){function t(){i(this,t)}return o(t,null,[{key:"extend",value:function(){u.selection.prototype.enter.prototype.insertSelector=u.selection.prototype.insertSelector=function(t,e){return a.Utils.insertSelector(this,t,e)},u.selection.prototype.enter.prototype.appendSelector=u.selection.prototype.appendSelector=function(t){return a.Utils.appendSelector(this,t)},u.selection.prototype.enter.prototype.selectOrAppend=u.selection.prototype.selectOrAppend=function(t){return a.Utils.selectOrAppend(this,t)},u.selection.prototype.enter.prototype.selectOrInsert=u.selection.prototype.selectOrInsert=function(t,e){return a.Utils.selectOrInsert(this,t,e)}}}]),t}()},{"./d3":541,"./utils":570}],541:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-dispatch");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("d3-scale");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("d3-selection");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("d3-shape");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var s=t("d3-drag");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var u=t("d3-brush");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var c=t("d3-array");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})});var l=t("d3-hierarchy");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}})})},{"d3-array":3,"d3-brush":4,"d3-dispatch":7,"d3-drag":8,"d3-hierarchy":11,"d3-scale":14,"d3-selection":15,"d3-shape":16}],542:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DataModel=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("./utils"),u=t("./model/index"),c=r(u),l=t("lodash"),f=r(l);n.DataModel=function(){function t(){o(this,t),this.nodes=[],this.edges=[],this.expressionScope={},this.maxStackSize=15,this.undoStack=[],this.redoStack=[],this.undoRedoStateChangedCallback=null,this.nodeAddedCallback=null,this.nodeRemovedCallback=null}return a(t,[{key:"load",value:function(t){var e=this;t.forEach(function(t){e.createNodeFromData(t)})}},{key:"createNodeFromData",value:function(t,e){var n,r=this,i=new c.Point(t.location.x,t.location.y);c.DecisionNode.$TYPE==t.type?n=new c.DecisionNode(i):c.ChanceNode.$TYPE==t.type?n=new c.ChanceNode(i):c.TerminalNode.$TYPE==t.type&&(n=new c.TerminalNode(i)),n.name=t.name;var o=this.addNode(n,e);return t.childEdges.forEach(function(t){var e=r.createNodeFromData(t.childNode,n);e.payoff=t.payoff,e.probability=t.probability,e.name=t.name}),o}},{key:"addNode",value:function(t,e){var n=this;if(n.nodes.push(t),e){var r=n._addChild(e,t);return this._fireNodeAddedCallback(t),r}return this._fireNodeAddedCallback(t),t}},{key:"_addChild",value:function(t,e){var n=this,r=new c.Edge(t,e);return n._setEdgeInitialProbability(r),n.edges.push(r),t.childEdges.push(r),e.$parent=t,r}},{key:"_setEdgeInitialProbability",value:function(t){t.parentNode instanceof c.ChanceNode?0==t.parentNode.childEdges.length?t.probability=1:t.probability=0:t.probability=void 0}},{key:"removeNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;t.childEdges.forEach(function(t){return n.removeNode(t.childNode,e+1)}),n._removeNode(t);var r=t.$parent;if(r){var i=r.childEdges.find(function(e,n){return e.childNode===t});0==e?n.removeEdge(i):n._removeEdge(i)}this._fireNodeRemovedCallback(t)}},{key:"removeNodes",value:function(t){var e=this,n=this.findSubtreeRoots(t);n.forEach(function(t){return e.removeNode(t,0)},this)}},{key:"getRoots",value:function(){return this.nodes.filter(function(t){return!t.$parent})}},{key:"findSubtreeRoots",value:function(t){return t.filter(function(e){return!e.$parent||t.indexOf(e.$parent)===-1})}},{key:"cloneSubtree",value:function(t){var e=this,n=this.cloneNode(t);return t.childEdges.forEach(function(t){var r=e.cloneSubtree(t.childNode);r.$parent=n;var i=new c.Edge(n,r,t.name,t.payoff,t.probability);n.childEdges.push(i)}),n}},{key:"attachSubtree",value:function(t,e){var n=this;n.addNode(t,e);var r=n.getAllDescendantEdges(t);return r.forEach(function(t){n.edges.push(t),n.nodes.push(t.childNode)}),t}},{key:"cloneNodes",value:function(t){}},{key:"cloneNode",value:function(t){var e=f.clone(t);return e.$id=s.Utils.guid(),e.location=f.clone(t.location),e.computed=f.clone(t.computed),e.$parent=null,e.childEdges=[],e}},{key:"findNodeById",value:function(t){return this.nodes.find(function(e){return e.$id==t})}},{key:"findEdgeById",value:function(t){return this.edges.find(function(e){return e.$id==t})}},{key:"findById",value:function(t){var e=this.findNodeById(t);return e?e:this.findEdgeById(t)}},{key:"_removeNode",value:function(t){var e=this.nodes.indexOf(t);e>-1&&this.nodes.splice(e,1)}},{key:"removeEdge",value:function(t){var e=t.parentNode.childEdges.indexOf(t);e>-1&&t.parentNode.childEdges.splice(e,1),this._removeEdge(t)}},{key:"_removeEdge",value:function(t){var e=this.edges.indexOf(t);e>-1&&this.edges.splice(e,1)}},{key:"_removeNodes",value:function(t){this.nodes=this.nodes.filter(function(e){return t.indexOf(e)===-1})}},{key:"_removeEdges",value:function(t){this.edges=this.edges.filter(function(e){return t.indexOf(e)===-1})}},{key:"getAllDescendantEdges",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){n.push(t),t.childNode&&n.push.apply(n,i(e.getAllDescendantEdges(t.childNode)))}),n}},{key:"getAllDescendantNodes",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){t.childNode&&(n.push(t.childNode),n.push.apply(n,i(e.getAllDescendantNodes(t.childNode))))}),n}},{key:"getAllNodesInSubtree",value:function(t){var e=this.getAllDescendantNodes(t);return e.unshift(t),e}},{key:"isUndoAvailable",value:function(){return!!this.undoStack.length}},{key:"isRedoAvailable",value:function(){return!!this.redoStack.length}},{key:"saveState",value:function(t){return this.redoStack.length=0,this._pushToStack(this.undoStack,{revertConf:t,nodes:f.cloneDeep(this.nodes),edges:f.cloneDeep(this.edges)}),this._fireUndoRedoCallback(),this}},{key:"undo",value:function(){var t=this,e=this.undoStack.pop();if(e)return this._pushToStack(this.redoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges}),this._setNewState(e),this._fireUndoRedoCallback(),this}},{key:"redo",value:function(){var t=this,e=this.redoStack.pop();if(e)return this._pushToStack(this.undoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges}),this._setNewState(e,!0),this._fireUndoRedoCallback(),this}},{key:"clear",value:function(){this.nodes.length=0,this.edges.length=0,this.undoStack.length=0,this.redoStack.length=0}},{key:"_setNewState",value:function(t,e){var n=s.Utils.getObjectByIdMap(t.nodes),r=s.Utils.getObjectByIdMap(t.edges);this.nodes=t.nodes,this.edges=t.edges,this.nodes.forEach(function(t){for(var e=0;e<t.childEdges.length;e++){var i=r[t.childEdges[e].$id];t.childEdges[e]=i,i.parentNode=t,i.childNode=n[i.childNode.$id]}}),t.revertConf&&(!e&&t.revertConf.onUndo&&t.revertConf.onUndo(t.revertConf.data),e&&t.revertConf.onRedo&&t.revertConf.onRedo(t.revertConf.data)),this.revertConf=t.revertConf}},{key:"_pushToStack",value:function(t,e){t.length>=this.maxStackSize&&t.shift(),t.push(e)}},{key:"_fireUndoRedoCallback",value:function(){this.undoRedoStateChangedCallback&&this.undoRedoStateChangedCallback()}},{key:"_fireNodeAddedCallback",value:function(t){this.nodeAddedCallback&&this.nodeAddedCallback(t)}},{key:"_fireNodeRemovedCallback",value:function(t){this.nodeRemovedCallback&&this.nodeRemovedCallback(t)}}]),t}()},{"./model/index":550,"./utils":570,lodash:40}],543:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Exporter=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("blueimp-canvas-to-blob"),a=t("file-saver"),s=n.Exporter=function(){function t(){r(this,t)}return i(t,null,[{key:"getSVGString",value:function(t){function e(t,n){for(var r="",i=getComputedStyle(t),o=0;o<i.length;o++)r+="; "+i.item(o)+": "+i.getPropertyValue(i.item(o));n.setAttribute("style",r);for(var o=0;o<t.children.length;o++){var a=t.children[o];e(a,n.children[o])}}var n=t.cloneNode(!0);e(t,n),n.setAttribute("xlink","http://www.w3.org/1999/xlink");var r=new XMLSerializer,i=r.serializeToString(n);return i=i.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),i=i.replace(/NS\d+:href/g,"xlink:href")}},{key:"svgString2Image",value:function(t,e,n,r,i){var o="data:image/svg+xml,"+encodeURIComponent(t),a=document.createElement("canvas"),s=a.getContext("2d");a.width=e,a.height=n;var u=new Image;u.width=e,u.height=n;var c=new Image;c.width=e,c.height=n,u.onload=function(){s.clearRect(0,0,e,n),s.drawImage(u,0,0,e,n),a.toBlob(function(t){var e=Math.round(t.length/1024)+" KB";i&&i(t,e)})},u.src=o}}]),t}();s.saveAs=a.saveAs,s.dataURLtoBlob=o.dataURLtoBlob},{"blueimp-canvas-to-blob":1,"file-saver":22}],544:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ExpressionEngine=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("mathjs"),s=r(a),u=t("./utils");n.ExpressionEngine=function(){function t(e){i(this,t),this.parser=s.parser(),this.parser.scope=e}return o(t,[{key:"eval",value:function(t){return this.parser.eval(t+"")}},{key:"validate",value:function(t){if(null===t||void 0===t)return!1;try{var e=s.compile(t),n=e.eval(this.parser.scope);return u.Utils.isNumeric(n)}catch(n){return!1}}},{key:"serialize",value:function(t){return s.fraction(t).toFraction(!0)}}],[{key:"add",value:function(t,e){return s.add(s.fraction(t),s.fraction(e))}},{key:"subtract",value:function(t,e){return s.subtract(s.fraction(t),s.fraction(e))}},{key:"divide",value:function(t,e){return s.divide(s.fraction(t),s.fraction(e))}},{key:"multiply",value:function(t,e){return s.multiply(s.fraction(t),s.fraction(e))}}]),t}()},{"./utils":570,mathjs:42}],545:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n.FileLoader=function(){function t(){r(this,t)}return i(t,null,[{key:"openFile",value:function(t){function e(){function e(e){var r=JSON.parse(e.target.result);t(r),n.value=null}var r,i;"function"==typeof window.FileReader&&(n=document.getElementById("sd-file-input"),n.files&&n.files[0]&&(r=n.files[0],i=new FileReader,i.onload=e,i.readAsText(r)))}var n=document.getElementById("sd-file-input");n.onchange=e,n.click()}}]),t}()},{}],546:[function(t,e,n){"use strict";e.exports={toolbar:{newDiagram:"New diagram",openDiagram:"Open existing diagram",saveDiagram:"Save current diagram","export":{label:"Export to",png:"Png",svg:"Svg"},layout:{label:"Layout",manual:"Manual",tree:"Tree",cluster:"Cluster"},undo:"Undo",redo:"Redo",settings:"Settings"},node:{name:"Label"},edge:{name:"Label",payoff:"Payoff",probability:"Probability"},settingsDialog:{title:"Settings",payoff:{title:"Payoff number format",currency:"Currency",minimumFractionDigits:"Minimum fraction digits",maximumFractionDigits:"Maximum fraction digits"}},layoutOptions:{header:"Auto Layout",gridWidth:"Width",gridHeight:"Height"},validation:{incompletePath:"Path not ending with terminal node",probabilityDoNotSumUpTo1:"Probabilities do not sum up to 1"},confirm:{newDiagram:"Do you really want to clear current diagram? All unsaved data will be lost.",openDiagram:"Are you sure? All unsaved diagram data will be lost.",beforeunload:"Are you sure you want to close Silver Decisions? All unsaved diagram data will be lost."}}},{}],547:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.i18n=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("i18next"),u=i(s),c=t("./en"),l=r(c);n.i18n=function(){function t(){o(this,t)}return a(t,null,[{key:"init",value:function(t){u["default"].init({lng:t,resources:{en:{translation:l}}},function(t,e){})}},{key:"t",value:function(t){return u["default"].t(t)}}]),t}()},{"./en":546,i18next:39}],548:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.App=void 0;var r=t("./app");Object.defineProperty(n,"App",{enumerable:!0,get:function(){return r.App}});var i=t("./d3-extensions");i.D3Extensions.extend()},{"./app":538,"./d3-extensions":540}],549:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Edge=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("./object-with-id-and-computed-values");n.Edge=function(t){function e(t,n,o,a,s){r(this,e);var u=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return u.name="",u.probability=void 0,u.payoff=0,u.parentNode=t,u.childNode=n,void 0!==o&&(u.name=o),void 0!==s&&(u.probability=s),void 0!==a&&(u.payoff=a),u}return o(e,t),a(e,[{key:"setName",value:function(t){return this.name=t,this}},{key:"setProbability",value:function(t){return this.probability=t,this}},{key:"setPayoff",value:function(t){return this.payoff=t,this}}]),e}(s.ObjectWithIdAndComputedValues)},{"./object-with-id-and-computed-values":555}],550:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./node/node");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("./node/decision-node");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./node/chance-node");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("./node/terminal-node");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,
get:function(){return a[t]}})});var s=t("./edge");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var u=t("./point");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})})},{"./edge":549,"./node/chance-node":551,"./node/decision-node":552,"./node/node":553,"./node/terminal-node":554,"./point":556}],551:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ChanceNode=void 0;var s=t("./node"),u=t("../../d3"),c=r(u),l=n.ChanceNode=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,c.symbolCircle,t))}return a(e,t),e}(s.Node);l.$TYPE="chance"},{"../../d3":541,"./node":553}],552:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.DecisionNode=void 0;var s=t("./node"),u=t("../../d3"),c=r(u),l=n.DecisionNode=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,c.symbolSquare,t))}return a(e,t),e}(s.Node);l.$TYPE="decision"},{"../../d3":541,"./node":553}],553:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Node=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../point"),u=t("../object-with-id-and-computed-values");n.Node=function(t){function e(t,n,o){r(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.childEdges=[],a.name="",a.location=o,o||(a.location=new s.Point(0,0)),a.type=t,a.$symbol=n,a}return o(e,t),a(e,[{key:"setName",value:function(t){return this.name=t,this}},{key:"moveTo",value:function(t,e,n){if(n){var r=t-this.location.x,i=e-this.location.y;this.childEdges.forEach(function(t){return t.childNode.move(r,i,!0)})}return this.location.moveTo(t,e),this}},{key:"move",value:function(t,e,n){return n&&this.childEdges.forEach(function(n){return n.childNode.move(t,e,!0)}),this.location.move(t,e),this}}]),e}(u.ObjectWithIdAndComputedValues)},{"../object-with-id-and-computed-values":555,"../point":556}],554:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TerminalNode=void 0;var s=t("./node"),u=t("../../d3"),c=r(u),l=n.TerminalNode=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,c.symbolTriangle,t))}return a(e,t),e}(s.Node);l.$TYPE="terminal"},{"../../d3":541,"./node":553}],555:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithIdAndComputedValues=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("../utils"),s=t("lodash"),u=r(s);n.ObjectWithIdAndComputedValues=function(){function t(){i(this,t),this.computed={},this.$id=a.Utils.guid()}return o(t,[{key:"computedValue",value:function(t,e,n){return void 0===n?u.get(this,"computed."+t+"."+e,null):(u.set(this,"computed."+t+"."+e,n),n)}},{key:"clearComputedValues",value:function(t){return void 0==t?void(this.computed={}):void(this.computed[t]={})}}]),t}()},{"../utils":570,lodash:40}],556:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n.Point=function(){function t(e,n){r(this,t),e instanceof t?(n=e.y,e=e.x):Array.isArray(e)&&(n=e[1],e=e[0]),this.x=e,this.y=n}return i(t,[{key:"moveTo",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x=t,this.y=e,this}},{key:"move",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x+=t,this.y+=e,this}}]),t}()},{}],557:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ExpectedValueMaximizationRule=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=(t("../utils"),t("../model/index")),c=r(u),l=t("./objective-rule"),f=n.ExpectedValueMaximizationRule=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.NAME,t))}return a(e,t),s(e,[{key:"computePayoff",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n=this.eval(n);var i=0;if(t.childEdges.length){if(t instanceof c.DecisionNode){var o=-99999999999;t.childEdges.forEach(function(t){var n=e.computePayoff(t.childNode,t.payoff,e.add(t.payoff,r));o=Math.max(o,n)}),t.childEdges.forEach(function(t){e.clearComputedValues(t),e.cValue(t,"probability",e.cValue(t.childNode,"payoff")<o?0:1)})}else t.childEdges.forEach(function(t){e.computePayoff(t.childNode,t.payoff,e.add(t.payoff,r)),e.clearComputedValues(t),e.cValue(t,"probability",e.eval(t.probability))});var a=0;t.childEdges.forEach(function(t){a=e.add(a,e.cValue(t,"probability"))}),t.childEdges.forEach(function(t){i=e.add(i,e.multiply(e.cValue(t,"probability"),e.cValue(t.childNode,"payoff")).div(a))})}return n=this.add(n,i),this.clearComputedValues(t),t instanceof c.TerminalNode?(this.cValue(t,"aggregatedPayoff",r),this.cValue(t,"probabilityToEnter",0)):this.cValue(t,"childrenPayoff",i),this.cValue(t,"payoff",n)}},{key:"computeOptimal",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.cValue(t,"optimal",!0),t instanceof c.TerminalNode&&this.cValue(t,"probabilityToEnter",r),t.childEdges.forEach(function(i){!e.subtract(e.cValue(t,"payoff"),n).equals(e.cValue(i.childNode,"payoff"))&&t instanceof c.DecisionNode?e.cValue(i,"optimal",!1):(e.cValue(i,"optimal",!0),e.computeOptimal(i.childNode,i.payoff,e.multiply(r,e.cValue(i,"probability"))))})}}]),e}(l.ObjectiveRule);f.NAME="expected-value-maximization"},{"../model/index":550,"../utils":570,"./objective-rule":558}],558:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectiveRule=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("lodash"),s=(r(a),t("mathjs")),u=r(s),c=t("../expression-engine");n.ObjectiveRule=function(){function t(e,n){i(this,t),this.name=e,this.expressionEngine=n,u.config({number:"Fraction"})}return o(t,[{key:"computePayoff",value:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;throw"computePayoff function not implemented for rule: "+this.name}},{key:"computeOptimal",value:function(t){throw"computeOptimal function not implemented for rule: "+this.name}},{key:"cValue",value:function(t,e,n){return t.computedValue(this.name,e,n)}},{key:"clearComputedValues",value:function(t){t.clearComputedValues(this.name)}},{key:"eval",value:function(t){return this.expressionEngine.eval(t)}},{key:"add",value:function(t,e){return c.ExpressionEngine.add(t,e)}},{key:"subtract",value:function(t,e){return c.ExpressionEngine.subtract(t,e)}},{key:"divide",value:function(t,e){return c.ExpressionEngine.divide(t,e)}},{key:"multiply",value:function(t,e){return c.ExpressionEngine.multiply(t,e)}}]),t}()},{"../expression-engine":544,lodash:40,mathjs:42}],559:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectiveRulesManager=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./expected-value-maximization-rule");n.ObjectiveRulesManager=function(){function t(e,n,i){r(this,t),this.ruleByName={},this.data=n,this.expressionEngine=i;var a=new o.ExpectedValueMaximizationRule(i);this.ruleByName[a.name]=a,this.currentRule=this.ruleByName[e]}return i(t,[{key:"recompute",value:function(){var t=this;return this.data.getRoots().forEach(function(e){t.recomputeTree(e)}),this}},{key:"recomputeTree",value:function(t){return this.currentRule.computePayoff(t),this.currentRule.computeOptimal(t),this}},{key:"clearTree",value:function(t){this.data.getAllNodesInSubtree(t).forEach(function(t){t.clearComputedValues(),t.childEdges.forEach(function(t){t.clearComputedValues()})})}}]),t}()},{"./expected-value-maximization-rule":557}],560:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SettingsDialog=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3");r(a),t("./i18n/i18n"),t("./utils"),n.SettingsDialog=function(){function t(e){var n=this;i(this,t),this.app=e,this.container=e.container.select("#sd-settings-dialog"),this.container.select(".sd-close-modal").on("click",function(){return n.close()}),this.payoffCurrencyInput=this.container.select("input#sd-payoff-currency").on("change",function(){e.config.format.payoff.currency=this.value,e.updatePayoffNumberFormat()}),this.payoffMinimumFractionDigitsInput=this.container.select("input#sd-payoff-minimumFractionDigits").on("change",function(){e.config.format.payoff.minimumFractionDigits=this.value,e.updatePayoffNumberFormat()}),this.payoffMaximumFractionDigitsInput=this.container.select("input#sd-payoff-maximumFractionDigits").on("change",function(){e.config.format.payoff.maximumFractionDigits=this.value,e.updatePayoffNumberFormat()})}return o(t,[{key:"open",value:function(){this.payoffCurrencyInput.node().value=this.app.config.format.payoff.currency,this.payoffMinimumFractionDigitsInput.node().value=this.app.config.format.payoff.minimumFractionDigits,this.payoffMaximumFractionDigitsInput.node().value=this.app.config.format.payoff.maximumFractionDigits,this.container.classed("open",!0)}},{key:"close",value:function(){this.container.classed("open",!1)}}]),t}()},{"./d3":541,"./i18n/i18n":547,"./utils":570}],561:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Sidebar=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=r(a),u=t("./i18n/i18n"),c=t("./utils"),l=t("./model/index"),f=r(l),h=t("./validation/payoff-validator"),p=t("./validation/probability-validator");n.Sidebar=function(){function t(e,n){i(this,t),this.app=n,this.container=e,this.initLayoutOptions()}return o(t,[{key:"initLayoutOptions",value:function(){var t=this;this.layoutOptionsContainer=this.container.select("#layout-options"),this.gridWidth=this.layoutOptionsContainer.select("input#grid-width").on("change",function(){t.app.treeDesigner.layout.setGridWidth(this.value)}),this.gridHeight=this.layoutOptionsContainer.select("input#grid-height").on("change",function(){t.app.treeDesigner.layout.setGridHeight(this.value)}),t.app.treeDesigner.layout.onAutoLayoutChanged.push(function(e){return t.updateLayoutOptions()}),this.updateLayoutOptions()}},{key:"updateLayoutOptions",value:function(){this.gridWidth.node().value=this.app.treeDesigner.config.layout.gridWidth,this.gridHeight.node().value=this.app.treeDesigner.config.layout.gridHeight,this.layoutOptionsContainer.classed("visible",!this.app.treeDesigner.layout.isManualLayout())}},{key:"displayObjectProperties",value:function(t){this.updateObjectPropertiesView(t)}},{key:"hideObjectProperties",value:function(){this.container.select("#object-properties").classed("visible",!1),this.container.selectAll("div.child-object").remove()}},{key:"updateObjectPropertiesView",value:function(e){if(!e)return void this.hideObjectProperties();var n=this.objectProps=this.container.select("#object-properties").classed("visible",!0),r=t.getHeaderTextForObject(e);n.select(".header").html(r);var i=this.getFieldListForObject(e);this.updateObjectFields(e,i,n.select(".content .main-properties")),this.updateObjectChildrenProperties(e)}},{key:"updateObjectChildrenProperties",value:function(t){function e(t,e){var r=s.select(this);r.selectOrAppend("div.child-header").text("Edge #"+(e+1));var i=n.getFieldListForObject(t);n.updateObjectFields(t,i,r.selectOrAppend("div.field-list"))}var n=this,r=this.getChildObjectList(t),i=this.objectProps.select(".content .children-properties");i.classed("visible",r.length),i.select(".children-properties-header").text("Connections");var o=i.select(".children-properties-content"),a=o.selectAll("div.child-object").data(r,function(t,e){return t.$id||e}),u=a.enter().appendSelector("div.child-object"),c=u.merge(a);c.each(e),a.exit().remove()}},{key:"getChildObjectList",value:function(t){return t instanceof f.Node?t.childEdges.sort(function(t,e){return t.childNode.location.y-e.childNode.location.y}):t instanceof f.Edge?[]:[]}},{key:"getFieldListForObject",value:function(t){var e=this;if(t instanceof f.Node)return[{name:"name",type:"text"}];if(t instanceof f.Edge){var n=[{name:"name",type:"text"},{name:"payoff",type:"text",validator:new h.PayoffValidator(e.app.expressionEngine)}];return t.parentNode instanceof f.ChanceNode&&n.push({name:"probability",type:"text",validator:new p.ProbabilityValidator(e.app.expressionEngine)}),n}return[]}},{key:"updateObjectFields",value:function(t,e,n){var r=this,i=t instanceof f.Node?"node":"edge",o=n.selectAll("div.object-field").data(e),a={},c=o.enter().appendSelector("div.object-field");c.append("input"),c.appendSelector("span.bar"),c.append("label"),c.classed("input-group",!0);var l=function(e){return"object-"+t.$id+"-field-"+e.name},h=c.merge(o);h.select("label").attr("for",l).html(function(t){return u.i18n.t(i+"."+t.name)}),h.select("input").attr("type",function(t){return t.type}).attr("name",function(t){return t.name}).attr("id",l).on("change keyup",function(e,n){return e.validator&&!e.validator.validate(this.value)?void s.select(this).classed("invalid",!0):(s.select(this).classed("invalid",!1),"change"==s.event.type&&a[n].pristineVal!=this.value&&(t[e.name]=a[n].pristineVal,r.app.dataModel.saveState()),t[e.name]=this.value,s.select(this).classed("empty",0!==this.value&&!this.value),void r.app.onObjectUpdated(t))}).each(function(e,n){this.value=t[e.name],a[n]={},a[n].pristineVal=this.value,e.validator&&!e.validator.validate(this.value)&&s.select(this).classed("invalid",!0),s.select(this).classed("empty",0!==this.value&&!this.value)}),o.exit().remove()}}],[{key:"getHeaderTextForObject",value:function(t){return t instanceof f.Node?c.Utils.capitalizeFirstLetter(t.type)+" Node":t instanceof f.Edge?"Edge":""}}]),t}()},{"./d3":541,"./i18n/i18n":547,"./model/index":550,"./utils":570,"./validation/payoff-validator":571,"./validation/probability-validator":572}],562:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Templates=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("lodash"),s=r(a),u=t("./i18n/i18n"),c=n.Templates=function(){function t(){i(this,t)}return o(t,null,[{key:"get",value:function(e){var n=s.template(t[e],{imports:{i18n:u.i18n}});return n()}}]),t}();c.toolbar='<div id="toolbar"><div class="toolbar-group"><button id="new-diagram-button" class="icon-button" title="<%= i18n.t("toolbar.newDiagram")%>"><i class="material-icons">insert_drive_file</i></button><button id="open-diagram-button" class="icon-button" title="<%= i18n.t("toolbar.openDiagram")%>"><i class="material-icons">folder_open</i></button><button id="save-diagram-button" class="icon-button" title="<%= i18n.t("toolbar.saveDiagram")%>"><i class="material-icons">save</i></button></div><div class="toolbar-group"><label><%= i18n.t("toolbar.export.label")%></label><button id="saveButton"><%= i18n.t("toolbar.export.png")%></button><button id="saveButtonSvg"><%= i18n.t("toolbar.export.svg")%></button></div><div class="toolbar-group"><label><%= i18n.t("toolbar.layout.label")%></label><button id="manualLayoutButton"><%= i18n.t("toolbar.layout.manual")%></button><button id="treeAutoLayoutButton"><%= i18n.t("toolbar.layout.tree")%></button><button id="clusterAutoLayoutButton"><%= i18n.t("toolbar.layout.cluster")%></button></div><div class="toolbar-group"><button id="undoButton" disabled="disabled" title="<%= i18n.t("toolbar.undo")%>"><i class="material-icons">undo</i></button><button id="redoButton" disabled="disabled" title="<%= i18n.t("toolbar.redo")%>"><i class="material-icons">redo</i></button></div><div class="toolbar-group"><button id="settings-button" title="<%= i18n.t("toolbar.settings")%>"><i class="material-icons">settings</i></button></div></div>',c.layoutOptions='<div id="layout-options"><div class="header"><%= i18n.t("layoutOptions.header")%></div> <div class="content"><div class="input-group"><input id="grid-width" name="grid-width" type="range" min="105" max="300" step="5" /><label for="grid-width"><%= i18n.t("layoutOptions.gridWidth")%></label></div><div class="input-group"><input id="grid-height" name="grid-height" type="range" min="55" max="150" step="5" /><label for="grid-height"><%= i18n.t("layoutOptions.gridHeight")%></label></div></div></div>',c.objectProperties='<div id="object-properties"><div class="header"></div> <div class="content"><div class="main-properties"></div> <div class="children-properties"><div class="children-properties-header"></div> <div class="children-properties-content"></div></div> </div> </div>',c.sidebar='<div id="sidebar"><div id="sidebar-inner">'+c.layoutOptions+c.objectProperties+"</div></div>",c.settingsDialog='<div id="sd-settings-dialog" class="sd-modal"><div class="sd-modal-content"><div class="sd-modal-header"><span class="sd-close-modal"><i class="material-icons">close</i></span><h2><%= i18n.t("settingsDialog.title")%></h2></div><div class="sd-modal-body"><form id="sd-settings-form"><h4><%= i18n.t("settingsDialog.payoff.title")%></h4><div class="sd-form-group"><label for="sd-payoff-currency"><%= i18n.t("settingsDialog.payoff.currency")%></label><input type="text" id="sd-payoff-currency" name="payoff-currency"></div> <div class="sd-form-group"><label for="sd-payoff-minimumFractionDigits"><%= i18n.t("settingsDialog.payoff.minimumFractionDigits")%></label><input type="number" id="sd-payoff-minimumFractionDigits" name="payoff-minimumFractionDigits"></div> <div class="sd-form-group"><label for="sd-payoff-maximumFractionDigits"><%= i18n.t("settingsDialog.payoff.maximumFractionDigits")%></label><input type="number" id="sd-payoff-maximumFractionDigits" name="payoff-maximumFractionDigits"></div> </form></div></div></div>',c.main='<div id="silver-decisions">'+c.toolbar+'<div id="main-region">'+c.sidebar+'<div id="tree-designer-container"></div></div><input type="file" style="display:none" id="sd-file-input"/>'+c.settingsDialog+"</div>"},{"./i18n/i18n":547,lodash:40}],563:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Toolbar=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=(r(a),t("./i18n/i18n")),u=(t("./utils"),t("./model/index")),c=(r(u),t("./exporter")),l=t("./file-loader");n.Toolbar=function(){function t(e,n){i(this,t),this.app=n,this.container=e,this.initDiagramButtons(),this.initExportToPngButton(),this.initExportSvgButton(),this.initLayoutButtons(),this.initUndoRedoButtons(),this.initSettingsButton()}return o(t,[{key:"initDiagramButtons",value:function(){var t=this;this.newDiagramButton=this.container.select("#new-diagram-button").on("click",function(){confirm(s.i18n.t("confirm.newDiagram"))&&t.app.newDiagram()}),this.openDiagramButton=this.container.select("#open-diagram-button").on("click",function(){confirm(s.i18n.t("confirm.openDiagram"))&&l.FileLoader.openFile(function(e){t.app.openDiagram(e)})}),this.saveDiagramButton=this.container.select("#save-diagram-button").on("click",function(){var e=t.app.serialize(),n=new Blob([e],{type:"application/json"});c.Exporter.saveAs(n,"diagram.json")})}},{key:"initExportToPngButton",value:function(){var t=this.app.treeDesigner.svg,e=t.attr("width"),n=t.attr("height");this.container.select("#saveButton").on("click",function(){function r(t,e){c.Exporter.saveAs(t,"diagram.png")}var i=c.Exporter.getSVGString(t.node());c.Exporter.svgString2Image(i,4*e,4*n,"png",r)})}},{key:"initExportSvgButton",value:function(){var t=this.app.treeDesigner.svg;this.container.select("#saveButtonSvg").on("click",function(){var e=c.Exporter.getSVGString(t.node()),n=new Blob([e],{type:"image/svg+xml"});c.Exporter.saveAs(n,"diagram.svg")})}},{key:"initLayoutButtons",value:function(){var t=this;t.app.treeDesigner.layout.onAutoLayoutChanged.push(function(e){return t.onLayoutChanged(e)}),this.layoutButtons={},this.layoutButtons.manual=this.container.select("#manualLayoutButton").on("click",function(){"manual"!=t.app.treeDesigner.layout.currentLayout&&t.app.treeDesigner.layout.disableAutoLayout()}),this.layoutButtons.tree=this.container.select("#treeAutoLayoutButton").on("click",function(){"tree"!=t.app.treeDesigner.layout.currentLayout&&t.app.treeDesigner.autoLayout("tree")}),this.layoutButtons.cluster=this.container.select("#clusterAutoLayoutButton").on("click",function(){"cluster"!=t.app.treeDesigner.layout.currentLayout&&t.app.treeDesigner.autoLayout("cluster")}),this.onLayoutChanged(t.app.treeDesigner.layout.currentLayout)}},{key:"initSettingsButton",value:function(){var t=this;this.settingsButton=this.container.select("#settings-button").on("click",function(){t.app.settingsDialog.open()})}},{key:"onLayoutChanged",value:function(t){var e=this;Object.getOwnPropertyNames(this.layoutButtons).forEach(function(t){e.layoutButtons[t].classed("active",!1)});var n=this.layoutButtons[t];n&&n.classed("active",!0)}},{key:"initUndoRedoButtons",value:function(){var t=this,e=this;e.app.dataModel.undoRedoStateChangedCallback=function(){return t.onUndoRedoChanged()},this.undoButton=this.container.select("#undoButton").on("click",function(){e.app.undo()}),this.redoButton=this.container.select("#redoButton").on("click",function(){e.app.redo()})}},{key:"onUndoRedoChanged",value:function(){this.updateUndoRedoButtons()}},{key:"updateUndoRedoButtons",value:function(){this.undoButton.attr("disabled",this.app.dataModel.isUndoAvailable()?null:"disabled"),this.redoButton.attr("disabled",this.app.dataModel.isRedoAvailable()?null:"disabled")}},{key:"update",value:function(){this.updateUndoRedoButtons()}}]),t}()},{"./d3":541,"./exporter":543,"./file-loader":545,"./i18n/i18n":547,"./model/index":550,"./utils":570}],564:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Tooltip=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=r(a);t("./i18n/i18n"),t("./utils"),n.Tooltip=function(){function t(){i(this,t)}return o(t,null,[{key:"show",value:function(t){var e=s.select("body").selectOrAppend("div.sd-tooltip").style("opacity",0);e.transition().duration(200).style("opacity",.98),e.html(t).style("left",s.event.pageX+5+"px").style("top",s.event.pageY-28+"px")}},{key:"hide",value:function(){s.select("div.sd-tooltip").transition().duration(500).style("opacity",0)}}]),t}()},{"./d3":541,"./i18n/i18n":547,"./utils":570}],565:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Layout=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=(t("../utils"),t("../model/index")),s=r(a),u=t("../d3"),c=r(u),l=t("lodash"),f=r(l),h=n.Layout=function(){function t(e,n,r){i(this,t),this.currentLayout=t.MANUAL_LAYOUT_NAME,this.onAutoLayoutChanged=[],this.nodeTypeOrder={decision:0,chance:0,terminal:1},this.treeMargin=50,this.treeDesigner=e,this.data=n,this.config=r,this.minMarginBetweenNodes=this.config.nodeSize+30}return o(t,[{key:"update",value:function(t){if(t&&this.moveNodeToEmptyPlace(t),!this.isManualLayout())return this.autoLayout(this.currentLayout,!0)}},{key:"isManualLayout",value:function(){return this.currentLayout==t.MANUAL_LAYOUT_NAME}},{key:"getNewChildLocation",value:function(t){return new s.Point(t.location.x+150,t.location.y)}},{key:"moveNodeToEmptyPlace",value:function(t){var e={};this.data.nodes.forEach(function(n){if(t!=n){var r=n.location.x,i=n.location.y;f.set(e,r+"."+i,n)}});for(var n,r=this.config.nodeSize/2,i=this.config.nodeSize+10,o=0,a=75,u=!1,c=new s.Point(t.location);n=f.get(e,c.x+"."+c.y,null);){u=!0;var l=t.$parent&&n.$parent&&t.$parent==n.$parent;l?c.move(o,a):c.move(r,i)}u&&(t.moveTo(c.x,c.y,!0),this.treeDesigner.redraw(!0))}},{key:"disableAutoLayout",value:function(){this.currentLayout=t.MANUAL_LAYOUT_NAME,this._fireOnAutoLayoutChangedCallbacks()}},{key:"drawNodeSymbol",value:function(t){var e=this;this.nodeSymbol=c.symbol().type(function(t){return t.$symbol}).size(function(t){return 64});var n=this.config.nodeSize;
t.attr("transform","rotate(-90)").attr("d",e.nodeSymbol).each(function(t){var r=c.select(this),i=r.node().getBBox(),o=Math.min(n/i.width,n/i.height);r.attr("d",e.nodeSymbol.size(o*o*64))})}},{key:"nodeLabelPosition",value:function(t){return t.attr("x",0).attr("y",-this.config.nodeSize/2-7)}},{key:"nodePayoffPosition",value:function(t){return t.attr("x",0).attr("y",this.config.nodeSize/2+7).attr("text-anchor","middle")}},{key:"nodeAggregatedPayoffPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+7).attr("y",-this.config.nodeSize/2+5).attr("dominant-baseline","hanging")}},{key:"nodeProbabilityToEnterPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+7).attr("y",this.config.nodeSize/2-5)}},{key:"nodeIndicatorPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+8).attr("y",-this.config.nodeSize/2).attr("dominant-baseline","central").attr("text-anchor","middle")}},{key:"edgeLineD",value:function(t){var e=c.line().x(function(t){return t[0]}).y(function(t){return t[1]}),n=t.parentNode,r=t.childNode,i=r.location.x-n.location.x,o=(r.location.y-n.location.y,i>=0?1:-1),a=Math.min(i/2,30),s=Math.min(20,Math.max(i/2-a,0)),u=[n.location.x+this.config.nodeSize/2+1,n.location.y],l=[n.location.x+a,n.location.y],f=[n.location.x+a+s,r.location.y],h=[r.location.x-o*Math.max(0,Math.min(this.config.nodeSize/2+8,i/2)),r.location.y];return t.$linePoints=[u,l,f,h],e(t.$linePoints)}},{key:"edgePayoffPosition",value:function(t){return t.attr("x",function(t){return t.$linePoints[2][0]+2}).attr("y",function(t){return t.$linePoints[2][1]+7})}},{key:"edgeLabelPosition",value:function(t){return t.attr("x",function(t){return t.$linePoints[2][0]+2}).attr("y",function(t){return t.$linePoints[2][1]-7})}},{key:"edgeProbabilityPosition",value:function(t){return t.attr("x",function(t){var e=c.select(this).node().getComputedTextLength(),n=t.$linePoints[2][0]+2+c.select(this.previousSibling).node().getBBox().width+7+e;return Math.max(n,t.$linePoints[3][0]-8)}).attr("y",function(t){return t.$linePoints[2][1]+7})}},{key:"getNodeMinX",value:function(t){var e=this;return t&&t.$parent?t.$parent.location.x+e.minMarginBetweenNodes:e.config.nodeSize/2}},{key:"getNodeMinY",value:function(t){return this.config.nodeSize/2}},{key:"getNodeMaxX",value:function(t){var e=this;return t&&t.childEdges.length?c.min(t.childEdges,function(t){return t.childNode.location.x})-e.minMarginBetweenNodes:9999999}},{key:"setGridWidth",value:function(t,e){var n=this;this.config.gridWidth!=t&&(e||this.data.saveState({data:{gridWidth:n.config.gridWidth},onUndo:function(t){n.config.gridWidth=t.gridWidth,n._fireOnAutoLayoutChangedCallbacks()},onRedo:function(e){n.setGridWidth(t,!0)}}),this.config.gridWidth=t,this.update())}},{key:"setGridHeight",value:function(t,e){var n=this;this.config.gridHeight!=t&&(e||this.data.saveState({data:{gridHeight:n.config.gridHeight},onUndo:function(t){n.config.gridHeight=t.gridHeight,n._fireOnAutoLayoutChangedCallbacks()},onRedo:function(e){n.setGridHeight(t,!0)}}),this.config.gridHeight=t,this.update())}},{key:"autoLayout",value:function(t,e){var n=this;if(e||this.data.saveState({data:{newLayout:t,currentLayout:n.currentLayout},onUndo:function(t){n.currentLayout=t.currentLayout,n._fireOnAutoLayoutChangedCallbacks()},onRedo:function(t){n.autoLayout(t.newLayout,!0)}}),this.currentLayout=t,!this.data.nodes.length)return void this._fireOnAutoLayoutChangedCallbacks();var r=n.getNodeMinY();return this.data.getRoots().forEach(function(e){var i=c.hierarchy(e,function(t){return t.childEdges.map(function(t){return t.childNode})});i.sort(function(t,e){return t.data.location.y-e.data.location.y});var o;o="cluster"==t?c.cluster():c.tree(),o.nodeSize([n.config.gridHeight,n.config.gridWidth]),o(i);var a=999999999;i.each(function(t){a=Math.min(a,t.x)});var s=i.x-a+r,u=n.getNodeMinX(),l=0;i.each(function(t){t.data.location.x=t.y+u,t.data.location.y=t.x+s,l=Math.max(l,t.data.location.y)}),r=l+n.config.nodeSize+n.treeMargin}),this.treeDesigner.redraw(!0),this._fireOnAutoLayoutChangedCallbacks(),this}},{key:"fitNodesInPlottingRegion",value:function(t){var e=this,n=c.min(t,function(t){return t.location.y}),r=e.getNodeMinY(),i=n-r;i<0&&t.forEach(function(t){return t.move(0,-i)})}},{key:"moveNodes",value:function(e,n,r,i){var o=this,a=o.config.limitNodePositioning;a&&(n<0?e.sort(function(t,e){return t.location.x-e.location.x}):e.sort(function(t,e){return e.location.x-t.location.x}));var s=c.min(e,function(t){return t.location.y});s+r<o.getNodeMinY()&&(r=o.getNodeMinY()-s),e.forEach(function(e){if(a){t.backupNodeLocation(e);var i=o.getNodeMinX(e),s=o.getNodeMaxX(e);e.location.x=Math.min(Math.max(e.location.x+n,i),s),e.location.y+=r}else e.location.x+=n,e.location.y+=r});var u=i&&o.config.limitNodePositioning&&i.location.x==i.$location.x;e.forEach(function(t){u&&(t.location.x=t.$location.x),o.treeDesigner.updateNodePosition(t)})}},{key:"_fireOnAutoLayoutChangedCallbacks",value:function(){var t=this;this.onAutoLayoutChanged.forEach(function(e){return e(t.currentLayout)})}}],[{key:"backupNodeLocation",value:function(t){t.$location=new s.Point(t.location)}}]),t}();h.MANUAL_LAYOUT_NAME="manual"},{"../d3":541,"../model/index":550,"../utils":570,lodash:40}],566:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.MainContextMenu=void 0;var s=t("../context-menu"),u=(t("../utils"),t("../model/index")),c=r(u),l=t("../d3"),f=r(l);n.MainContextMenu=function(t){function e(t){i(this,e);var n=function a(e){var a=[];return a.push({title:"Add Decision Node",action:function(e,n,r){var i=new c.DecisionNode(new c.Point(f.mouse(t.svg.node())).move(t.getMainGroupTranslation(!0)));t.addNode(i)}}),a.push({title:"Add Chance Node",action:function(e,n,r){var i=new c.ChanceNode(new c.Point(f.mouse(t.svg.node())).move(t.getMainGroupTranslation(!0)));t.addNode(i)}}),a.push({divider:!0}),a.push({title:"Paste",action:function(e,n,r){t.pasteToNewLocation(new c.Point(f.mouse(t.svg.node())).move(t.getMainGroupTranslation(!0)))},disabled:!t.copiedNode}),a.push({divider:!0}),a.push({title:"Select all nodes",action:function(e,n,r){t.selectAllNodes()}}),a},r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,{onOpen:function(){return t.clearSelection()}}));return r.treeDesigner=t,r}return a(e,t),e}(s.ContextMenu)},{"../context-menu":539,"../d3":541,"../model/index":550,"../utils":570}],567:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.NodeContextMenu=void 0;var s=t("../context-menu"),u=(t("../utils"),t("../model/index")),c=r(u),l=t("../d3");r(l),n.NodeContextMenu=function(t){function e(t){i(this,e);var n=function a(e){var n={title:"Copy",action:function(e,n,r){t.copyNode(n)}},r={title:"Cut",action:function(e,n,r){t.cutNode(n)}},i={title:"Paste",action:function(e,n,r){t.pasteToNode(n)},disabled:!t.copiedNode},o={title:"Delete",action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.removeSelectedNodes()}},a=[];return"terminal"==e.type?[n,r,o]:(a.push({title:"Add Decision Node",action:function(e,n,r){var i=new c.DecisionNode(t.layout.getNewChildLocation(n));t.addNode(i,n)}}),a.push({title:"Add Chance Node",action:function(e,n,r){var i=new c.ChanceNode(t.layout.getNewChildLocation(n));t.addNode(i,n)}}),a.push({title:"Add Terminal Node",action:function(e,n,r){var i=new c.TerminalNode(t.layout.getNewChildLocation(n));t.addNode(i,n)}}),a.push({divider:!0}),a.push(n),a.push(r),a.push(i),a.push(o),a.push({divider:!0}),a.push({title:"Select subtree",action:function(e,n,r){t.selectSubTree(n,!0)}}),a)},r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.treeDesigner=t,r}return a(e,t),e}(s.ContextMenu)},{"../context-menu":539,"../d3":541,"../model/index":550,"../utils":570}],568:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.NodeDragHandler=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("../utils"),s=t("../model/index"),u=(r(s),t("../d3")),c=r(u),l=t("../context-menu");n.NodeDragHandler=function(){function t(e,n){i(this,t),this.treeDesigner=e,this.data=n;var r=this;this.drag=c.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=c.select(this);return{x:e.attr("x")+a.Utils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+a.Utils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){r.dragStarted.call(this,t,r)}).on("drag",function(t){r.onDrag.call(this,t,r)}).on("end",function(t){r.dragEnded.call(this,t,r)})}return o(t,[{key:"dragStarted",value:function(t,e){l.ContextMenu.hide();var n=c.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectNode(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(),e.prevDragEvent=c.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){if(2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++,!(e.selectedNodes.length>5&&e.dragEventCount%2!=1)){var n=c.event.x-e.prevDragEvent.x,r=c.event.y-e.prevDragEvent.y;e.treeDesigner.layout.moveNodes(e.selectedNodes,n,r,t),e.prevDragEvent=c.event,e.treeDesigner.redrawEdges(),e.treeDesigner.updatePlottingRegionSize()}}},{key:"dragEnded",value:function(t,e){c.select(this).classed("dragging",!1);e.treeDesigner.layout.update()}}]),t}()},{"../context-menu":539,"../d3":541,"../model/index":550,"../utils":570}],569:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TreeDesigner=n.TreeDesignerConfig=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("../d3"),s=r(a),u=t("../utils"),c=t("../model/index"),l=(r(c),t("../context-menu")),f=t("./main-context-menu"),h=t("./node-context-menu"),p=t("./layout"),d=t("./node-drag-handler"),m=t("../tooltip"),g=t("../validation/validation-result"),y=n.TreeDesignerConfig=function v(t){i(this,v),this.width=void 0,this.height=void 0,this.margin={left:25,right:25,top:25,bottom:25},this.layout={nodeSize:40,limitNodePositioning:!0,gridHeight:75,gridWidth:150},this.fontFamily='"Times New Roman", Times, serif',this.fontSize="12px",this.node={chance:{fill:"#ffff44",stroke:"#666600",strokeWidth:"",selected:{fill:"#aaaa00",stroke:"#666600"}}},this.payoffNumberFormatter=function(t){return t},this.probabilityNumberFormatter=function(t){return t},this.onNodeSelected=function(t){},this.onEdgeSelected=function(t){},this.onSelectionCleared=function(){},t&&u.Utils.deepExtend(this,t)};n.TreeDesigner=function(){function t(e,n,r){i(this,t),this.setConfig(r),this.data=n,this.initContainer(e),this.init()}return o(t,[{key:"setConfig",value:function(t){return this.config=new y(t),this}},{key:"init",value:function(){this.initSvg(),this.initLayout(),this.initMainContextMenu(),this.initBrush(),this.initEdgeMarker(),this.initNodeContextMenu(),this.initNodeDragHandler(),this.redraw()}},{key:"initLayout",value:function(){this.layout=new p.Layout(this,this.data,this.config.layout)}},{key:"initNodeDragHandler",value:function(){this.nodeDragHandler=new d.NodeDragHandler(this,this.data)}},{key:"redraw",value:function(t){var e=this;t&&(e.transitionPrev=e.transition,e.transition=!0),this.redrawNodes(),this.redrawEdges(),t&&(e.transition=e.transitionPrev),setTimeout(function(){e.updatePlottingRegionSize()},10)}},{key:"computeAvailableSpace",value:function(){this.availableHeight=u.Utils.sanitizeHeight(this.config.height,this.container,this.config.margin),this.availableWidth=u.Utils.sanitizeWidth(this.config.width,this.container,this.config.margin)}},{key:"initSvg",value:function(){var t=this;this.computeAvailableSpace(),this.svg=this.container.selectOrAppend("svg.tree-designer"),this.svg.attr("width",this.availableWidth).attr("height",this.availableHeight);var e=this.config.margin;this.mainGroup=this.svg.selectOrAppend("g.main-group"),this.mainGroup.attr("transform","translate("+e.left+","+e.top+")"),this.config.width||s.select(window).on("resize.tree-designer",function(){t.updatePlottingRegionSize()})}},{key:"initContainer",value:function(t){this.container=t}},{key:"updatePlottingRegionSize",value:function(){var t=!1;this.computeAvailableSpace();var e=this.config.margin,n=this.svg.attr("width"),r=this.svg.attr("height"),i=this.mainGroup.node().getBBox(),o=i.width+i.x+e.left+e.right;this.container.classed("with-overflow-x",o>=this.availableWidth),o=Math.max(o,this.availableWidth),n!=o&&(t=!0,this.svg.attr("width",o));var a=i.height+i.y+e.top+e.bottom;this.container.classed("with-overflow-y",a>=this.availableHeight),a=Math.max(a,this.availableHeight),r!=a&&(t=!0,this.svg.attr("height",a)),t&&this.updateBrushExtent()}},{key:"redrawNodes",value:function(){var t=this,e=this.mainGroup.selectOrAppend("g.nodes"),n=e.selectAll(".node").data(this.data.nodes,function(t,e){return t.$id});n.exit().remove();var r=n.enter().append("g").attr("id",function(t){return"node-"+t.$id}).attr("class",function(t){return t.type+"-node node"}).attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});r.append("path");var i=r.append("text").attr("class","label"),o=r.append("text").attr("class","payoff computed"),a=r.append("text").attr("class","error-indicator").text("!!"),s=r.append("text").attr("class","aggregated-payoff"),u=r.append("text").attr("class","probability-to-enter"),c=r.merge(n);c.classed("optimal",function(e){return t.isOptimal(e)});var l=c;this.transition&&(l=c.transition(),l.on("end",function(){return t.updatePlottingRegionSize()})),l.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"}),this.layout.drawNodeSymbol(c.select("path")),this.layout.nodeLabelPosition(i),this.layout.nodeLabelPosition(l.select("text.label")).attr("text-anchor","middle").text(function(t){return t.name});var f=this.config.rule,h=c.select("text.payoff").attr("dominant-baseline","hanging").classed("negative",function(t){var e=t.computedValue(f,"childrenPayoff");return null!==e&&e<0}).text(function(e){var n=e.computedValue(f,"childrenPayoff");return null===n||isNaN(n)?"":t.config.payoffNumberFormatter(n)}),p=h;this.transition&&(p=h.transition()),this.layout.nodePayoffPosition(o),this.layout.nodePayoffPosition(p);var d=c.select("text.aggregated-payoff").classed("negative",function(t){var e=t.computedValue(f,"aggregatedPayoff");return null!==e&&e<0}).text(function(e){var n=e.computedValue(f,"aggregatedPayoff");return null===n||isNaN(n)?"":t.config.payoffNumberFormatter(n)}),m=d;this.transition&&(m=d.transition()),this.layout.nodeAggregatedPayoffPosition(s),this.layout.nodeAggregatedPayoffPosition(m);var g=c.select("text.probability-to-enter").text(function(e){var n=e.computedValue(f,"probabilityToEnter");return null===n||isNaN(n)?"":t.config.probabilityNumberFormatter(n)}),y=g;this.transition&&(y=g.transition()),this.layout.nodeProbabilityToEnterPosition(u),this.layout.nodeProbabilityToEnterPosition(y);var v=c.select("text.error-indicator");this.layout.nodeIndicatorPosition(a),this.layout.nodeIndicatorPosition(v),c.call(this.nodeDragHandler.drag),c.on("contextmenu",this.nodeContextMenu),c.on("dblclick",function(e){return t.selectSubTree(e,!0)})}},{key:"isOptimal",value:function(t){var e=this.config.rule;return t.computedValue(e,"optimal")}},{key:"redrawEdges",value:function(){var t=this,e=this,n=this.mainGroup.selectOrAppend("g.edges"),r=n.selectAll(".edge").data(this.data.edges,function(t,e){return t.$id});r.exit().remove();var i=r.enter().append("g").attr("id",function(t){return"edge-"+t.$id}).attr("class","edge");i.append("path");var o=i.append("text").attr("class","label"),a=i.append("text").attr("class","payoff"),s=i.append("text").attr("class","probability"),u=i.merge(r),c="optimal";u.classed(c,function(t){return e.isOptimal(t)});var l=u;this.transition&&(l=u.transition()),l.select("path").attr("d",function(e){return t.layout.edgeLineD(e)}).attr("fill","none").attr("marker-end",function(t){return"url(#arrow"+(e.isOptimal(t)?"-optimal":"")+")"}).attr("shape-rendering","optimizeQuality"),u.on("click",function(t){e.selectEdge(t,!0)}),this.layout.edgeLabelPosition(o),this.layout.edgeLabelPosition(l.select("text.label")).text(function(t){return t.name});var f=u.select("text.payoff").attr("dominant-baseline","hanging").classed("negative",function(t){return t.payoff<0}).text(function(t){return isNaN(t.payoff)?t.payoff:e.config.payoffNumberFormatter(t.payoff)}),h=f;this.transition&&(h=f.transition()),this.layout.edgePayoffPosition(a),this.layout.edgePayoffPosition(h),this.layout.edgeProbabilityPosition(s),this.layout.edgeProbabilityPosition(l.select("text.probability")).attr("dominant-baseline","hanging").attr("text-anchor","end").text(function(t){return void 0!==t.probability?t.probability:""}),n.selectAll(".edge."+c).raise()}},{key:"updateValidationMessages",value:function(t){var e=this,n=this.mainGroup.selectAll(".node");n.classed("error",!1),t.forEach(function(t){t.isValid()||Object.getOwnPropertyNames(t.objectIdToError).forEach(function(n){var r=t.objectIdToError[n],i=e.getNodeD3SelectionById(n);i.classed("error",!0);var o="";r.forEach(function(t){o&&(o+="<br/>"),o+=g.ValidationResult.getMessage(t)}),i.select(".error-indicator").on("mouseover",function(t){m.Tooltip.show(o)}).on("mouseout",function(t){m.Tooltip.hide()})})})}},{key:"initEdgeMarker",value:function(){var t=this.svg.append("svg:defs");t.append("marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","arrowHead"),t.append("marker").attr("id","arrow-optimal").attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","arrowHead")}},{key:"updateBrushExtent",value:function(){var t=this;this.brush.extent([[0,0],[t.svg.attr("width"),t.svg.attr("height")]]),this.brushContainer.call(this.brush)}},{key:"initBrush",value:function(){function t(){s.event.selection&&(r.clearSelection(),l.ContextMenu.hide())}function e(){var t=s.event.selection;t&&r.mainGroup.selectAll(".node").classed("selected",function(e){var n=e.location.x+a[0],r=e.location.y+a[1];return t[0][0]<=n&&n<=t[1][0]&&t[0][1]<=r&&r<=t[1][1]})}function n(){s.event.selection&&o.move(i,null)}var r=this,i=this.brushContainer=this.svg.selectOrInsert("g.brush",":first-child").attr("class","brush"),o=this.brush=s.brush().on("start",t).on("brush",e).on("end",n),a=this.getMainGroupTranslation();this.updateBrushExtent()}},{key:"getMainGroupTranslation",value:function(t){var e=u.Utils.getTranslation(this.mainGroup.attr("transform"));return t&&(e[0]=-e[0],e[1]=-e[1]),e}},{key:"initNodeContextMenu",value:function(){this.nodeContextMenu=new h.NodeContextMenu(this)}},{key:"initMainContextMenu",value:function(){this.mainContextMenu=new f.MainContextMenu(this),this.svg.on("contextmenu",this.mainContextMenu)}},{key:"addNode",value:function(t,e){return this.data.saveState(),this.data.addNode(t,e),this.redraw(),this.layout.update(t),t}},{key:"removeNode",value:function(t){this.data.saveState(),this.data.removeNode(t),this.layout.isManualLayout()?this.redraw():this.layout.update()}},{key:"removeSelectedNodes",value:function(){this.data.saveState();var t=this.getSelectedNodes();this.data.removeNodes(t),this.clearSelection(),this.redraw(),this.layout.update()}},{key:"copyNode",value:function(t){this.copiedNode=this.data.cloneSubtree(t)}},{key:"cutNode",value:function(t){this.copyNode(t),this.removeNode(t)}},{key:"copySelectedNodes",value:function(){var t=this,e=this.getSelectedNodes(),n=this.data.findSubtreeRoots(e);this.copiedNodes=n.map(function(e){return t.data.cloneSubtree(e)})}},{key:"pasteToNode",value:function(t){this.data.saveState();var e=this,n=this.copiedNode;e.copyNode(n);var r=this.data.attachSubtree(n,t),i=e.layout.getNewChildLocation(t);r.moveTo(i.x,i.y,!0),e.layout.moveNodeToEmptyPlace(r),e.layout.fitNodesInPlottingRegion(this.data.getAllDescendantNodes(r)),this.redraw(),e.layout.update(),e.selectSubTree(r,!0)}},{key:"pasteToNewLocation",value:function(t){this.data.saveState();var e=this,n=this.copiedNode;e.copyNode(n);var r=this.data.attachSubtree(n);r.moveTo(t.x,t.y,!0),e.layout.fitNodesInPlottingRegion(this.data.getAllDescendantNodes(r)),this.redraw(),e.layout.update(),e.selectSubTree(r,!0)}},{key:"moveNodeTo",value:function(t,e){}},{key:"updateNodePosition",value:function(t){this.getNodeD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"getNodeD3Selection",value:function(t){return this.getNodeD3SelectionById(t.$id)}},{key:"getNodeD3SelectionById",value:function(t){return this.mainGroup.select("#node-"+t)}},{key:"getSelectedNodes",value:function(){return this.mainGroup.selectAll(".node.selected").data()}},{key:"clearSelection",value:function(){this.mainGroup.selectAll(".selected").classed("selected",!1),this.config.onSelectionCleared()}},{key:"selectEdge",value:function(t,e){e&&this.clearSelection(),this.config.onEdgeSelected(t),this.mainGroup.select("#edge-"+t.$id).classed("selected",!0)}},{key:"isNodeSelected",value:function(t){return this.getNodeD3Selection(t).classed("selected")}},{key:"selectNode",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onNodeSelected(t),this.mainGroup.select("#node-"+t.$id).classed("selected",!0)}},{key:"selectSubTree",value:function(t,e,n){var r=this;e&&this.clearSelection(),this.selectNode(t,!1,n),t.childEdges.forEach(function(t){return r.selectSubTree(t.childNode,!1,!0)})}},{key:"selectAllNodes",value:function(){this.mainGroup.selectAll(".node").classed("selected",!0)}},{key:"autoLayout",value:function(t,e){this.layout.autoLayout(t,e)}}]),t}()},{"../context-menu":539,"../d3":541,"../model/index":550,"../tooltip":564,"../utils":570,"../validation/validation-result":574,"./layout":565,"./main-context-menu":566,"./node-context-menu":567,"./node-drag-handler":568}],570:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n.Utils=function(){function t(){i(this,t)}return a(t,null,[{key:"deepExtend",value:function(t){var e=this;!t&&arguments.length>1&&Array.isArray(arguments[1])&&(t=[]),t=t||{};for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)if(r.hasOwnProperty(i)){var o=Array.isArray(t[i]),a=e.isObject(t[i]),s=e.isObject(r[i]);a&&!o&&s?e.deepExtend(t[i],r[i]):t[i]=r[i]}}return t}},{key:"mergeDeep",value:function(e,n){var i=Object.assign({},e);return t.isObjectNotArray(e)&&t.isObjectNotArray(n)&&Object.keys(n).forEach(function(o){t.isObjectNotArray(n[o])&&o in e?i[o]=t.mergeDeep(e[o],n[o]):Object.assign(i,r({},o,n[o]))}),i}},{key:"cross",value:function(t,e){var n,r,i=[],o=t.length,a=e.length;for(n=-1;++n<o;)for(r=-1;++r<a;)i.push({x:t[n],i:n,y:e[r],j:r});return i}},{key:"isObjectNotArray",value:function(t){return t&&"object"===("undefined"==typeof t?"undefined":o(t))&&!Array.isArray(t)&&null!==t}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isObject",value:function(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":o(t))}},{key:"isNumber",value:function(t){return!isNaN(t)&&"number"==typeof t}},{key:"isNumeric",value:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{key:"isFunction",value:function(t){return"function"==typeof t}},{key:"isDate",value:function(t){return"[object Date]"===Object.prototype.toString.call(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"insertOrAppendSelector",value:function(t,e,n,r){for(var i=e.split(/([\.\#])/),o=t[n](i.shift(),r);i.length>1;){var a=i.shift(),s=i.shift();"."===a?o=o.classed(s,!0):"#"===a&&(o=o.attr("id",s))}return o}},{key:"insertSelector",value:function(e,n,r){return t.insertOrAppendSelector(e,n,"insert",r)}},{key:"appendSelector",value:function(e,n){return t.insertOrAppendSelector(e,n,"append")}},{key:"selectOrAppend",value:function(e,n,r){var i=e.select(n);return i.empty()?r?e.append(r):t.appendSelector(e,n):i}},{key:"selectOrInsert",value:function(e,n,r){var i=e.select(n);return i.empty()?t.insertSelector(e,n,r):i}},{key:"guid",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},{key:"placeTextWithEllipsis",value:function(t,e,n){var r=t.node();r.textContent=e;var i=0,o=9;if(r.getComputedTextLength()>n+i){for(var a=e.length-3;a>0;a-=1)if(r.getSubStringLength(0,a)+o<=n+i)return r.textContent=e.substring(0,a)+"...",!0;return r.textContent="...",!0}return!1}},{key:"placeTextWithEllipsisAndTooltip",value:function(e,n,r,i){var o=t.placeTextWithEllipsis(e,n,r);o&&i&&(e.on("mouseover",function(t){i.transition().duration(200).style("opacity",.9),i.html(n).style("left",d3.event.pageX+5+"px").style("top",d3.event.pageY-28+"px")}),e.on("mouseout",function(t){i.transition().duration(500).style("opacity",0)}))}},{key:"getFontSize",value:function(t){return window.getComputedStyle(t,null).getPropertyValue("font-size")}},{key:"capitalizeFirstLetter",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},{key:"getTranslation",value:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttributeNS(null,"transform",t);var n=e.transform.baseVal.consolidate().matrix;return[n.e,n.f]}},{key:"getObjectByIdMap",value:function(t,e){var n={};return t?(t.forEach(function(t){var r=t;e&&(r=e(t)),n[t.$id]=r}),n):n}},{key:"waitForFinalEvent",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;n||(n="Don't call this twice without a uniqueId"),t.timers[n]&&clearTimeout(t.timers[n]),t.timers[n]=setTimeout(e,r)}}]),t}();s.SQRT_2=1.41421356237,s.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},s.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},s.availableHeight=function(t,e,n){return Math.max(0,s.sanitizeHeight(t,e)-n.top-n.bottom)},s.availableWidth=function(t,e,n){return Math.max(0,s.sanitizeWidth(t,e)-n.left-n.right)},s.timers={}},{}],571:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PayoffValidator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();t("../expression-engine"),n.PayoffValidator=function(){function t(e){r(this,t),this.expressionEngine=e}return i(t,[{key:"validate",value:function(t){return this.expressionEngine.validate(t)}}]),t}()},{"../expression-engine":544}],572:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ProbabilityValidator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();t("../expression-engine"),n.ProbabilityValidator=function(){function t(e){r(this,t),this.expressionEngine=e}return i(t,[{key:"validate",value:function(t){if(!this.expressionEngine.validate(t))return!1;var e=this.expressionEngine.eval(t);return e.compare(0)>=0&&e.compare(1)<=0}}]),t}()},{"../expression-engine":544}],573:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TreeValidator=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=(t("../utils"),t("../model/index")),s=r(a),u=t("./validation-result"),c=t("../expression-engine");n.TreeValidator=function(){function t(e){i(this,t),this.expressionEngine=e}return o(t,[{key:"validate",value:function(t){var e=this,n=new u.ValidationResult;return t.forEach(function(t){e.validateNode(t,n)}),n}},{key:"validateNode",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.ValidationResult;if(!(t instanceof s.TerminalNode)){if(t.childEdges.length||n.addError("incompletePath",t),t instanceof s.ChanceNode){var r=0;t.childEdges.forEach(function(t){r=c.ExpressionEngine.add(r,e.expressionEngine.eval(t.probability))}),r&&r.equals(1)||n.addError("probabilityDoNotSumUpTo1",t)}return n}}}]),t}()},{"../expression-engine":544,"../model/index":550,"../utils":570,"./validation-result":574}],574:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);
return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ValidationResult=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("lodash"),s=(r(a),t("../i18n/i18n"));n.ValidationResult=function(){function t(){i(this,t),this.errors={},this.warnings={},this.objectIdToError={}}return o(t,[{key:"addError",value:function(t,e){var n=this.errors[t];n||(n=[],this.errors[t]=n);var r=this.objectIdToError[e.$id];r||(r=[],this.objectIdToError[e.$id]=r),n.push(e),r.push(t)}},{key:"addWarning",value:function(t,e){var n=this.warnings[t];n||(n=[],this.warnings[t]=n),n.push(e)}},{key:"isValid",value:function(){return 0===Object.getOwnPropertyNames(this.errors).length}}],[{key:"getMessage",value:function(t){var e="validation."+t;return s.i18n.t(e)}}]),t}()},{"../i18n/i18n":547,lodash:40}]},{},[548])(548)});
//# sourceMappingURL=silver-decisions.min.js.map
