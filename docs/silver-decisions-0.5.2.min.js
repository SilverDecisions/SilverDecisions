!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.SilverDecisions=t()}}(function(){var t;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,r){!function(e,i){if("function"==typeof t&&t.amd)t(["exports","module"],i);else if("undefined"!=typeof r&&"undefined"!=typeof n)i(r,n);else{var o={exports:{}};i(o.exports,o),e.autosize=o.exports}}(this,function(t,e){"use strict";function n(t){function e(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),u="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(u)&&(u=0),s()}function n(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function r(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function i(){var e=t.style.height,n=r(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="auto";var o=t.scrollHeight+u;return 0===t.scrollHeight?void(t.style.height=e):(t.style.height=o+"px",c=t.clientWidth,n.forEach(function(t){t.node.scrollTop=t.scrollTop}),void(i&&(document.documentElement.scrollTop=i)))}function s(){i();var e=Math.round(parseFloat(t.style.height)),r=window.getComputedStyle(t,null),o=Math.round(parseFloat(r.height));if(o!==e?"visible"!==r.overflowY&&(n("visible"),i(),o=Math.round(parseFloat(window.getComputedStyle(t,null).height))):"hidden"!==r.overflowY&&(n("hidden"),i(),o=Math.round(parseFloat(window.getComputedStyle(t,null).height))),l!==o){l=o;var s=a("autosize:resized");try{t.dispatchEvent(s)}catch(u){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var u=null,c=t.clientWidth,l=null,f=function(){t.clientWidth!==c&&s()},p=function(e){window.removeEventListener("resize",f,!1),t.removeEventListener("input",s,!1),t.removeEventListener("keyup",s,!1),t.removeEventListener("autosize:destroy",p,!1),t.removeEventListener("autosize:update",s,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),o["delete"](t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",p,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",s,!1),window.addEventListener("resize",f,!1),t.addEventListener("input",s,!1),t.addEventListener("autosize:update",s,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:p,update:s}),e()}}function r(t){var e=o.get(t);e&&e.destroy()}function i(t){var e=o.get(t);e&&e.update()}var o="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(n){return e[t.indexOf(n)]},set:function(n,r){t.indexOf(n)===-1&&(t.push(n),e.push(r))},"delete":function(n){var r=t.indexOf(n);r>-1&&(t.splice(r,1),e.splice(r,1))}}}(),a=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(s){a=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(u=function(t){return t},u.destroy=function(t){return t},u.update=function(t){return t}):(u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t,e)}),t},u.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t}),e.exports=u})},{}],2:[function(e,n,r){!function(e){"use strict";var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,i=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),o=i&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,s=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(i||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,n,r,u,c,l,f,p,h;if(e=t.match(s),!e)throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),r=!!e[4],u=t.slice(e[0].length),c=r?atob(u):decodeURIComponent(u),l=new ArrayBuffer(c.length),f=new Uint8Array(l),p=0;p<c.length;p+=1)f[p]=c.charCodeAt(p);return i?new Blob([o?f:l],{type:n}):(h=new a,h.append(l),h.getBlob(n))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(t,e,n){t(n&&r.toDataURL&&u?u(this.toDataURL(e,n)):this.mozGetAsFile("blob",e))}:r.toDataURL&&u&&(r.toBlob=function(t,e,n){t(u(this.toDataURL(e,n)))})),"function"==typeof t&&t.amd?t(function(){return u}):"object"==typeof n&&n.exports?n.exports=u:e.dataURLtoBlob=u}(window)},{}],3:[function(e,n,r){!function(e){"use strict";function i(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function o(t,e){return this instanceof o?(u(t,e),this.re=a.re,void(this.im=a.im)):new o(t,e)}var a={re:0,im:0};Math.cosh=Math.cosh||function(t){return.5*(Math.exp(t)+Math.exp(-t))},Math.sinh=Math.sinh||function(t){return.5*(Math.exp(t)-Math.exp(-t))};var s=function(){throw SyntaxError("Invalid Param")},u=function(t,e){if(void 0===t||null===t)a.re=a.im=0;else if(void 0!==e)a.re=t,a.im=e;else switch(typeof t){case"object":"im"in t&&"re"in t?(a.re=t.re,a.im=t.im):"abs"in t&&"arg"in t?(a.re=t.abs*Math.cos(t.arg),a.im=t.abs*Math.sin(t.arg)):"r"in t&&"phi"in t?(a.re=t.r*Math.cos(t.phi),a.im=t.r*Math.sin(t.phi)):s();break;case"string":a.im=a.re=0;var n=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,i=0;null===n&&s();for(var o=0;o<n.length;o++){var u=n[o];" "===u||"\t"===u||"\n"===u||("+"===u?r++:"-"===u?i++:"i"===u||"I"===u?(r+i===0&&s()," "===n[o+1]||isNaN(n[o+1])?a.im+=parseFloat((i%2?"-":"")+"1"):(a.im+=parseFloat((i%2?"-":"")+n[o+1]),o++),r=i=0):((r+i===0||isNaN(u))&&s(),"i"===n[o+1]||"I"===n[o+1]?(a.im+=parseFloat((i%2?"-":"")+u),o++):a.re+=parseFloat((i%2?"-":"")+u),r=i=0))}r+i>0&&s();break;case"number":a.im=0,a.re=t;break;default:s()}isNaN(a.re)||isNaN(a.im)};o.prototype={re:0,im:0,sign:function(){var t=this.abs();return new o(this.re/t,this.im/t)},add:function(t,e){return u(t,e),new o(this.re+a.re,this.im+a.im)},sub:function(t,e){return u(t,e),new o(this.re-a.re,this.im-a.im)},mul:function(t,e){return u(t,e),0===a.im&&0===this.im?new o(this.re*a.re,0):new o(this.re*a.re-this.im*a.im,this.re*a.im+this.im*a.re)},div:function(t,e){u(t,e),t=this.re,e=this.im;var n,r,i=a.re,s=a.im;return 0===i&&0===s?new o(0!==t?t/0:0,0!==e?e/0:0):0===s?new o(t/i,e/i):Math.abs(i)<Math.abs(s)?(r=i/s,n=i*r+s,new o((t*r+e)/n,(e*r-t)/n)):(r=s/i,n=s*r+i,new o((t+e*r)/n,(e-t*r)/n))},pow:function(t,e){if(u(t,e),t=this.re,e=this.im,0===t&&0===e)return new o(0,0);var n=Math.atan2(e,t),r=i(t,e);if(0===a.im){if(0===e&&t>=0)return new o(Math.pow(t,a.re),0);if(0===t)switch(a.re%4){case 0:return new o(Math.pow(e,a.re),0);case 1:return new o(0,Math.pow(e,a.re));case 2:return new o((-Math.pow(e,a.re)),0);case 3:return new o(0,(-Math.pow(e,a.re)))}}return t=Math.exp(a.re*r-a.im*n),e=a.im*r+a.re*n,new o(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();return n>=0&&0===r?new o(Math.sqrt(n),0):(t=n>=0?.5*Math.sqrt(2*(i+n)):Math.abs(r)/Math.sqrt(2*(i-n)),e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new o(t,r>=0?e:-e))},exp:function(){var t=Math.exp(this.re);return 0===this.im,new o(t*Math.cos(this.im),t*Math.sin(this.im))},log:function(){var t=this.re,e=this.im;return new o(i(t,e),Math.atan2(e,t))},abs:function(){var t=Math.abs(this.re),e=Math.abs(this.im);return t<3e3&&e<3e3?Math.sqrt(t*t+e*e):(t<e?(t=e,e=this.re/this.im):e=this.im/this.re,t*Math.sqrt(1+e*e))},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new o(Math.sin(t)*Math.cosh(e),Math.cos(t)*Math.sinh(e))},cos:function(){var t=this.re,e=this.im;return new o(Math.cos(t)*Math.cosh(e),-Math.sin(t)*Math.sinh(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+Math.cosh(e);return new o(Math.sin(t)/n,Math.sinh(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-Math.cosh(e);return new o(-Math.sin(t)/n,Math.sinh(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*Math.cosh(2*e)+.5*Math.cos(2*t);return new o(Math.cos(t)*Math.cosh(e)/n,Math.sin(t)*Math.sinh(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*Math.cosh(2*e)-.5*Math.cos(2*t);return new o(Math.sin(t)*Math.cosh(e)/n,-Math.cos(t)*Math.sinh(e)/n)},asin:function(){var t=this.re,e=this.im,n=new o(e*e-t*t+1,-2*t*e).sqrt(),r=new o(n.re-e,n.im+t).log();return new o(r.im,(-r.re))},acos:function(){var t=this.re,e=this.im,n=new o(e*e-t*t+1,-2*t*e).sqrt(),r=new o(n.re-e,n.im+t).log();return new o(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new o(0,1/0);if(e===-1)return new o(0,(-(1/0)))}var n=t*t+(1-e)*(1-e),r=new o((1-e*e-t*t)/n,-2*t/n).log();return new o(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new o(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).atan():new o(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(0,1/0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).acos():new o(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).asin():new o(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new o(Math.sinh(t)*Math.cos(e),Math.cosh(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new o(Math.cosh(t)*Math.cos(e),Math.sinh(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=Math.cosh(t)+Math.cos(e);return new o(Math.sinh(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=Math.cosh(t)-Math.cos(e);return new o(Math.sinh(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-Math.cosh(2*t);return new o(-2*Math.sinh(t)*Math.cos(e)/n,2*Math.cosh(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+Math.cosh(2*t);return new o(2*Math.cosh(t)*Math.cos(e)/n,-2*Math.sinh(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t,e=this.acos();return e.im<=0?(t=e.re,e.re=-e.im,e.im=t):(t=e.im,e.im=-e.re,e.re=t),e},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,a=1+t,s=r*r+e*e,u=0!==s?new o((a*r-e*e)/s,(e*r+a*e)/s):new o(t!==-1?t/0:0,0!==e?e/0:0),c=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,c)/2,n&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).atanh():new o(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new o(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).asinh():new o(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(1/0,0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).acosh():new o(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){var t=this.re,e=this.im,n=t*t+e*e;return new o(0!==t?t/n:0,0!==e?-e/n:0)},conjugate:function(){return new o(this.re,(-this.im))},neg:function(){return new o((-this.re),(-this.im))},ceil:function(t){return t=Math.pow(10,t||0),new o(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new o(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new o(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){return u(t,e),Math.abs(a.re-this.re)<=o.EPSILON&&Math.abs(a.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return isNaN(t)||isNaN(e)?"NaN":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),e=Math.abs(e),1!==e&&(n+=e),n+="i"),n?n:"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.EPSILON=1e-16,"function"==typeof t&&t.amd?t([],function(){return o}):"object"==typeof r?n.exports=o:e.Complex=o}(this)},{}],4:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t){return function(e,n){return i(t(e),n)}}function n(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=x?i*=10:o>=w?i*=5:o>=_&&(i*=2),e<t?-i:i}function r(t){return t.length}var i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},o=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},a=o(i),s=a.right,u=a.left,c=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},l=function(t){return null===t?NaN:+t},f=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(null==e)for(;++s<i;)isNaN(n=l(t[s]))||(r=n-o,o+=r/++u,a+=r*(n-o));else for(;++s<i;)isNaN(n=l(e(t[s],s,t)))||(r=n-o,o+=r/++u,a+=r*(n-o));if(u>1)return a/(u-1)},p=function(t,e){var n=f(t,e);return n?Math.sqrt(n):n},h=function(t,e){var n,r,i,o=-1,a=t.length;if(null==e){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e(t[o],o,t))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e(t[o],o,t))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},d=Array.prototype,m=d.slice,g=d.map,y=function(t){return function(){return t}},v=function(t){return t},b=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},x=Math.sqrt(50),w=Math.sqrt(10),_=Math.sqrt(2),N=function(t,e,r){var i=n(t,e,r);return b(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)},E=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},M=function(){function t(t){var i,o,a=t.length,u=new Array(a);for(i=0;i<a;++i)u[i]=e(t[i],i,t);var c=n(u),l=c[0],f=c[1],p=r(u,l,f);Array.isArray(p)||(p=N(l,f,p));for(var h=p.length;p[0]<=l;)p.shift(),--h;for(;p[h-1]>=f;)p.pop(),--h;var d,m=new Array(h+1);for(i=0;i<=h;++i)d=m[i]=[],d.x0=i>0?p[i-1]:l,d.x1=i<h?p[i]:f;for(i=0;i<a;++i)o=u[i],l<=o&&o<=f&&m[s(p,o,0,h)].push(t[i]);return m}var e=v,n=h,r=E;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:y(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:y([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:y(Array.isArray(e)?m.call(e):e),t):r},t},S=function(t,e,n){if(null==n&&(n=l),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}},O=function(t,e,n){return t=g.call(t,l).sort(i),Math.ceil((n-e)/(2*(S(t,.75)-S(t,.25))*Math.pow(t.length,-1/3)))},k=function(t,e,n){return Math.ceil((n-e)/(3.5*p(t)*Math.pow(t.length,-1/3)))},T=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&r>n&&(n=r)}return n},A=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(null==e)for(;++o<i;)isNaN(n=l(t[o]))?--a:r+=n;else for(;++o<i;)isNaN(n=l(e(t[o],o,t)))?--a:r+=n;if(a)return r/a},C=function(t,e){var n,r=[],o=t.length,a=-1;if(null==e)for(;++a<o;)isNaN(n=l(t[a]))||r.push(n);else for(;++a<o;)isNaN(n=l(e(t[a],a,t)))||r.push(n);return S(r.sort(i),.5)},P=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n},j=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&n>r&&(n=r)}return n},z=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},D=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},R=function(t,e){if(n=t.length){var n,r,o=0,a=0,s=t[a];for(e||(e=i);++o<n;)(e(r=t[o],s)<0||0!==e(s,s))&&(s=r,a=o);return 0===e(s,s)?a:void 0}},I=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},F=function(t,e){var n,r=0,i=t.length,o=-1;if(null==e)for(;++o<i;)(n=+t[o])&&(r+=n);else for(;++o<i;)(n=+e(t[o],o,t))&&(r+=n);return r},B=function(t){if(!(o=t.length))return[];for(var e=-1,n=j(t,r),i=new Array(n);++e<n;)for(var o,a=-1,s=i[e]=new Array(o);++a<o;)s[a]=t[a][e];return i},U=function(){return B(arguments)};t.bisect=s,t.bisectRight=s,t.bisectLeft=u,t.ascending=i,t.bisector=o,t.descending=c,t.deviation=p,t.extent=h,t.histogram=M,t.thresholdFreedmanDiaconis=O,t.thresholdScott=k,t.thresholdSturges=E,t.max=T,t.mean=A,t.median=C,t.merge=P,t.min=j,t.pairs=z,t.permute=D,t.quantile=S,t.range=b,t.scan=R,t.shuffle=I,t.sum=F,t.ticks=N,t.tickStep=n,t.transpose=B,t.variance=f,t.zip=U,Object.defineProperty(t,"__esModule",{value:!0})})},{}],5:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-dispatch"),e("d3-drag"),e("d3-interpolate"),e("d3-selection"),e("d3-transition")):"function"==typeof t&&t.amd?t(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],o):o(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3)}(this,function(t,e,n,r,i,o){"use strict";function a(){i.event.stopImmediatePropagation()}function s(t){return{type:t}}function u(){return!i.event.button}function c(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function l(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function f(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function p(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function h(){return m(N)}function d(){return m(E)}function m(t){function p(e){var n=e.property("__brush",C).selectAll(".overlay").data([s("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",S.overlay).merge(n).each(function(){var t=l(this).extent;i.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([s("selection")]).enter().append("rect").attr("class","selection").attr("cursor",S.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return S[t.type]}),e.each(h).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",M)}function h(){var t=i.select(this),e=l(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-R/2:e[0][0]-R/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-R/2:e[0][1]-R/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+R:R}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+R:R})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(t,e){return t.__brush.emitter||new m(t,e)}function m(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function M(){function e(){var t=i.mouse(L);!Q||B||U||(Math.abs(t[0]-et[0])>Math.abs(t[1]-et[1])?U=!0:B=!0),et=t,F=!0,v(),r()}function r(){var t;switch(R=et[0]-tt[0],I=et[1]-tt[1],V){case x:case b:W&&(R=Math.max(X-p,Math.min(K-M,R)),m=p+R,C=M+R),$&&(I=Math.max(Z-g,Math.min(J-j,I)),y=g+I,D=j+I);break;case w:W<0?(R=Math.max(X-p,Math.min(K-p,R)),m=p+R,C=M):W>0&&(R=Math.max(X-M,Math.min(K-M,R)),m=p,C=M+R),$<0?(I=Math.max(Z-g,Math.min(J-g,I)),y=g+I,D=j):$>0&&(I=Math.max(Z-j,Math.min(J-j,I)),y=g,D=j+I);break;case _:W&&(m=Math.max(X,Math.min(K,p-R*W)),C=Math.max(X,Math.min(K,M+R*W))),$&&(y=Math.max(Z,Math.min(J,g-I*$)),D=Math.max(Z,Math.min(J,j+I*$)))}C<m&&(W*=-1,t=p,p=M,M=t,t=m,m=C,C=t,q in O&&it.attr("cursor",S[q=O[q]])),D<y&&($*=-1,t=g,g=j,j=t,t=y,y=D,D=t,q in k&&it.attr("cursor",S[q=k[q]])),H.selection&&(Y=H.selection),B&&(m=Y[0][0],C=Y[1][0]),U&&(y=Y[0][1],D=Y[1][1]),Y[0][0]===m&&Y[0][1]===y&&Y[1][0]===C&&Y[1][1]===D||(H.selection=[[m,y],[C,D]],h.call(L),nt.brush())}function s(){if(a(),i.event.touches){if(i.event.touches.length)return;P&&clearTimeout(P),P=setTimeout(function(){P=null},500),rt.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.dragEnable(i.event.view,F),ot.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);rt.attr("pointer-events","all"),it.attr("cursor",S.overlay),H.selection&&(Y=H.selection),f(Y)&&(H.selection=null,h.call(L)),nt.end()}function u(){switch(i.event.keyCode){case 16:Q=W&&$;break;case 18:V===w&&(W&&(M=C-R*W,p=m+R*W),$&&(j=D-I*$,g=y+I*$),V=_,r());break;case 32:V!==w&&V!==_||(W<0?M=C-R:W>0&&(p=m-R),$<0?j=D-I:$>0&&(g=y-I),V=x,it.attr("cursor",S.selection),r());break;default:return}v()}function c(){switch(i.event.keyCode){case 16:Q&&(B=U=Q=!1,r());break;case 18:V===_&&(W<0?M=C:W>0&&(p=m),$<0?j=D:$>0&&(g=y),V=w,r());break;case 32:V===x&&(i.event.altKey?(W&&(M=C-R*W,p=m+R*W),$&&(j=D-I*$,g=y+I*$),V=_):(W<0?M=C:W>0&&(p=m),$<0?j=D:$>0&&(g=y),V=w),it.attr("cursor",S[q]),r());break;default:return}v()}if(i.event.touches){if(i.event.changedTouches.length<i.event.touches.length)return v()}else if(P)return;if(z.apply(this,arguments)){var p,m,g,y,M,C,j,D,R,I,F,B,U,L=this,q=i.event.target.__data__.type,V="selection"===(i.event.metaKey?q="overlay":q)?b:i.event.altKey?_:w,W=t===E?null:T[q],$=t===N?null:A[q],H=l(L),G=H.extent,Y=H.selection,X=G[0][0],Z=G[0][1],K=G[1][0],J=G[1][1],Q=W&&$&&i.event.shiftKey,tt=i.mouse(L),et=tt,nt=d(L,arguments).beforestart();"overlay"===q?H.selection=Y=[[p=t===E?X:tt[0],g=t===N?Z:tt[1]],[M=t===E?K:p,j=t===N?J:g]]:(p=Y[0][0],g=Y[0][1],M=Y[1][0],j=Y[1][1]),m=p,y=g,C=M,D=j;var rt=i.select(L).attr("pointer-events","none"),it=rt.selectAll(".overlay").attr("cursor",S[q]);if(i.event.touches)rt.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",s,!0);else{var ot=i.select(i.event.view).on("keydown.brush",u,!0).on("keyup.brush",c,!0).on("mousemove.brush",e,!0).on("mouseup.brush",s,!0);n.dragDisable(i.event.view)}a(),o.interrupt(L),h.call(L),nt.start()}}function C(){var e=this.__brush||{selection:null};return e.extent=j.apply(this,arguments),e.dim=t,e}var P,j=c,z=u,D=e.dispatch(p,"start","brush","end"),R=6;return p.move=function(e,n){e.selection?e.on("start.brush",function(){d(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){d(this,arguments).end()}).tween("brush",function(){function e(t){o.selection=1===t&&f(u)?null:c(t),h.call(i),a.brush()}var i=this,o=i.__brush,a=d(i,arguments),s=o.selection,u=t.input("function"==typeof n?n.apply(this,arguments):n,o.extent),c=r.interpolate(s,u);return s&&u?e:e(1)}):e.each(function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,r):n,i.extent),s=d(e,r).beforestart();o.interrupt(e),i.selection=null==a||f(a)?null:a,h.call(e),s.start().brush().end()})},m.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){i.customEvent(new y(p,e,t.output(this.state.selection)),D.apply,D,[e,this.that,this.args])}},p.extent=function(t){return arguments.length?(j="function"==typeof t?t:g([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):j},p.filter=function(t){return arguments.length?(z="function"==typeof t?t:g(!!t),p):z},p.handleSize=function(t){return arguments.length?(R=+t,p):R},p.on=function(){var t=D.on.apply(D,arguments);return t===D?p:t},p}var g=function(t){return function(){return t}},y=function(t,e,n){this.target=t,this.type=e,this.selection=n},v=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},b={name:"drag"},x={name:"space"},w={name:"handle"},_={name:"center"},N={name:"x",handles:["e","w"].map(s),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},E={name:"y",handles:["n","s"].map(s),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},M={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(s),input:function(t){return t},output:function(t){return t}},S={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},O={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},k={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},T={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},A={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},C=function(){return m(M)};t.brush=C,t.brushX=h,t.brushY=d,t.brushSelection=p,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":8,"d3-drag":9,"d3-interpolate":13,"d3-selection":16,"d3-transition":21}],6:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(){}function n(t,n){var r=new e;if(t instanceof e)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(n(i=t[o],o,t),i)}else if(t)for(var s in t)r.set(s,t[s]);return r}function r(){return{}}function i(t,e,n){t[e]=n}function o(){return n()}function a(t,e,n){t.set(e,n)}function s(){}function u(t,e){var n=new s;if(t instanceof s)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}var c="$";e.prototype=n.prototype={constructor:e,has:function(t){return c+t in this},get:function(t){return this[c+t]},set:function(t,e){return this[c+t]=e,this},remove:function(t){var e=c+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===c&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===c&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===c&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===c&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===c&&++t;return t},empty:function(){for(var t in this)if(t[0]===c)return!1;return!0},each:function(t){for(var e in this)e[0]===c&&t(this[e],e.slice(1),this)}};var l=function(){function t(e,r,i,o){if(r>=l.length)return null!=u?u(e):null!=s?e.sort(s):e;for(var a,c,f,p=-1,h=e.length,d=l[r++],m=n(),g=i();++p<h;)(f=m.get(a=d(c=e[p])+""))?f.push(c):m.set(a,[c]);return m.each(function(e,n){o(g,n,t(e,r,i,o))}),g}function e(t,n){if(++n>l.length)return t;var r,i=f[n-1];return null!=u&&n>=l.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=i?r.sort(function(t,e){return i(t.key,e.key)}):r}var s,u,c,l=[],f=[];return c={object:function(e){return t(e,0,r,i)},map:function(e){return t(e,0,o,a)},entries:function(n){return e(t(n,0,o,a),0)},key:function(t){return l.push(t),c},sortKeys:function(t){return f[l.length-1]=t,c},sortValues:function(t){return s=t,c},rollup:function(t){return u=t,c}}},f=n.prototype;s.prototype=u.prototype={constructor:s,has:f.has,add:function(t){return t+="",this[c+t]=t,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var p=function(t){var e=[];for(var n in t)e.push(n);return e},h=function(t){var e=[];for(var n in t)e.push(t[n]);return e},d=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};t.nest=l,t.set=u,t.map=n,t.keys=p,t.values=h,t.entries=d,Object.defineProperty(t,"__esModule",{value:!0})})},{}],7:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function n(){}function r(t){var e;return t=(t+"").trim().toLowerCase(),(e=j.exec(t))?(e=parseInt(e[1],16),new u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=z.exec(t))?i(parseInt(e[1],16)):(e=D.exec(t))?new u(e[1],e[2],e[3],1):(e=R.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=I.exec(t))?o(e[1],e[2],e[3],e[4]):(e=F.exec(t))?o(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=B.exec(t))?c(e[1],e[2]/100,e[3]/100,1):(e=U.exec(t))?c(e[1],e[2]/100,e[3]/100,e[4]):L.hasOwnProperty(t)?i(L[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function i(t){return new u(t>>16&255,t>>8&255,255&t,1)}function o(t,e,n,r){return r<=0&&(t=e=n=NaN),new u(t,e,n,r)}function a(t){return t instanceof n||(t=r(t)),t?(t=t.rgb(),new u(t.r,t.g,t.b,t.opacity)):new u}function s(t,e,n,r){return 1===arguments.length?a(t):new u(t,e,n,null==r?1:r)}function u(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function c(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new p(t,e,n,r)}function l(t){if(t instanceof p)return new p(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=r(t)),!t)return new p;if(t instanceof p)return t;t=t.rgb();var e=t.r/255,i=t.g/255,o=t.b/255,a=Math.min(e,i,o),s=Math.max(e,i,o),u=NaN,c=s-a,l=(s+a)/2;return c?(u=e===s?(i-o)/c+6*(i<o):i===s?(o-e)/c+2:(e-i)/c+4,c/=l<.5?s+a:2-s-a,u*=60):c=l>0&&l<1?0:u,new p(u,c,l,t.opacity)}function f(t,e,n,r){return 1===arguments.length?l(t):new p(t,e,n,null==r?1:r)}function p(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function h(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function d(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof N){var e=t.h*q;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof u||(t=a(t));var n=x(t.r),r=x(t.g),i=x(t.b),o=y((.4124564*n+.3575761*r+.1804375*i)/$),s=y((.2126729*n+.7151522*r+.072175*i)/H),c=y((.0193339*n+.119192*r+.9503041*i)/G);return new g(116*s-16,500*(o-s),200*(s-c),t.opacity)}function m(t,e,n,r){return 1===arguments.length?d(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function y(t){return t>K?Math.pow(t,1/3):t/Z+Y}function v(t){
return t>X?t*t*t:Z*(t-Y)}function b(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function w(t){if(t instanceof N)return new N(t.h,t.c,t.l,t.opacity);t instanceof g||(t=d(t));var e=Math.atan2(t.b,t.a)*V;return new N(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function _(t,e,n,r){return 1===arguments.length?w(t):new N(t,e,n,null==r?1:r)}function N(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function E(t){if(t instanceof S)return new S(t.h,t.s,t.l,t.opacity);t instanceof u||(t=a(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(ot*r+rt*e-it*n)/(ot+rt-it),o=r-i,s=(nt*(n-i)-tt*o)/et,c=Math.sqrt(s*s+o*o)/(nt*i*(1-i)),l=c?Math.atan2(s,o)*V-120:NaN;return new S(l<0?l+360:l,c,i,t.opacity)}function M(t,e,n,r){return 1===arguments.length?E(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var O=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},k=.7,T=1/k,A="\\s*([+-]?\\d+)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",P="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j=/^#([0-9a-f]{3})$/,z=/^#([0-9a-f]{6})$/,D=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),R=new RegExp("^rgb\\("+[P,P,P]+"\\)$"),I=new RegExp("^rgba\\("+[A,A,A,C]+"\\)$"),F=new RegExp("^rgba\\("+[P,P,P,C]+"\\)$"),B=new RegExp("^hsl\\("+[C,P,P]+"\\)$"),U=new RegExp("^hsla\\("+[C,P,P,C]+"\\)$"),L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O(n,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),O(u,s,e(n,{brighter:function(t){return t=null==t?T:Math.pow(T,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?k:Math.pow(k,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),O(p,f,e(n,{brighter:function(t){return t=null==t?T:Math.pow(T,t),new p(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?k:Math.pow(k,t),new p(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new u(h(t>=240?t-240:t+120,i,r),h(t,i,r),h(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var q=Math.PI/180,V=180/Math.PI,W=18,$=.95047,H=1,G=1.08883,Y=4/29,X=6/29,Z=3*X*X,K=X*X*X;O(g,m,e(n,{brighter:function(t){return new g(this.l+W*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-W*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=H*v(t),e=$*v(e),n=G*v(n),new u(b(3.2404542*e-1.5371385*t-.4985314*n),b(-.969266*e+1.8760108*t+.041556*n),b(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),O(N,_,e(n,{brighter:function(t){return new N(this.h,this.c,this.l+W*(null==t?1:t),this.opacity)},darker:function(t){return new N(this.h,this.c,this.l-W*(null==t?1:t),this.opacity)},rgb:function(){return d(this).rgb()}}));var J=-.14861,Q=1.78277,tt=-.29227,et=-.90649,nt=1.97294,rt=nt*et,it=nt*Q,ot=Q*tt-et*J;O(S,M,e(n,{brighter:function(t){return t=null==t?T:Math.pow(T,t),new S(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?k:Math.pow(k,t),new S(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*q,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new u(255*(e+n*(J*r+Q*i)),255*(e+n*(tt*r+et*i)),255*(e+n*(nt*r)),this.opacity)}})),t.color=r,t.rgb=s,t.hsl=f,t.lab=m,t.hcl=_,t.cubehelix=M,Object.defineProperty(t,"__esModule",{value:!0})})},{}],8:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(){for(var t,e=0,r=arguments.length,i={};e<r;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new n(i)}function n(t){this._=t}function r(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function i(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function o(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var a={value:function(){}};n.prototype=e.prototype={constructor:n,on:function(t,e){var n,a=this._,s=r(t+"",a),u=-1,c=s.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<c;)if(n=(t=s[u]).type)a[n]=o(a[n],t.name,e);else if(null==e)for(n in a)a[n]=o(a[n],t.name,null);return this}for(;++u<c;)if((n=(t=s[u]).type)&&(n=i(a[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new n(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})})},{}],9:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-dispatch"),e("d3-selection")):"function"==typeof t&&t.amd?t(["exports","d3-dispatch","d3-selection"],o):o(i.d3=i.d3||{},i.d3,i.d3)}(this,function(t,e,n){"use strict";function r(){n.event.stopImmediatePropagation()}function i(t,e){var r=t.document.documentElement,i=n.select(t).on("dragstart.drag",null);e&&(i.on("click.drag",c,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function o(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function a(){return!n.event.button}function s(){return this.parentNode}function u(t){return null==t?{x:n.event.x,y:n.event.y}:t}var c=function(){n.event.preventDefault(),n.event.stopImmediatePropagation()},l=function(t){var e=t.document.documentElement,r=n.select(t).on("dragstart.drag",c,!0);"onselectstart"in e?r.on("selectstart.drag",c,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},f=function(t){return function(){return t}};o.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var p=function(){function t(t){t.on("mousedown.drag",p).on("touchstart.drag",m).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!x&&w.apply(this,arguments)){var t=v("mouse",_.apply(this,arguments),n.mouse,this,arguments);t&&(n.select(n.event.view).on("mousemove.drag",h,!0).on("mouseup.drag",d,!0),l(n.event.view),r(),b=!1,t("start"))}}function h(){c(),b=!0,E.mouse("drag")}function d(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),i(n.event.view,b),c(),E.mouse("end")}function m(){if(w.apply(this,arguments)){var t,e,i=n.event.changedTouches,o=_.apply(this,arguments),a=i.length;for(t=0;t<a;++t)(e=v(i[t].identifier,o,n.touch,this,arguments))&&(r(),e("start"))}}function g(){var t,e,r=n.event.changedTouches,i=r.length;for(t=0;t<i;++t)(e=E[r[t].identifier])&&(c(),e("drag"))}function y(){var t,e,i=n.event.changedTouches,o=i.length;for(x&&clearTimeout(x),x=setTimeout(function(){x=null},500),t=0;t<o;++t)(e=E[i[t].identifier])&&(r(),e("end"))}function v(e,r,i,a,s){var u,c,l,f=i(r,e),p=M.copy();if(n.customEvent(new o(t,"beforestart",u,e,S,f[0],f[1],0,0,p),function(){return null!=(n.event.subject=u=N.apply(a,s))&&(c=u.x-f[0]||0,l=u.y-f[1]||0,!0)}))return function h(d){var m,g=f;switch(d){case"start":E[e]=h,m=S++;break;case"end":delete E[e],--S;case"drag":f=i(r,e),m=S}n.customEvent(new o(t,d,u,e,m,f[0]+c,f[1]+l,f[0]-g[0],f[1]-g[1],p),p.apply,p,[d,a,s])}}var b,x,w=a,_=s,N=u,E={},M=e.dispatch("start","drag","end"),S=0;return t.filter=function(e){return arguments.length?(w="function"==typeof e?e:f(!!e),t):w},t.container=function(e){return arguments.length?(_="function"==typeof e?e:f(e),t):_},t.subject=function(e){return arguments.length?(N="function"==typeof e?e:f(e),t):N},t.on=function(){var e=M.on.apply(M,arguments);return e===M?t:e},t};t.drag=p,t.dragDisable=l,t.dragEnable=i,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":8,"d3-selection":16}],10:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t){return+t}function n(t){return t*t}function r(t){return t*(2-t)}function i(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function o(t){return t*t*t}function a(t){return--t*t*t+1}function s(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function u(t){return 1-Math.cos(t*M)}function c(t){return Math.sin(t*M)}function l(t){return(1-Math.cos(E*t))/2}function f(t){return Math.pow(2,10*t-10)}function p(t){return 1-Math.pow(2,-10*t)}function h(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function d(t){return 1-Math.sqrt(1-t*t)}function m(t){return Math.sqrt(1- --t*t)}function g(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function y(t){return 1-v(1-t)}function v(t){return(t=+t)<S?D*t*t:t<k?D*(t-=O)*t+T:t<C?D*(t-=A)*t+P:D*(t-=j)*t+z}function b(t){return((t*=2)<=1?1-v(1-t):v(t-1)+1)/2}var x=3,w=function H(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=H,e}(x),_=function G(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=G,e}(x),N=function Y(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=Y,e}(x),E=Math.PI,M=E/2,S=4/11,O=6/11,k=8/11,T=.75,A=9/11,C=10/11,P=.9375,j=21/22,z=63/64,D=1/S/S,R=1.70158,I=function X(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=X,e}(R),F=function Z(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=Z,e}(R),B=function K(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=K,e}(R),U=2*Math.PI,L=1,q=.3,V=function J(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((r-n)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=U);return n.amplitude=function(t){return J(t,e*U)},n.period=function(e){return J(t,e)},n}(L,q),W=function Q(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+r)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=U);return n.amplitude=function(t){return Q(t,e*U)},n.period=function(e){return Q(t,e)},n}(L,q),$=function tt(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((r-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((r+n)/e))/2}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=U);return n.amplitude=function(t){return tt(t,e*U)},n.period=function(e){return tt(t,e)},n}(L,q);t.easeLinear=e,t.easeQuad=i,t.easeQuadIn=n,t.easeQuadOut=r,t.easeQuadInOut=i,t.easeCubic=s,t.easeCubicIn=o,t.easeCubicOut=a,t.easeCubicInOut=s,t.easePoly=N,t.easePolyIn=w,t.easePolyOut=_,t.easePolyInOut=N,t.easeSin=l,t.easeSinIn=u,t.easeSinOut=c,t.easeSinInOut=l,t.easeExp=h,t.easeExpIn=f,t.easeExpOut=p,t.easeExpInOut=h,t.easeCircle=g,t.easeCircleIn=d,t.easeCircleOut=m,t.easeCircleInOut=g,t.easeBounce=v,t.easeBounceIn=y,t.easeBounceOut=v,t.easeBounceInOut=b,t.easeBack=B,t.easeBackIn=I,t.easeBackOut=F,t.easeBackInOut=B,t.easeElastic=W,t.easeElasticIn=V,t.easeElasticOut=W,t.easeElasticInOut=$,Object.defineProperty(t,"__esModule",{value:!0})})},{}],11:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function n(t){return t=e(Math.abs(t)),t?t[1]:NaN}function r(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function i(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}function o(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],o=r[1],a=o-(m=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+e(t,Math.max(0,n+a-1))[0]}function a(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array((-o)).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}function s(t){return new u(t)}function u(t){if(!(e=y.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(u=!0,l="g"):g[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=c,this.type=l}function c(t){return t}function l(t){function e(t){function e(t){var e,a,s,c=y,g=v;if("c"===d)g=x(t)+g,t="";else{t=+t;var _=(t<0||1/t<0)&&(t*=-1,!0);if(t=x(t,h),_)for(e=-1,a=t.length,_=!1;++e<a;)if(s=t.charCodeAt(e),48<s&&s<58||"x"===d&&96<s&&s<103||"X"===d&&64<s&&s<71){_=!0;break}if(c=(_?"("===i?i:"-":"-"===i||"("===i?"":i)+c,g=g+("s"===d?b[8+m/3]:"")+(_&&"("===i?")":""),w)for(e=-1,a=t.length;++e<a;)if(s=t.charCodeAt(e),48>s||s>57){g=(46===s?u+t.slice(e+1):t.slice(e))+g,t=t.slice(0,e);break}}p&&!l&&(t=o(t,1/0));var N=c.length+t.length+g.length,E=N<f?new Array(f-N+1).join(n):"";switch(p&&l&&(t=o(E+t,E.length?f-g.length:1/0),E=""),r){case"<":return c+t+g+E;case"=":return c+E+t+g;case"^":return E.slice(0,N=E.length>>1)+c+t+g+E.slice(N)}return E+c+t+g}t=s(t);var n=t.fill,r=t.align,i=t.sign,c=t.symbol,l=t.zero,f=t.width,p=t.comma,h=t.precision,d=t.type,y="$"===c?a[0]:"#"===c&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",v="$"===c?a[1]:/[%p]/.test(d)?"%":"",x=g[d],w=!d||/[defgprs%]/.test(d);return h=null==h?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),e.toString=function(){return t+""},e}function i(t,r){var i=e((t=s(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),a=Math.pow(10,-o),u=b[8+o/3];return function(t){return i(a*t)+u}}var o=t.grouping&&t.thousands?r(t.grouping,t.thousands):c,a=t.currency,u=t.decimal;return{format:e,formatPrefix:i}}function f(e){return v=l(e),t.format=v.format,t.formatPrefix=v.formatPrefix,v}function p(t){return Math.max(0,-n(Math.abs(t)))}function h(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))}function d(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1}var m,g={"":i,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return a(100*t,e)},r:a,s:o,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},y=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var v,b=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];f({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),t.formatDefaultLocale=f,t.formatLocale=l,t.formatSpecifier=s,t.precisionFixed=p,t.precisionPrefix=h,t.precisionRound=d,Object.defineProperty(t,"__esModule",{value:!0})})},{}],12:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,e){return t.parent===e.parent?1:2}function n(t){return t.reduce(r,0)/t.length}function r(t,e){return t+e.x}function i(t){return 1+t.reduce(o,0)}function o(t,e){return Math.max(t,e.y)}function a(t){for(var e;e=t.children;)t=e[0];return t}function s(t){for(var e;e=t.children;)t=e[e.length-1];return t}function u(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function c(t,e){var n,r,i,o,a,s=new d(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=f);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new d(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(h)}function l(){return c(this).eachBefore(p)}function f(t){return t.children}function p(t){t.data=t.data.data}function h(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function d(t){this.data=t,this.depth=this.height=0,this.parent=null}function m(t){this._=t,this.next=null}function g(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r-e.r;return i*i+1e-6>n*n+r*r}function y(t,e){var n,r,i,o=null,a=t.head;switch(e.length){case 1:n=v(e[0]);break;case 2:n=b(e[0],e[1]);break;case 3:n=x(e[0],e[1],e[2])}for(;a;)i=a._,r=a.next,n&&g(n,i)?o=a:(o?(t.tail=o,o.next=null):t.head=t.tail=null,e.push(i),n=y(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),o=t.tail,o.next=r),a=r;return t.tail=o,n}function v(t){return{x:t.x,y:t.y,r:t.r}}function b(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function x(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,p=2*(r-a),h=2*(i-s),d=2*(u-o),m=r*r+i*i-o*o-a*a-s*s+u*u,g=2*(r-c),y=2*(i-l),v=2*(f-o),b=r*r+i*i-o*o-c*c-l*l+f*f,x=g*h-p*y,w=(h*b-y*m)/x-r,_=(y*d-h*v)/x,N=(g*m-p*b)/x-i,E=(p*v-g*d)/x,M=_*_+E*E-1,S=2*(w*_+N*E+o),O=w*w+N*N-o*o,k=(-S-Math.sqrt(S*S-4*M*O))/(2*M);return{x:w+_*k+r,y:N+E*k+i,r:k}}function w(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,c=s*s+u*u;if(c){var l=.5+((a*=a)-(o*=o))/(2*c),f=Math.sqrt(Math.max(0,2*o*(a+c)-(a-=c)*a-o*o))/(2*c);n.x=r+l*s+f*u,n.y=i+l*u-f*s}else n.x=r+a,n.y=i}function _(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i>n*n+r*r}function N(t,e,n){var r=t.x-e,i=t.y-n;return r*r+i*i}function E(t){this._=t,this.next=null,this.previous=null}function M(t){if(!(i=t.length))return 0;var e,n,r,i;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;w(n,e,r=t[2]);var o,a,s,u,c,l,f,p=e.r*e.r,h=n.r*n.r,d=r.r*r.r,m=p+h+d,g=p*e.x+h*n.x+d*r.x,y=p*e.y+h*n.y+d*r.y;e=new E(e),n=new E(n),r=new E(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){if(w(e._,n._,r=t[s]),r=new E(r),(c=e.previous)===(u=n.next)){if(_(u._,r._)){e=n,n=u,--s;continue t}}else{l=u._.r,f=c._.r;do if(l<=f){if(_(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}u=u.next,l+=u._.r}else{if(_(c._,r._)){e=c,e.next=n,n.previous=e,--s;continue t}c=c.previous,f+=c._.r}while(u!==c.next)}for(r.previous=e,r.next=n,e.next=n.previous=n=r,m+=d=r._.r*r._.r,g+=d*r._.x,y+=d*r._.y,p=N(e._,o=g/m,a=y/m);(r=r.next)!==n;)(d=N(r._,o,a))<p&&(e=r,p=d);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=nt(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function S(t){return null==t?null:O(t)}function O(t){if("function"!=typeof t)throw new Error;return t}function k(){return 0}function T(t){return Math.sqrt(t.value)}function A(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function C(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=M(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function P(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function j(t){return t.id}function z(t){return t.parentId}function D(t,e){return t.parent===e.parent?1:2}function R(t){var e=t.children;return e?e[0]:t.t}function I(t){var e=t.children;return e?e[e.length-1]:t.t}function F(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function B(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function U(t,e,n){return t.a.parent===e.parent?t.a:n}function L(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function q(t){for(var e,n,r,i,o,a=new L(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new L(r[i],i)),n.parent=e;return(a.parent=new L(null,0)).children=[a],a}function V(t,e,n,r,i,o){for(var a,s,u,c,l,f,p,h,d,m,g,y=[],v=e.children,b=0,x=0,w=v.length,_=e.value;b<w;){u=i-n,c=o-r;do l=v[x++].value;while(!l&&x<w);for(f=p=l,m=Math.max(c/u,u/c)/(_*t),g=l*l*m,d=Math.max(p/g,g/f);x<w;++x){if(l+=s=v[x].value,s<f&&(f=s),s>p&&(p=s),g=l*l*m,h=Math.max(p/g,g/f),h>d){l-=s;break}d=h}y.push(a={value:l,dice:u<c,children:v.slice(b,x)}),a.dice?st(a,n,r,i,_?r+=c*l/_:o):dt(a,n,r,_?n+=u*l/_:i,o),_-=l,b=x}return y}var W=function(){function t(t){var e,l=0;t.eachAfter(function(t){var o=t.children;o?(t.x=n(o),t.y=i(o)):(t.x=e?l+=r(t,e):0,t.y=0,e=t)});var f=a(t),p=s(t),h=f.x-r(f,p)/2,d=p.x+r(p,f)/2;return t.eachAfter(c?function(e){e.x=(e.x-t.x)*o,e.y=(t.y-e.y)*u}:function(e){e.x=(e.x-h)/(d-h)*o,e.y=(1-(t.y?e.y/t.y:1))*u})}var r=e,o=1,u=1,c=!1;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(c=!1,o=+e[0],u=+e[1],t):c?null:[o,u]},t.nodeSize=function(e){return arguments.length?(c=!0,o=+e[0],u=+e[1],t):c?[o,u]:null},t},$=function(t){var e,n,r,i,o=this,a=[o];do for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(a.length);return this},H=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},G=function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},Y=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},X=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},Z=function(t){for(var e=this,n=u(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},K=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},J=function(){var t=[];return this.each(function(e){t.push(e)}),t},Q=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},tt=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};d.prototype=c.prototype={constructor:d,each:$,eachAfter:G,eachBefore:H,sum:Y,sort:X,path:Z,ancestors:K,descendants:J,leaves:Q,links:tt,copy:l};var et=function(t){for(var e,n=(t=t.slice()).length,r=null,i=r;n;){var o=new m(t[n-1]);i=i?i.next=o:r=o,t[e]=t[--n]}return{head:r,tail:i}},nt=function(t){return y(et(t),[])},rt=function(t){return M(t),t},it=function(t){return function(){return t}},ot=function(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(A(e)).eachAfter(C(i,.5)).eachBefore(P(1)):t.eachBefore(A(T)).eachAfter(C(k,1)).eachAfter(C(i,t.r/Math.min(n,r))).eachBefore(P(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=k;return t.radius=function(n){return arguments.length?(e=S(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:it(+e),t):i},t},at=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},st=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},ut=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=r/a,t.eachBefore(e(r,a)),o&&t.eachBefore(at),t}function e(t,e){return function(n){n.children&&st(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,a=n.x1-i,s=n.y1-i;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),n.x0=r,n.y0=o,n.x1=a,n.y1=s}}var n=1,r=1,i=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},ct="$",lt={depth:-1},ft={},pt=function(){function t(t){var r,i,o,a,s,u,c,l=t.length,f=new Array(l),p={};for(i=0;i<l;++i)r=t[i],s=f[i]=new d(r),null!=(u=e(r,i,t))&&(u+="")&&(c=ct+(s.id=u),p[c]=c in p?ft:s);for(i=0;i<l;++i)if(s=f[i],u=n(t[i],i,t),null!=u&&(u+="")){if(a=p[ct+u],!a)throw new Error("missing: "+u);if(a===ft)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=lt,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(h),o.parent=null,l>0)throw new Error("cycle");return o}var e=j,n=z;return t.id=function(n){return arguments.length?(e=O(n),t):e},t.parentId=function(e){return arguments.length?(n=O(e),t):n},t};L.prototype=Object.create(d.prototype);var ht=function(){function t(t){var r=q(t);if(r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),u)t.eachBefore(i);else{var c=t,l=t,f=t;t.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var p=c===l?1:o(c,l)/2,h=p-c.x,d=a/(l.x+p+h),m=s/(f.depth||1);t.eachBefore(function(t){t.x=(t.x+h)*d,t.y=t.depth*m})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){B(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var r,i=t,a=t,s=e,u=i.parent.children[0],c=i.m,l=a.m,f=s.m,p=u.m;s=I(s),i=R(i),s&&i;)u=R(u),a=I(a),a.a=t,r=s.z+f-i.z-c+o(s._,i._),r>0&&(F(U(s,t,n),t,r),c+=r,l+=r),f+=s.m,c+=i.m,p+=u.m,l+=a.m;s&&!I(a)&&(a.t=s,a.m+=f-l),i&&!R(u)&&(u.t=i,u.m+=c-p,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*s}var o=D,a=1,s=1,u=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(u=!1,a=+e[0],s=+e[1],t):u?null:[a,s]},t.nodeSize=function(e){return arguments.length?(u=!0,a=+e[0],s=+e[1],t):u?[a,s]:null},t},dt=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},mt=(1+Math.sqrt(5))/2,gt=function wt(t){function e(e,n,r,i,o){V(t,e,n,r,i,o)}return e.ratio=function(t){return wt((t=+t)>1?t:1)},e}(mt),yt=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),a=[0],r&&t.eachBefore(at),t}function e(t){var e=a[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,p=t.y1-e;o<r&&(r=o=(r+o)/2),p<i&&(i=p=(i+p)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=p,t.children&&(e=a[t.depth+1]=s(t)/2,r+=f(t)-e,i+=u(t)-e,o-=c(t)-e,p-=l(t)-e,o<r&&(r=o=(r+o)/2),p<i&&(i=p=(i+p)/2),n(t,r,i,o,p))}var n=gt,r=!1,i=1,o=1,a=[0],s=k,u=k,c=k,l=k,f=k;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=O(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:it(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:it(+e),t):u},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:it(+e),t):c},t.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:it(+e),t):l},t.paddingLeft=function(e){return arguments.length?(f="function"==typeof e?e:it(+e),t):f},t},vt=function(t,e,n,r,i){function o(t,e,n,r,i,a,s){if(t>=e-1){var c=u[t];return c.x0=r,c.y0=i,c.x1=a,c.y1=s,void 0}for(var f=l[t],p=n/2+f,h=t+1,d=e-1;h<d;){var m=h+d>>>1;l[m]<p?h=m+1:d=m}var g=l[h]-f,y=n-g;if(s-i>a-r){var v=(i*y+s*g)/n;o(t,h,g,r,i,a,v),o(h,e,y,r,v,a,s)}else{var b=(r*y+a*g)/n;o(t,h,g,r,i,b,s),o(h,e,y,b,i,a,s)}}var a,s,u=t.children,c=u.length,l=new Array(c+1);for(l[0]=s=a=0;a<c;++a)l[a+1]=s+=u[a].value;o(0,c,t.value,e,n,r,i)},bt=function(t,e,n,r,i){
(1&t.depth?dt:st)(t,e,n,r,i)},xt=function _t(t){function e(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,u,c,l,f=-1,p=a.length,h=e.value;++f<p;){for(s=a[f],u=s.children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?st(s,n,r,i,r+=(o-r)*s.value/h):dt(s,n,r,n+=(i-n)*s.value/h,o),h-=s.value}else e._squarify=a=V(t,e,n,r,i,o),a.ratio=t}return e.ratio=function(t){return _t((t=+t)>1?t:1)},e}(mt);t.cluster=W,t.hierarchy=c,t.pack=ot,t.packSiblings=rt,t.packEnclose=nt,t.partition=ut,t.stratify=pt,t.tree=ht,t.treemap=yt,t.treemapBinary=vt,t.treemapDice=st,t.treemapSlice=dt,t.treemapSliceDice=bt,t.treemapSquarify=gt,t.treemapResquarify=xt,Object.defineProperty(t,"__esModule",{value:!0})})},{}],13:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-color")):"function"==typeof t&&t.amd?t(["exports","d3-color"],o):o(i.d3=i.d3||{},i.d3)}(this,function(t,e){"use strict";function n(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function r(t,e){return function(n){return t+n*e}}function i(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function o(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):O(isNaN(t)?e:t)}function a(t){return 1===(t=+t)?s:function(e,n){return n-e?i(e,n,t):O(isNaN(e)?n:e)}}function s(t,e){var n=e-t;return n?r(t,n):O(isNaN(t)?e:t)}function u(t){return function(n){var r,i,o=n.length,a=new Array(o),s=new Array(o),u=new Array(o);for(r=0;r<o;++r)i=e.rgb(n[r]),a[r]=i.r||0,s[r]=i.g||0,u[r]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}function c(t){return function(){return t}}function l(t){return function(e){return t(e)+""}}function f(t){return"none"===t?L:(w||(w=document.createElement("DIV"),_=document.documentElement,N=document.defaultView),w.style.transform=t,t=N.getComputedStyle(_.appendChild(w),null).getPropertyValue("transform"),_.removeChild(w),t=t.slice(7,-1).split(","),q(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function p(t){return null==t?L:(E||(E=document.createElementNS("http://www.w3.org/2000/svg","g")),E.setAttribute("transform",t),(t=E.transform.baseVal.consolidate())?(t=t.matrix,q(t.a,t.b,t.c,t.d,t.e,t.f)):L)}function h(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:j(t,i)},{i:u-2,x:j(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:j(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:j(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:j(t,n)},{i:s-2,x:j(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function d(t){return((t=Math.exp(t))+1/t)/2}function m(t){return((t=Math.exp(t))-1/t)/2}function g(t){return((t=Math.exp(2*t))-1)/(t+1)}function y(t){return function(n,r){var i=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),o=s(n.s,r.s),a=s(n.l,r.l),u=s(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=u(t),n+""}}}function v(t,n){var r=s((t=e.lab(t)).l,(n=e.lab(n)).l),i=s(t.a,n.a),o=s(t.b,n.b),a=s(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}}function b(t){return function(n,r){var i=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),o=s(n.c,r.c),a=s(n.l,r.l),u=s(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=u(t),n+""}}}function x(t){return function n(r){function i(n,i){var o=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=s(n.s,i.s),u=s(n.l,i.l),c=s(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=u(Math.pow(t,r)),n.opacity=c(t),n+""}}return r=+r,i.gamma=n,i}(1)}var w,_,N,E,M=function(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return n((r-i/e)*e,s,o,a,u)}},S=function(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return n((r-i/e)*e,o,a,s,u)}},O=function(t){return function(){return t}},k=function rt(t){function n(t,n){var i=r((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=r(t.g,n.g),a=r(t.b,n.b),s=r(t.opacity,n.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}var r=a(t);return n.gamma=rt,n}(1),T=u(M),A=u(S),C=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=F(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},P=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},j=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},z=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=F(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},D=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R=new RegExp(D.source,"g"),I=function(t,e){var n,r,i,o=D.lastIndex=R.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=D.exec(t))&&(r=R.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:j(n,r)})),o=R.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?l(u[0].x):c(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},F=function(t,n){var r,i=typeof n;return null==n||"boolean"===i?O(n):("number"===i?j:"string"===i?(r=e.color(n))?(n=r,k):I:n instanceof e.color?k:n instanceof Date?P:Array.isArray(n)?C:isNaN(n)?z:j)(t,n)},B=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},U=180/Math.PI,L={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},q=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*U,skewX:Math.atan(u)*U,scaleX:a,scaleY:s}},V=h(f,"px, ","px)","deg)"),W=h(p,", ",")",")"),$=Math.SQRT2,H=2,G=4,Y=1e-12,X=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,f=u-o,p=l*l+f*f;if(p<Y)r=Math.log(c/a)/$,n=function(t){return[i+t*l,o+t*f,a*Math.exp($*t*r)]};else{var h=Math.sqrt(p),y=(c*c-a*a+G*p)/(2*a*H*h),v=(c*c-a*a-G*p)/(2*c*H*h),b=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(v*v+1)-v);r=(x-b)/$,n=function(t){var e=t*r,n=d(b),s=a/(H*h)*(n*g($*e+b)-m(b));return[i+s*l,o+s*f,a*n/d($*e+b)]}}return n.duration=1e3*r,n},Z=y(o),K=y(s),J=b(o),Q=b(s),tt=x(o),et=x(s),nt=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};t.interpolate=F,t.interpolateArray=C,t.interpolateBasis=M,t.interpolateBasisClosed=S,t.interpolateDate=P,t.interpolateNumber=j,t.interpolateObject=z,t.interpolateRound=B,t.interpolateString=I,t.interpolateTransformCss=V,t.interpolateTransformSvg=W,t.interpolateZoom=X,t.interpolateRgb=k,t.interpolateRgbBasis=T,t.interpolateRgbBasisClosed=A,t.interpolateHsl=Z,t.interpolateHslLong=K,t.interpolateLab=v,t.interpolateHcl=J,t.interpolateHclLong=Q,t.interpolateCubehelix=tt,t.interpolateCubehelixLong=et,t.quantize=nt,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":7}],14:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new e}var r=Math.PI,i=2*r,o=1e-6,a=i-o;e.prototype=n.prototype={constructor:e,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,i,a){t=+t,e=+e,n=+n,i=+i,a=+a;var s=this._x1,u=this._y1,c=n-t,l=i-e,f=s-t,p=u-e,h=f*f+p*p;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>o)if(Math.abs(p*c-l*f)>o&&a){var d=n-s,m=i-u,g=c*c+l*l,y=d*d+m*m,v=Math.sqrt(g),b=Math.sqrt(h),x=a*Math.tan((r-Math.acos((g+h-y)/(2*v*b)))/2),w=x/b,_=x/v;Math.abs(w-1)>o&&(this._+="L"+(t+w*f)+","+(e+w*p)),this._+="A"+a+","+a+",0,0,"+ +(p*d>f*m)+","+(this._x1=t+_*c)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,s,u,c){t=+t,e=+e,n=+n;var l=n*Math.cos(s),f=n*Math.sin(s),p=t+l,h=e+f,d=1^c,m=c?s-u:u-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+p+","+h:(Math.abs(this._x1-p)>o||Math.abs(this._y1-h)>o)&&(this._+="L"+p+","+h),n&&(m>a?this._+="A"+n+","+n+",0,1,"+d+","+(t-l)+","+(e-f)+"A"+n+","+n+",0,1,"+d+","+(this._x1=p)+","+(this._y1=h):(m<0&&(m=m%i+i),this._+="A"+n+","+n+",0,"+ +(m>=r)+","+d+","+(this._x1=t+n*Math.cos(u))+","+(this._y1=e+n*Math.sin(u))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.path=n,Object.defineProperty(t,"__esModule",{value:!0})})},{}],15:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-array"),e("d3-collection"),e("d3-interpolate"),e("d3-format"),e("d3-time"),e("d3-time-format"),e("d3-color")):"function"==typeof t&&t.amd?t(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],o):o(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3,i.d3,i.d3)}(this,function(t,e,n,r,i,o,a,s){"use strict";function u(t){function e(e){var n=e+"",a=r.get(n);if(!a){if(o!==V)return o;r.set(n,a=i.push(e))}return t[(a-1)%t.length]}var r=n.map(),i=[],o=V;return t=null==t?[]:q.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],r=n.map();for(var o,a,s=-1,u=t.length;++s<u;)r.has(a=(o=t[s])+"")||r.set(a,i.push(o));return e},e.range=function(n){return arguments.length?(t=q.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return u().domain(i).range(t).unknown(o)},e}function c(){function t(){var t=o().length,i=s[1]<s[0],u=s[i-0],c=s[1-i];n=(c-u)/Math.max(1,t-f+2*p),l&&(n=Math.floor(n)),u+=(c-u-n*(t-f))*h,r=n*(1-f),l&&(u=Math.round(u),r=Math.round(r));var d=e.range(t).map(function(t){return u+n*t});return a(i?d.reverse():d)}var n,r,i=u().unknown(void 0),o=i.domain,a=i.range,s=[0,1],l=!1,f=0,p=0,h=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(o(e),t()):o()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],l=!0,t()},i.bandwidth=function(){return r},i.step=function(){return n},i.round=function(e){return arguments.length?(l=!!e,t()):l},i.padding=function(e){return arguments.length?(f=p=Math.max(0,Math.min(1,e)),t()):f},i.paddingInner=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},i.paddingOuter=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),t()):p},i.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},i.copy=function(){return c().domain(o()).range(s).round(l).paddingInner(f).paddingOuter(p).align(h)},t()}function l(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l(e())},t}function f(){return l(c().paddingInner(1))}function p(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:W(e)}function h(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function d(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function m(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function g(t,n,r,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<o;)a[u]=r(t[u],t[u+1]),s[u]=i(n[u],n[u+1]);return function(n){var r=e.bisect(t,n,1,o)-1;return s[r](a[r](n))}}function y(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function v(t,e){function n(){return o=Math.min(u.length,c.length)>2?g:m,a=s=null,i}function i(e){return(a||(a=o(u,c,f?h(t):t,l)))(+e)}var o,a,s,u=H,c=H,l=r.interpolate,f=!1;return i.invert=function(t){return(s||(s=o(c,u,p,f?d(e):e)))(+t)},i.domain=function(t){return arguments.length?(u=L.call(t,$),n()):u.slice()},i.range=function(t){return arguments.length?(c=q.call(t),n()):c.slice()},i.rangeRound=function(t){return c=q.call(t),l=r.interpolateRound,n()},i.clamp=function(t){return arguments.length?(f=!!t,n()):f},i.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function b(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,e){return G(n(),t,e)},t.nice=function(r){var i=n(),o=i.length-1,a=null==r?10:r,s=i[0],u=i[o],c=e.tickStep(s,u,a);return c&&(c=e.tickStep(Math.floor(s/c)*c,Math.ceil(u/c)*c,a),i[0]=Math.floor(s/c)*c,i[o]=Math.ceil(u/c)*c,n(i)),t},t}function x(){var t=v(p,r.interpolateNumber);return t.copy=function(){return y(t,x())},b(t)}function w(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=L.call(n,$),t):e.slice()},t.copy=function(){return w().domain(e)},b(t)}function _(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:W(e)}function N(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function E(t){return isFinite(t)?+("1e"+t):t<0?0:t}function M(t){return 10===t?E:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function S(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function O(t){return function(e){return-t(-e)}}function k(){function t(){return a=S(o),s=M(o),r()[0]<0&&(a=O(a),s=O(s)),n}var n=v(_,N).domain([1,10]),r=n.domain,o=10,a=S(10),s=M(10);return n.base=function(e){return arguments.length?(o=+e,t()):o},n.domain=function(e){return arguments.length?(r(e),t()):r()},n.ticks=function(t){var n,i=r(),u=i[0],c=i[i.length-1];(n=c<u)&&(h=u,u=c,c=h);var l,f,p,h=a(u),d=a(c),m=null==t?10:+t,g=[];if(!(o%1)&&d-h<m){if(h=Math.round(h)-1,d=Math.round(d)+1,u>0){for(;h<d;++h)for(f=1,l=s(h);f<o;++f)if(p=l*f,!(p<u)){if(p>c)break;g.push(p)}}else for(;h<d;++h)for(f=o-1,l=s(h);f>=1;--f)if(p=l*f,!(p<u)){if(p>c)break;g.push(p)}}else g=e.ticks(h,d,Math.min(d-h,m)).map(s);return n?g.reverse():g},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=i.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/s(Math.round(a(t)));return n*o<o-.5&&(n*=o),n<=r?e(t):""}},n.nice=function(){return r(Y(r(),{floor:function(t){return s(Math.floor(a(t)))},ceil:function(t){return s(Math.ceil(a(t)))}}))},n.copy=function(){return y(n,k().base(o))},n}function T(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function A(){function t(t,e){return(e=T(e,n)-(t=T(t,n)))?function(r){return(T(r,n)-t)/e}:W(e)}function e(t,e){return e=T(e,n)-(t=T(t,n)),function(r){return T(t+e*r,1/n)}}var n=1,r=v(t,e),i=r.domain;return r.exponent=function(t){return arguments.length?(n=+t,i(i())):n},r.copy=function(){return y(r,A().exponent(n))},b(r)}function C(){return A().exponent(.5)}function P(){function t(){var t=0,a=Math.max(1,i.length);for(o=new Array(a-1);++t<a;)o[t-1]=e.quantile(r,t/a);return n}function n(t){if(!isNaN(t=+t))return i[e.bisect(o,t)]}var r=[],i=[],o=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:r[0],e<o.length?o[e]:r[r.length-1]]},n.domain=function(n){if(!arguments.length)return r.slice();r=[];for(var i,o=0,a=n.length;o<a;++o)i=n[o],null==i||isNaN(i=+i)||r.push(i);return r.sort(e.ascending),t()},n.range=function(e){return arguments.length?(i=q.call(e),t()):i.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return P().domain(r).range(i)},n}function j(){function t(t){if(t<=t)return s[e.bisect(a,t,0,o)]}function n(){var e=-1;for(a=new Array(o);++e<o;)a[e]=((e+1)*i-(e-o)*r)/(o+1);return t}var r=0,i=1,o=1,a=[.5],s=[0,1];return t.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n()):[r,i]},t.range=function(t){return arguments.length?(o=(s=q.call(t)).length-1,n()):s.slice()},t.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,a[0]]:e>=o?[a[o-1],i]:[a[e-1],a[e]]},t.copy=function(){return j().domain([r,i]).range(s)},b(t)}function z(){function t(t){if(t<=t)return r[e.bisect(n,t,0,i)]}var n=[.5],r=[0,1],i=1;return t.domain=function(e){return arguments.length?(n=q.call(e),i=Math.min(n.length,r.length-1),t):n.slice()},t.range=function(e){return arguments.length?(r=q.call(e),i=Math.min(n.length,r.length-1),t):r.slice()},t.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return z().domain(n).range(r)},t}function D(t){return new Date(t)}function R(t){return t instanceof Date?+t:+new Date((+t))}function I(t,n,i,o,a,s,u,c,l){function f(e){return(u(e)<e?b:s(e)<e?x:a(e)<e?w:o(e)<e?_:n(e)<e?i(e)<e?N:E:t(e)<e?M:S)(e)}function h(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,s=e.bisector(function(t){return t[2]}).right(O,a);s===O.length?(o=e.tickStep(r/et,i/et,n),n=t):s?(s=O[a/O[s-1][2]<O[s][2]/a?s-1:s],o=s[1],n=s[0]):(o=e.tickStep(r,i,n),n=c)}return null==o?n:n.every(o)}var d=v(p,r.interpolateNumber),m=d.invert,g=d.domain,b=l(".%L"),x=l(":%S"),w=l("%I:%M"),_=l("%I %p"),N=l("%a %d"),E=l("%b %d"),M=l("%B"),S=l("%Y"),O=[[u,1,X],[u,5,5*X],[u,15,15*X],[u,30,30*X],[s,1,Z],[s,5,5*Z],[s,15,15*Z],[s,30,30*Z],[a,1,K],[a,3,3*K],[a,6,6*K],[a,12,12*K],[o,1,J],[o,2,2*J],[i,1,Q],[n,1,tt],[n,3,3*tt],[t,1,et]];return d.invert=function(t){return new Date(m(t))},d.domain=function(t){return arguments.length?g(L.call(t,R)):g().map(D)},d.ticks=function(t,e){var n,r=g(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=h(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},d.tickFormat=function(t,e){return null==e?f:l(e)},d.nice=function(t,e){var n=g();return(t=h(t,n[0],n[n.length-1],e))?g(Y(n,t)):d},d.copy=function(){return y(d,I(t,n,i,o,a,s,u,c,l))},d}function F(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function B(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return B(t).domain([n,r]).clamp(i)},b(e)}var U=Array.prototype,L=U.map,q=U.slice,V={name:"implicit"},W=function(t){return function(){return t}},$=function(t){return+t},H=[0,1],G=function(t,n,r){var o,a=t[0],s=t[t.length-1],u=e.tickStep(a,s,null==n?10:n);switch(r=i.formatSpecifier(null==r?",f":r),r.type){case"s":var c=Math.max(Math.abs(a),Math.abs(s));return null!=r.precision||isNaN(o=i.precisionPrefix(u,c))||(r.precision=o),i.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=i.precisionRound(u,Math.max(Math.abs(a),Math.abs(s))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=i.precisionFixed(u))||(r.precision=o-2*("%"===r.type))}return i.format(r)},Y=function(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},X=1e3,Z=60*X,K=60*Z,J=24*K,Q=7*J,tt=30*J,et=365*J,nt=function(){return I(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},rt=function(){return I(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},it=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},ot=it("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),at=it("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),st=it("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ut=it("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ct=r.interpolateCubehelixLong(s.cubehelix(300,.5,0),s.cubehelix(-240,.5,1)),lt=r.interpolateCubehelixLong(s.cubehelix(-100,.75,.35),s.cubehelix(80,1.5,.8)),ft=r.interpolateCubehelixLong(s.cubehelix(260,.75,.35),s.cubehelix(80,1.5,.8)),pt=s.cubehelix(),ht=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return pt.h=360*t-100,pt.s=1.5-1.5*e,pt.l=.8-.9*e,pt+""},dt=F(it("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),mt=F(it("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),gt=F(it("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),yt=F(it("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=c,t.scalePoint=f,t.scaleIdentity=w,t.scaleLinear=x,t.scaleLog=k,t.scaleOrdinal=u,t.scaleImplicit=V,t.scalePow=A,t.scaleSqrt=C,t.scaleQuantile=P,t.scaleQuantize=j,t.scaleThreshold=z,t.scaleTime=nt,t.scaleUtc=rt,t.schemeCategory10=ot,t.schemeCategory20b=at,t.schemeCategory20c=st,t.schemeCategory20=ut,t.interpolateCubehelixDefault=ct,t.interpolateRainbow=ht,t.interpolateWarm=lt,t.interpolateCool=ft,t.interpolateViridis=dt,t.interpolateMagma=mt,t.interpolateInferno=gt,t.interpolatePlasma=yt,t.scaleSequential=B,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-array":4,"d3-collection":6,"d3-color":7,"d3-format":11,"d3-interpolate":13,"d3-time":19,"d3-time-format":18}],16:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===J&&e.documentElement.namespaceURI===J?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function r(){return new i}function i(){this._="@"+(++nt).toString(36)}function o(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function s(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function u(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function c(t,e,n){var r=st.hasOwnProperty(t.type)?o:a;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function l(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function f(){}function p(){return[]}function h(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function d(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new h(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function m(t,e,n,r,i,o,a){var s,u,c,l={},f=e.length,p=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=wt+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<p;++s)c=wt+a.call(t,o[s],s,o),(u=l[c])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new h(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l[d[s]]===u&&(i[s]=u)}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function y(t){return function(){this.removeAttribute(t)}}function v(t){return function(){this.removeAttributeNS(t.space,t.local)}}function b(t,e){return function(){this.setAttribute(t,e)}}function x(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function _(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function N(t){return function(){this.style.removeProperty(t)}}function E(t,e,n){return function(){this.style.setProperty(t,e,n)}}function M(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function S(t){return function(){delete this[t]}}function O(t,e){return function(){this[t]=e}}function k(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function T(t){return t.trim().split(/^|\s+/)}function A(t){return t.classList||new C(t)}function C(t){this._node=t,this._names=T(t.getAttribute("class")||"")}function P(t,e){
for(var n=A(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function j(t,e){for(var n=A(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function z(t){return function(){P(this,t)}}function D(t){return function(){j(this,t)}}function R(t,e){return function(){(e.apply(this,arguments)?P:j)(this,t)}}function I(){this.textContent=""}function F(t){return function(){this.textContent=t}}function B(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function U(){this.innerHTML=""}function L(t){return function(){this.innerHTML=t}}function q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function V(){this.nextSibling&&this.parentNode.appendChild(this)}function W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $(){return null}function H(){var t=this.parentNode;t&&t.removeChild(this)}function G(t,e,n){var r=zt(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Y(t,e){return function(){return G(this,t,e)}}function X(t,e){return function(){return G(this,t,e.apply(this,arguments))}}function Z(t,e){this._groups=t,this._parents=e}function K(){return new Z([[document.documentElement]],Gt)}var J="http://www.w3.org/1999/xhtml",Q={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Q.hasOwnProperty(e)?{space:Q[e],local:t}:t},et=function(t){var r=tt(t);return(r.local?n:e)(r)},nt=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var rt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var it=document.documentElement;if(!it.matches){var ot=it.webkitMatchesSelector||it.msMatchesSelector||it.mozMatchesSelector||it.oMatchesSelector;rt=function(t){return function(){return ot.call(this,t)}}}}var at=rt,st={};if(t.event=null,"undefined"!=typeof document){var ut=document.documentElement;"onmouseenter"in ut||(st={mouseenter:"mouseover",mouseleave:"mouseout"})}var ct=function(t,e,n){var r,i,o=s(t+""),a=o.length;{if(!(arguments.length<2)){for(l=e?c:u,null==n&&(n=!1),r=0;r<a;++r)this.each(l(o[r],e,n));return this}var l=this.node().__on;if(l)for(var f,p=0,h=l.length;p<h;++p)for(r=0,f=l[p];r<a;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value}},lt=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},ft=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},pt=function(t){var e=lt();return e.changedTouches&&(e=e.changedTouches[0]),ft(t,e)},ht=function(t){return null==t?f:function(){return this.querySelector(t)}},dt=function(t){"function"!=typeof t&&(t=ht(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Z(r,this._parents)},mt=function(t){return null==t?p:function(){return this.querySelectorAll(t)}},gt=function(t){"function"!=typeof t&&(t=mt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Z(r,i)},yt=function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Z(r,this._parents)},vt=function(t){return new Array(t.length)},bt=function(){return new Z(this._enter||this._groups.map(vt),this._parents)};h.prototype={constructor:h,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var xt=function(t){return function(){return t}},wt="$",_t=function(t,e){if(!t)return h=new Array(this.size()),c=-1,this.each(function(t){h[++c]=t}),h;var n=e?m:d,r=this._parents,i=this._groups;"function"!=typeof t&&(t=xt(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],p=f.length,h=t.call(l,l&&l.__data__,c,r),g=h.length,y=s[c]=new Array(g),v=a[c]=new Array(g),b=u[c]=new Array(p);n(l,f,y,v,b,h,e);for(var x,w,_=0,N=0;_<g;++_)if(x=y[_]){for(_>=N&&(N=_+1);!(w=v[N])&&++N<g;);x._next=w||null}}return a=new Z(a,r),a._enter=s,a._exit=u,a},Nt=function(){return new Z(this._exit||this._groups.map(vt),this._parents)},Et=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,p=a[s]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(p[h]=u);for(;s<r;++s)a[s]=e[s];return new Z(a,this._parents)},Mt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},St=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=g);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Z(i,this._parents).order()},Ot=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},kt=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Tt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},At=function(){var t=0;return this.each(function(){++t}),t},Ct=function(){return!this.node()},Pt=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},jt=function(t,e){var n=tt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?v:y:"function"==typeof e?n.local?_:w:n.local?x:b)(n,e))},zt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Dt=function(t,e,n){var r;return arguments.length>1?this.each((null==e?N:"function"==typeof e?M:E)(t,e,null==n?"":n)):zt(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},Rt=function(t,e){return arguments.length>1?this.each((null==e?S:"function"==typeof e?k:O)(t,e)):this.node()[t]};C.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var It=function(t,e){var n=T(t+"");if(arguments.length<2){for(var r=A(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?R:e?z:D)(n,e))},Ft=function(t){return arguments.length?this.each(null==t?I:("function"==typeof t?B:F)(t)):this.node().textContent},Bt=function(t){return arguments.length?this.each(null==t?U:("function"==typeof t?q:L)(t)):this.node().innerHTML},Ut=function(){return this.each(V)},Lt=function(){return this.each(W)},qt=function(t){var e="function"==typeof t?t:et(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Vt=function(t,e){var n="function"==typeof t?t:et(t),r=null==e?$:"function"==typeof e?e:ht(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},Wt=function(){return this.each(H)},$t=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Ht=function(t,e){return this.each(("function"==typeof e?X:Y)(t,e))},Gt=[null];Z.prototype=K.prototype={constructor:Z,select:dt,selectAll:gt,filter:yt,data:_t,enter:bt,exit:Nt,merge:Et,order:Mt,sort:St,call:Ot,nodes:kt,node:Tt,size:At,empty:Ct,each:Pt,attr:jt,style:Dt,property:Rt,classed:It,text:Ft,html:Bt,raise:Ut,lower:Lt,append:qt,insert:Vt,remove:Wt,datum:$t,on:ct,dispatch:Ht};var Yt=function(t){return"string"==typeof t?new Z([[document.querySelector(t)]],[document.documentElement]):new Z([[t]],Gt)},Xt=function(t){return"string"==typeof t?new Z([document.querySelectorAll(t)],[document.documentElement]):new Z([null==t?[]:t],Gt)},Zt=function(t,e,n){arguments.length<3&&(n=e,e=lt().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return ft(t,r);return null},Kt=function(t,e){null==e&&(e=lt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=ft(t,e[n]);return i};t.creator=et,t.local=r,t.matcher=at,t.mouse=pt,t.namespace=tt,t.namespaces=Q,t.select=Yt,t.selectAll=Xt,t.selection=K,t.selector=ht,t.selectorAll=mt,t.touch=Zt,t.touches=Kt,t.window=zt,t.customEvent=l,Object.defineProperty(t,"__esModule",{value:!0})})},{}],17:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-path")):"function"==typeof t&&t.amd?t(["exports","d3-path"],o):o(i.d3=i.d3||{},i.d3)}(this,function(t,e){"use strict";function n(t){return t.innerRadius}function r(t){return t.outerRadius}function i(t){return t.startAngle}function o(t){return t.endAngle}function a(t){return t&&t.padAngle}function s(t){return t>=1?X:t<=-1?-X:Math.asin(t)}function u(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,f=s-o,p=(l*(e-o)-f*(t-i))/(f*u-l*c);return[t+p*u,e+p*c]}function c(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/Math.sqrt(s*s+u*u),l=c*u,f=-c*s,p=t+l,h=e+f,d=n+l,m=r+f,g=(p+d)/2,y=(h+m)/2,v=d-p,b=m-h,x=v*v+b*b,w=i-o,_=p*m-d*h,N=(b<0?-1:1)*Math.sqrt(Math.max(0,w*w*x-_*_)),E=(_*b-v*N)/x,M=(-_*v-b*N)/x,S=(_*b+v*N)/x,O=(-_*v+b*N)/x,k=E-g,T=M-y,A=S-g,C=O-y;return k*k+T*T>A*A+C*C&&(E=S,M=O),{cx:E,cy:M,x01:-l,y01:-f,x11:E*(i/w-1),y11:M*(i/w-1)}}function l(t){this._context=t}function f(t){return t[0]}function p(t){return t[1]}function h(t){this._curve=t}function d(t){function e(e){return new h(t(e))}return e._curve=t,e}function m(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(d(t)):e()._curve},t}function g(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function y(t){this._context=t}function v(t){this._context=t}function b(t){this._context=t}function x(t,e){this._basis=new y(t),this._beta=e}function w(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function _(t,e){this._context=t,this._k=(1-e)/6}function N(t,e){this._context=t,this._k=(1-e)/6}function E(t,e){this._context=t,this._k=(1-e)/6}function M(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>G){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>G){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function S(t,e){this._context=t,this._alpha=e}function O(t,e){this._context=t,this._alpha=e}function k(t,e){this._context=t,this._alpha=e}function T(t){this._context=t}function A(t){return t<0?-1:1}function C(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(A(o)+A(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function P(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function j(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function z(t){this._context=t}function D(t){this._context=new R(t)}function R(t){this._context=t}function I(t){return new z(t)}function F(t){return new D(t)}function B(t){this._context=t}function U(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function L(t,e){this._context=t,this._t=e}function q(t){return new L(t,0)}function V(t){return new L(t,1)}function W(t,e){return t[e]}function $(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var H=function(t){return function(){return t}},G=1e-12,Y=Math.PI,X=Y/2,Z=2*Y,K=function(){function t(){var t,n,r=+l.apply(this,arguments),i=+f.apply(this,arguments),o=d.apply(this,arguments)-X,a=m.apply(this,arguments)-X,v=Math.abs(a-o),b=a>o;if(y||(y=t=e.path()),i<r&&(n=i,i=r,r=n),i>G)if(v>Z-G)y.moveTo(i*Math.cos(o),i*Math.sin(o)),y.arc(0,0,i,o,a,!b),r>G&&(y.moveTo(r*Math.cos(a),r*Math.sin(a)),y.arc(0,0,r,a,o,b));else{var x,w,_=o,N=a,E=o,M=a,S=v,O=v,k=g.apply(this,arguments)/2,T=k>G&&(h?+h.apply(this,arguments):Math.sqrt(r*r+i*i)),A=Math.min(Math.abs(i-r)/2,+p.apply(this,arguments)),C=A,P=A;if(T>G){var j=s(T/r*Math.sin(k)),z=s(T/i*Math.sin(k));(S-=2*j)>G?(j*=b?1:-1,E+=j,M-=j):(S=0,E=M=(o+a)/2),(O-=2*z)>G?(z*=b?1:-1,_+=z,N-=z):(O=0,_=N=(o+a)/2)}var D=i*Math.cos(_),R=i*Math.sin(_),I=r*Math.cos(M),F=r*Math.sin(M);if(A>G){var B=i*Math.cos(N),U=i*Math.sin(N),L=r*Math.cos(E),q=r*Math.sin(E);if(v<Y){var V=S>G?u(D,R,L,q,B,U,I,F):[I,F],W=D-V[0],$=R-V[1],H=B-V[0],K=U-V[1],J=1/Math.sin(Math.acos((W*H+$*K)/(Math.sqrt(W*W+$*$)*Math.sqrt(H*H+K*K)))/2),Q=Math.sqrt(V[0]*V[0]+V[1]*V[1]);C=Math.min(A,(r-Q)/(J-1)),P=Math.min(A,(i-Q)/(J+1))}}O>G?P>G?(x=c(L,q,D,R,i,P,b),w=c(B,U,I,F,i,P,b),y.moveTo(x.cx+x.x01,x.cy+x.y01),P<A?y.arc(x.cx,x.cy,P,Math.atan2(x.y01,x.x01),Math.atan2(w.y01,w.x01),!b):(y.arc(x.cx,x.cy,P,Math.atan2(x.y01,x.x01),Math.atan2(x.y11,x.x11),!b),y.arc(0,0,i,Math.atan2(x.cy+x.y11,x.cx+x.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),!b),y.arc(w.cx,w.cy,P,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!b))):(y.moveTo(D,R),y.arc(0,0,i,_,N,!b)):y.moveTo(D,R),r>G&&S>G?C>G?(x=c(I,F,B,U,r,-C,b),w=c(D,R,L,q,r,-C,b),y.lineTo(x.cx+x.x01,x.cy+x.y01),C<A?y.arc(x.cx,x.cy,C,Math.atan2(x.y01,x.x01),Math.atan2(w.y01,w.x01),!b):(y.arc(x.cx,x.cy,C,Math.atan2(x.y01,x.x01),Math.atan2(x.y11,x.x11),!b),y.arc(0,0,r,Math.atan2(x.cy+x.y11,x.cx+x.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),b),y.arc(w.cx,w.cy,C,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!b))):y.arc(0,0,r,M,E,b):y.lineTo(I,F)}else y.moveTo(0,0);if(y.closePath(),t)return y=null,t+""||null}var l=n,f=r,p=H(0),h=null,d=i,m=o,g=a,y=null;return t.centroid=function(){var t=(+l.apply(this,arguments)+ +f.apply(this,arguments))/2,e=(+d.apply(this,arguments)+ +m.apply(this,arguments))/2-Y/2;return[Math.cos(e)*t,Math.sin(e)*t]},t.innerRadius=function(e){return arguments.length?(l="function"==typeof e?e:H(+e),t):l},t.outerRadius=function(e){return arguments.length?(f="function"==typeof e?e:H(+e),t):f},t.cornerRadius=function(e){return arguments.length?(p="function"==typeof e?e:H(+e),t):p},t.padRadius=function(e){return arguments.length?(h=null==e?null:"function"==typeof e?e:H(+e),t):h},t.startAngle=function(e){return arguments.length?(d="function"==typeof e?e:H(+e),t):d},t.endAngle=function(e){return arguments.length?(m="function"==typeof e?e:H(+e),t):m},t.padAngle=function(e){return arguments.length?(g="function"==typeof e?e:H(+e),t):g},t.context=function(e){return arguments.length?(y=null==e?null:e,t):y},t};l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var J=function(t){return new l(t)},Q=function(){function t(t){var u,c,l,f=t.length,p=!1;for(null==o&&(s=a(l=e.path())),u=0;u<=f;++u)!(u<f&&i(c=t[u],u,t))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+n(c,u,t),+r(c,u,t));if(l)return s=null,l+""||null}var n=f,r=p,i=H(!0),o=null,a=J,s=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:H(+e),t):n},t.y=function(e){return arguments.length?(r="function"==typeof e?e:H(+e),t):r},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:H(!!e),t):i},t.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),t):a},t.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),t):o},t},tt=function(){function t(t){var n,f,p,h,d,m=t.length,g=!1,y=new Array(m),v=new Array(m);for(null==u&&(l=c(d=e.path())),n=0;n<=m;++n){if(!(n<m&&s(h=t[n],n,t))===g)if(g=!g)f=n,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=n-1;p>=f;--p)l.point(y[p],v[p]);l.lineEnd(),l.areaEnd()}g&&(y[n]=+r(h,n,t),v[n]=+o(h,n,t),l.point(i?+i(h,n,t):y[n],a?+a(h,n,t):v[n]))}if(d)return l=null,d+""||null}function n(){return Q().defined(s).curve(c).context(u)}var r=f,i=null,o=H(0),a=p,s=H(!0),u=null,c=J,l=null;return t.x=function(e){return arguments.length?(r="function"==typeof e?e:H(+e),i=null,t):r},t.x0=function(e){return arguments.length?(r="function"==typeof e?e:H(+e),t):r},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:H(+e),t):i},t.y=function(e){return arguments.length?(o="function"==typeof e?e:H(+e),a=null,t):o},t.y0=function(e){return arguments.length?(o="function"==typeof e?e:H(+e),t):o},t.y1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:H(+e),t):a},t.lineX0=t.lineY0=function(){return n().x(r).y(o)},t.lineY1=function(){return n().x(r).y(a)},t.lineX1=function(){return n().x(i).y(o)},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:H(!!e),t):s},t.curve=function(e){return arguments.length?(c=e,null!=u&&(l=c(u)),t):c},t.context=function(e){return arguments.length?(null==e?u=l=null:l=c(u=e),t):u},t},et=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},nt=function(t){return t},rt=function(){function t(t){var s,u,c,l,f,p=t.length,h=0,d=new Array(p),m=new Array(p),g=+i.apply(this,arguments),y=Math.min(Z,Math.max(-Z,o.apply(this,arguments)-g)),v=Math.min(Math.abs(y)/p,a.apply(this,arguments)),b=v*(y<0?-1:1);for(s=0;s<p;++s)(f=m[d[s]=s]=+e(t[s],s,t))>0&&(h+=f);for(null!=n?d.sort(function(t,e){return n(m[t],m[e])}):null!=r&&d.sort(function(e,n){return r(t[e],t[n])}),s=0,c=h?(y-p*b)/h:0;s<p;++s,g=l)u=d[s],f=m[u],l=g+(f>0?f*c:0)+b,m[u]={data:t[u],index:s,value:f,startAngle:g,endAngle:l,padAngle:v};return m}var e=nt,n=et,r=null,i=H(0),o=H(Z),a=H(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:H(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,r=null,t):n},t.sort=function(e){return arguments.length?(r=e,n=null,t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:H(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:H(+e),t):o},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:H(+e),t):a},t},it=d(J);h.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var ot=function(){return m(Q().curve(it))},at=function(){var t=tt().curve(it),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return m(n())},delete t.lineX0,t.lineEndAngle=function(){return m(r())},delete t.lineX1,t.lineInnerRadius=function(){return m(i())},delete t.lineY0,t.lineOuterRadius=function(){return m(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(d(t)):e()._curve},t},st={draw:function(t,e){var n=Math.sqrt(e/Y);t.moveTo(n,0),t.arc(0,0,n,0,Z)}},ut={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ct=Math.sqrt(1/3),lt=2*ct,ft={draw:function(t,e){var n=Math.sqrt(e/lt),r=n*ct;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},pt=.8908130915292852,ht=Math.sin(Y/10)/Math.sin(7*Y/10),dt=Math.sin(Z/10)*ht,mt=-Math.cos(Z/10)*ht,gt={draw:function(t,e){var n=Math.sqrt(e*pt),r=dt*n,i=mt*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Z*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},yt={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},vt=Math.sqrt(3),bt={draw:function(t,e){var n=-Math.sqrt(e/(3*vt));t.moveTo(0,2*n),t.lineTo(-vt*n,-n),t.lineTo(vt*n,-n),t.closePath()}},xt=-.5,wt=Math.sqrt(3)/2,_t=1/Math.sqrt(12),Nt=3*(_t/2+1),Et={draw:function(t,e){var n=Math.sqrt(e/Nt),r=n/2,i=n*_t,o=r,a=n*_t+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(xt*r-wt*i,wt*r+xt*i),t.lineTo(xt*o-wt*a,wt*o+xt*a),t.lineTo(xt*s-wt*u,wt*s+xt*u),t.lineTo(xt*r+wt*i,xt*i-wt*r),t.lineTo(xt*o+wt*a,xt*a-wt*o),t.lineTo(xt*s+wt*u,xt*u-wt*s),t.closePath()}},Mt=[st,ut,ft,yt,gt,bt,Et],St=function(){function t(){var t;if(i||(i=t=e.path()),n.apply(this,arguments).draw(i,+r.apply(this,arguments)),t)return i=null,t+""||null}var n=H(st),r=H(64),i=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:H(e),t):n},t.size=function(e){return arguments.length?(r="function"==typeof e?e:H(+e),t):r},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t},Ot=function(){};y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:g(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var kt=function(t){return new y(t)};v.prototype={areaStart:Ot,areaEnd:Ot,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:g(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Tt=function(t){return new v(t)};b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:g(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var At=function(t){return new b(t)};x.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Ct=function Jt(t){function e(e){return 1===t?new y(e):new x(e,t)}return e.beta=function(t){return Jt(+t)},e}(.85);_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:w(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:w(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Pt=function Qt(t){function e(e){return new _(e,t)}return e.tension=function(t){return Qt(+t)},e}(0);N.prototype={areaStart:Ot,areaEnd:Ot,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:w(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var jt=function te(t){function e(e){return new N(e,t)}return e.tension=function(t){return te(+t)},e}(0);E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:w(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var zt=function ee(t){function e(e){return new E(e,t)}return e.tension=function(t){return ee(+t)},e}(0);S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:M(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Dt=function ne(t){function e(e){return t?new S(e,t):new _(e,0)}return e.alpha=function(t){return ne(+t)},e}(.5);O.prototype={areaStart:Ot,areaEnd:Ot,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:M(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Rt=function re(t){function e(e){return t?new O(e,t):new N(e,0)}return e.alpha=function(t){return re(+t)},e}(.5);k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:M(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var It=function ie(t){function e(e){return t?new k(e,t):new E(e,0)}return e.alpha=function(t){return ie(+t)},e}(.5);T.prototype={areaStart:Ot,areaEnd:Ot,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Ft=function(t){return new T(t)};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:j(this,this._t0,P(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){
switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,j(this,P(this,n=C(this,t,e)),n);break;default:j(this,this._t0,n=C(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(D.prototype=Object.create(z.prototype)).point=function(t,e){z.prototype.point.call(this,e,t)},R.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=U(t),i=U(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Bt=function(t){return new B(t)};L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Ut=function(t){return new L(t,.5)},Lt=Array.prototype.slice,qt=function(t,e){if((r=t.length)>1)for(var n,r,i=1,o=t[e[0]],a=o.length;i<r;++i){n=o,o=t[e[i]];for(var s=0;s<a;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}},Vt=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},Wt=function(){function t(t){var o,a,s=e.apply(this,arguments),u=t.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var f,p=s[o],h=l[o]=new Array(u),d=0;d<u;++d)h[d]=f=[0,+i(t[d],p,d,t)],f.data=t[d];h.key=p}for(o=0,a=n(l);o<c;++o)l[a[o]].index=o;return r(l,a),l}var e=H([]),n=Vt,r=qt,i=W;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:H(Lt.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:H(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?Vt:"function"==typeof e?e:H(Lt.call(e)),t):n},t.offset=function(e){return arguments.length?(r=null==e?qt:e,t):r},t},$t=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}qt(t,e)}},Ht=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}qt(t,e)}},Gt=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],f=l[a][1]||0,p=l[a-1][1]||0,h=(f-p)/2,d=0;d<s;++d){var m=t[e[d]],g=m[a][1]||0,y=m[a-1][1]||0;h+=g-y}u+=f,c+=h*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,qt(t,e)}},Yt=function(t){var e=t.map($);return Vt(t).sort(function(t,n){return e[t]-e[n]})},Xt=function(t){return Yt(t).reverse()},Zt=function(t){var e,n,r=t.length,i=t.map($),o=Vt(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},Kt=function(t){return Vt(t).reverse()};t.arc=K,t.area=tt,t.line=Q,t.pie=rt,t.radialArea=at,t.radialLine=ot,t.symbol=St,t.symbols=Mt,t.symbolCircle=st,t.symbolCross=ut,t.symbolDiamond=ft,t.symbolSquare=yt,t.symbolStar=gt,t.symbolTriangle=bt,t.symbolWye=Et,t.curveBasisClosed=Tt,t.curveBasisOpen=At,t.curveBasis=kt,t.curveBundle=Ct,t.curveCardinalClosed=jt,t.curveCardinalOpen=zt,t.curveCardinal=Pt,t.curveCatmullRomClosed=Rt,t.curveCatmullRomOpen=It,t.curveCatmullRom=Dt,t.curveLinearClosed=Ft,t.curveLinear=J,t.curveMonotoneX=I,t.curveMonotoneY=F,t.curveNatural=Bt,t.curveStep=Ut,t.curveStepAfter=V,t.curveStepBefore=q,t.stack=Wt,t.stackOffsetExpand=$t,t.stackOffsetNone=qt,t.stackOffsetSilhouette=Ht,t.stackOffsetWiggle=Gt,t.stackOrderAscending=Yt,t.stackOrderDescending=Xt,t.stackOrderInsideOut=Zt,t.stackOrderNone=Vt,t.stackOrderReverse=Kt,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-path":14}],18:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-time")):"function"==typeof t&&t.amd?t(["exports","d3-time"],o):o(i.d3=i.d3||{},i.d3)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date((+n)));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=rt[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function o(t,e){return function(n){var o=i(1900),s=a(o,t,n+="",0);if(s!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var u="Z"in o?r(i(o.y)).getUTCDay():e(i(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(u+5)%7:o.w+7*o.U-(u+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,r(o)):e(o)}}function a(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=It[i in rt?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function s(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.p=St[r[0].toLowerCase()],n+r[0].length):-1}function Q(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.w=At[r[0].toLowerCase()],n+r[0].length):-1}function tt(t,e,n){var r=Ot.exec(e.slice(n));return r?(t.w=kt[r[0].toLowerCase()],n+r[0].length):-1}function et(t,e,n){var r=jt.exec(e.slice(n));return r?(t.m=zt[r[0].toLowerCase()],n+r[0].length):-1}function nt(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.m=Pt[r[0].toLowerCase()],n+r[0].length):-1}function it(t,e,n){return a(t,yt,e,n)}function ot(t,e,n){return a(t,vt,e,n)}function at(t,e,n){return a(t,bt,e,n)}function st(t){return _t[t.getDay()]}function ut(t){return wt[t.getDay()]}function ct(t){return Et[t.getMonth()]}function lt(t){return Nt[t.getMonth()]}function ft(t){return xt[+(t.getHours()>=12)]}function pt(t){return _t[t.getUTCDay()]}function ht(t){return wt[t.getUTCDay()]}function dt(t){return Et[t.getUTCMonth()]}function mt(t){return Nt[t.getUTCMonth()]}function gt(t){return xt[+(t.getUTCHours()>=12)]}var yt=t.dateTime,vt=t.date,bt=t.time,xt=t.periods,wt=t.days,_t=t.shortDays,Nt=t.months,Et=t.shortMonths,Mt=u(xt),St=c(xt),Ot=u(wt),kt=c(wt),Tt=u(_t),At=c(_t),Ct=u(Nt),Pt=c(Nt),jt=u(Et),zt=c(Et),Dt={a:st,A:ut,b:ct,B:lt,c:null,d:E,e:E,H:M,I:S,j:O,L:k,m:T,M:A,p:ft,S:C,U:P,w:j,W:z,x:null,X:null,y:D,Y:R,Z:I,"%":J},Rt={a:pt,A:ht,b:dt,B:mt,c:null,d:F,e:F,H:B,I:U,j:L,L:q,m:V,M:W,p:gt,S:$,U:H,w:G,W:Y,x:null,X:null,y:X,Y:Z,Z:K,"%":J},It={a:Q,A:tt,b:et,B:nt,c:it,d:y,e:y,H:b,I:b,j:v,L:_,m:g,M:x,p:s,S:w,U:f,w:l,W:p,x:ot,X:at,y:d,Y:h,Z:m,"%":N};return Dt.x=e(vt,Dt),Dt.X=e(bt,Dt),Dt.c=e(yt,Dt),Rt.x=e(vt,Rt),Rt.X=e(bt,Rt),Rt.c=e(yt,Rt),{format:function(t){var n=e(t+="",Dt);return n.toString=function(){return t},n},parse:function(t){var e=o(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",Rt);return n.toString=function(){return t},n},utcParse:function(t){var e=o(t,r);return e.toString=function(){return t},e}}}function a(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function s(t){return t.replace(at,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function c(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function l(t,e,n){var r=it.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f(t,e,n){var r=it.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function p(t,e,n){var r=it.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function h(t,e,n){var r=it.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function d(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function g(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function y(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function v(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function b(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function x(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function w(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function N(t,e,n){var r=ot.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function E(t,e){return a(t.getDate(),e,2)}function M(t,e){return a(t.getHours(),e,2)}function S(t,e){return a(t.getHours()%12||12,e,2)}function O(t,n){return a(1+e.timeDay.count(e.timeYear(t),t),n,3)}function k(t,e){return a(t.getMilliseconds(),e,3)}function T(t,e){return a(t.getMonth()+1,e,2)}function A(t,e){return a(t.getMinutes(),e,2)}function C(t,e){return a(t.getSeconds(),e,2)}function P(t,n){return a(e.timeSunday.count(e.timeYear(t),t),n,2)}function j(t){return t.getDay()}function z(t,n){return a(e.timeMonday.count(e.timeYear(t),t),n,2)}function D(t,e){return a(t.getFullYear()%100,e,2)}function R(t,e){return a(t.getFullYear()%1e4,e,4)}function I(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function F(t,e){return a(t.getUTCDate(),e,2)}function B(t,e){return a(t.getUTCHours(),e,2)}function U(t,e){return a(t.getUTCHours()%12||12,e,2)}function L(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function q(t,e){return a(t.getUTCMilliseconds(),e,3)}function V(t,e){return a(t.getUTCMonth()+1,e,2)}function W(t,e){return a(t.getUTCMinutes(),e,2)}function $(t,e){return a(t.getUTCSeconds(),e,2)}function H(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function G(t){return t.getUTCDay()}function Y(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function X(t,e){return a(t.getUTCFullYear()%100,e,2)}function Z(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function K(){return"+0000"}function J(){return"%"}function Q(e){return nt=o(e),t.timeFormat=nt.format,t.timeParse=nt.parse,t.utcFormat=nt.utcFormat,t.utcParse=nt.utcParse,nt}function tt(t){return t.toISOString()}function et(t){var e=new Date(t);return isNaN(e)?null:e}var nt,rt={"-":"",_:" ",0:"0"},it=/^\s*\d+/,ot=/^%/,at=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Q({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var st="%Y-%m-%dT%H:%M:%S.%LZ",ut=Date.prototype.toISOString?tt:t.utcFormat(st),ct=+new Date("2000-01-01T00:00:00.000Z")?et:t.utcParse(st);t.timeFormatDefaultLocale=Q,t.timeFormatLocale=o,t.isoFormat=ut,t.isoParse=ct,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":19}],19:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,n,r,a){function s(e){return t(e=new Date((+e))),e}return s.floor=s,s.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return n(t=new Date((+t)),null==e?1:Math.floor(e)),t},s.range=function(e,r,i){var o=[];if(e=s.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return o;do o.push(new Date((+e)));while(n(e,i),t(e),e<r);return o},s.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(s.count=function(e,n){return i.setTime(+e),o.setTime(+n),t(i),t(o),Math.floor(r(i,o))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/p})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/p})}var i=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=a.range,u=1e3,c=6e4,l=36e5,f=864e5,p=6048e5,h=e(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCSeconds()}),d=h.range,m=e(function(t){t.setTime(Math.floor(t/c)*c)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getMinutes()}),g=m.range,y=e(function(t){var e=t.getTimezoneOffset()*c%l;e<0&&(e+=l),t.setTime(Math.floor((+t-e)/l)*l+e)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getHours()}),v=y.range,b=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/f},function(t){return t.getDate()-1}),x=b.range,w=n(0),_=n(1),N=n(2),E=n(3),M=n(4),S=n(5),O=n(6),k=w.range,T=_.range,A=N.range,C=E.range,P=M.range,j=S.range,z=O.range,D=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),R=D.range,I=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});I.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var F=I.range,B=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getUTCMinutes()}),U=B.range,L=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getUTCHours()}),q=L.range,V=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/f},function(t){return t.getUTCDate()-1}),W=V.range,$=r(0),H=r(1),G=r(2),Y=r(3),X=r(4),Z=r(5),K=r(6),J=$.range,Q=H.range,tt=G.range,et=Y.range,nt=X.range,rt=Z.range,it=K.range,ot=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),at=ot.range,st=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});st.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ut=st.range;t.timeInterval=e,t.timeMillisecond=a,t.timeMilliseconds=s,t.utcMillisecond=a,t.utcMilliseconds=s,t.timeSecond=h,t.timeSeconds=d,t.utcSecond=h,t.utcSeconds=d,t.timeMinute=m,t.timeMinutes=g,t.timeHour=y,t.timeHours=v,t.timeDay=b,t.timeDays=x,t.timeWeek=w,t.timeWeeks=k,t.timeSunday=w,t.timeSundays=k,t.timeMonday=_,t.timeMondays=T,t.timeTuesday=N,t.timeTuesdays=A,t.timeWednesday=E,t.timeWednesdays=C,t.timeThursday=M,t.timeThursdays=P,t.timeFriday=S,t.timeFridays=j,t.timeSaturday=O,t.timeSaturdays=z,t.timeMonth=D,t.timeMonths=R,t.timeYear=I,t.timeYears=F,t.utcMinute=B,t.utcMinutes=U,t.utcHour=L,t.utcHours=q,t.utcDay=V,t.utcDays=W,t.utcWeek=$,t.utcWeeks=J,t.utcSunday=$,t.utcSundays=J,t.utcMonday=H,t.utcMondays=Q,t.utcTuesday=G,t.utcTuesdays=tt,t.utcWednesday=Y,t.utcWednesdays=et,t.utcThursday=X,t.utcThursdays=nt,t.utcFriday=Z,t.utcFridays=rt,t.utcSaturday=K,t.utcSaturdays=it,t.utcMonth=ot,t.utcMonths=at,t.utcYear=st,t.utcYears=ut,Object.defineProperty(t,"__esModule",{value:!0})})},{}],20:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(){return b||(_(n),b=w.now()+x)}function n(){b=0}function r(){this._call=this._time=this._next=null}function i(t,e,n){var i=new r;return i.restart(t,e,n),i}function o(){e(),++d;for(var t,n=p;n;)(t=b-n._time)>=0&&n._call.call(null,t),n=n._next;--d}function a(){b=(v=w.now())+x,d=m=0;try{o()}finally{d=0,u(),b=0}}function s(){var t=w.now(),e=t-v;e>y&&(x-=e,v=t)}function u(){for(var t,e,n=p,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:p=e);h=t,c(r)}function c(t){if(!d){m&&(m=clearTimeout(m));var e=t-b;e>24?(t<1/0&&(m=setTimeout(a,e)),g&&(g=clearInterval(g))):(g||(g=setInterval(s,y)),d=1,_(a))}}function l(t,e,n){var i=new r;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}function f(t,n,i){var o=new r,a=n;return null==n?(o.restart(t,n,i),o):(n=+n,i=null==i?e():+i,o.restart(function s(e){e+=a,o.restart(s,a+=n,i),t(e)},n,i),o)}var p,h,d=0,m=0,g=0,y=1e3,v=0,b=0,x=0,w="object"==typeof performance&&performance.now?performance:Date,_="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};r.prototype=i.prototype={constructor:r,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?e():+r)+(null==n?0:+n),this._next||h===this||(h?h._next=this:p=this,h=this),this._call=t,this._time=r,c()},stop:function(){this._call&&(this._call=null,this._time=1/0,c())}},t.now=e,t.timer=i,t.timerFlush=o,t.timeout=l,t.interval=f,Object.defineProperty(t,"__esModule",{value:!0})})},{}],21:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-selection"),e("d3-dispatch"),e("d3-timer"),e("d3-interpolate"),e("d3-color"),e("d3-ease")):"function"==typeof t&&t.amd?t(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],o):o(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3,i.d3)}(this,function(t,e,n,r,i,o,a){"use strict";function s(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>V)throw new Error("too late");return n}function u(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>$)throw new Error("too late");return n}function c(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function l(t,e,n){function i(t){n.state=W,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(i){var l,f,p,h;if(n.state!==W)return s();for(l in c)if(h=c[l],h.name===n.name){if(h.state===H)return r.timeout(o);h.state===G?(h.state=X,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete c[l]):+l<e&&(h.state=X,h.timer.stop(),delete c[l])}if(r.timeout(function(){n.state===H&&(n.state=G,n.timer.restart(a,n.delay,n.time),a(i))}),n.state=$,n.on.call("start",t,t.__data__,n.index,n.group),n.state===$){for(n.state=H,u=new Array(p=n.tween.length),l=0,f=-1;l<p;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(u[++f]=h);u.length=f+1}}function a(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Y,1),i=-1,o=u.length;++i<o;)u[i].call(null,r);n.state===Y&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=X,n.timer.stop(),delete c[e];for(var r in c)return;delete t.__transition}var u,c=t.__transition;c[e]=n,n.timer=r.timer(i,0,n.time)}function f(t,e){var n,r;return function(){var i=u(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function p(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=u(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function h(t,e,n){var r=t._id;return t.each(function(){var t=u(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return c(t,r).value[e]}}function d(t){return function(){this.removeAttribute(t)}}function m(t){return function(){this.removeAttributeNS(t.space,t.local)}}function g(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function y(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function v(t,e,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===r&&s===i?o:o=e(r=a,i=s))}}function b(t,e,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===r&&s===i?o:o=e(r=a,i=s))}}function x(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function w(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function _(t,e){return function(){s(this,t).delay=+e.apply(this,arguments)}}function N(t,e){return e=+e,function(){s(this,t).delay=e}}function E(t,e){return function(){u(this,t).duration=+e.apply(this,arguments)}}function M(t,e){return e=+e,function(){u(this,t).duration=e}}function S(t,e){if("function"!=typeof e)throw new Error;return function(){u(this,t).ease=e}}function O(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function k(t,e,n){var r,i,o=O(e)?s:u;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function T(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function A(t,n){var r,i,o;return function(){var a=e.window(this).getComputedStyle(this,null),s=a.getPropertyValue(t),u=(this.style.removeProperty(t),a.getPropertyValue(t));return s===u?null:s===r&&u===i?o:o=n(r=s,i=u)}}function C(t){return function(){this.style.removeProperty(t)}}function P(t,n,r){var i,o;return function(){var a=e.window(this).getComputedStyle(this,null).getPropertyValue(t);return a===r?null:a===i?o:o=n(i=a,r)}}function j(t,n,r){var i,o,a;return function(){var s=e.window(this).getComputedStyle(this,null),u=s.getPropertyValue(t),c=r(this);return null==c&&(this.style.removeProperty(t),c=s.getPropertyValue(t)),u===c?null:u===i&&c===o?a:a=n(i=u,o=c)}}function z(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}function D(t){return function(){this.textContent=t}}function R(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function I(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function F(t){return e.selection().transition(t)}function B(){return++vt}function U(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return xt.time=r.now(),xt;return n}var L=n.dispatch("start","end","interrupt"),q=[],V=0,W=1,$=2,H=3,G=4,Y=5,X=6,Z=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};l(t,n,{name:e,index:r,group:i,on:L,tween:q,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:V})},K=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state>$&&n.state<Y,n.state=X,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},J=function(t){return this.each(function(){K(this,t)})},Q=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=c(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?f:p)(n,t,e))},tt=function(t,e){var n;return("number"==typeof e?i.interpolateNumber:e instanceof o.color?i.interpolateRgb:(n=o.color(e))?(e=n,i.interpolateRgb):i.interpolateString)(t,e)},et=function(t,n){var r=e.namespace(t),o="transform"===r?i.interpolateTransformSvg:tt;return this.attrTween(t,"function"==typeof n?(r.local?b:v)(r,o,h(this,"attr."+t,n)):null==n?(r.local?m:d)(r):(r.local?y:g)(r,o,n))},nt=function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=e.namespace(t);return this.tween(r,(i.local?x:w)(i,n))},rt=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?_:N)(e,t)):c(this.node(),e).delay},it=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?E:M)(e,t)):c(this.node(),e).duration},ot=function(t){var e=this._id;return arguments.length?this.each(S(e,t)):c(this.node(),e).ease},at=function(t){"function"!=typeof t&&(t=e.matcher(t));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,s=n[o],u=s.length,c=i[o]=[],l=0;l<u;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new I(i,this._parents,this._name,this._id)},st=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,p=a[s]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(p[h]=u);for(;s<r;++s)a[s]=e[s];return new I(a,this._parents,this._name,this._id)},ut=function(t,e){var n=this._id;return arguments.length<2?c(this.node(),n).on.on(t):this.each(k(n,t,e))},ct=function(){return this.on("end.remove",T(this._id))},lt=function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selector(t));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var u,l,f=i[s],p=f.length,h=a[s]=new Array(p),d=0;d<p;++d)(u=f[d])&&(l=t.call(u,u.__data__,d,f))&&("__data__"in u&&(l.__data__=u.__data__),h[d]=l,Z(h[d],n,r,d,h,c(u,r)));return new I(a,this._parents,n,r)},ft=function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selectorAll(t));for(var i=this._groups,o=i.length,a=[],s=[],u=0;u<o;++u)for(var l,f=i[u],p=f.length,h=0;h<p;++h)if(l=f[h]){for(var d,m=t.call(l,l.__data__,h,f),g=c(l,r),y=0,v=m.length;y<v;++y)(d=m[y])&&Z(d,n,r,y,m,g);a.push(m),s.push(l)}return new I(a,s,n,r)},pt=e.selection.prototype.constructor,ht=function(){return new pt(this._groups,this._parents)},dt=function(t,e,n){var r="transform"==(t+="")?i.interpolateTransformCss:tt;return null==e?this.styleTween(t,A(t,r)).on("end.style."+t,C(t)):this.styleTween(t,"function"==typeof e?j(t,r,h(this,"style."+t,e)):P(t,r,e),n)},mt=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,z(t,e,null==n?"":n))},gt=function(t){return this.tween("text","function"==typeof t?R(h(this,"text",t)):D(null==t?"":t+""))},yt=function(){for(var t=this._name,e=this._id,n=B(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var f=c(a,e);Z(a,t,n,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new I(r,this._parents,t,n)},vt=0,bt=e.selection.prototype;I.prototype=F.prototype={constructor:I,select:lt,selectAll:ft,filter:at,merge:st,selection:ht,transition:yt,call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:ut,attr:et,attrTween:nt,style:dt,styleTween:mt,text:gt,remove:ct,tween:Q,delay:rt,duration:it,ease:ot};var xt={time:null,delay:0,duration:250,ease:a.easeCubicInOut},wt=function(t){var e,n;t instanceof I?(e=t._id,t=t._name):(e=B(),(n=xt).time=r.now(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s,u=i[a],c=u.length,l=0;l<c;++l)(s=u[l])&&Z(s,t,e,l,u,n||U(s,e));return new I(i,this._parents,t,e)};e.selection.prototype.interrupt=J,e.selection.prototype.transition=wt;var _t=[null],Nt=function(t,e){var n,r,i=t.__transition;if(i){e=null==e?null:e+"";for(r in i)if((n=i[r]).state>W&&n.name===e)return new I([[t]],_t,e,(+r))}return null};t.transition=F,t.active=Nt,t.interrupt=K,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":7,"d3-dispatch":8,"d3-ease":10,"d3-interpolate":13,"d3-selection":16,"d3-timer":20}],22:[function(e,n,r){!function(r){"use strict";function i(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Dt-r.length,n&&(o+=m(n)),o+=r;a=t[e],r=a+"",n=Dt-r.length,n&&(o+=m(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function o(t,e,n){if(t!==~~t||t<e||t>n)throw Error(St+t)}function a(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Dt,i=0):(i=Math.ceil((e+1)/Dt),e%=Dt),o=Tt(10,Dt-e),s=t[i]%o|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==Tt(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==Tt(10,e-3)-1,a}function s(t,e,n){for(var r,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=bt.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function u(t,e){var n,r,i=e.d.length;i<32?(n=Math.ceil(i/3),r=Math.pow(4,-n).toString()):(n=16,r="2.3283064365386962890625e-10"),t.precision+=n,e=M(t,1,e.times(r),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}function c(t,e,n,r){var i,o,a,s,u,c,l,f,p,h=t.constructor;t:if(null!=e){if(f=t.d,!f)return t;for(i=1,s=f[0];s>=10;s/=10)i++;if(o=e-i,o<0)o+=Dt,a=e,l=f[p=0],u=l/Tt(10,i-a-1)%10|0;else if(p=Math.ceil((o+1)/Dt),s=f.length,p>=s){if(!r)break t;for(;s++<=p;)f.push(0);l=u=0,i=1,o%=Dt,a=o-Dt+1}else{for(l=s=f[p],i=1;s>=10;s/=10)i++;o%=Dt,a=o-Dt+i,u=a<0?0:l/Tt(10,i-a-1)%10|0}if(r=r||e<0||void 0!==f[p+1]||(a<0?l:l%Tt(10,i-a-1)),c=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?a>0?l/Tt(10,i-a):0:f[p-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,c?(e-=t.e+1,f[0]=Tt(10,(Dt-e%Dt)%Dt),t.e=-e||0):f[0]=t.e=0,t;if(0==o?(f.length=p,s=1,p--):(f.length=p+1,s=Tt(10,Dt-o),f[p]=a>0?(l/Tt(10,i-a)%Tt(10,a)|0)*s:0),c)for(;;){if(0==p){for(o=1,a=f[0];a>=10;a/=10)o++;
for(a=f[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,f[0]==zt&&(f[0]=1));break}if(f[p]+=s,f[p]!=zt)break;f[p--]=0,s=1}for(o=f.length;0===f[--o];)f.pop()}return Et&&(t.e>h.maxE?(t.d=null,t.e=NaN):t.e<h.minE&&(t.e=0,t.d=[0])),t}function l(t,e,n){if(!t.isFinite())return w(t);var r,o=t.e,a=i(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+m(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):o<0?(a="0."+m(-o-1)+a,n&&(r=n-s)>0&&(a+=m(r))):o>=s?(a+=m(o+1-s),n&&(r=n-o-1)>0&&(a=a+"."+m(r))):((r=o+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(o+1===s&&(a+="."),a+=m(r))),a}function f(t,e){for(var n=1,r=t[0];r>=10;r/=10)n++;return n+e*Dt-1}function p(t,e,n){if(e>It)throw Et=!0,n&&(t.precision=n),Error(Ot);return c(new t(xt),e,1,!0)}function h(t,e,n){if(e>Ft)throw Error(Ot);return c(new t(wt),e,n,!0)}function d(t){var e=t.length-1,n=e*Dt+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function m(t){for(var e="";t--;)e+="0";return e}function g(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/Dt+4);for(Et=!1;;){if(n%2&&(o=o.times(e),k(o.d,a)&&(i=!0)),n=kt(n/2),0===n){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}e=e.times(e),k(e.d,a)}return Et=!0,o}function y(t){return 1&t.d[t.d.length-1]}function v(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(r=new t(e[o]),!r.s){i=r;break}i[n](r)&&(i=r)}return i}function b(t,e){var n,r,o,s,u,l,f,p=0,h=0,d=0,m=t.constructor,g=m.rounding,y=m.precision;if(!t.d||!t.d[0]||t.e>17)return new m(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(Et=!1,f=y):f=e,l=new m(.03125);t.e>-2;)t=t.times(l),d+=5;for(r=Math.log(Tt(2,d))/Math.LN10*2+5|0,f+=r,n=s=u=new m(1),m.precision=f;;){if(s=c(s.times(t),f,1),n=n.times(++h),l=u.plus(Ut(s,n,f,1)),i(l.d).slice(0,f)===i(u.d).slice(0,f)){for(o=d;o--;)u=c(u.times(u),f,1);if(null!=e)return m.precision=y,u;if(!(p<3&&a(u.d,f-r,g,p)))return c(u,m.precision=y,g,Et=!0);m.precision=f+=10,n=s=l=new m(1),h=0,p++}u=l}}function x(t,e){var n,r,o,s,u,l,f,h,d,m,g,y=1,v=10,b=t,w=b.d,_=b.constructor,N=_.rounding,E=_.precision;if(b.s<0||!w||!w[0]||!b.e&&1==w[0]&&1==w.length)return new _(w&&!w[0]?-1/0:1!=b.s?NaN:w?0:b);if(null==e?(Et=!1,d=E):d=e,_.precision=d+=v,n=i(w),r=n.charAt(0),!(Math.abs(s=b.e)<15e14))return h=p(_,d+2,E).times(s+""),b=x(new _(r+"."+n.slice(1)),d-v).plus(h),_.precision=E,null==e?c(b,E,N,Et=!0):b;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)b=b.times(t),n=i(b.d),r=n.charAt(0),y++;for(s=b.e,r>1?(b=new _("0."+n),s++):b=new _(r+"."+n.slice(1)),m=b,f=u=b=Ut(b.minus(1),b.plus(1),d,1),g=c(b.times(b),d,1),o=3;;){if(u=c(u.times(g),d,1),h=f.plus(Ut(u,new _(o),d,1)),i(h.d).slice(0,d)===i(f.d).slice(0,d)){if(f=f.times(2),0!==s&&(f=f.plus(p(_,d+2,E).times(s+""))),f=Ut(f,new _(y),d,1),null!=e)return _.precision=E,f;if(!a(f.d,d-v,N,l))return c(f,_.precision=E,N,Et=!0);_.precision=d+=v,h=u=b=Ut(m.minus(1),m.plus(1),d,1),g=c(b.times(b),d,1),o=l=1}f=h,o+=2}}function w(t){return String(t.s*t.s/0)}function _(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%Dt,n<0&&(r+=Dt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Dt;r<i;)t.d.push(+e.slice(r,r+=Dt));e=e.slice(r),r=Dt-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),Et&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function N(t,e){var n,r,i,o,a,u,c,l,p;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Ct.test(e))n=16,e=e.toLowerCase();else if(At.test(e))n=2;else{if(!Pt.test(e))throw Error(St+e);n=8}for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,r=t.constructor,a&&(e=e.replace(".",""),u=e.length,o=u-o,i=g(r,new r(n),o,2*o)),l=s(e,n,zt),p=l.length-1,o=p;0===l[o];--o)l.pop();return o<0?new r(0*t.s):(t.e=f(l,p),t.d=l,Et=!1,a&&(t=Ut(t,i,4*u)),c&&(t=t.times(Math.abs(c)<54?Math.pow(2,c):_t.pow(2,c))),Et=!0,t)}function E(t,e){var n,r=e.d.length;if(r<3)return M(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:0|n,e=e.times(Math.pow(5,-n)),e=M(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}function M(t,e,n,r,i){var o,a,s,u,c=1,l=t.precision,f=Math.ceil(l/Dt);for(Et=!1,u=n.times(n),s=new t(r);;){if(a=Ut(s.times(u),new t(e++*e++),l,1),s=i?r.plus(a):r.minus(a),r=Ut(a.times(u),new t(e++*e++),l,1),a=s.plus(r),void 0!==a.d[f]){for(o=f;a.d[o]===s.d[o]&&o--;);if(o==-1)break}o=s,s=r,r=a,a=o,c++}return Et=!0,a.d.length=f+1,a}function S(t,e){var n,r=e.s<0,i=h(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return gt=r?4:1,e;if(n=e.divToInt(i),n.isZero())gt=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return gt=y(n)?r?2:3:r?4:1,e;gt=y(n)?r?1:4:r?3:2}return e.minus(i).abs()}function O(t,e,n,r){var i,a,u,c,f,p,h,d,m,g=t.constructor,y=void 0!==n;if(y?(o(n,1,vt),void 0===r?r=g.rounding:o(r,0,8)):(n=g.precision,r=g.rounding),t.isFinite()){for(h=l(t),u=h.indexOf("."),y?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,u>=0&&(h=h.replace(".",""),m=new g(1),m.e=h.length-u,m.d=s(l(m),10,i),m.e=m.d.length),d=s(h,10,i),a=f=d.length;0==d[--f];)d.pop();if(d[0]){if(u<0?a--:(t=new g(t),t.d=d,t.e=a,t=Ut(t,m,n,r,0,i),d=t.d,a=t.e,p=dt),u=d[n],c=i/2,p=p||void 0!==d[n+1],p=r<4?(void 0!==u||p)&&(0===r||r===(t.s<0?3:2)):u>c||u===c&&(4===r||p||6===r&&1&d[n-1]||r===(t.s<0?8:7)),d.length=n,p)for(;++d[--n]>i-1;)d[n]=0,n||(++a,d.unshift(1));for(f=d.length;!d[f-1];--f);for(u=0,h="";u<f;u++)h+=bt.charAt(d[u]);if(y){if(f>1)if(16==e||8==e){for(u=16==e?4:3,--f;f%u;f++)h+="0";for(d=s(h,i,e),f=d.length;!d[f-1];--f);for(u=1,h="1.";u<f;u++)h+=bt.charAt(d[u])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>f)for(a-=f;a--;)h+="0";else a<f&&(h=h.slice(0,a)+"."+h.slice(a))}else h=y?"0p+0":"0";h=(16==e?"0x":2==e?"0b":8==e?"0o":"")+h}else h=w(t);return t.s<0?"-"+h:h}function k(t,e){if(t.length>e)return t.length=e,!0}function T(t){return new this(t).abs()}function A(t){return new this(t).acos()}function C(t){return new this(t).acosh()}function P(t,e){return new this(t).plus(e)}function j(t){return new this(t).asin()}function z(t){return new this(t).asinh()}function D(t){return new this(t).atan()}function R(t){return new this(t).atanh()}function I(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?h(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=h(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(Ut(t,e,o,1)),e=h(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(Ut(t,e,o,1)):(n=h(this,o,1).times(e.s>0?.25:.75),n.s=t.s):n=new this(NaN),n}function F(t){return new this(t).cbrt()}function B(t){return c(t=new this(t),t.e+1,2)}function U(t){if(!t||"object"!=typeof t)throw Error(Mt+"Object expected");var e,n,r,i=["precision",1,vt,"rounding",0,8,"toExpNeg",-yt,0,"toExpPos",0,yt,"maxE",0,yt,"minE",-yt,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(void 0!==(r=t[n=i[e]])){if(!(kt(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(St+n+": "+r);this[n]=r}if(t.hasOwnProperty(n="crypto"))if(void 0===(r=t[n]))this[n]=r;else{if(r!==!0&&r!==!1&&0!==r&&1!==r)throw Error(St+n+": "+r);this[n]=!(!r||!Nt||!Nt.getRandomValues&&!Nt.randomBytes)}return this}function L(t){return new this(t).cos()}function q(t){return new this(t).cosh()}function V(t){function e(t){var n,r,i,o=this;if(!(o instanceof e))return new e(t);if(o.constructor=e,t instanceof e)return o.s=t.s,o.e=t.e,void(o.d=(t=t.d)?t.slice():t);if(i=typeof t,"number"===i){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(n=0,r=t;r>=10;r/=10)n++;return o.e=n,void(o.d=[t])}return 0*t!==0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):_(o,t.toString())}if("string"!==i)throw Error(St+t);return 45===t.charCodeAt(0)?(t=t.slice(1),o.s=-1):o.s=1,jt.test(t)?_(o,t):N(o,t)}var n,r,i;if(e.prototype=Bt,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=U,e.clone=V,e.abs=T,e.acos=A,e.acosh=C,e.add=P,e.asin=j,e.asinh=z,e.atan=D,e.atanh=R,e.atan2=I,e.cbrt=F,e.ceil=B,e.cos=L,e.cosh=q,e.div=W,e.exp=$,e.floor=H,e.fromJSON=G,e.hypot=Y,e.ln=X,e.log=Z,e.log10=J,e.log2=K,e.max=Q,e.min=tt,e.mod=et,e.mul=nt,e.pow=rt,e.random=it,e.round=ot,e.sign=at,e.sin=st,e.sinh=ut,e.sqrt=ct,e.sub=lt,e.tan=ft,e.tanh=pt,e.trunc=ht,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return e.config(t),e}function W(t,e){return new this(t).div(e)}function $(t){return new this(t).exp()}function H(t){return c(t=new this(t),t.e+1,3)}function G(t){var e,n,r,i;if("string"!=typeof t||!t)throw Error(St+t);if(r=t.length,i=bt.indexOf(t.charAt(0)),1===r)return new this(i>81?[-1/0,1/0,NaN][i-82]:i>40?-(i-41):i);if(64&i)n=16&i,e=n?(7&i)-3:(15&i)-7,r=1;else{if(2===r)return i=88*i+bt.indexOf(t.charAt(1)),new this(i>=2816?-(i-2816)-41:i+41);if(n=32&i,!(31&i))return t=s(t.slice(1),88,10).join(""),new this(n?"-"+t:t);e=15&i,r=e+1,e=1===e?bt.indexOf(t.charAt(1)):2===e?88*bt.indexOf(t.charAt(1))+bt.indexOf(t.charAt(2)):+s(t.slice(1,r),88,10).join(""),16&i&&(e=-e)}return t=s(t.slice(r),88,10).join(""),e=e-t.length+1,t=t+"e"+e,new this(n?"-"+t:t)}function Y(){var t,e,n=new this(0);for(Et=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return Et=!0,new this(1/0);n=e}return Et=!0,n.sqrt()}function X(t){return new this(t).ln()}function Z(t,e){return new this(t).log(e)}function K(t){return new this(t).log(2)}function J(t){return new this(t).log(10)}function Q(){return v(this,arguments,"lt")}function tt(){return v(this,arguments,"gt")}function et(t,e){return new this(t).mod(e)}function nt(t,e){return new this(t).mul(e)}function rt(t,e){return new this(t).pow(e)}function it(t){var e,n,r,i,a=0,s=new this(1),u=[];if(void 0===t?t=this.precision:o(t,1,vt),r=Math.ceil(t/Dt),this.crypto===!1)for(;a<r;)u[a++]=1e7*Math.random()|0;else if(Nt&&Nt.getRandomValues)for(e=Nt.getRandomValues(new Uint32Array(r));a<r;)i=e[a],i>=429e7?e[a]=Nt.getRandomValues(new Uint32Array(1))[0]:u[a++]=i%1e7;else if(Nt&&Nt.randomBytes){for(e=Nt.randomBytes(r*=4);a<r;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((127&e[a+3])<<24),i>=214e7?Nt.randomBytes(4).copy(e,a):(u.push(i%1e7),a+=4);a=r/4}else{if(this.crypto)throw Error(Mt+"crypto unavailable");for(;a<r;)u[a++]=1e7*Math.random()|0}for(r=u[--a],t%=Dt,r&&t&&(i=Tt(10,Dt-t),u[a]=(r/i|0)*i);0===u[a];a--)u.pop();if(a<0)n=0,u=[0];else{for(n=-1;0===u[0];n-=Dt)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<Dt&&(n-=Dt-r)}return s.e=n,s.d=u,s}function ot(t){return c(t=new this(t),t.e+1,this.rounding)}function at(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function st(t){return new this(t).sin()}function ut(t){return new this(t).sinh()}function ct(t){return new this(t).sqrt()}function lt(t,e){return new this(t).sub(e)}function ft(t){return new this(t).tan()}function pt(t){return new this(t).tanh()}function ht(t){return c(t=new this(t),t.e+1,1)}var dt,mt,gt,yt=9e15,vt=1e9,bt="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%()*+,-./:;=?@[]^_`{|}~",xt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",wt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",_t={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-yt,maxE:yt,crypto:void 0},Nt="undefined"!=typeof crypto?crypto:null,Et=!0,Mt="[DecimalError] ",St=Mt+"Invalid argument: ",Ot=Mt+"Precision limit exceeded",kt=Math.floor,Tt=Math.pow,At=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ct=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Pt=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,jt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zt=1e7,Dt=7,Rt=9007199254740991,It=xt.length-1,Ft=wt.length-1,Bt={};Bt.absoluteValue=Bt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),c(t)},Bt.ceil=function(){return c(new this.constructor(this),this.e+1,2)},Bt.comparedTo=Bt.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,u=o.s,c=t.s;if(!a||!s)return u&&c?u!==c?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-c:0;if(u!==c)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(r=a.length,i=s.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},Bt.cosine=Bt.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Dt,r.rounding=1,n=u(r,S(r,n)),r.precision=t,r.rounding=e,c(2==gt||3==gt?n.neg():n,t,e,!0)):new r(1):new r(NaN)},Bt.cubeRoot=Bt.cbrt=function(){var t,e,n,r,o,a,s,u,l,f,p=this,h=p.constructor;if(!p.isFinite()||p.isZero())return new h(p);for(Et=!1,a=p.s*Math.pow(p.s*p,1/3),a&&Math.abs(a)!=1/0?r=new h(a.toString()):(n=i(p.d),t=p.e,(a=(t-n.length+1)%3)&&(n+=1==a||a==-2?"0":"00"),a=Math.pow(n,1/3),t=kt((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?n="5e"+t:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new h(n),r.s=p.s),s=(t=h.precision)+3;;)if(u=r,l=u.times(u).times(u),f=l.plus(p),r=Ut(f.plus(p).times(u),f.plus(l),s+2,1),i(u.d).slice(0,s)===(n=i(r.d)).slice(0,s)){if(n=n.slice(s-3,s+1),"9999"!=n&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(c(r,t+1,1),e=!r.times(r).times(r).eq(p));break}if(!o&&(c(u,t+1,0),u.times(u).times(u).eq(p))){r=u;break}s+=4,o=1}return Et=!0,c(r,t,h.rounding,e)},Bt.decimalPlaces=Bt.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-kt(this.e/Dt))*Dt,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},Bt.dividedBy=Bt.div=function(t){return Ut(this,new this.constructor(t))},Bt.dividedToIntegerBy=Bt.divToInt=function(t){var e=this,n=e.constructor;return c(Ut(e,new n(t),0,1,1),n.precision,n.rounding)},Bt.equals=Bt.eq=function(t){return 0===this.cmp(t)},Bt.floor=function(){return c(new this.constructor(this),this.e+1,3)},Bt.greaterThan=Bt.gt=function(t){return this.cmp(t)>0},Bt.greaterThanOrEqualTo=Bt.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Bt.hyperbolicCosine=Bt.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=Math.pow(4,-t).toString()):(t=16,e="2.3283064365386962890625e-10"),o=M(a,1,o.times(e),new a(1),!0);for(var u,l=t,f=new a(8);l--;)u=o.times(o),o=s.minus(u.times(f.minus(u.times(f))));return c(o,a.precision=n,a.rounding=r,!0)},Bt.hyperbolicSine=Bt.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=M(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:0|t,i=i.times(Math.pow(5,-t)),i=M(o,2,i,i,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=e,o.rounding=n,c(i,e,n,!0)},Bt.hyperbolicTangent=Bt.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,Ut(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},Bt.inverseCosine=Bt.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return r!==-1?0===r?e.isNeg()?h(n,i,o):new n(0):new n(NaN):e.isZero()?h(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=h(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},Bt.inverseHyperbolicCosine=Bt.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Et=!1,n=n.times(n).minus(1).sqrt().plus(n),Et=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},Bt.inverseHyperbolicSine=Bt.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Et=!1,n=n.times(n).plus(1).sqrt().plus(n),Et=!0,r.precision=t,r.rounding=e,n.ln())},Bt.inverseHyperbolicTangent=Bt.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?c(new o(i),t,e,!0):(o.precision=n=r-i.e,i=Ut(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},Bt.inverseSine=Bt.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,e!==-1?0===e?(t=h(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},Bt.inverseTangent=Bt.atan=function(){var t,e,n,r,i,o,a,s,u,l=this,f=l.constructor,p=f.precision,d=f.rounding;if(l.isFinite()){if(l.isZero())return new f(l);if(l.abs().eq(1)&&p+4<=Ft)return a=h(f,p+4,d).times(.25),a.s=l.s,a}else{if(!l.s)return new f(NaN);if(p+4<=Ft)return a=h(f,p+4,d).times(.5),a.s=l.s,a}for(f.precision=s=p+10,f.rounding=1,n=Math.min(28,s/Dt+2|0),t=n;t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Et=!1,e=Math.ceil(s/Dt),r=1,u=l.times(l),a=new f(l),i=l;t!==-1;)if(i=i.times(u),o=a.minus(i.div(r+=2)),i=i.times(u),a=o.plus(i.div(r+=2)),void 0!==a.d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),Et=!0,c(a,f.precision=p,f.rounding=d,!0)},Bt.isFinite=function(){return!!this.d},Bt.isInteger=Bt.isInt=function(){return!!this.d&&kt(this.e/Dt)>this.d.length-2},Bt.isNaN=function(){return!this.s},Bt.isNegative=Bt.isNeg=function(){return this.s<0},Bt.isPositive=Bt.isPos=function(){return this.s>0},Bt.isZero=function(){return!!this.d&&0===this.d[0]},Bt.lessThan=Bt.lt=function(t){return this.cmp(t)<0},Bt.lessThanOrEqualTo=Bt.lte=function(t){return this.cmp(t)<1},Bt.logarithm=Bt.log=function(t){var e,n,r,o,s,u,l,f,h=this,d=h.constructor,m=d.precision,g=d.rounding,y=5;if(null==t)t=new d(10),e=!0;else{if(t=new d(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new d(NaN);e=t.eq(10)}if(n=h.d,h.s<0||!n||!n[0]||h.eq(1))return new d(n&&!n[0]?-1/0:1!=h.s?NaN:n?0:1/0);if(e)if(n.length>1)s=!0;else{for(o=n[0];o%10===0;)o/=10;s=1!==o}if(Et=!1,l=m+y,u=x(h,l),r=e?p(d,l+10):x(t,l),f=Ut(u,r,l,1),a(f.d,o=m,g))do if(l+=10,u=x(h,l),r=e?p(d,l+10):x(t,l),f=Ut(u,r,l,1),!s){+i(f.d).slice(o+1,o+15)+1==1e14&&(f=c(f,m+1,0));break}while(a(f.d,o+=10,g));return Et=!0,c(f,m,g)},Bt.minus=Bt.sub=function(t){var e,n,r,i,o,a,s,u,l,p,h,d,m=this,g=m.constructor;if(t=new g(t),!m.d||!t.d)return m.s&&t.s?m.d?t.s=-t.s:t=new g(t.d||m.s!==t.s?m:NaN):t=new g(NaN),t;if(m.s!=t.s)return t.s=-t.s,m.plus(t);if(l=m.d,d=t.d,s=g.precision,u=g.rounding,!l[0]||!d[0]){if(d[0])t.s=-t.s;else{if(!l[0])return new g(3===u?-0:0);t=new g(m)}return Et?c(t,s,u):t}if(n=kt(t.e/Dt),p=kt(m.e/Dt),l=l.slice(),o=p-n){for(h=o<0,h?(e=l,o=-o,a=d.length):(e=d,n=p,a=l.length),r=Math.max(Math.ceil(s/Dt),a)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=l.length,a=d.length,h=r<a,h&&(a=r),r=0;r<a;r++)if(l[r]!=d[r]){h=l[r]<d[r];break}o=0}for(h&&(e=l,l=d,d=e,t.s=-t.s),a=l.length,r=d.length-a;r>0;--r)l[a++]=0;for(r=d.length;r>o;){if(l[--r]<d[r]){for(i=r;i&&0===l[--i];)l[i]=zt-1;--l[i],l[r]+=zt}l[r]-=d[r]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=f(l,n),Et?c(t,s,u):t):new g(3===u?-0:0)},Bt.modulo=Bt.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?c(new r(n),r.precision,r.rounding):(Et=!1,9==r.modulo?(e=Ut(n,t.abs(),0,3,1),e.s*=t.s):e=Ut(n,t,0,r.modulo,1),e=e.times(t),Et=!0,n.minus(e))},Bt.naturalExponential=Bt.exp=function(){return b(this)},Bt.naturalLogarithm=Bt.ln=function(){return x(this)},Bt.negated=Bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,c(t)},Bt.plus=Bt.add=function(t){var e,n,r,i,o,a,s,u,l,p,h=this,d=h.constructor;if(t=new d(t),!h.d||!t.d)return h.s&&t.s?h.d||(t=new d(t.d||h.s===t.s?h:NaN)):t=new d(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(l=h.d,p=t.d,s=d.precision,u=d.rounding,!l[0]||!p[0])return p[0]||(t=new d(h)),Et?c(t,s,u):t;if(o=kt(h.e/Dt),r=kt(t.e/Dt),l=l.slice(),i=o-r){for(i<0?(n=l,i=-i,a=p.length):(n=p,r=o,a=l.length),o=Math.ceil(s/Dt),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=l.length,i=p.length,a-i<0&&(i=a,n=p,p=l,l=n),e=0;i;)e=(l[--i]=l[i]+p[i]+e)/zt|0,l[i]%=zt;for(e&&(l.unshift(e),++r),a=l.length;0==l[--a];)l.pop();return t.d=l,t.e=f(l,r),Et?c(t,s,u):t},Bt.precision=Bt.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(St+t);return n.d?(e=d(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},Bt.round=function(){var t=this,e=t.constructor;return c(new e(t),t.e+1,e.rounding)},Bt.sine=Bt.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Dt,r.rounding=1,n=E(r,S(r,n)),r.precision=t,r.rounding=e,c(gt>2?n.neg():n,t,e,!0)):new r(NaN)},Bt.squareRoot=Bt.sqrt=function(){var t,e,n,r,o,a,s=this,u=s.d,l=s.e,f=s.s,p=s.constructor;if(1!==f||!u||!u[0])return new p(!f||f<0&&(!u||u[0])?NaN:u?s:1/0);for(Et=!1,f=Math.sqrt(+s),0==f||f==1/0?(e=i(u),(e.length+l)%2==0&&(e+="0"),f=Math.sqrt(e),l=kt((l+1)/2)-(l<0||l%2),f==1/0?e="1e"+l:(e=f.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),r=new p(e)):r=new p(f.toString()),n=(l=p.precision)+3;;)if(a=r,r=a.plus(Ut(s,a,n+2,1)).times(.5),i(a.d).slice(0,n)===(e=i(r.d)).slice(0,n)){if(e=e.slice(n-3,n+1),"9999"!=e&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(c(r,l+1,1),t=!r.times(r).eq(s));break}if(!o&&(c(a,l+1,0),a.times(a).eq(s))){r=a;break}n+=4,o=1}return Et=!0,c(r,l,p.rounding,t)},Bt.tangent=Bt.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=Ut(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,c(2==gt||4==gt?n.neg():n,t,e,!0)):new r(NaN)},Bt.times=Bt.mul=function(t){var e,n,r,i,o,a,s,u,l,p=this,h=p.constructor,d=p.d,m=(t=new h(t)).d;if(t.s*=p.s,!(d&&d[0]&&m&&m[0]))return new h(!t.s||d&&!d[0]&&!m||m&&!m[0]&&!d?NaN:d&&m?0*t.s:t.s/0);for(n=kt(p.e/Dt)+kt(t.e/Dt),u=d.length,l=m.length,u<l&&(o=d,d=m,m=o,a=u,u=l,l=a),o=[],a=u+l,r=a;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+m[r]*d[i-r-1]+e,o[i--]=s%zt|0,e=s/zt|0;o[i]=(o[i]+e)%zt|0}for(;!o[--a];)o.pop();for(e?++n:o.shift(),r=o.length;!o[--r];)o.pop();return t.d=o,t.e=f(o,n),Et?c(t,h.precision,h.rounding):t},Bt.toBinary=function(t,e){return O(this,2,t,e)},Bt.toDecimalPlaces=Bt.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(o(t,0,vt),void 0===e?e=r.rounding:o(e,0,8),c(n,t+n.e+1,e))},Bt.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=l(r,!0):(o(t,0,vt),void 0===e?e=i.rounding:o(e,0,8),r=c(new i(r),t+1,e),n=l(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Bt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return void 0===t?n=l(i):(o(t,0,vt),void 0===e?e=a.rounding:o(e,0,8),r=c(new a(i),t+i.e+1,e),n=l(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Bt.toFraction=function(t){var e,n,r,o,a,s,u,c,l,f,p,h,m=this,g=m.d,y=m.constructor;if(!g)return new y(m);if(l=n=new y(1),r=c=new y(0),e=new y(r),a=e.e=d(g)-m.e-1,s=a%Dt,e.d[0]=Tt(10,s<0?Dt+s:s),null==t)t=a>0?e:l;else{if(u=new y(t),!u.isInt()||u.lt(l))throw Error(St+u);t=u.gt(e)?a>0?e:l:u}for(Et=!1,u=new y(i(g)),f=y.precision,y.precision=a=g.length*Dt*2;p=Ut(u,e,0,1,1),o=n.plus(p.times(r)),1!=o.cmp(t);)n=r,r=o,o=l,l=c.plus(p.times(o)),c=o,o=e,e=u.minus(p.times(o)),u=o;return o=Ut(t.minus(n),r,0,1,1),c=c.plus(o.times(l)),n=n.plus(o.times(r)),c.s=l.s=m.s,h=Ut(l,r,a,1).minus(m).abs().cmp(Ut(c,n,a,1).minus(m).abs())<1?[l,r]:[c,n],y.precision=f,Et=!0,h},Bt.toHexadecimal=Bt.toHex=function(t,e){return O(this,16,t,e)},Bt.toJSON=function(){var t,e,n,r,o,a,u,c,l=this,f=l.s<0;if(!l.d)return bt.charAt(l.s?f?82:83:84);if(e=l.e,1===l.d.length&&e<4&&e>=0&&(a=l.d[0],a<2857))return a<41?bt.charAt(f?a+41:a):(a-=41,f&&(a+=2816),r=a/88|0,bt.charAt(r)+bt.charAt(a-88*r));if(c=i(l.d),u="",!f&&e<=8&&e>=-7)r=64+e+7;else if(f&&e<=4&&e>=-3)r=80+e+3;else if(c.length===e+1)r=32*f;else if(r=32*f+16*(e<0),e=Math.abs(e),e<88)r+=1,u=bt.charAt(e);else if(e<7744)r+=2,a=e/88|0,u=bt.charAt(a)+bt.charAt(e-88*a);else for(t=s(String(e),10,88),o=t.length,r+=o,n=0;n<o;n++)u+=bt.charAt(t[n]);for(u=bt.charAt(r)+u,t=s(c,10,88),o=t.length,n=0;n<o;n++)u+=bt.charAt(t[n]);return u},Bt.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0!==e&&o(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(Et=!1,e<4&&(e=[4,5,7,8][e]),n=Ut(n,t,0,e,1).times(t),Et=!0,c(n)):(t.s=n.s,n=t),n},Bt.toNumber=function(){return+this},Bt.toOctal=function(t,e){return O(this,8,t,e)},Bt.toPower=Bt.pow=function(t){var e,n,r,o,s,u,l,f=this,p=f.constructor,h=+(t=new p(t));if(!(f.d&&t.d&&f.d[0]&&t.d[0]))return new p(Tt(+f,h));if(f=new p(f),f.eq(1))return f;if(r=p.precision,s=p.rounding,t.eq(1))return c(f,r,s);if(e=kt(t.e/Dt),n=t.d.length-1,l=e>=n,u=f.s,l){if((n=h<0?-h:h)<=Rt)return o=g(p,f,n,r),t.s<0?new p(1).div(o):c(o,r,s)}else if(u<0)return new p(NaN);return u=u<0&&1&t.d[Math.max(e,n)]?-1:1,n=Tt(+f,h),e=0!=n&&isFinite(n)?new p(n+"").e:kt(h*(Math.log("0."+i(f.d))/Math.LN10+f.e+1)),e>p.maxE+1||e<p.minE-1?new p(e>0?u/0:0):(Et=!1,p.rounding=f.s=1,n=Math.min(12,(e+"").length),o=b(t.times(x(f,r+n)),r),o=c(o,r+5,1),a(o.d,r,s)&&(e=r+10,o=c(b(t.times(x(f,e+n)),e),e+5,1),+i(o.d).slice(r+1,r+15)+1==1e14&&(o=c(o,r+1,0))),o.s=u,Et=!0,p.rounding=s,c(o,r,s))},Bt.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=l(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(o(t,1,vt),void 0===e?e=i.rounding:o(e,0,8),r=c(new i(r),t,e),n=l(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},Bt.toSignificantDigits=Bt.toSD=function(t,e){var n=this,r=n.constructor;return void 0===t?(t=r.precision,e=r.rounding):(o(t,1,vt),void 0===e?e=r.rounding:o(e,0,8)),c(new r(n),t,e)},Bt.toString=function(){var t=this,e=t.constructor,n=l(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},Bt.truncated=Bt.trunc=function(){return c(new this.constructor(this),this.e+1,1)},Bt.valueOf=function(){var t=this,e=t.constructor,n=l(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var Ut=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a,s,u){var l,f,p,h,d,m,g,y,v,b,x,w,_,N,E,M,S,O,k,T,A=r.constructor,C=r.s==i.s?1:-1,P=r.d,j=i.d;if(!(P&&P[0]&&j&&j[0]))return new A(r.s&&i.s&&(P?!j||P[0]!=j[0]:j)?P&&0==P[0]||!j?0*C:C/0:NaN);for(u?(d=1,f=r.e-i.e):(u=zt,d=Dt,f=kt(r.e/d)-kt(i.e/d)),k=j.length,S=P.length,v=new A(C),b=v.d=[],p=0;j[p]==(P[p]||0);p++);if(j[p]>(P[p]||0)&&f--,null==o?(N=o=A.precision,a=A.rounding):N=s?o+(r.e-i.e)+1:o,N<0)b.push(1),m=!0;else{if(N=N/d+2|0,p=0,1==k){for(h=0,j=j[0],N++;(p<S||h)&&N--;p++)E=h*u+(P[p]||0),b[p]=E/j|0,h=E%j|0;m=h||p<S}else{for(h=u/(j[0]+1)|0,h>1&&(j=t(j,h,u),P=t(P,h,u),k=j.length,S=P.length),M=k,x=P.slice(0,k),w=x.length;w<k;)x[w++]=0;T=j.slice(),T.unshift(0),O=j[0],j[1]>=u/2&&++O;do h=0,l=e(j,x,k,w),l<0?(_=x[0],k!=w&&(_=_*u+(x[1]||0)),h=_/O|0,h>1?(h>=u&&(h=u-1),g=t(j,h,u),y=g.length,w=x.length,l=e(g,x,y,w),1==l&&(h--,n(g,k<y?T:j,y,u))):(0==h&&(l=h=1),g=j.slice()),y=g.length,y<w&&g.unshift(0),n(x,g,w,u),l==-1&&(w=x.length,l=e(j,x,k,w),l<1&&(h++,n(x,k<w?T:j,w,u))),w=x.length):0===l&&(h++,x=[0]),b[p++]=h,l&&x[0]?x[w++]=P[M]||0:(x=[P[M]],w=1);while((M++<S||void 0!==x[0])&&N--);m=void 0!==x[0]}b[0]||b.shift()}if(1==d)v.e=f,dt=m;else{for(p=1,h=b[0];h>=10;h/=10)p++;v.e=p+f*d-1,c(v,s?o+v.e+1:o,a,m)}return v}}();if(_t=V(_t),xt=new _t(xt),wt=new _t(wt),"function"==typeof t&&t.amd)t(function(){return _t});else if("undefined"!=typeof n&&n.exports){if(n.exports=_t,!Nt)try{Nt=e("crypto")}catch(Lt){}}else r||(r="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),mt=r.Decimal,_t.noConflict=function(){return r.Decimal=mt,_t},r.Decimal=_t}(this)},{}],23:[function(e,n,r){var i=i||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",l=4e4,f=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,l)},p=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(o){u(o)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,u,l){l||(e=h(e));var d,m=this,g=e.type,y=g===c,v=function(){p(m,"writestart progress write writeend".split(" "))},b=function(){if((s||y&&a)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,m.readyState=m.DONE,v()},r.readAsDataURL(e),
void(m.readyState=m.INIT)}if(d||(d=n().createObjectURL(e)),y)t.location.href=d;else{var i=t.open(d,"_blank");i||(t.location.href=d)}m.readyState=m.DONE,v(),f(d)};return m.readyState=m.INIT,i?(d=n().createObjectURL(e),void setTimeout(function(){r.href=d,r.download=u,o(r),v(),f(d),m.readyState=m.DONE})):void b()},m=d.prototype,g=function(t,e,n){return new d(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=h(t)),navigator.msSaveOrOpenBlob(t,e)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof n&&n.exports?n.exports.saveAs=i:"undefined"!=typeof t&&null!==t&&null!==t.amd&&t("FileSaver.js",function(){return i})},{}],24:[function(e,n,r){!function(e){"use strict";function i(t,e){return isNaN(t=parseInt(t,10))&&o(),t*e}function o(){throw"Invalid Param"}function a(t,e){return this instanceof a?(c(t,e),t=a.REDUCE?h(u.d,u.n):1,this.s=u.s,this.n=u.n/t,void(this.d=u.d/t)):new a(t,e)}var s=2e3,u={s:1,n:0,d:1},c=function(t,e){var n,r=0,a=1,s=1,c=0,l=0,f=0,p=1,h=1,d=0,m=1,g=1,y=1,v=1e7;if(void 0===t||null===t);else if(void 0!==e)r=t,a=e,s=r*a;else switch(typeof t){case"object":"d"in t&&"n"in t?(r=t.n,a=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(a=t[1])):o(),s=r*a;break;case"number":if(t<0&&(s=t,t=-t),t%1===0)r=t;else if(t>0){for(t>=1&&(h=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=h);m<=v&&y<=v;){if(n=(d+g)/(m+y),t===n){m+y<=v?(r=d+g,a=m+y):y>m?(r=g,a=y):(r=d,a=m);break}t>n?(d+=g,m+=y):(g+=d,y+=m),m>v?(r=g,a=y):(r=d,a=m)}r*=h}else(isNaN(t)||isNaN(e))&&(a=r=NaN);break;case"string":if(m=t.match(/\d+|./g),"-"===m[d]?(s=-1,d++):"+"===m[d]&&d++,m.length===d+1?l=i(m[d++],s):"."===m[d+1]||"."===m[d]?("."!==m[d]&&(c=i(m[d++],s)),d++,(d+1===m.length||"("===m[d+1]&&")"===m[d+3]||"'"===m[d+1]&&"'"===m[d+3])&&(l=i(m[d],s),p=Math.pow(10,m[d].length),d++),("("===m[d]&&")"===m[d+2]||"'"===m[d]&&"'"===m[d+2])&&(f=i(m[d+1],s),h=Math.pow(10,m[d+1].length)-1,d+=3)):"/"===m[d+1]||":"===m[d+1]?(l=i(m[d],s),p=i(m[d+2],1),d+=3):"/"===m[d+3]&&" "===m[d+1]&&(c=i(m[d],s),l=i(m[d+2],s),p=i(m[d+4],1),d+=5),m.length<=d){a=p*h,s=r=f+a*c+h*l;break}default:o()}if(0===a)throw"DIV/0";u.s=s<0?-1:1,u.n=Math.abs(r),u.d=Math.abs(a)},l=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r},f=function(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>s)return 0;return r},p=function(t,e,n){for(var r=1,i=l(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0},h=function(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}};a.REDUCE=1,a.prototype={s:1,n:0,d:1,abs:function(){return new a(this.n,this.d)},neg:function(){return new a(-this.s*this.n,this.d)},add:function(t,e){return c(t,e),new a(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(t,e){return c(t,e),new a(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(t,e){return c(t,e),new a(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(t,e){return c(t,e),new a(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return new a(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new a(NaN):void 0===t?new a(this.s*this.n%this.d,1):(c(t,e),0===u.n&&0===this.d&&a(0,0),new a(this.s*u.d*this.n%(u.n*this.d),u.d*this.d))},gcd:function(t,e){return c(t,e),new a(h(u.n,this.n),u.d*this.d/h(u.d,this.d))},lcm:function(t,e){return c(t,e),0===u.n&&0===this.n?new a:new a(u.n*this.n/h(u.n,this.n),h(u.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):new a(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):new a(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):new a(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new a(this.s*this.d,this.n)},pow:function(t){return t<0?new a(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new a(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return c(t,e),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(t,e){c(t,e);var n=this.s*this.n*u.d-u.s*u.n*this.d;return(0<n)-(n<0)},divisible:function(t,e){return c(t,e),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];do r.push(Math.floor(e/n)),t=e%n,e=n,n=t;while(1!==e);return r},toString:function(){var t,e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";a.REDUCE||(t=h(e,n),e/=t,n/=t);for(var r=String(e).split(""),i=0,o=[~this.s?"":"-","",""],s="",u=f(e,n),c=p(e,n,u),l=-1,d=1,m=15+u+c+r.length,g=0;g<m;g++,i*=10){if(g<r.length?i+=Number(r[g]):(d=2,l++),u>0)if(l===c)o[d]+=s+"(",s="";else if(l===u+c){o[d]+=s+")";break}i>=n?(o[d]+=s+(i/n|0),s="",i%=n):d>1?s+="0":o[d]&&(o[d]+="0")}return o[0]+=o[1]||"0",o[2]?o[0]+"."+o[2]:o[0]}},"function"==typeof t&&t.amd?t([],function(){return a}):"object"==typeof r?n.exports=a:e.Fraction=a}(this)},{}],25:[function(e,n,r){!function(e,r,i,o){"use strict";function a(t,e,n){return setTimeout(f(t,n),e)}function s(t,e,n){return!!Array.isArray(t)&&(u(t,n[e],n),!0)}function u(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==o)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function c(t,n,r){var i="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,i,r),t.apply(this,arguments)}}function l(t,e,n){var r,i=e.prototype;r=t.prototype=Object.create(i),r.constructor=t,r._super=i,n&&ht(r,n)}function f(t,e){return function(){return t.apply(e,arguments)}}function p(t,e){return typeof t==gt?t.apply(e?e[0]||o:o,e):t}function h(t,e){return t===o?e:t}function d(t,e,n){u(v(e),function(e){t.addEventListener(e,n,!1)})}function m(t,e,n){u(v(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function y(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function b(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function w(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];b(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function _(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),a=0;a<dt.length;){if(n=dt[a],r=n?n+i:e,r in t)return r;a++}return o}function N(){return _t++}function E(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function M(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&n.handler(e)},this.init()}function S(t){var e,n=t.options.inputClass;return new(e=n?n:Mt?U:St?V:Et?$:B)(t,O)}function O(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&Pt&&r-i===0,a=e&(zt|Dt)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,k(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function k(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=C(e)),i>1&&!n.firstMultiple?n.firstMultiple=C(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=P(r);e.timeStamp=bt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=R(s,u),e.distance=D(s,u),T(n,e),e.offsetDirection=z(e.deltaX,e.deltaY);var c=j(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=vt(c.x)>vt(c.y)?c.x:c.y,e.scale=a?F(a.pointers,r):1,e.rotation=a?I(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,A(n,e);var l=t.element;g(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function T(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Pt&&o.eventType!==zt||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function A(t,e){var n,r,i,a,s=t.lastInterval||e,u=e.timeStamp-s.timeStamp;if(e.eventType!=Dt&&(u>Ct||s.velocity===o)){var c=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,f=j(u,c,l);r=f.x,i=f.y,n=vt(f.x)>vt(f.y)?f.x:f.y,a=z(c,l),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,a=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=a}function C(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:yt(t.pointers[n].clientX),clientY:yt(t.pointers[n].clientY)},n++;return{timeStamp:bt(),pointers:e,center:P(e),deltaX:t.deltaX,deltaY:t.deltaY}}function P(t){var e=t.length;if(1===e)return{x:yt(t[0].clientX),y:yt(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:yt(n/e),y:yt(r/e)}}function j(t,e,n){return{x:e/t||0,y:n/t||0}}function z(t,e){return t===e?Rt:vt(t)>=vt(e)?t<0?It:Ft:e<0?Bt:Ut}function D(t,e,n){n||(n=Wt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function R(t,e,n){n||(n=Wt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function I(t,e){return R(e[1],e[0],$t)+R(t[1],t[0],$t)}function F(t,e){return D(e[0],e[1],$t)/D(t[0],t[1],$t)}function B(){this.evEl=Gt,this.evWin=Yt,this.pressed=!1,M.apply(this,arguments)}function U(){this.evEl=Kt,this.evWin=Jt,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function L(){this.evTarget=te,this.evWin=ee,this.started=!1,M.apply(this,arguments)}function q(t,e){var n=x(t.touches),r=x(t.changedTouches);return e&(zt|Dt)&&(n=w(n.concat(r),"identifier",!0)),[n,r]}function V(){this.evTarget=re,this.targetIds={},M.apply(this,arguments)}function W(t,e){var n=x(t.touches),r=this.targetIds;if(e&(Pt|jt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=x(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return g(t.target,u)}),e===Pt)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(zt|Dt)&&delete r[a[i].identifier],i++;return s.length?[w(o.concat(s),"identifier",!0),s]:void 0}function $(){M.apply(this,arguments);var t=f(this.handler,this);this.touch=new V(this.manager,t),this.mouse=new B(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function H(t,e){t&Pt?(this.primaryTouch=e.changedPointers[0].identifier,G.call(this,e)):t&(zt|Dt)&&G.call(this,e)}function G(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(i,ie)}}function Y(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=oe&&a<=oe)return!0}return!1}function X(t,e){this.manager=t,this.set(e)}function Z(t){if(y(t,fe))return fe;var e=y(t,pe),n=y(t,he);return e&&n?fe:e||n?e?pe:he:y(t,le)?le:ce}function K(){if(!se)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){t[r]=!n||e.CSS.supports("touch-action",r)}),t}function J(t){this.options=ht({},this.defaults,t||{}),this.id=N(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=me,this.simultaneous={},this.requireFail=[]}function Q(t){return t&xe?"cancel":t&ve?"end":t&ye?"move":t&ge?"start":""}function tt(t){return t==Ut?"down":t==Bt?"up":t==It?"left":t==Ft?"right":""}function et(t,e){var n=e.manager;return n?n.get(t):t}function nt(){J.apply(this,arguments)}function rt(){nt.apply(this,arguments),this.pX=null,this.pY=null}function it(){nt.apply(this,arguments)}function ot(){J.apply(this,arguments),this._timer=null,this._input=null}function at(){nt.apply(this,arguments)}function st(){nt.apply(this,arguments)}function ut(){J.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ct(t,e){return e=e||{},e.recognizers=h(e.recognizers,ct.defaults.preset),new lt(t,e)}function lt(t,e){this.options=ht({},ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=S(this),this.touchAction=new X(this,this.options.touchAction),ft(this,!0),u(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ft(t,e){var n=t.element;if(n.style){var r;u(t.options.cssProps,function(i,o){r=_(n.style,o),e?(t.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function pt(t,e){var n=r.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var ht,dt=["","webkit","Moz","MS","ms","o"],mt=r.createElement("div"),gt="function",yt=Math.round,vt=Math.abs,bt=Date.now;ht="function"!=typeof Object.assign?function(t){if(t===o||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==o&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var xt=c(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===o)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),wt=c(function(t,e){return xt(t,e,!0)},"merge","Use `assign`."),_t=1,Nt=/mobile|tablet|ip(ad|hone|od)|android/i,Et="ontouchstart"in e,Mt=_(e,"PointerEvent")!==o,St=Et&&Nt.test(navigator.userAgent),Ot="touch",kt="pen",Tt="mouse",At="kinect",Ct=25,Pt=1,jt=2,zt=4,Dt=8,Rt=1,It=2,Ft=4,Bt=8,Ut=16,Lt=It|Ft,qt=Bt|Ut,Vt=Lt|qt,Wt=["x","y"],$t=["clientX","clientY"];M.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(E(this.element),this.evWin,this.domHandler)}};var Ht={mousedown:Pt,mousemove:jt,mouseup:zt},Gt="mousedown",Yt="mousemove mouseup";l(B,M,{handler:function(t){var e=Ht[t.type];e&Pt&&0===t.button&&(this.pressed=!0),e&jt&&1!==t.which&&(e=zt),this.pressed&&(e&zt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Tt,srcEvent:t}))}});var Xt={pointerdown:Pt,pointermove:jt,pointerup:zt,pointercancel:Dt,pointerout:Dt},Zt={2:Ot,3:kt,4:Tt,5:At},Kt="pointerdown",Jt="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Kt="MSPointerDown",Jt="MSPointerMove MSPointerUp MSPointerCancel"),l(U,M,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Xt[r],o=Zt[t.pointerType]||t.pointerType,a=o==Ot,s=b(e,t.pointerId,"pointerId");i&Pt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(zt|Dt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var Qt={touchstart:Pt,touchmove:jt,touchend:zt,touchcancel:Dt},te="touchstart",ee="touchstart touchmove touchend touchcancel";l(L,M,{handler:function(t){var e=Qt[t.type];if(e===Pt&&(this.started=!0),this.started){var n=q.call(this,t,e);e&(zt|Dt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ot,srcEvent:t})}}});var ne={touchstart:Pt,touchmove:jt,touchend:zt,touchcancel:Dt},re="touchstart touchmove touchend touchcancel";l(V,M,{handler:function(t){var e=ne[t.type],n=W.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ot,srcEvent:t})}});var ie=2500,oe=25;l($,M,{handler:function(t,e,n){var r=n.pointerType==Ot,i=n.pointerType==Tt;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)H.call(this,e,n);else if(i&&Y.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ae=_(mt.style,"touchAction"),se=ae!==o,ue="compute",ce="auto",le="manipulation",fe="none",pe="pan-x",he="pan-y",de=K();X.prototype={set:function(t){t==ue&&(t=this.compute()),se&&this.manager.element.style&&de[t]&&(this.manager.element.style[ae]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return u(this.manager.recognizers,function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Z(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,i=y(r,fe)&&!de[fe],o=y(r,he)&&!de[he],a=y(r,pe)&&!de[pe];if(i){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}return a&&o?void 0:i||o&&n&Lt||a&&n&qt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var me=1,ge=2,ye=4,ve=8,be=ve,xe=16,we=32;J.prototype={defaults:{},set:function(t){return ht(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=et(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=et(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=et(t,this),b(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=et(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<ve&&e(n.options.event+Q(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=ve&&e(n.options.event+Q(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=we)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(we|me)))return!1;t++}return!0},recognize:function(t){var e=ht({},t);return p(this.options.enable,[this,e])?(this.state&(be|xe|we)&&(this.state=me),this.state=this.process(e),void(this.state&(ge|ye|ve|xe)&&this.tryEmit(e))):(this.reset(),void(this.state=we))},process:function(t){},getTouchAction:function(){},reset:function(){}},l(nt,J,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(ge|ye),i=this.attrTest(t);return r&&(n&Dt||!i)?e|xe:r||i?n&zt?e|ve:e&ge?e|ye:ge:we}}),l(rt,nt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Vt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Lt&&e.push(he),t&qt&&e.push(pe),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Lt?(i=0===o?Rt:o<0?It:Ft,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?Rt:a<0?Bt:Ut,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return nt.prototype.attrTest.call(this,t)&&(this.state&ge||!(this.state&ge)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=tt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),l(it,nt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ge)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),l(ot,J,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ce]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(zt|Dt)&&!i)this.reset();else if(t.eventType&Pt)this.reset(),this._timer=a(function(){this.state=be,this.tryEmit()},e.time,this);else if(t.eventType&zt)return be;return we},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===be&&(t&&t.eventType&zt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=bt(),this.manager.emit(this.options.event,this._input)))}}),l(at,nt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ge)}}),l(st,nt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Lt|qt,pointers:1},getTouchAction:function(){return rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Lt|qt)?e=t.overallVelocity:n&Lt?e=t.overallVelocityX:n&qt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&vt(e)>this.options.velocity&&t.eventType&zt},emit:function(t){var e=tt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(ut,J,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[le]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&Pt&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=zt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t;var u=this.count%e.taps;if(0===u)return this.hasRequireFailures()?(this._timer=a(function(){this.state=be,this.tryEmit()},e.interval,this),ge):be}return we},failTimeout:function(){return this._timer=a(function(){this.state=we},this.options.interval,this),we},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==be&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ct.VERSION="2.0.7",ct.defaults={domEvents:!1,touchAction:ue,enable:!0,inputTarget:null,inputClass:null,preset:[[at,{enable:!1}],[it,{enable:!1},["rotate"]],[st,{direction:Lt}],[rt,{direction:Lt},["swipe"]],[ut],[ut,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var _e=1,Ne=2;lt.prototype={set:function(t){return ht(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Ne:_e},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&be)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],e.stopped===Ne||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(ge|ye|ve)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof J)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=b(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==o&&e!==o){var n=this.handlers;return u(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==o){var n=this.handlers;return u(v(t),function(t){e?n[t]&&n[t].splice(b(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&pt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ft(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ht(ct,{INPUT_START:Pt,INPUT_MOVE:jt,INPUT_END:zt,INPUT_CANCEL:Dt,STATE_POSSIBLE:me,STATE_BEGAN:ge,STATE_CHANGED:ye,STATE_ENDED:ve,STATE_RECOGNIZED:be,STATE_CANCELLED:xe,STATE_FAILED:we,DIRECTION_NONE:Rt,DIRECTION_LEFT:It,DIRECTION_RIGHT:Ft,DIRECTION_UP:Bt,DIRECTION_DOWN:Ut,DIRECTION_HORIZONTAL:Lt,DIRECTION_VERTICAL:qt,DIRECTION_ALL:Vt,Manager:lt,Input:M,TouchAction:X,TouchInput:V,MouseInput:B,PointerEventInput:U,TouchMouseInput:$,SingleTouchInput:L,Recognizer:J,AttrRecognizer:nt,Tap:ut,Pan:rt,Swipe:st,Pinch:it,Rotate:at,Press:ot,on:d,off:m,each:u,merge:wt,extend:xt,assign:ht,inherit:l,bindFn:f,prefixed:_});var Ee="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};Ee.Hammer=ct,"function"==typeof t&&t.amd?t(function(){return ct}):"undefined"!=typeof n&&n.exports?n.exports=ct:e[i]=ct}(window,document,"Hammer")},{}],26:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}function c(t,e){for(var n=t.indexOf(e);n!==-1;)t.splice(n,1),n=t.indexOf(e)}Object.defineProperty(n,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=t("./utils"),h=i(p),d=t("./logger"),m=r(d),g=t("./EventEmitter"),y=r(g),v=function(t){function e(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(this,e);var u=s(this,t.call(this));return u.backend=n,u.store=r,u.services=i,u.options=o,u.logger=m["default"].create("backendConnector"),u.state={},u.queue=[],u.backend&&u.backend.init&&u.backend.init(i,o.backend,o),u}return u(e,t),e.prototype.queueLoad=function(t,e,n){var r=this,i=[],o=[],a=[],s=[];return t.forEach(function(t){var n=!0;e.forEach(function(e){var a=t+"|"+e;r.store.hasResourceBundle(t,e)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?o.indexOf(a)<0&&o.push(a):(r.state[a]=1,n=!1,o.indexOf(a)<0&&o.push(a),i.indexOf(a)<0&&i.push(a),s.indexOf(e)<0&&s.push(e)))}),n||a.push(t)}),(i.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:i,pending:o,toLoadLanguages:a,toLoadNamespaces:s}},e.prototype.loaded=function(t,e,n){var r=this,i=t.split("|"),o=f(i,2),a=o[0],s=o[1];e&&this.emit("failedLoading",a,s,e),n&&this.store.addResourceBundle(a,s,n),this.state[t]=e?-1:2,this.queue.forEach(function(n){h.pushPath(n.loaded,[a],s),c(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(n.errors.length?n.callback(n.errors):n.callback(),r.emit("loaded",n.loaded),n.done=!0)}),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,n,r,i,o){var a=this;return r||(r=0),i||(i=250),t.length?void this.backend[n](t,e,function(s,u){return s&&u&&r<5?void setTimeout(function(){a.read.call(a,t,e,n,++r,2*i,o)},i):void o(s,u)}):o(null,{})},e.prototype.load=function(t,e,n){var r=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=l({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,n);return o.toLoad.length?void(i.allowMultiLoading&&this.backend.readMulti?this.read(o.toLoadLanguages,o.toLoadNamespaces,"readMulti",null,null,function(t,e){t&&r.logger.warn("loading namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading failed",t),!t&&e&&r.logger.log("loaded namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading",e),o.toLoad.forEach(function(n){var i=n.split("|"),o=f(i,2),a=o[0],s=o[1],u=h.getPath(e,[a,s]);if(u)r.loaded(n,t,u);else{var c="loading namespace "+s+" for language "+a+" via multiloading failed";r.loaded(n,c),r.logger.error(c)}})}):!function(){var t=function(t){var e=this,n=t.split("|"),r=f(n,2),i=r[0],o=r[1];this.read(i,o,"read",null,null,function(n,r){n&&e.logger.warn("loading namespace "+o+" for language "+i+" failed",n),!n&&r&&e.logger.log("loaded namespace "+o+" for language "+i,r),e.loaded(t,n,r)})};o.toLoad.forEach(function(e){t.call(r,e)})}()):void(o.pending.length||n())},e.prototype.reload=function(t,e){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var r=l({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),r.allowMultiLoading&&this.backend.readMulti?this.read(t,e,"readMulti",null,null,function(r,i){r&&n.logger.warn("reloading namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading failed",r),!r&&i&&n.logger.log("reloaded namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading",i),t.forEach(function(t){e.forEach(function(e){var o=h.getPath(i,[t,e]);if(o)n.loaded(t+"|"+e,r,o);else{var a="reloading namespace "+e+" for language "+t+" via multiloading failed";n.loaded(t+"|"+e,a),n.logger.error(a)}})})}):!function(){var r=function(t){var e=this,n=t.split("|"),r=f(n,2),i=r[0],o=r[1];this.read(i,o,"read",null,null,function(n,r){n&&e.logger.warn("reloading namespace "+o+" for language "+i+" failed",n),!n&&r&&e.logger.log("reloaded namespace "+o+" for language "+i,r),e.loaded(t,n,r)})};t.forEach(function(t){e.forEach(function(e){r.call(n,t+"|"+e);
})})}()},e.prototype.saveMissing=function(t,e,n,r){this.backend&&this.backend.create&&this.backend.create(t,e,n,r),t&&t[0]&&this.store.addResource(t[0],e,n,r)},e}(y["default"]);n["default"]=v},{"./EventEmitter":28,"./logger":38,"./utils":40}],27:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=t("./utils"),f=(i(l),t("./logger")),p=r(f),h=t("./EventEmitter"),d=r(h),m=function(t){function e(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(this,e);var u=s(this,t.call(this));return u.cache=n,u.store=r,u.services=i,u.options=o,u.logger=p["default"].create("cacheConnector"),u.cache&&u.cache.init&&u.cache.init(i,o.cache,o),u}return u(e,t),e.prototype.load=function(t,e,n){var r=this;if(!this.cache)return n&&n();var i=c({},this.cache.options,this.options.cache);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),i.enabled?this.cache.load(t,function(e,i){if(e&&r.logger.error("loading languages "+t.join(", ")+" from cache failed",e),i)for(var o in i)for(var a in i[o])if("i18nStamp"!==a){var s=i[o][a];s&&r.store.addResourceBundle(o,a,s)}n&&n()}):n&&n()},e.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},e}(d["default"]);n["default"]=m},{"./EventEmitter":28,"./logger":38,"./utils":40}],28:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){r(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})},t.prototype.off=function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var r=n.observers[t].indexOf(e);r>-1&&n.observers[t].splice(r,1)}else delete n.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.observers[t]&&this.observers[t].forEach(function(t){t.apply(void 0,n)}),this.observers["*"]&&this.observers["*"].forEach(function(e){var r;e.apply(e,(r=[t]).concat.apply(r,n))})},t}();n["default"]=i},{}],29:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=t("./utils"),s=i(a),u=t("./logger"),c=r(u),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.logger=c["default"].create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];e&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t}),t.interpolation||(t.interpolation={escapeValue:!0});var n=t.interpolation;this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.prefix=n.prefix?s.regexEscape(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?s.regexEscape(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?s.regexEscape(n.formatSeparator):n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?s.regexEscape(n.nestingPrefix):n.nestingPrefixEscaped||s.regexEscape("$t("),this.nestingSuffix=n.nestingSuffix?s.regexEscape(n.nestingSuffix):n.nestingSuffixEscaped||s.regexEscape(")"),this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},t.prototype.interpolate=function(t,e,n){function r(t){return t.replace(/\$/g,"$$$$")}var i=this,o=void 0,a=void 0,u=function(t){if(t.indexOf(i.formatSeparator)<0)return s.getPath(e,t);var r=t.split(i.formatSeparator),o=r.shift().trim(),a=r.join(i.formatSeparator).trim();return i.format(s.getPath(e,o),a,n)};for(this.resetRegExp();o=this.regexpUnescape.exec(t);){var c=u(o[1].trim());t=t.replace(o[0],c),this.regexpUnescape.lastIndex=0}for(;o=this.regexp.exec(t);)a=u(o[1].trim()),"string"!=typeof a&&(a=s.makeString(a)),a||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+t),a=""),a=r(this.escapeValue?s.escape(a):a),t=t.replace(o[0],a),this.regexp.lastIndex=0;return t},t.prototype.nest=function(t,e){function n(t){return t.replace(/\$/g,"$$$$")}function r(t){if(t.indexOf(",")<0)return t;var e=t.split(",");t=e.shift();var n=e.join(",");n=this.interpolate(n,u);try{u=JSON.parse(n)}catch(r){this.logger.error("failed parsing options string in nesting for key "+t,r)}return t}var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=void 0,a=void 0,u=JSON.parse(JSON.stringify(i));for(u.applyPostProcessor=!1;o=this.nestingRegexp.exec(t);)a=e(r.call(this,o[1].trim()),u),"string"!=typeof a&&(a=s.makeString(a)),a||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+t),a=""),a=n(this.escapeValue?s.escape(a):a),t=t.replace(o[0],a),this.regexp.lastIndex=0;return t},t}();n["default"]=l},{"./logger":38,"./utils":40}],30:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(n,"__esModule",{value:!0});var a=t("./logger"),s=r(a),u=function(){function t(e){i(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=s["default"].create("languageUtils")}return t.prototype.getLanguagePartFromCode=function(t){if(t.indexOf("-")<0)return t;var e=["NB-NO","NN-NO","nb-NO","nn-NO","nb-no","nn-no"],n=t.split("-");return this.formatLanguageCode(e.indexOf(t)>-1?n[1].toLowerCase():n[0])},t.prototype.getScriptPartFromCode=function(t){if(t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},t.prototype.getLanguagePartFromCode=function(t){if(t.indexOf("-")<0)return t;var e=["NB-NO","NN-NO","nb-NO","nn-NO","nb-no","nn-no"],n=t.split("-");return this.formatLanguageCode(e.indexOf(t)>-1?n[1].toLowerCase():n[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=o(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=o(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=o(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t,e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist&&!e)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t["default"]),n||[]},t.prototype.toResolveHierarchy=function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(n.isWhitelisted(t,e)?i.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t),!0),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t),!0),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach(function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))}),i},t}();n["default"]=u},{"./logger":38}],31:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t={};return c.forEach(function(e){e.lngs.forEach(function(n){return t[n]={numbers:e.nr,plurals:l[e.fc]}})}),t}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t("./logger"),u=r(s),c=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],l={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}},f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.languageUtils=e,this.options=n,this.logger=u["default"].create("pluralResolver"),this.rules=o()}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return!(e&&e.numbers.length<=1)},t.prototype.getSuffix=function(t,e){var n=this,r=this.getRule(t);if(!r)return this.logger.warn("no plural rule found for: "+t),"";var i=function(){if(1===r.numbers.length)return{v:""};var t=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),i=r.numbers[t];2===r.numbers.length&&1===r.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===n.options.compatibilityJSON?1===i?{v:""}:"number"==typeof i?{v:"_plural_"+i.toString()}:{v:o()}:"v2"===n.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]?{v:o()}:2===r.numbers.length&&1===r.numbers[0]?{v:o()}:{v:n.options.prepend&&t.toString()?n.options.prepend+t.toString():t.toString()}}();return"object"===("undefined"==typeof i?"undefined":a(i))?i.v:void 0},t}();n["default"]=f},{"./logger":38}],32:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=t("./EventEmitter"),f=i(l),p=t("./utils"),h=r(p),d=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};a(this,e);var i=s(this,t.call(this));return i.data=n,i.options=r,i}return u(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.keySeparator||this.options.keySeparator;void 0===i&&(i=".");var o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=t.split(".")),h.getPath(this.data,o)},e.prototype.addResource=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(a=t.split("."),r=e,e=a[1]),this.addNamespaces(e),h.setPath(this.data,a,r),i.silent||this.emit("added",t,e,n,r)},e.prototype.addResources=function(t,e,n){for(var r in n)"string"==typeof n[r]&&this.addResource(t,e,r,n[r],{silent:!0});this.emit("added",t,e,n)},e.prototype.addResourceBundle=function(t,e,n,r,i){var o=[t,e];t.indexOf(".")>-1&&(o=t.split("."),r=n,n=e,e=o[1]),this.addNamespaces(e);var a=h.getPath(this.data,o)||{};r?h.deepExtend(a,n,i):a=c({},a,n),h.setPath(this.data,o,a),this.emit("added",t,e,n)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?c({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.toJSON=function(){return this.data},e}(f["default"]);n["default"]=d},{"./EventEmitter":28,"./utils":40}],33:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=t("./logger"),p=i(f),h=t("./EventEmitter"),d=i(h),m=t("./postProcessor"),g=i(m),y=t("./compatibility/v1"),v=r(y),b=t("./utils"),x=r(b),w=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e);var i=s(this,t.call(this));return x.copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=r,i.logger=p["default"].create("translator"),i}return u(e,t),e.prototype.changeLanguage=function(t){t&&(this.language=t)},e.prototype.exists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return"v1"===this.options.compatibilityAPI&&(e=v.convertTOptions(e)),void 0!==this.resolve(t,e)},e.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var i=t.split(n);r=i[0],t=i[1]}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}},e.prototype.translate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==("undefined"==typeof e?"undefined":l(e))?e=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(e=v.convertTOptions(e)),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var n=e.lng||this.language;if(n&&"cimode"===n.toLowerCase())return t[t.length-1];var r=e.keySeparator||this.options.keySeparator||".",i=this.extractFromKey(t[t.length-1],e),o=i.key,a=i.namespaces,s=a[a.length-1],u=this.resolve(t,e),f=Object.prototype.toString.apply(u),p=["[object Number]","[object Function]","[object RegExp]"],h=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(u&&"string"!=typeof u&&p.indexOf(f)<0&&(!h||"[object Array]"!==f)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(o,u,e):"key '"+o+" ("+this.language+")' returned an object instead of string.";var d="[object Array]"===f?[]:{};for(var m in u)d[m]=this.translate(""+o+r+m,c({joinArrays:!1,ns:a},e));u=d}else if(h&&"[object Array]"===f)u=u.join(h),u&&(u=this.extendTranslation(u,o,e));else{var g=!1,y=!1;if(this.isValidLookup(u)||void 0===e.defaultValue||(g=!0,u=e.defaultValue),this.isValidLookup(u)||(y=!0,u=o),y||g){this.logger.log("missingKey",n,s,o,u);var b=[],x=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&x&&x[0])for(var w=0;w<x.length;w++)b.push(x[w]);else"all"===this.options.saveMissingTo?b=this.languageUtils.toResolveHierarchy(e.lng||this.language):b.push(e.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(b,s,o,u):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(b,s,o,u)),this.emit("missingKey",b,s,o,u)}u=this.extendTranslation(u,o,e),y&&u===o&&this.options.appendNamespaceToMissingKey&&(u=s+":"+o),y&&this.options.parseMissingKeyHandler&&(u=this.options.parseMissingKeyHandler(u))}return u},e.prototype.extendTranslation=function(t,e,n){var r=this;n.interpolation&&this.interpolator.init(c({},n,{interpolation:c({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=c({},this.options.interpolation.defaultVariables,i)),t=this.interpolator.interpolate(t,i,this.language),t=this.interpolator.nest(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.translate.apply(r,e)},n),n.interpolation&&this.interpolator.reset();var o=n.postProcess||this.options.postProcess,a="string"==typeof o?[o]:o;return void 0!==t&&a&&a.length&&n.applyPostProcessor!==!1&&(t=g["default"].handle(a,t,e,n,this)),t},e.prototype.resolve=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(r)){var i=e.extractFromKey(t,n),o=i.key,a=i.namespaces;e.options.fallbackNS&&(a=a.concat(e.options.fallbackNS));var s=void 0!==n.count&&"string"!=typeof n.count,u=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,c=n.lngs?n.lngs:e.languageUtils.toResolveHierarchy(n.lng||e.language);a.forEach(function(t){e.isValidLookup(r)||c.forEach(function(i){if(!e.isValidLookup(r)){var a=o,c=[a],l=void 0;s&&(l=e.pluralResolver.getSuffix(i,n.count)),s&&u&&c.push(a+l),u&&c.push(a+=""+e.options.contextSeparator+n.context),s&&c.push(a+=l);for(var f=void 0;f=c.pop();)e.isValidLookup(r)||(r=e.getResource(i,t,f,n))}})})}}),r},e.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},e.prototype.getResource=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(t,e,n,r)},e}(d["default"]);n["default"]=w},{"./EventEmitter":28,"./compatibility/v1":34,"./logger":38,"./postProcessor":39,"./utils":40}],34:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.interpolation={unescapeSuffix:"HTML"},t.interpolation.prefix=t.interpolationPrefix||"__",t.interpolation.suffix=t.interpolationSuffix||"__",t.interpolation.escapeValue=t.escapeInterpolation||!1,t.interpolation.nestingPrefix=t.reusePrefix||"$t(",t.interpolation.nestingSuffix=t.reuseSuffix||")",t}function o(t){return t.resStore&&(t.resources=t.resStore),t.ns&&t.ns.defaultNs?(t.defaultNS=t.ns.defaultNs,t.ns=t.ns.namespaces):t.defaultNS=t.ns||"translation",t.fallbackToDefaultNS&&t.defaultNS&&(t.fallbackNS=t.defaultNS),t.saveMissing=t.sendMissing,t.saveMissingTo=t.sendMissingTo||"current",t.returnNull=!t.fallbackOnNull,t.returnEmptyString=!t.fallbackOnEmpty,t.returnObjects=t.returnObjectTrees,t.joinArrays="\n",t.returnedObjectHandler=t.objectTreeKeyHandler,t.parseMissingKeyHandler=t.parseMissingKey,t.appendNamespaceToMissingKey=!0,t.nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,"sprintf"===t.shortcutFunction&&(t.overloadTranslationOptionHandler=function(t){for(var e=[],n=1;n<t.length;n++)e.push(t[n]);return{postProcess:"sprintf",sprintf:e}}),t.whitelist=t.lngWhitelist,t.preload=t.preload,"current"===t.load&&(t.load="currentOnly"),"unspecific"===t.load&&(t.load="languageOnly"),t.backend=t.backend||{},t.backend.loadPath=t.resGetPath||"locales/__lng__/__ns__.json",t.backend.addPath=t.resPostPath||"locales/add/__lng__/__ns__",t.backend.allowMultiLoading=t.dynamicLoad,t.cache=t.cache||{},t.cache.prefix="res_",t.cache.expirationTime=6048e5,t.cache.enabled=!!t.useLocalStorage,t=i(t),t.defaultVariables&&(t.interpolation.defaultVariables=t.defaultVariables),t}function a(t){return t=i(t),t.joinArrays="\n",t}function s(t){return(t.interpolationPrefix||t.interpolationSuffix||t.escapeInterpolation)&&(t=i(t)),t.nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,t.returnObjects=t.returnObjectTrees,t}function u(t){t.lng=function(){return l["default"].deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),t.services.languageUtils.toResolveHierarchy(t.language)[0]},t.preload=function(e,n){l["default"].deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),t.loadLanguages(e,n)},t.setLng=function(e,n,r){return l["default"].deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof n&&(r=n,n={}),n||(n={}),n.fixLng===!0&&r?r(null,t.getFixedT(e)):void t.changeLanguage(e,r)},t.addPostProcessor=function(e,n){l["default"].deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),t.use({type:"postProcessor",name:e,process:n})}}Object.defineProperty(n,"__esModule",{value:!0}),n.convertAPIOptions=o,n.convertJSONOptions=a,n.convertTOptions=s,n.appendBackwardsAPI=u;var c=t("../logger"),l=r(c)},{"../logger":38}],35:[function(t,e,n){"use strict";function r(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,overloadTranslationOptionHandler:function(t){return{defaultValue:t[1]}},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function i(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&t.whitelist.push("cimode"),t}Object.defineProperty(n,"__esModule",{value:!0}),n.get=r,n.transformOptions=i},{}],36:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):o(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=t("./logger"),p=i(f),h=t("./EventEmitter"),d=i(h),m=t("./ResourceStore"),g=i(m),y=t("./Translator"),v=i(y),b=t("./LanguageUtils"),x=i(b),w=t("./PluralResolver"),_=i(w),N=t("./Interpolator"),E=i(N),M=t("./BackendConnector"),S=i(M),O=t("./CacheConnector"),k=i(O),T=t("./defaults"),A=t("./postProcessor"),C=i(A),P=t("./compatibility/v1"),j=r(P),z=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];a(this,e);var i=s(this,t.call(this));return i.options=(0,T.transformOptions)(n),i.services={},i.logger=p["default"],i.modules={},r&&!i.isInitialized&&i.init(n,r),i}return u(e,t),e.prototype.init=function(t,e){function n(t){if(t)return"function"==typeof t?new t:t}var r=this;if("function"==typeof t&&(e=t,t={}),t||(t={}),"v1"===t.compatibilityAPI?this.options=l({},(0,T.get)(),(0,T.transformOptions)(j.convertAPIOptions(t)),{}):"v1"===t.compatibilityJSON?this.options=l({},(0,T.get)(),(0,T.transformOptions)(j.convertJSONOptions(t)),{}):this.options=l({},(0,T.get)(),this.options,(0,T.transformOptions)(t)),e||(e=function(){}),!this.options.isClone){this.modules.logger?p["default"].init(n(this.modules.logger),this.options):p["default"].init(null,this.options);var i=new x["default"](this.options);this.store=new g["default"](this.options.resources,this.options);var o=this.services;o.logger=p["default"],o.resourceStore=this.store,o.resourceStore.on("added removed",function(t,e){o.cacheConnector.save()}),o.languageUtils=i,o.pluralResolver=new _["default"](i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON}),o.interpolator=new E["default"](this.options),o.backendConnector=new S["default"](n(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t].concat(n))}),o.backendConnector.on("loaded",function(t){o.cacheConnector.save()}),o.cacheConnector=new k["default"](n(this.modules.cache),o.resourceStore,o,this.options),o.cacheConnector.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t].concat(n))}),this.modules.languageDetector&&(o.languageDetector=n(this.modules.languageDetector),
o.languageDetector.init(o,this.options.detection,this.options)),this.translator=new v["default"](this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t].concat(n))})}var a=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"];a.forEach(function(t){r[t]=function(){return this.store[t].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&j.appendBackwardsAPI(this);var s=function(){r.changeLanguage(r.options.lng,function(t,n){r.emit("initialized",r.options),r.logger.log("initialized",r.options),e(t,n)})};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),this},e.prototype.loadResources=function(t){var e=this;if(t||(t=function(){}),this.options.resources)t(null);else{var n=function(){if(e.language&&"cimode"===e.language.toLowerCase())return{v:t()};var n=[],r=function(t){var r=e.services.languageUtils.toResolveHierarchy(t);r.forEach(function(t){n.indexOf(t)<0&&n.push(t)})};r(e.language),e.options.preload&&e.options.preload.forEach(function(t){r(t)}),e.services.cacheConnector.load(n,e.options.ns,function(){e.services.backendConnector.load(n,e.options.ns,t)})}();if("object"===("undefined"==typeof n?"undefined":c(n)))return n.v}},e.prototype.reloadResources=function(t,e){t||(t=this.languages),e||(e=this.options.ns),this.services.backendConnector.reload(t,e)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),"cache"===t.type&&(this.modules.cache=t),("logger"===t.type||t.log&&t.warn&&t.warn)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"postProcessor"===t.type&&C["default"].addPostProcessor(t),this},e.prototype.changeLanguage=function(t,e){var n=this,r=function(r){t&&(n.emit("languageChanged",t),n.logger.log("languageChanged",t)),e&&e(r,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.t.apply(n,e)})};!t&&this.services.languageDetector&&(t=this.services.languageDetector.detect()),t&&(this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.translator.changeLanguage(t),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(t)),this.loadResources(function(t){r(t)})},e.prototype.getFixedT=function(t,e){var n=this,r=function i(t,e){return e=e||{},e.lng=e.lng||i.lng,e.ns=e.ns||i.ns,n.t(t,e)};return r.lng=t,r.ns=e,r},e.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},e.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var n=this;return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),void this.loadResources(e)):e&&e()},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],r=t.filter(function(t){return n.indexOf(t)<0});return r.length?(this.options.preload=n.concat(r),void this.loadResources(e)):e()},e.prototype.dir=function(t){if(t||(t=this.language),!t)return"rtl";var e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return e.indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"},e.prototype.createInstance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return new e(t,n)},e.prototype.cloneInstance=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],i=new e(l({},n,this.options,{isClone:!0}),r),o=["store","services","language"];return o.forEach(function(e){i[e]=t[e]}),i.translator=new v["default"](i.services,i.options),i.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))}),i},e}(d["default"]);n["default"]=new z},{"./BackendConnector":26,"./CacheConnector":27,"./EventEmitter":28,"./Interpolator":29,"./LanguageUtils":30,"./PluralResolver":31,"./ResourceStore":32,"./Translator":33,"./compatibility/v1":34,"./defaults":35,"./logger":38,"./postProcessor":39}],37:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./i18next"),o=r(i);n["default"]=o["default"]},{"./i18next":36}],38:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o={type:"logger",log:function(t){this._output("log",t)},warn:function(t){this._output("warn",t)},error:function(t){this._output("error",t)},_output:function(t,e){console&&console[t]}},a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.subs=[],this.init(e,n)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||o,this.options=e,this.debug=e.debug!==!1},t.prototype.setDebug=function(t){this.debug=t,this.subs.forEach(function(e){e.setDebug(t)})},t.prototype.log=function(){this.forward(arguments,"log","",!0)},t.prototype.warn=function(){this.forward(arguments,"warn","",!0)},t.prototype.error=function(){this.forward(arguments,"error","")},t.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,n,r){r&&!this.debug||("string"==typeof t[0]&&(t[0]=n+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){var n=new t(this.logger,i({prefix:this.prefix+":"+e+":"},this.options));return this.subs.push(n),n},t}();n["default"]=new a},{}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))}),e}}},{}],40:[function(t,e,n){"use strict";function r(t){return null==t?"":""+t}function i(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})}function o(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(!t)return{};var o=r(i.shift());!t[o]&&n&&(t[o]=new n),t=t[o]}return t?{obj:t,k:r(i.shift())}:{}}function a(t,e,n){var r=o(t,e,Object),i=r.obj,a=r.k;i[a]=n}function s(t,e,n,r){var i=o(t,e,Object),a=i.obj,s=i.k;a[s]=a[s]||[],r&&(a[s]=a[s].concat(n)),r||a[s].push(n)}function u(t,e){var n=o(t,e),r=n.obj,i=n.k;if(r)return r[i]}function c(t,e,n){for(var r in e)r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):c(t[r],e[r],n):t[r]=e[r];return t}function l(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function f(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return p[t]}):t}Object.defineProperty(n,"__esModule",{value:!0}),n.makeString=r,n.copy=i,n.setPath=a,n.pushPath=s,n.getPath=u,n.deepExtend=c,n.regexEscape=l,n.escape=f;var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"}},{}],41:[function(t,e,n){e.exports=t("./dist/commonjs/index.js")["default"]},{"./dist/commonjs/index.js":37}],42:[function(e,n,r){(function(e){(function(){function i(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function a(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function u(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function p(t,e){var n=null==t?0:t.length;return!!n&&N(t,e,0)>-1}function h(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function m(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function g(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function b(t){return t.split("")}function x(t){return t.match(qe)||[]}function w(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function _(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function N(t,e,n){return e===e?Z(t,e,n):_(t,M,n)}function E(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function M(t){return t!==t}function S(t,e){var n=null==t?0:t.length;return n?C(t,e)/n:Rt}function O(t){return function(e){return null==e?rt:e[t]}}function k(t){return function(e){return null==t?rt:t[e]}}function T(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function A(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function C(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==rt&&(n=n===rt?o:n+o)}return n}function P(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function j(t,e){return d(e,function(e){return[e,t[e]]})}function z(t){return function(e){return t(e)}}function D(t,e){return d(e,function(e){return t[e]})}function R(t,e){return t.has(e)}function I(t,e){for(var n=-1,r=t.length;++n<r&&N(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length;n--&&N(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function U(t){return"\\"+er[t]}function L(t,e){return null==t?rt:t[e]}function q(t){return Hn.test(t)}function V(t){return Gn.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function H(t,e){return function(n){return t(e(n))}}function G(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==lt||(t[n]=lt,o[i++]=n)}return o}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Z(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function K(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function J(t){return q(t)?tt(t):vr(t)}function Q(t){return q(t)?et(t):b(t)}function tt(t){for(var e=Wn.lastIndex=0;Wn.test(t);)++e;return e}function et(t){return t.match(Wn)||[]}function nt(t){return t.match($n)||[]}var rt,it="4.17.2",ot=200,at="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",ut="__lodash_hash_undefined__",ct=500,lt="__lodash_placeholder__",ft=1,pt=2,ht=4,dt=1,mt=2,gt=1,yt=2,vt=4,bt=8,xt=16,wt=32,_t=64,Nt=128,Et=256,Mt=512,St=30,Ot="...",kt=800,Tt=16,At=1,Ct=2,Pt=3,jt=1/0,zt=9007199254740991,Dt=1.7976931348623157e308,Rt=NaN,It=4294967295,Ft=It-1,Bt=It>>>1,Ut=[["ary",Nt],["bind",gt],["bindKey",yt],["curry",bt],["curryRight",xt],["flip",Mt],["partial",wt],["partialRight",_t],["rearg",Et]],Lt="[object Arguments]",qt="[object Array]",Vt="[object AsyncFunction]",Wt="[object Boolean]",$t="[object Date]",Ht="[object DOMException]",Gt="[object Error]",Yt="[object Function]",Xt="[object GeneratorFunction]",Zt="[object Map]",Kt="[object Number]",Jt="[object Null]",Qt="[object Object]",te="[object Promise]",ee="[object Proxy]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object Symbol]",ae="[object Undefined]",se="[object WeakMap]",ue="[object WeakSet]",ce="[object ArrayBuffer]",le="[object DataView]",fe="[object Float32Array]",pe="[object Float64Array]",he="[object Int8Array]",de="[object Int16Array]",me="[object Int32Array]",ge="[object Uint8Array]",ye="[object Uint8ClampedArray]",ve="[object Uint16Array]",be="[object Uint32Array]",xe=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ne=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Me=RegExp(Ne.source),Se=RegExp(Ee.source),Oe=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,Pe=/^\./,je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/[\\^$.*+?()[\]{}|]/g,De=RegExp(ze.source),Re=/^\s+|\s+$/g,Ie=/^\s+/,Fe=/\s+$/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$e=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,Xe=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Je=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,tn="\\ud800-\\udfff",en="\\u0300-\\u036f",nn="\\ufe20-\\ufe2f",rn="\\u20d0-\\u20ff",on=en+nn+rn,an="\\u2700-\\u27bf",sn="a-z\\xdf-\\xf6\\xf8-\\xff",un="\\xac\\xb1\\xd7\\xf7",cn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ln="\\u2000-\\u206f",fn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pn="A-Z\\xc0-\\xd6\\xd8-\\xde",hn="\\ufe0e\\ufe0f",dn=un+cn+ln+fn,mn="[']",gn="["+tn+"]",yn="["+dn+"]",vn="["+on+"]",bn="\\d+",xn="["+an+"]",wn="["+sn+"]",_n="[^"+tn+dn+bn+an+sn+pn+"]",Nn="\\ud83c[\\udffb-\\udfff]",En="(?:"+vn+"|"+Nn+")",Mn="[^"+tn+"]",Sn="(?:\\ud83c[\\udde6-\\uddff]){2}",On="[\\ud800-\\udbff][\\udc00-\\udfff]",kn="["+pn+"]",Tn="\\u200d",An="(?:"+wn+"|"+_n+")",Cn="(?:"+kn+"|"+_n+")",Pn="(?:"+mn+"(?:d|ll|m|re|s|t|ve))?",jn="(?:"+mn+"(?:D|LL|M|RE|S|T|VE))?",zn=En+"?",Dn="["+hn+"]?",Rn="(?:"+Tn+"(?:"+[Mn,Sn,On].join("|")+")"+Dn+zn+")*",In="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Fn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Bn=Dn+zn+Rn,Un="(?:"+[xn,Sn,On].join("|")+")"+Bn,Ln="(?:"+[Mn+vn+"?",vn,Sn,On,gn].join("|")+")",qn=RegExp(mn,"g"),Vn=RegExp(vn,"g"),Wn=RegExp(Nn+"(?="+Nn+")|"+Ln+Bn,"g"),$n=RegExp([kn+"?"+wn+"+"+Pn+"(?="+[yn,kn,"$"].join("|")+")",Cn+"+"+jn+"(?="+[yn,kn+An,"$"].join("|")+")",kn+"?"+An+"+"+Pn,kn+"+"+jn,Fn,In,bn,Un].join("|"),"g"),Hn=RegExp("["+Tn+tn+on+hn+"]"),Gn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xn=-1,Zn={};Zn[fe]=Zn[pe]=Zn[he]=Zn[de]=Zn[me]=Zn[ge]=Zn[ye]=Zn[ve]=Zn[be]=!0,Zn[Lt]=Zn[qt]=Zn[ce]=Zn[Wt]=Zn[le]=Zn[$t]=Zn[Gt]=Zn[Yt]=Zn[Zt]=Zn[Kt]=Zn[Qt]=Zn[ne]=Zn[re]=Zn[ie]=Zn[se]=!1;var Kn={};Kn[Lt]=Kn[qt]=Kn[ce]=Kn[le]=Kn[Wt]=Kn[$t]=Kn[fe]=Kn[pe]=Kn[he]=Kn[de]=Kn[me]=Kn[Zt]=Kn[Kt]=Kn[Qt]=Kn[ne]=Kn[re]=Kn[ie]=Kn[oe]=Kn[ge]=Kn[ye]=Kn[ve]=Kn[be]=!0,Kn[Gt]=Kn[Yt]=Kn[se]=!1;var Jn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},er={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nr=parseFloat,rr=parseInt,ir="object"==typeof e&&e&&e.Object===Object&&e,or="object"==typeof self&&self&&self.Object===Object&&self,ar=ir||or||Function("return this")(),sr="object"==typeof r&&r&&!r.nodeType&&r,ur=sr&&"object"==typeof n&&n&&!n.nodeType&&n,cr=ur&&ur.exports===sr,lr=cr&&ir.process,fr=function(){try{return lr&&lr.binding&&lr.binding("util")}catch(t){}}(),pr=fr&&fr.isArrayBuffer,hr=fr&&fr.isDate,dr=fr&&fr.isMap,mr=fr&&fr.isRegExp,gr=fr&&fr.isSet,yr=fr&&fr.isTypedArray,vr=O("length"),br=k(Jn),xr=k(Qn),wr=k(tr),_r=function Er(t){function e(t){if(uu(t)&&!xp(t)&&!(t instanceof b)){if(t instanceof r)return t;if(bl.call(t,"__wrapped__"))return oa(t)}return new r(t)}function n(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=rt}function b(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=It,this.__views__=[]}function k(){var t=new b(this.__wrapped__);return t.__actions__=Li(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Li(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Li(this.__views__),t}function Z(){if(this.__filtered__){var t=new b(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function tt(){var t=this.__wrapped__.value(),e=this.__dir__,n=xp(t),r=e<0,i=n?t.length:0,o=ko(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,p=0,h=Xl(u,this.__takeCount__);if(!n||i<ot||i==u&&h==u)return _i(t,this.__actions__);var d=[];t:for(;u--&&p<h;){c+=e;for(var m=-1,g=t[c];++m<f;){var y=l[m],v=y.iteratee,b=y.type,x=v(g);if(b==Ct)g=x;else if(!x){if(b==At)continue t;break t}}d[p++]=g}return d}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qe(){this.__data__=af?af(null):{},this.size=0}function tn(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function en(t){var e=this.__data__;if(af){var n=e[t];return n===ut?rt:n}return bl.call(e,t)?e[t]:rt}function nn(t){var e=this.__data__;return af?e[t]!==rt:bl.call(e,t)}function rn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=af&&e===rt?ut:e,this}function on(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function an(){this.__data__=[],this.size=0}function sn(t){var e=this.__data__,n=jn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():jl.call(e,n,1),--this.size,!0}function un(t){var e=this.__data__,n=jn(e,t);return n<0?rt:e[n][1]}function cn(t){return jn(this.__data__,t)>-1}function ln(t,e){var n=this.__data__,r=jn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function pn(){this.size=0,this.__data__={hash:new et,map:new(ef||on),string:new et}}function hn(t){var e=Eo(this,t)["delete"](t);return this.size-=e?1:0,e}function dn(t){return Eo(this,t).get(t)}function mn(t){return Eo(this,t).has(t)}function gn(t,e){var n=Eo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new fn;++e<n;)this.add(t[e])}function vn(t){return this.__data__.set(t,ut),this}function bn(t){return this.__data__.has(t)}function xn(t){var e=this.__data__=new on(t);this.size=e.size}function wn(){this.__data__=new on,this.size=0}function _n(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function Nn(t){return this.__data__.get(t)}function En(t){return this.__data__.has(t)}function Mn(t,e){var n=this.__data__;if(n instanceof on){var r=n.__data__;if(!ef||r.length<ot-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fn(r)}return n.set(t,e),this.size=n.size,this}function Sn(t,e){var n=xp(t),r=!n&&bp(t),i=!n&&!r&&_p(t),o=!n&&!r&&!i&&Op(t),a=n||r||i||o,s=a?P(t.length,pl):[],u=s.length;for(var c in t)!e&&!bl.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ro(c,u))||s.push(c);return s}function On(t){var e=t.length;return e?t[ri(0,e-1)]:rt}function kn(t,e){return ea(Li(t),Bn(e,0,t.length))}function Tn(t){return ea(Li(t))}function An(t,e,n,r){return t===rt||Ys(t,gl[n])&&!bl.call(r,n)?e:t}function Cn(t,e,n){(n===rt||Ys(t[e],n))&&(n!==rt||e in t)||In(t,e,n)}function Pn(t,e,n){var r=t[e];bl.call(t,e)&&Ys(r,n)&&(n!==rt||e in t)||In(t,e,n)}function jn(t,e){for(var n=t.length;n--;)if(Ys(t[n][0],e))return n;return-1}function zn(t,e,n,r){return vf(t,function(t,i,o){e(r,t,n(t),o)}),r}function Dn(t,e){return t&&qi(e,Vu(e),t)}function Rn(t,e){return t&&qi(e,Wu(e),t)}function In(t,e,n){"__proto__"==e&&Il?Il(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fn(t,e){for(var n=-1,r=e.length,i=ol(r),o=null==t;++n<r;)i[n]=o?rt:Uu(t,e[n]);return i}function Bn(t,e,n){return t===t&&(n!==rt&&(t=t<=n?t:n),e!==rt&&(t=t>=e?t:e)),t}function Un(t,e,n,r,i,o){var a,s=e&ft,c=e&pt,l=e&ht;if(n&&(a=i?n(t,r,i,o):n(t)),a!==rt)return a;if(!su(t))return t;var f=xp(t);if(f){if(a=Co(t),!s)return Li(t,a)}else{var p=Af(t),h=p==Yt||p==Xt;if(_p(t))return Ti(t,s);if(p==Qt||p==Lt||h&&!i){if(a=c||h?{}:Po(t),!s)return c?Wi(t,Rn(a,t)):Vi(t,Dn(a,t))}else{if(!Kn[p])return i?t:{};a=jo(t,p,Un,s)}}o||(o=new xn);var d=o.get(t);if(d)return d;o.set(t,a);var m=l?c?xo:bo:c?Wu:Vu,g=f?rt:m(t);return u(g||t,function(r,i){g&&(i=r,r=t[i]),Pn(a,i,Un(r,e,n,i,t,o))}),a}function Ln(t){var e=Vu(t);return function(n){return Wn(n,t,e)}}function Wn(t,e,n){var r=n.length;if(null==t)return!r;for(t=ll(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===rt&&!(i in t)||!o(a))return!1}return!0}function $n(t,e,n){if("function"!=typeof t)throw new hl(st);return jf(function(){t.apply(rt,n)},e)}function Hn(t,e,n,r){var i=-1,o=p,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=d(e,z(n))),r?(o=h,a=!1):e.length>=ot&&(o=R,a=!1,e=new yn(e));t:for(;++i<s;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var m=c;m--;)if(e[m]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}function Gn(t,e){var n=!0;return vf(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Jn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===rt?a===a&&!bu(a):n(a,s)))var s=a,u=o}return u}function Qn(t,e,n,r){var i=t.length;for(n=Mu(n),n<0&&(n=-n>i?0:i+n),r=r===rt||r>i?i:Mu(r),r<0&&(r+=i),r=n>r?0:Su(r);n<r;)t[n++]=e;return t}function tr(t,e){var n=[];return vf(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function er(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Do),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?er(s,e-1,n,r,i):m(i,s):r||(i[i.length]=s)}return i}function ir(t,e){return t&&xf(t,e,Vu)}function or(t,e){return t&&wf(t,e,Vu)}function sr(t,e){return f(e,function(e){return iu(t[e])})}function ur(t,e){e=Oi(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[na(e[n++])];return n&&n==r?t:rt}function lr(t,e,n){var r=e(t);return xp(t)?r:m(r,n(t))}function fr(t){return null==t?t===rt?ae:Jt:(t=ll(t),Rl&&Rl in t?Oo(t):Xo(t))}function vr(t,e){return t>e}function _r(t,e){return null!=t&&bl.call(t,e)}function Mr(t,e){return null!=t&&e in ll(t)}function Sr(t,e,n){return t>=Xl(e,n)&&t<Yl(e,n)}function Or(t,e,n){for(var r=n?h:p,i=t[0].length,o=t.length,a=o,s=ol(o),u=1/0,c=[];a--;){var l=t[a];a&&e&&(l=d(l,z(e))),u=Xl(l.length,u),s[a]=!n&&(e||i>=120&&l.length>=120)?new yn(a&&l):rt}l=t[0];var f=-1,m=s[0];t:for(;++f<i&&c.length<u;){var g=l[f],y=e?e(g):g;if(g=n||0!==g?g:0,!(m?R(m,y):r(c,y,n))){for(a=o;--a;){var v=s[a];if(!(v?R(v,y):r(t[a],y,n)))continue t}m&&m.push(y),c.push(g)}}return c}function kr(t,e,n,r){return ir(t,function(t,i,o){e(r,n(t),i,o)}),r}function Tr(t,e,n){e=Oi(e,t),t=Ko(t,e);var r=null==t?t:t[na(Ea(e))];return null==r?rt:a(r,t,n)}function Ar(t){return uu(t)&&fr(t)==Lt}function Cr(t){return uu(t)&&fr(t)==ce}function Pr(t){return uu(t)&&fr(t)==$t}function jr(t,e,n,r,i){return t===e||(null==t||null==e||!su(t)&&!uu(e)?t!==t&&e!==e:zr(t,e,n,r,jr,i))}function zr(t,e,n,r,i,o){var a=xp(t),s=xp(e),u=qt,c=qt;a||(u=Af(t),u=u==Lt?Qt:u),s||(c=Af(e),c=c==Lt?Qt:c);var l=u==Qt,f=c==Qt,p=u==c;if(p&&_p(t)){if(!_p(e))return!1;a=!0,l=!1}if(p&&!l)return o||(o=new xn),a||Op(t)?mo(t,e,n,r,i,o):go(t,e,u,n,r,i,o);if(!(n&dt)){var h=l&&bl.call(t,"__wrapped__"),d=f&&bl.call(e,"__wrapped__");if(h||d){var m=h?t.value():t,g=d?e.value():e;return o||(o=new xn),i(m,g,n,r,o)}}return!!p&&(o||(o=new xn),yo(t,e,n,r,i,o))}function Dr(t){return uu(t)&&Af(t)==Zt}function Rr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=ll(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],c=t[u],l=s[1];if(a&&s[2]){if(c===rt&&!(u in t))return!1}else{var f=new xn;if(r)var p=r(c,l,u,t,e,f);if(!(p===rt?jr(l,c,dt|mt,r,f):p))return!1}}return!0}function Ir(t){if(!su(t)||Lo(t))return!1;var e=iu(t)?Ml:Ye;return e.test(ra(t))}function Fr(t){return uu(t)&&fr(t)==ne}function Br(t){return uu(t)&&Af(t)==re}function Ur(t){return uu(t)&&au(t.length)&&!!Zn[fr(t)]}function Lr(t){return"function"==typeof t?t:null==t?jc:"object"==typeof t?xp(t)?Gr(t[0],t[1]):Hr(t):Lc(t)}function qr(t){if(!qo(t))return Gl(t);var e=[];for(var n in ll(t))bl.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Vr(t){if(!su(t))return Yo(t);var e=qo(t),n=[];for(var r in t)("constructor"!=r||!e&&bl.call(t,r))&&n.push(r);return n}function Wr(t,e){return t<e}function $r(t,e){var n=-1,r=Xs(t)?ol(t.length):[];return vf(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Hr(t){var e=Mo(t);return 1==e.length&&e[0][2]?Wo(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function Gr(t,e){return Fo(t)&&Vo(e)?Wo(na(t),e):function(n){var r=Uu(n,t);return r===rt&&r===e?qu(n,t):jr(e,r,dt|mt)}}function Yr(t,e,n,r,i){t!==e&&xf(e,function(o,a){if(su(o))i||(i=new xn),Xr(t,e,a,n,Yr,r,i);else{var s=r?r(t[a],o,a+"",t,e,i):rt;s===rt&&(s=o),Cn(t,a,s)}},Wu)}function Xr(t,e,n,r,i,o,a){var s=t[n],u=e[n],c=a.get(u);if(c)return void Cn(t,n,c);var l=o?o(s,u,n+"",t,e,a):rt,f=l===rt;if(f){var p=xp(u),h=!p&&_p(u),d=!p&&!h&&Op(u);l=u,p||h||d?xp(s)?l=s:Zs(s)?l=Li(s):h?(f=!1,l=Ti(u,!0)):d?(f=!1,l=Ri(u,!0)):l=[]:gu(u)||bp(u)?(l=s,bp(s)?l=ku(s):(!su(s)||r&&iu(s))&&(l=Po(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a["delete"](u)),Cn(t,n,l)}function Zr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Ro(e,n)?t[e]:rt}function Kr(t,e,n){var r=-1;e=d(e.length?e:[jc],z(No()));var i=$r(t,function(t,n,i){var o=d(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return A(i,function(t,e){return Fi(t,e,n)})}function Jr(t,e){return t=ll(t),Qr(t,e,function(e,n){return qu(t,n)})}function Qr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=ur(t,a);n(s,a)&&ci(o,Oi(a,t),s)}return o}function ti(t){return function(e){return ur(e,t)}}function ei(t,e,n,r){var i=r?E:N,o=-1,a=e.length,s=t;for(t===e&&(e=Li(e)),n&&(s=d(t,z(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&jl.call(s,u,1),jl.call(t,u,1);return t}function ni(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Ro(i)?jl.call(t,i,1):bi(t,i)}}return t}function ri(t,e){return t+ql(Jl()*(e-t+1))}function ii(t,e,n,r){for(var i=-1,o=Yl(Ll((e-t)/(n||1)),0),a=ol(o);o--;)a[r?o:++i]=t,t+=n;return a}function oi(t,e){var n="";if(!t||e<1||e>zt)return n;do e%2&&(n+=t),e=ql(e/2),e&&(t+=t);while(e);return n}function ai(t,e){return zf(Zo(t,e,jc),t+"")}function si(t){return On(nc(t))}function ui(t,e){var n=nc(t);return ea(n,Bn(e,0,n.length))}function ci(t,e,n,r){if(!su(t))return t;e=Oi(e,t);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=na(e[i]),c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):rt,c===rt&&(c=su(l)?l:Ro(e[i+1])?[]:{})}Pn(s,u,c),s=s[u]}return t}function li(t){return ea(nc(t))}function fi(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=ol(i);++r<i;)o[r]=t[r+e];return o}function pi(t,e){var n;return vf(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function hi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Bt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!bu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return di(t,e,jc,n)}function di(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=bu(e),c=e===rt;i<o;){var l=ql((i+o)/2),f=n(t[l]),p=f!==rt,h=null===f,d=f===f,m=bu(f);if(a)var g=r||d;else g=c?d&&(r||p):s?d&&p&&(r||!h):u?d&&p&&!h&&(r||!m):!h&&!m&&(r?f<=e:f<e);g?i=l+1:o=l}return Xl(o,Ft)}function mi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ys(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function gi(t){return"number"==typeof t?t:bu(t)?Rt:+t}function yi(t){if("string"==typeof t)return t;if(xp(t))return d(t,yi)+"";if(bu(t))return gf?gf.call(t):"";var e=t+"";return"0"==e&&1/t==-jt?"-0":e}function vi(t,e,n){var r=-1,i=p,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=h;else if(o>=ot){var c=e?null:Sf(t);if(c)return Y(c);a=!1,i=R,u=new yn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function bi(t,e){return e=Oi(e,t),t=Ko(t,e),null==t||delete t[na(Ea(e))]}function xi(t,e,n,r){return ci(t,e,n(ur(t,e)),r)}function wi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?fi(t,r?0:o,r?o+1:i):fi(t,r?o+1:0,r?i:o)}function _i(t,e){var n=t;return n instanceof b&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,m([t],e.args))},n)}function Ni(t,e,n){var r=t.length;if(r<2)return r?vi(t[0]):[];for(var i=-1,o=ol(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=Hn(o[i]||a,t[s],e,n));return vi(er(o,1),e,n)}function Ei(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:rt;n(a,t[r],s)}return a}function Mi(t){return Zs(t)?t:[]}function Si(t){return"function"==typeof t?t:jc}function Oi(t,e){return xp(t)?t:Fo(t,e)?[t]:Df(Au(t))}function ki(t,e,n){var r=t.length;return n=n===rt?r:n,!e&&n>=r?t:fi(t,e,n)}function Ti(t,e){if(e)return t.slice();var n=t.length,r=Tl?Tl(n):new t.constructor(n);return t.copy(r),r}function Ai(t){var e=new t.constructor(t.byteLength);return new kl(e).set(new kl(t)),e}function Ci(t,e){var n=e?Ai(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength);
}function Pi(t,e,n){var r=e?n($(t),ft):$(t);return g(r,i,new t.constructor)}function ji(t){var e=new t.constructor(t.source,$e.exec(t));return e.lastIndex=t.lastIndex,e}function zi(t,e,n){var r=e?n(Y(t),ft):Y(t);return g(r,o,new t.constructor)}function Di(t){return mf?ll(mf.call(t)):{}}function Ri(t,e){var n=e?Ai(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ii(t,e){if(t!==e){var n=t!==rt,r=null===t,i=t===t,o=bu(t),a=e!==rt,s=null===e,u=e===e,c=bu(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Fi(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Ii(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}function Bi(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=Yl(o-a,0),l=ol(u+c),f=!r;++s<u;)l[s]=e[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[s++]=t[i++];return l}function Ui(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=Yl(o-s,0),f=ol(l+c),p=!r;++i<l;)f[i]=t[i];for(var h=i;++u<c;)f[h+u]=e[u];for(;++a<s;)(p||i<o)&&(f[h+n[a]]=t[i++]);return f}function Li(t,e){var n=-1,r=t.length;for(e||(e=ol(r));++n<r;)e[n]=t[n];return e}function qi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):rt;u===rt&&(u=t[s]),i?In(n,s,u):Pn(n,s,u)}return n}function Vi(t,e){return qi(t,kf(t),e)}function Wi(t,e){return qi(t,Tf(t),e)}function $i(t,e){return function(n,r){var i=xp(n)?s:zn,o=e?e():{};return i(n,t,No(r,2),o)}}function Hi(t){return ai(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:rt,a=i>2?n[2]:rt;for(o=t.length>3&&"function"==typeof o?(i--,o):rt,a&&Io(n[0],n[1],a)&&(o=i<3?rt:o,i=1),e=ll(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Gi(t,e){return function(n,r){if(null==n)return n;if(!Xs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=ll(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Yi(t){return function(e,n,r){for(var i=-1,o=ll(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function Xi(t,e,n){function r(){var e=this&&this!==ar&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&gt,o=Ji(t);return r}function Zi(t){return function(e){e=Au(e);var n=q(e)?Q(e):rt,r=n?n[0]:e.charAt(0),i=n?ki(n,1).join(""):e.slice(1);return r[t]()+i}}function Ki(t){return function(e){return g(kc(uc(e).replace(qn,"")),t,"")}}function Ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=yf(t.prototype),r=t.apply(n,e);return su(r)?r:n}}function Qi(t,e,n){function r(){for(var o=arguments.length,s=ol(o),u=o,c=_o(r);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:G(s,c);if(o-=l.length,o<n)return lo(t,e,no,r.placeholder,rt,s,l,rt,rt,n-o);var f=this&&this!==ar&&this instanceof r?i:t;return a(f,this,s)}var i=Ji(t);return r}function to(t){return function(e,n,r){var i=ll(e);if(!Xs(e)){var o=No(n,3);e=Vu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:rt}}function eo(t){return vo(function(e){var n=e.length,i=n,o=r.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new hl(st);if(o&&!s&&"wrapper"==wo(a))var s=new r([],(!0))}for(i=s?i:n;++i<n;){a=e[i];var u=wo(a),c="wrapper"==u?Of(a):rt;s=c&&Uo(c[0])&&c[1]==(Nt|bt|wt|Et)&&!c[4].length&&1==c[9]?s[wo(c[0])].apply(s,c[3]):1==a.length&&Uo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&xp(r)&&r.length>=ot)return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function no(t,e,n,r,i,o,a,s,u,c){function l(){for(var y=arguments.length,v=ol(y),b=y;b--;)v[b]=arguments[b];if(d)var x=_o(l),w=B(v,x);if(r&&(v=Bi(v,r,i,d)),o&&(v=Ui(v,o,a,d)),y-=w,d&&y<c){var _=G(v,x);return lo(t,e,no,l.placeholder,n,v,_,s,u,c-y)}var N=p?n:this,E=h?N[t]:t;return y=v.length,s?v=Jo(v,s):m&&y>1&&v.reverse(),f&&u<y&&(v.length=u),this&&this!==ar&&this instanceof l&&(E=g||Ji(E)),E.apply(N,v)}var f=e&Nt,p=e&gt,h=e&yt,d=e&(bt|xt),m=e&Mt,g=h?rt:Ji(t);return l}function ro(t,e){return function(n,r){return kr(n,t,e(r),{})}}function io(t,e){return function(n,r){var i;if(n===rt&&r===rt)return e;if(n!==rt&&(i=n),r!==rt){if(i===rt)return r;"string"==typeof n||"string"==typeof r?(n=yi(n),r=yi(r)):(n=gi(n),r=gi(r)),i=t(n,r)}return i}}function oo(t){return vo(function(e){return e=d(e,z(No())),ai(function(n){var r=this;return t(e,function(t){return a(t,r,n)})})})}function ao(t,e){e=e===rt?" ":yi(e);var n=e.length;if(n<2)return n?oi(e,t):e;var r=oi(e,Ll(t/J(e)));return q(e)?ki(Q(r),0,t).join(""):r.slice(0,t)}function so(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,l=r.length,f=ol(l+u),p=this&&this!==ar&&this instanceof i?s:t;++c<l;)f[c]=r[c];for(;u--;)f[c++]=arguments[++e];return a(p,o?n:this,f)}var o=e&gt,s=Ji(t);return i}function uo(t){return function(e,n,r){return r&&"number"!=typeof r&&Io(e,n,r)&&(n=r=rt),e=Eu(e),n===rt?(n=e,e=0):n=Eu(n),r=r===rt?e<n?1:-1:Eu(r),ii(e,n,r,t)}}function co(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ou(e),n=Ou(n)),t(e,n)}}function lo(t,e,n,r,i,o,a,s,u,c){var l=e&bt,f=l?a:rt,p=l?rt:a,h=l?o:rt,d=l?rt:o;e|=l?wt:_t,e&=~(l?_t:wt),e&vt||(e&=~(gt|yt));var m=[t,e,i,h,f,d,p,s,u,c],g=n.apply(rt,m);return Uo(t)&&Pf(g,m),g.placeholder=r,Qo(g,t,e)}function fo(t){var e=cl[t];return function(t,n){if(t=Ou(t),n=Xl(Mu(n),292)){var r=(Au(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Au(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function po(t){return function(e){var n=Af(e);return n==Zt?$(e):n==re?X(e):j(e,t(e))}}function ho(t,e,n,r,i,o,a,s){var u=e&yt;if(!u&&"function"!=typeof t)throw new hl(st);var c=r?r.length:0;if(c||(e&=~(wt|_t),r=i=rt),a=a===rt?a:Yl(Mu(a),0),s=s===rt?s:Mu(s),c-=i?i.length:0,e&_t){var l=r,f=i;r=i=rt}var p=u?rt:Of(t),h=[t,e,n,r,i,l,f,o,a,s];if(p&&Ho(h,p),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],s=h[9]=null==h[9]?u?0:t.length:Yl(h[9]-c,0),!s&&e&(bt|xt)&&(e&=~(bt|xt)),e&&e!=gt)d=e==bt||e==xt?Qi(t,e,s):e!=wt&&e!=(gt|wt)||i.length?no.apply(rt,h):so(t,e,n,r);else var d=Xi(t,e,n);var m=p?_f:Pf;return Qo(m(d,h),t,e)}function mo(t,e,n,r,i,o){var a=n&dt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,p=n&mt?new yn:rt;for(o.set(t,e),o.set(e,t);++l<s;){var h=t[l],d=e[l];if(r)var m=a?r(d,h,l,e,t,o):r(h,d,l,t,e,o);if(m!==rt){if(m)continue;f=!1;break}if(p){if(!v(e,function(t,e){if(!R(p,e)&&(h===t||i(h,t,n,r,o)))return p.push(e)})){f=!1;break}}else if(h!==d&&!i(h,d,n,r,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function go(t,e,n,r,i,o,a){switch(n){case le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ce:return!(t.byteLength!=e.byteLength||!o(new kl(t),new kl(e)));case Wt:case $t:case Kt:return Ys(+t,+e);case Gt:return t.name==e.name&&t.message==e.message;case ne:case ie:return t==e+"";case Zt:var s=$;case re:var u=r&dt;if(s||(s=Y),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=mt,a.set(t,e);var l=mo(s(t),s(e),r,i,o,a);return a["delete"](t),l;case oe:if(mf)return mf.call(t)==mf.call(e)}return!1}function yo(t,e,n,r,i,o){var a=n&dt,s=Vu(t),u=s.length,c=Vu(e),l=c.length;if(u!=l&&!a)return!1;for(var f=u;f--;){var p=s[f];if(!(a?p in e:bl.call(e,p)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++f<u;){p=s[f];var g=t[p],y=e[p];if(r)var v=a?r(y,g,p,e,t,o):r(g,y,p,t,e,o);if(!(v===rt?g===y||i(g,y,n,r,o):v)){d=!1;break}m||(m="constructor"==p)}if(d&&!m){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(d=!1)}return o["delete"](t),o["delete"](e),d}function vo(t){return zf(Zo(t,rt,ga),t+"")}function bo(t){return lr(t,Vu,kf)}function xo(t){return lr(t,Wu,Tf)}function wo(t){for(var e=t.name+"",n=uf[e],r=bl.call(uf,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function _o(t){var n=bl.call(e,"placeholder")?e:t;return n.placeholder}function No(){var t=e.iteratee||zc;return t=t===zc?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function Eo(t,e){var n=t.__data__;return Bo(e)?n["string"==typeof e?"string":"hash"]:n.map}function Mo(t){for(var e=Vu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Vo(i)]}return e}function So(t,e){var n=L(t,e);return Ir(n)?n:rt}function Oo(t){var e=bl.call(t,Rl),n=t[Rl];try{t[Rl]=rt;var r=!0}catch(i){}var o=_l.call(t);return r&&(e?t[Rl]=n:delete t[Rl]),o}function ko(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Xl(e,t+a);break;case"takeRight":t=Yl(t,e-a)}}return{start:t,end:e}}function To(t){var e=t.match(Ue);return e?e[1].split(Le):[]}function Ao(t,e,n){e=Oi(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=na(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&au(i)&&Ro(a,i)&&(xp(t)||bp(t)))}function Co(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&bl.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Po(t){return"function"!=typeof t.constructor||qo(t)?{}:yf(Al(t))}function jo(t,e,n,r){var i=t.constructor;switch(e){case ce:return Ai(t);case Wt:case $t:return new i((+t));case le:return Ci(t,r);case fe:case pe:case he:case de:case me:case ge:case ye:case ve:case be:return Ri(t,r);case Zt:return Pi(t,r,n);case Kt:case ie:return new i(t);case ne:return ji(t);case re:return zi(t,r,n);case oe:return Di(t)}}function zo(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Be,"{\n/* [wrapped with "+e+"] */\n")}function Do(t){return xp(t)||bp(t)||!!(zl&&t&&t[zl])}function Ro(t,e){return e=null==e?zt:e,!!e&&("number"==typeof t||Ze.test(t))&&t>-1&&t%1==0&&t<e}function Io(t,e,n){if(!su(n))return!1;var r=typeof e;return!!("number"==r?Xs(n)&&Ro(e,n.length):"string"==r&&e in n)&&Ys(n[e],t)}function Fo(t,e){if(xp(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!bu(t))||(Ce.test(t)||!Ae.test(t)||null!=e&&t in ll(e))}function Bo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Uo(t){var n=wo(t),r=e[n];if("function"!=typeof r||!(n in b.prototype))return!1;if(t===r)return!0;var i=Of(r);return!!i&&t===i[0]}function Lo(t){return!!wl&&wl in t}function qo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||gl;return t===n}function Vo(t){return t===t&&!su(t)}function Wo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==rt||t in ll(n)))}}function $o(t){var e=zs(t,function(t){return n.size===ct&&n.clear(),t}),n=e.cache;return e}function Ho(t,e){var n=t[1],r=e[1],i=n|r,o=i<(gt|yt|Nt),a=r==Nt&&n==bt||r==Nt&&n==Et&&t[7].length<=e[8]||r==(Nt|Et)&&e[7].length<=e[8]&&n==bt;if(!o&&!a)return t;r&gt&&(t[2]=e[2],i|=n&gt?0:vt);var s=e[3];if(s){var u=t[3];t[3]=u?Bi(u,s,e[4]):s,t[4]=u?G(t[3],lt):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Ui(u,s,e[6]):s,t[6]=u?G(t[5],lt):e[6]),s=e[7],s&&(t[7]=s),r&Nt&&(t[8]=null==t[8]?e[8]:Xl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Go(t,e,n,r,i,o){return su(t)&&su(e)&&(o.set(e,t),Yr(t,e,rt,Go,o),o["delete"](e)),t}function Yo(t){var e=[];if(null!=t)for(var n in ll(t))e.push(n);return e}function Xo(t){return _l.call(t)}function Zo(t,e,n){return e=Yl(e===rt?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Yl(r.length-e,0),s=ol(o);++i<o;)s[i]=r[e+i];i=-1;for(var u=ol(e+1);++i<e;)u[i]=r[i];return u[e]=n(s),a(t,this,u)}}function Ko(t,e){return e.length<2?t:ur(t,fi(e,0,-1))}function Jo(t,e){for(var n=t.length,r=Xl(e.length,n),i=Li(t);r--;){var o=e[r];t[r]=Ro(o,n)?i[o]:rt}return t}function Qo(t,e,n){var r=e+"";return zf(t,zo(r,ia(To(r),n)))}function ta(t){var e=0,n=0;return function(){var r=Zl(),i=Tt-(r-n);if(n=r,i>0){if(++e>=kt)return arguments[0]}else e=0;return t.apply(rt,arguments)}}function ea(t,e){var n=-1,r=t.length,i=r-1;for(e=e===rt?r:e;++n<e;){var o=ri(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function na(t){if("string"==typeof t||bu(t))return t;var e=t+"";return"0"==e&&1/t==-jt?"-0":e}function ra(t){if(null!=t){try{return vl.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ia(t,e){return u(Ut,function(n){var r="_."+n[0];e&n[1]&&!p(t,r)&&t.push(r)}),t.sort()}function oa(t){if(t instanceof b)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=Li(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function aa(t,e,n){e=(n?Io(t,e,n):e===rt)?1:Yl(Mu(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=ol(Ll(r/e));i<r;)a[o++]=fi(t,i,i+=e);return a}function sa(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ua(){var t=arguments.length;if(!t)return[];for(var e=ol(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return m(xp(n)?Li(n):[n],er(e,1))}function ca(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:Mu(e),fi(t,e<0?0:e,r)):[]}function la(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:Mu(e),e=r-e,fi(t,0,e<0?0:e)):[]}function fa(t,e){return t&&t.length?wi(t,No(e,3),!0,!0):[]}function pa(t,e){return t&&t.length?wi(t,No(e,3),!0):[]}function ha(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Io(t,e,n)&&(n=0,r=i),Qn(t,e,n,r)):[]}function da(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Mu(n);return i<0&&(i=Yl(r+i,0)),_(t,No(e,3),i)}function ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==rt&&(i=Mu(n),i=n<0?Yl(r+i,0):Xl(i,r-1)),_(t,No(e,3),i,!0)}function ga(t){var e=null==t?0:t.length;return e?er(t,1):[]}function ya(t){var e=null==t?0:t.length;return e?er(t,jt):[]}function va(t,e){var n=null==t?0:t.length;return n?(e=e===rt?1:Mu(e),er(t,e)):[]}function ba(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function xa(t){return t&&t.length?t[0]:rt}function wa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Mu(n);return i<0&&(i=Yl(r+i,0)),N(t,e,i)}function _a(t){var e=null==t?0:t.length;return e?fi(t,0,-1):[]}function Na(t,e){return null==t?"":Hl.call(t,e)}function Ea(t){var e=null==t?0:t.length;return e?t[e-1]:rt}function Ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==rt&&(i=Mu(n),i=i<0?Yl(r+i,0):Xl(i,r-1)),e===e?K(t,e,i):_(t,M,i,!0)}function Sa(t,e){return t&&t.length?Zr(t,Mu(e)):rt}function Oa(t,e){return t&&t.length&&e&&e.length?ei(t,e):t}function ka(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,No(n,2)):t}function Ta(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,rt,n):t}function Aa(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=No(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return ni(t,i),n}function Ca(t){return null==t?t:Ql.call(t)}function Pa(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Io(t,e,n)?(e=0,n=r):(e=null==e?0:Mu(e),n=n===rt?r:Mu(n)),fi(t,e,n)):[]}function ja(t,e){return hi(t,e)}function za(t,e,n){return di(t,e,No(n,2))}function Da(t,e){var n=null==t?0:t.length;if(n){var r=hi(t,e);if(r<n&&Ys(t[r],e))return r}return-1}function Ra(t,e){return hi(t,e,!0)}function Ia(t,e,n){return di(t,e,No(n,2),!0)}function Fa(t,e){var n=null==t?0:t.length;if(n){var r=hi(t,e,!0)-1;if(Ys(t[r],e))return r}return-1}function Ba(t){return t&&t.length?mi(t):[]}function Ua(t,e){return t&&t.length?mi(t,No(e,2)):[]}function La(t){var e=null==t?0:t.length;return e?fi(t,1,e):[]}function qa(t,e,n){return t&&t.length?(e=n||e===rt?1:Mu(e),fi(t,0,e<0?0:e)):[]}function Va(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:Mu(e),e=r-e,fi(t,e<0?0:e,r)):[]}function Wa(t,e){return t&&t.length?wi(t,No(e,3),!1,!0):[]}function $a(t,e){return t&&t.length?wi(t,No(e,3)):[]}function Ha(t){return t&&t.length?vi(t):[]}function Ga(t,e){return t&&t.length?vi(t,No(e,2)):[]}function Ya(t,e){return e="function"==typeof e?e:rt,t&&t.length?vi(t,rt,e):[]}function Xa(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){if(Zs(t))return e=Yl(t.length,e),!0}),P(e,function(e){return d(t,O(e))})}function Za(t,e){if(!t||!t.length)return[];var n=Xa(t);return null==e?n:d(n,function(t){return a(e,rt,t)})}function Ka(t,e){return Ei(t||[],e||[],Pn)}function Ja(t,e){return Ei(t||[],e||[],ci)}function Qa(t){var n=e(t);return n.__chain__=!0,n}function ts(t,e){return e(t),t}function es(t,e){return e(t)}function ns(){return Qa(this)}function rs(){return new r(this.value(),this.__chain__)}function is(){this.__values__===rt&&(this.__values__=Nu(this.value()));var t=this.__index__>=this.__values__.length,e=t?rt:this.__values__[this.__index__++];return{done:t,value:e}}function os(){return this}function as(t){for(var e,r=this;r instanceof n;){var i=oa(r);i.__index__=0,i.__values__=rt,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function ss(){var t=this.__wrapped__;if(t instanceof b){var e=t;return this.__actions__.length&&(e=new b(this)),e=e.reverse(),e.__actions__.push({func:es,args:[Ca],thisArg:rt}),new r(e,this.__chain__)}return this.thru(Ca)}function us(){return _i(this.__wrapped__,this.__actions__)}function cs(t,e,n){var r=xp(t)?l:Gn;return n&&Io(t,e,n)&&(e=rt),r(t,No(e,3))}function ls(t,e){var n=xp(t)?f:tr;return n(t,No(e,3))}function fs(t,e){return er(ys(t,e),1)}function ps(t,e){return er(ys(t,e),jt)}function hs(t,e,n){return n=n===rt?1:Mu(n),er(ys(t,e),n)}function ds(t,e){var n=xp(t)?u:vf;return n(t,No(e,3))}function ms(t,e){var n=xp(t)?c:bf;return n(t,No(e,3))}function gs(t,e,n,r){t=Xs(t)?t:nc(t),n=n&&!r?Mu(n):0;var i=t.length;return n<0&&(n=Yl(i+n,0)),vu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&N(t,e,n)>-1}function ys(t,e){var n=xp(t)?d:$r;return n(t,No(e,3))}function vs(t,e,n,r){return null==t?[]:(xp(e)||(e=null==e?[]:[e]),n=r?rt:n,xp(n)||(n=null==n?[]:[n]),Kr(t,e,n))}function bs(t,e,n){var r=xp(t)?g:T,i=arguments.length<3;return r(t,No(e,4),n,i,vf)}function xs(t,e,n){var r=xp(t)?y:T,i=arguments.length<3;return r(t,No(e,4),n,i,bf)}function ws(t,e){var n=xp(t)?f:tr;return n(t,Ds(No(e,3)))}function _s(t){var e=xp(t)?On:si;return e(t)}function Ns(t,e,n){e=(n?Io(t,e,n):e===rt)?1:Mu(e);var r=xp(t)?kn:ui;return r(t,e)}function Es(t){var e=xp(t)?Tn:li;return e(t)}function Ms(t){if(null==t)return 0;if(Xs(t))return vu(t)?J(t):t.length;var e=Af(t);return e==Zt||e==re?t.size:qr(t).length}function Ss(t,e,n){var r=xp(t)?v:pi;return n&&Io(t,e,n)&&(e=rt),r(t,No(e,3))}function Os(t,e){if("function"!=typeof e)throw new hl(st);return t=Mu(t),function(){if(--t<1)return e.apply(this,arguments)}}function ks(t,e,n){return e=n?rt:e,e=t&&null==e?t.length:e,ho(t,Nt,rt,rt,rt,rt,e)}function Ts(t,e){var n;if("function"!=typeof e)throw new hl(st);return t=Mu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=rt),n}}function As(t,e,n){e=n?rt:e;var r=ho(t,bt,rt,rt,rt,rt,rt,e);return r.placeholder=As.placeholder,r}function Cs(t,e,n){e=n?rt:e;var r=ho(t,xt,rt,rt,rt,rt,rt,e);return r.placeholder=Cs.placeholder,r}function Ps(t,e,n){function r(e){var n=p,r=h;return p=h=rt,v=e,m=t.apply(r,n)}function i(t){return v=t,g=jf(s,e),b?r(t):m}function o(t){var n=t-y,r=t-v,i=e-n;return x?Xl(i,d-r):i}function a(t){var n=t-y,r=t-v;return y===rt||n>=e||n<0||x&&r>=d}function s(){var t=up();return a(t)?u(t):void(g=jf(s,o(t)))}function u(t){return g=rt,w&&p?r(t):(p=h=rt,m)}function c(){g!==rt&&Mf(g),v=0,p=y=h=g=rt}function l(){return g===rt?m:u(up())}function f(){var t=up(),n=a(t);if(p=arguments,h=this,y=t,n){if(g===rt)return i(y);if(x)return g=jf(s,e),r(y)}return g===rt&&(g=jf(s,e)),m}var p,h,d,m,g,y,v=0,b=!1,x=!1,w=!0;if("function"!=typeof t)throw new hl(st);return e=Ou(e)||0,su(n)&&(b=!!n.leading,x="maxWait"in n,d=x?Yl(Ou(n.maxWait)||0,e):d,w="trailing"in n?!!n.trailing:w),f.cancel=c,f.flush=l,f}function js(t){return ho(t,Mt)}function zs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new hl(st);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(zs.Cache||fn),n}function Ds(t){if("function"!=typeof t)throw new hl(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Rs(t){return Ts(2,t)}function Is(t,e){if("function"!=typeof t)throw new hl(st);return e=e===rt?e:Mu(e),ai(t,e)}function Fs(t,e){if("function"!=typeof t)throw new hl(st);return e=e===rt?0:Yl(Mu(e),0),ai(function(n){var r=n[e],i=ki(n,0,e);return r&&m(i,r),a(t,this,i)})}function Bs(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new hl(st);return su(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ps(t,e,{leading:r,maxWait:e,trailing:i})}function Us(t){return ks(t,1)}function Ls(t,e){return dp(Si(e),t)}function qs(){if(!arguments.length)return[];var t=arguments[0];return xp(t)?t:[t]}function Vs(t){return Un(t,ht)}function Ws(t,e){return e="function"==typeof e?e:rt,Un(t,ht,e)}function $s(t){return Un(t,ft|ht)}function Hs(t,e){return e="function"==typeof e?e:rt,Un(t,ft|ht,e)}function Gs(t,e){return null==e||Wn(t,e,Vu(e))}function Ys(t,e){return t===e||t!==t&&e!==e}function Xs(t){return null!=t&&au(t.length)&&!iu(t)}function Zs(t){return uu(t)&&Xs(t)}function Ks(t){return t===!0||t===!1||uu(t)&&fr(t)==Wt}function Js(t){return uu(t)&&1===t.nodeType&&!gu(t)}function Qs(t){if(null==t)return!0;if(Xs(t)&&(xp(t)||"string"==typeof t||"function"==typeof t.splice||_p(t)||Op(t)||bp(t)))return!t.length;var e=Af(t);if(e==Zt||e==re)return!t.size;if(qo(t))return!qr(t).length;for(var n in t)if(bl.call(t,n))return!1;return!0}function tu(t,e){return jr(t,e)}function eu(t,e,n){n="function"==typeof n?n:rt;var r=n?n(t,e):rt;return r===rt?jr(t,e,rt,n):!!r}function nu(t){if(!uu(t))return!1;var e=fr(t);return e==Gt||e==Ht||"string"==typeof t.message&&"string"==typeof t.name&&!gu(t)}function ru(t){return"number"==typeof t&&$l(t)}function iu(t){if(!su(t))return!1;var e=fr(t);return e==Yt||e==Xt||e==Vt||e==ee}function ou(t){return"number"==typeof t&&t==Mu(t)}function au(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=zt}function su(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function uu(t){return null!=t&&"object"==typeof t}function cu(t,e){return t===e||Rr(t,e,Mo(e))}function lu(t,e,n){return n="function"==typeof n?n:rt,Rr(t,e,Mo(e),n)}function fu(t){return mu(t)&&t!=+t}function pu(t){if(Cf(t))throw new sl(at);return Ir(t)}function hu(t){return null===t}function du(t){return null==t}function mu(t){return"number"==typeof t||uu(t)&&fr(t)==Kt}function gu(t){if(!uu(t)||fr(t)!=Qt)return!1;var e=Al(t);if(null===e)return!0;var n=bl.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&vl.call(n)==Nl}function yu(t){return ou(t)&&t>=-zt&&t<=zt}function vu(t){return"string"==typeof t||!xp(t)&&uu(t)&&fr(t)==ie}function bu(t){return"symbol"==typeof t||uu(t)&&fr(t)==oe}function xu(t){return t===rt}function wu(t){return uu(t)&&Af(t)==se}function _u(t){return uu(t)&&fr(t)==ue}function Nu(t){if(!t)return[];if(Xs(t))return vu(t)?Q(t):Li(t);if(Dl&&t[Dl])return W(t[Dl]());var e=Af(t),n=e==Zt?$:e==re?Y:nc;return n(t)}function Eu(t){if(!t)return 0===t?t:0;if(t=Ou(t),t===jt||t===-jt){var e=t<0?-1:1;return e*Dt}return t===t?t:0}function Mu(t){var e=Eu(t),n=e%1;return e===e?n?e-n:e:0}function Su(t){return t?Bn(Mu(t),0,It):0}function Ou(t){if("number"==typeof t)return t;if(bu(t))return Rt;if(su(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=su(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Re,"");var n=Ge.test(t);return n||Xe.test(t)?rr(t.slice(2),n?2:8):He.test(t)?Rt:+t}function ku(t){return qi(t,Wu(t))}function Tu(t){return Bn(Mu(t),-zt,zt)}function Au(t){return null==t?"":yi(t)}function Cu(t,e){var n=yf(t);return null==e?n:Dn(n,e)}function Pu(t,e){return w(t,No(e,3),ir)}function ju(t,e){return w(t,No(e,3),or)}function zu(t,e){return null==t?t:xf(t,No(e,3),Wu)}function Du(t,e){return null==t?t:wf(t,No(e,3),Wu)}function Ru(t,e){return t&&ir(t,No(e,3))}function Iu(t,e){return t&&or(t,No(e,3))}function Fu(t){return null==t?[]:sr(t,Vu(t))}function Bu(t){return null==t?[]:sr(t,Wu(t))}function Uu(t,e,n){var r=null==t?rt:ur(t,e);return r===rt?n:r}function Lu(t,e){return null!=t&&Ao(t,e,_r)}function qu(t,e){return null!=t&&Ao(t,e,Mr)}function Vu(t){return Xs(t)?Sn(t):qr(t)}function Wu(t){return Xs(t)?Sn(t,!0):Vr(t)}function $u(t,e){var n={};return e=No(e,3),ir(t,function(t,r,i){In(n,e(t,r,i),t)}),n}function Hu(t,e){var n={};return e=No(e,3),ir(t,function(t,r,i){In(n,r,e(t,r,i))}),n}function Gu(t,e){return Yu(t,Ds(No(e)))}function Yu(t,e){if(null==t)return{};var n=d(xo(t),function(t){return[t]});return e=No(e),Qr(t,n,function(t,n){return e(t,n[0])})}function Xu(t,e,n){e=Oi(e,t);var r=-1,i=e.length;for(i||(i=1,t=rt);++r<i;){var o=null==t?rt:t[na(e[r])];o===rt&&(r=i,o=n),t=iu(o)?o.call(t):o}return t}function Zu(t,e,n){return null==t?t:ci(t,e,n)}function Ku(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:ci(t,e,n,r)}function Ju(t,e,n){var r=xp(t),i=r||_p(t)||Op(t);if(e=No(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:su(t)&&iu(o)?yf(Al(t)):{}}return(i?u:ir)(t,function(t,r,i){return e(n,t,r,i)}),n}function Qu(t,e){return null==t||bi(t,e)}function tc(t,e,n){return null==t?t:xi(t,e,Si(n))}function ec(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:xi(t,e,Si(n),r)}function nc(t){return null==t?[]:D(t,Vu(t))}function rc(t){return null==t?[]:D(t,Wu(t))}function ic(t,e,n){return n===rt&&(n=e,e=rt),n!==rt&&(n=Ou(n),n=n===n?n:0),e!==rt&&(e=Ou(e),e=e===e?e:0),Bn(Ou(t),e,n)}function oc(t,e,n){return e=Eu(e),n===rt?(n=e,e=0):n=Eu(n),t=Ou(t),Sr(t,e,n)}function ac(t,e,n){if(n&&"boolean"!=typeof n&&Io(t,e,n)&&(e=n=rt),n===rt&&("boolean"==typeof e?(n=e,e=rt):"boolean"==typeof t&&(n=t,t=rt)),t===rt&&e===rt?(t=0,e=1):(t=Eu(t),e===rt?(e=t,t=0):e=Eu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Jl();return Xl(t+i*(e-t+nr("1e-"+((i+"").length-1))),e)}return ri(t,e)}function sc(t){return Qp(Au(t).toLowerCase())}function uc(t){return t=Au(t),t&&t.replace(Ke,br).replace(Vn,"")}function cc(t,e,n){t=Au(t),e=yi(e);var r=t.length;n=n===rt?r:Bn(Mu(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function lc(t){return t=Au(t),t&&Se.test(t)?t.replace(Ee,xr):t}function fc(t){return t=Au(t),t&&De.test(t)?t.replace(ze,"\\$&"):t}function pc(t,e,n){t=Au(t),e=Mu(e);var r=e?J(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ao(ql(i),n)+t+ao(Ll(i),n)}function hc(t,e,n){t=Au(t),e=Mu(e);var r=e?J(t):0;return e&&r<e?t+ao(e-r,n):t}function dc(t,e,n){t=Au(t),e=Mu(e);var r=e?J(t):0;return e&&r<e?ao(e-r,n)+t:t}function mc(t,e,n){return n||null==e?e=0:e&&(e=+e),Kl(Au(t).replace(Ie,""),e||0)}function gc(t,e,n){return e=(n?Io(t,e,n):e===rt)?1:Mu(e),oi(Au(t),e)}function yc(){var t=arguments,e=Au(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function vc(t,e,n){return n&&"number"!=typeof n&&Io(t,e,n)&&(e=n=rt),(n=n===rt?It:n>>>0)?(t=Au(t),t&&("string"==typeof e||null!=e&&!Mp(e))&&(e=yi(e),!e&&q(t))?ki(Q(t),0,n):t.split(e,n)):[]}function bc(t,e,n){return t=Au(t),n=Bn(Mu(n),0,t.length),e=yi(e),t.slice(n,n+e.length)==e}function xc(t,n,r){var i=e.templateSettings;r&&Io(t,n,r)&&(n=rt),t=Au(t),n=Pp({},n,i,An);var o,a,s=Pp({},n.imports,i.imports,An),u=Vu(s),c=D(s,u),l=0,f=n.interpolate||Je,p="__p += '",h=fl((n.escape||Je).source+"|"+f.source+"|"+(f===Te?We:Je).source+"|"+(n.evaluate||Je).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Xn+"]")+"\n";t.replace(h,function(e,n,r,i,s,u){return r||(r=i),p+=t.slice(l,u).replace(Qe,U),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),p+="';\n";var m=n.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(xe,""):p).replace(we,"$1").replace(_e,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=th(function(){return ul(u,d+"return "+p).apply(rt,c)});if(g.source=p,nu(g))throw g;return g}function wc(t){return Au(t).toLowerCase()}function _c(t){return Au(t).toUpperCase()}function Nc(t,e,n){if(t=Au(t),t&&(n||e===rt))return t.replace(Re,"");if(!t||!(e=yi(e)))return t;var r=Q(t),i=Q(e),o=I(r,i),a=F(r,i)+1;return ki(r,o,a).join("")}function Ec(t,e,n){if(t=Au(t),t&&(n||e===rt))return t.replace(Fe,"");if(!t||!(e=yi(e)))return t;var r=Q(t),i=F(r,Q(e))+1;return ki(r,0,i).join("")}function Mc(t,e,n){if(t=Au(t),t&&(n||e===rt))return t.replace(Ie,"");if(!t||!(e=yi(e)))return t;var r=Q(t),i=I(r,Q(e));return ki(r,i).join("")}function Sc(t,e){var n=St,r=Ot;if(su(e)){var i="separator"in e?e.separator:i;n="length"in e?Mu(e.length):n,r="omission"in e?yi(e.omission):r}t=Au(t);var o=t.length;if(q(t)){var a=Q(t);o=a.length}if(n>=o)return t;var s=n-J(r);if(s<1)return r;var u=a?ki(a,0,s).join(""):t.slice(0,s);if(i===rt)return u+r;if(a&&(s+=u.length-s),Mp(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=fl(i.source,Au($e.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,f===rt?s:f)}}else if(t.indexOf(yi(i),s)!=s){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r}function Oc(t){return t=Au(t),t&&Me.test(t)?t.replace(Ne,wr):t}function kc(t,e,n){return t=Au(t),e=n?rt:e,e===rt?V(t)?nt(t):x(t):t.match(e)||[]}function Tc(t){var e=null==t?0:t.length,n=No();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new hl(st);return[n(t[0]),t[1]]}):[],ai(function(n){for(var r=-1;++r<e;){var i=t[r];if(a(i[0],this,n))return a(i[1],this,n)}})}function Ac(t){return Ln(Un(t,ft))}function Cc(t){return function(){return t}}function Pc(t,e){return null==t||t!==t?e:t}function jc(t){return t}function zc(t){return Lr("function"==typeof t?t:Un(t,ft))}function Dc(t){return Hr(Un(t,ft))}function Rc(t,e){return Gr(t,Un(e,ft))}function Ic(t,e,n){var r=Vu(e),i=sr(e,r);null!=n||su(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=sr(e,Vu(e)));var o=!(su(n)&&"chain"in n&&!n.chain),a=iu(t);return u(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Li(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,m([this.value()],arguments))})}),t}function Fc(){return ar._===this&&(ar._=El),this}function Bc(){}function Uc(t){return t=Mu(t),ai(function(e){return Zr(e,t)})}function Lc(t){return Fo(t)?O(na(t)):ti(t)}function qc(t){return function(e){return null==t?rt:ur(t,e)}}function Vc(){return[]}function Wc(){return!1}function $c(){return{}}function Hc(){return""}function Gc(){return!0}function Yc(t,e){if(t=Mu(t),t<1||t>zt)return[];var n=It,r=Xl(t,It);e=No(e),t-=It;for(var i=P(r,e);++n<t;)e(n);return i}function Xc(t){return xp(t)?d(t,na):bu(t)?[t]:Li(Df(Au(t)))}function Zc(t){var e=++xl;return Au(t)+e}function Kc(t){return t&&t.length?Jn(t,jc,vr):rt}function Jc(t,e){return t&&t.length?Jn(t,No(e,2),vr):rt}function Qc(t){return S(t,jc)}function tl(t,e){return S(t,No(e,2))}function el(t){return t&&t.length?Jn(t,jc,Wr):rt}function nl(t,e){return t&&t.length?Jn(t,No(e,2),Wr):rt}function rl(t){return t&&t.length?C(t,jc):0}function il(t,e){return t&&t.length?C(t,No(e,2)):0}t=null==t?ar:Nr.defaults(ar.Object(),t,Nr.pick(ar,Yn));var ol=t.Array,al=t.Date,sl=t.Error,ul=t.Function,cl=t.Math,ll=t.Object,fl=t.RegExp,pl=t.String,hl=t.TypeError,dl=ol.prototype,ml=ul.prototype,gl=ll.prototype,yl=t["__core-js_shared__"],vl=ml.toString,bl=gl.hasOwnProperty,xl=0,wl=function(){
var t=/[^.]+$/.exec(yl&&yl.keys&&yl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),_l=gl.toString,Nl=vl.call(ll),El=ar._,Ml=fl("^"+vl.call(bl).replace(ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sl=cr?t.Buffer:rt,Ol=t.Symbol,kl=t.Uint8Array,Tl=Sl?Sl.allocUnsafe:rt,Al=H(ll.getPrototypeOf,ll),Cl=ll.create,Pl=gl.propertyIsEnumerable,jl=dl.splice,zl=Ol?Ol.isConcatSpreadable:rt,Dl=Ol?Ol.iterator:rt,Rl=Ol?Ol.toStringTag:rt,Il=function(){try{var t=So(ll,"defineProperty");return t({},"",{}),t}catch(e){}}(),Fl=t.clearTimeout!==ar.clearTimeout&&t.clearTimeout,Bl=al&&al.now!==ar.Date.now&&al.now,Ul=t.setTimeout!==ar.setTimeout&&t.setTimeout,Ll=cl.ceil,ql=cl.floor,Vl=ll.getOwnPropertySymbols,Wl=Sl?Sl.isBuffer:rt,$l=t.isFinite,Hl=dl.join,Gl=H(ll.keys,ll),Yl=cl.max,Xl=cl.min,Zl=al.now,Kl=t.parseInt,Jl=cl.random,Ql=dl.reverse,tf=So(t,"DataView"),ef=So(t,"Map"),nf=So(t,"Promise"),rf=So(t,"Set"),of=So(t,"WeakMap"),af=So(ll,"create"),sf=of&&new of,uf={},cf=ra(tf),lf=ra(ef),ff=ra(nf),pf=ra(rf),hf=ra(of),df=Ol?Ol.prototype:rt,mf=df?df.valueOf:rt,gf=df?df.toString:rt,yf=function(){function t(){}return function(e){if(!su(e))return{};if(Cl)return Cl(e);t.prototype=e;var n=new t;return t.prototype=rt,n}}();e.templateSettings={escape:Oe,evaluate:ke,interpolate:Te,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,r.prototype=yf(n.prototype),r.prototype.constructor=r,b.prototype=yf(n.prototype),b.prototype.constructor=b,et.prototype.clear=qe,et.prototype["delete"]=tn,et.prototype.get=en,et.prototype.has=nn,et.prototype.set=rn,on.prototype.clear=an,on.prototype["delete"]=sn,on.prototype.get=un,on.prototype.has=cn,on.prototype.set=ln,fn.prototype.clear=pn,fn.prototype["delete"]=hn,fn.prototype.get=dn,fn.prototype.has=mn,fn.prototype.set=gn,yn.prototype.add=yn.prototype.push=vn,yn.prototype.has=bn,xn.prototype.clear=wn,xn.prototype["delete"]=_n,xn.prototype.get=Nn,xn.prototype.has=En,xn.prototype.set=Mn;var vf=Gi(ir),bf=Gi(or,!0),xf=Yi(),wf=Yi(!0),_f=sf?function(t,e){return sf.set(t,e),t}:jc,Nf=Il?function(t,e){return Il(t,"toString",{configurable:!0,enumerable:!1,value:Cc(e),writable:!0})}:jc,Ef=ai,Mf=Fl||function(t){return ar.clearTimeout(t)},Sf=rf&&1/Y(new rf([,-0]))[1]==jt?function(t){return new rf(t)}:Bc,Of=sf?function(t){return sf.get(t)}:Bc,kf=Vl?H(Vl,ll):Vc,Tf=Vl?function(t){for(var e=[];t;)m(e,kf(t)),t=Al(t);return e}:Vc,Af=fr;(tf&&Af(new tf(new ArrayBuffer(1)))!=le||ef&&Af(new ef)!=Zt||nf&&Af(nf.resolve())!=te||rf&&Af(new rf)!=re||of&&Af(new of)!=se)&&(Af=function(t){var e=fr(t),n=e==Qt?t.constructor:rt,r=n?ra(n):"";if(r)switch(r){case cf:return le;case lf:return Zt;case ff:return te;case pf:return re;case hf:return se}return e});var Cf=yl?iu:Wc,Pf=ta(_f),jf=Ul||function(t,e){return ar.setTimeout(t,e)},zf=ta(Nf),Df=$o(function(t){var e=[];return Pe.test(t)&&e.push(""),t.replace(je,function(t,n,r,i){e.push(r?i.replace(Ve,"$1"):n||t)}),e}),Rf=ai(function(t,e){return Zs(t)?Hn(t,er(e,1,Zs,!0)):[]}),If=ai(function(t,e){var n=Ea(e);return Zs(n)&&(n=rt),Zs(t)?Hn(t,er(e,1,Zs,!0),No(n,2)):[]}),Ff=ai(function(t,e){var n=Ea(e);return Zs(n)&&(n=rt),Zs(t)?Hn(t,er(e,1,Zs,!0),rt,n):[]}),Bf=ai(function(t){var e=d(t,Mi);return e.length&&e[0]===t[0]?Or(e):[]}),Uf=ai(function(t){var e=Ea(t),n=d(t,Mi);return e===Ea(n)?e=rt:n.pop(),n.length&&n[0]===t[0]?Or(n,No(e,2)):[]}),Lf=ai(function(t){var e=Ea(t),n=d(t,Mi);return e="function"==typeof e?e:rt,e&&n.pop(),n.length&&n[0]===t[0]?Or(n,rt,e):[]}),qf=ai(Oa),Vf=vo(function(t,e){var n=null==t?0:t.length,r=Fn(t,e);return ni(t,d(e,function(t){return Ro(t,n)?+t:t}).sort(Ii)),r}),Wf=ai(function(t){return vi(er(t,1,Zs,!0))}),$f=ai(function(t){var e=Ea(t);return Zs(e)&&(e=rt),vi(er(t,1,Zs,!0),No(e,2))}),Hf=ai(function(t){var e=Ea(t);return e="function"==typeof e?e:rt,vi(er(t,1,Zs,!0),rt,e)}),Gf=ai(function(t,e){return Zs(t)?Hn(t,e):[]}),Yf=ai(function(t){return Ni(f(t,Zs))}),Xf=ai(function(t){var e=Ea(t);return Zs(e)&&(e=rt),Ni(f(t,Zs),No(e,2))}),Zf=ai(function(t){var e=Ea(t);return e="function"==typeof e?e:rt,Ni(f(t,Zs),rt,e)}),Kf=ai(Xa),Jf=ai(function(t){var e=t.length,n=e>1?t[e-1]:rt;return n="function"==typeof n?(t.pop(),n):rt,Za(t,n)}),Qf=vo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return Fn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof b&&Ro(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:es,args:[o],thisArg:rt}),new r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(rt),t})):this.thru(o)}),tp=$i(function(t,e,n){bl.call(t,n)?++t[n]:In(t,n,1)}),ep=to(da),np=to(ma),rp=$i(function(t,e,n){bl.call(t,n)?t[n].push(e):In(t,n,[e])}),ip=ai(function(t,e,n){var r=-1,i="function"==typeof e,o=Xs(t)?ol(t.length):[];return vf(t,function(t){o[++r]=i?a(e,t,n):Tr(t,e,n)}),o}),op=$i(function(t,e,n){In(t,n,e)}),ap=$i(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sp=ai(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Io(t,e[0],e[1])?e=[]:n>2&&Io(e[0],e[1],e[2])&&(e=[e[0]]),Kr(t,er(e,1),[])}),up=Bl||function(){return ar.Date.now()},cp=ai(function(t,e,n){var r=gt;if(n.length){var i=G(n,_o(cp));r|=wt}return ho(t,r,e,n,i)}),lp=ai(function(t,e,n){var r=gt|yt;if(n.length){var i=G(n,_o(lp));r|=wt}return ho(e,r,t,n,i)}),fp=ai(function(t,e){return $n(t,1,e)}),pp=ai(function(t,e,n){return $n(t,Ou(e)||0,n)});zs.Cache=fn;var hp=Ef(function(t,e){e=1==e.length&&xp(e[0])?d(e[0],z(No())):d(er(e,1),z(No()));var n=e.length;return ai(function(r){for(var i=-1,o=Xl(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return a(t,this,r)})}),dp=ai(function(t,e){var n=G(e,_o(dp));return ho(t,wt,rt,e,n)}),mp=ai(function(t,e){var n=G(e,_o(mp));return ho(t,_t,rt,e,n)}),gp=vo(function(t,e){return ho(t,Et,rt,rt,rt,e)}),yp=co(vr),vp=co(function(t,e){return t>=e}),bp=Ar(function(){return arguments}())?Ar:function(t){return uu(t)&&bl.call(t,"callee")&&!Pl.call(t,"callee")},xp=ol.isArray,wp=pr?z(pr):Cr,_p=Wl||Wc,Np=hr?z(hr):Pr,Ep=dr?z(dr):Dr,Mp=mr?z(mr):Fr,Sp=gr?z(gr):Br,Op=yr?z(yr):Ur,kp=co(Wr),Tp=co(function(t,e){return t<=e}),Ap=Hi(function(t,e){if(qo(e)||Xs(e))return void qi(e,Vu(e),t);for(var n in e)bl.call(e,n)&&Pn(t,n,e[n])}),Cp=Hi(function(t,e){qi(e,Wu(e),t)}),Pp=Hi(function(t,e,n,r){qi(e,Wu(e),t,r)}),jp=Hi(function(t,e,n,r){qi(e,Vu(e),t,r)}),zp=vo(Fn),Dp=ai(function(t){return t.push(rt,An),a(Pp,rt,t)}),Rp=ai(function(t){return t.push(rt,Go),a(Lp,rt,t)}),Ip=ro(function(t,e,n){t[e]=n},Cc(jc)),Fp=ro(function(t,e,n){bl.call(t,e)?t[e].push(n):t[e]=[n]},No),Bp=ai(Tr),Up=Hi(function(t,e,n){Yr(t,e,n)}),Lp=Hi(function(t,e,n,r){Yr(t,e,n,r)}),qp=vo(function(t,e){var n={};if(null==t)return n;var r=!1;e=d(e,function(e){return e=Oi(e,t),r||(r=e.length>1),e}),qi(t,xo(t),n),r&&(n=Un(n,ft|pt|ht));for(var i=e.length;i--;)bi(n,e[i]);return n}),Vp=vo(function(t,e){return null==t?{}:Jr(t,e)}),Wp=po(Vu),$p=po(Wu),Hp=Ki(function(t,e,n){return e=e.toLowerCase(),t+(n?sc(e):e)}),Gp=Ki(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Yp=Ki(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Xp=Zi("toLowerCase"),Zp=Ki(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Kp=Ki(function(t,e,n){return t+(n?" ":"")+Qp(e)}),Jp=Ki(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Qp=Zi("toUpperCase"),th=ai(function(t,e){try{return a(t,rt,e)}catch(n){return nu(n)?n:new sl(n)}}),eh=vo(function(t,e){return u(e,function(e){e=na(e),In(t,e,cp(t[e],t))}),t}),nh=eo(),rh=eo(!0),ih=ai(function(t,e){return function(n){return Tr(n,t,e)}}),oh=ai(function(t,e){return function(n){return Tr(t,n,e)}}),ah=oo(d),sh=oo(l),uh=oo(v),ch=uo(),lh=uo(!0),fh=io(function(t,e){return t+e},0),ph=fo("ceil"),hh=io(function(t,e){return t/e},1),dh=fo("floor"),mh=io(function(t,e){return t*e},1),gh=fo("round"),yh=io(function(t,e){return t-e},0);return e.after=Os,e.ary=ks,e.assign=Ap,e.assignIn=Cp,e.assignInWith=Pp,e.assignWith=jp,e.at=zp,e.before=Ts,e.bind=cp,e.bindAll=eh,e.bindKey=lp,e.castArray=qs,e.chain=Qa,e.chunk=aa,e.compact=sa,e.concat=ua,e.cond=Tc,e.conforms=Ac,e.constant=Cc,e.countBy=tp,e.create=Cu,e.curry=As,e.curryRight=Cs,e.debounce=Ps,e.defaults=Dp,e.defaultsDeep=Rp,e.defer=fp,e.delay=pp,e.difference=Rf,e.differenceBy=If,e.differenceWith=Ff,e.drop=ca,e.dropRight=la,e.dropRightWhile=fa,e.dropWhile=pa,e.fill=ha,e.filter=ls,e.flatMap=fs,e.flatMapDeep=ps,e.flatMapDepth=hs,e.flatten=ga,e.flattenDeep=ya,e.flattenDepth=va,e.flip=js,e.flow=nh,e.flowRight=rh,e.fromPairs=ba,e.functions=Fu,e.functionsIn=Bu,e.groupBy=rp,e.initial=_a,e.intersection=Bf,e.intersectionBy=Uf,e.intersectionWith=Lf,e.invert=Ip,e.invertBy=Fp,e.invokeMap=ip,e.iteratee=zc,e.keyBy=op,e.keys=Vu,e.keysIn=Wu,e.map=ys,e.mapKeys=$u,e.mapValues=Hu,e.matches=Dc,e.matchesProperty=Rc,e.memoize=zs,e.merge=Up,e.mergeWith=Lp,e.method=ih,e.methodOf=oh,e.mixin=Ic,e.negate=Ds,e.nthArg=Uc,e.omit=qp,e.omitBy=Gu,e.once=Rs,e.orderBy=vs,e.over=ah,e.overArgs=hp,e.overEvery=sh,e.overSome=uh,e.partial=dp,e.partialRight=mp,e.partition=ap,e.pick=Vp,e.pickBy=Yu,e.property=Lc,e.propertyOf=qc,e.pull=qf,e.pullAll=Oa,e.pullAllBy=ka,e.pullAllWith=Ta,e.pullAt=Vf,e.range=ch,e.rangeRight=lh,e.rearg=gp,e.reject=ws,e.remove=Aa,e.rest=Is,e.reverse=Ca,e.sampleSize=Ns,e.set=Zu,e.setWith=Ku,e.shuffle=Es,e.slice=Pa,e.sortBy=sp,e.sortedUniq=Ba,e.sortedUniqBy=Ua,e.split=vc,e.spread=Fs,e.tail=La,e.take=qa,e.takeRight=Va,e.takeRightWhile=Wa,e.takeWhile=$a,e.tap=ts,e.throttle=Bs,e.thru=es,e.toArray=Nu,e.toPairs=Wp,e.toPairsIn=$p,e.toPath=Xc,e.toPlainObject=ku,e.transform=Ju,e.unary=Us,e.union=Wf,e.unionBy=$f,e.unionWith=Hf,e.uniq=Ha,e.uniqBy=Ga,e.uniqWith=Ya,e.unset=Qu,e.unzip=Xa,e.unzipWith=Za,e.update=tc,e.updateWith=ec,e.values=nc,e.valuesIn=rc,e.without=Gf,e.words=kc,e.wrap=Ls,e.xor=Yf,e.xorBy=Xf,e.xorWith=Zf,e.zip=Kf,e.zipObject=Ka,e.zipObjectDeep=Ja,e.zipWith=Jf,e.entries=Wp,e.entriesIn=$p,e.extend=Cp,e.extendWith=Pp,Ic(e,e),e.add=fh,e.attempt=th,e.camelCase=Hp,e.capitalize=sc,e.ceil=ph,e.clamp=ic,e.clone=Vs,e.cloneDeep=$s,e.cloneDeepWith=Hs,e.cloneWith=Ws,e.conformsTo=Gs,e.deburr=uc,e.defaultTo=Pc,e.divide=hh,e.endsWith=cc,e.eq=Ys,e.escape=lc,e.escapeRegExp=fc,e.every=cs,e.find=ep,e.findIndex=da,e.findKey=Pu,e.findLast=np,e.findLastIndex=ma,e.findLastKey=ju,e.floor=dh,e.forEach=ds,e.forEachRight=ms,e.forIn=zu,e.forInRight=Du,e.forOwn=Ru,e.forOwnRight=Iu,e.get=Uu,e.gt=yp,e.gte=vp,e.has=Lu,e.hasIn=qu,e.head=xa,e.identity=jc,e.includes=gs,e.indexOf=wa,e.inRange=oc,e.invoke=Bp,e.isArguments=bp,e.isArray=xp,e.isArrayBuffer=wp,e.isArrayLike=Xs,e.isArrayLikeObject=Zs,e.isBoolean=Ks,e.isBuffer=_p,e.isDate=Np,e.isElement=Js,e.isEmpty=Qs,e.isEqual=tu,e.isEqualWith=eu,e.isError=nu,e.isFinite=ru,e.isFunction=iu,e.isInteger=ou,e.isLength=au,e.isMap=Ep,e.isMatch=cu,e.isMatchWith=lu,e.isNaN=fu,e.isNative=pu,e.isNil=du,e.isNull=hu,e.isNumber=mu,e.isObject=su,e.isObjectLike=uu,e.isPlainObject=gu,e.isRegExp=Mp,e.isSafeInteger=yu,e.isSet=Sp,e.isString=vu,e.isSymbol=bu,e.isTypedArray=Op,e.isUndefined=xu,e.isWeakMap=wu,e.isWeakSet=_u,e.join=Na,e.kebabCase=Gp,e.last=Ea,e.lastIndexOf=Ma,e.lowerCase=Yp,e.lowerFirst=Xp,e.lt=kp,e.lte=Tp,e.max=Kc,e.maxBy=Jc,e.mean=Qc,e.meanBy=tl,e.min=el,e.minBy=nl,e.stubArray=Vc,e.stubFalse=Wc,e.stubObject=$c,e.stubString=Hc,e.stubTrue=Gc,e.multiply=mh,e.nth=Sa,e.noConflict=Fc,e.noop=Bc,e.now=up,e.pad=pc,e.padEnd=hc,e.padStart=dc,e.parseInt=mc,e.random=ac,e.reduce=bs,e.reduceRight=xs,e.repeat=gc,e.replace=yc,e.result=Xu,e.round=gh,e.runInContext=Er,e.sample=_s,e.size=Ms,e.snakeCase=Zp,e.some=Ss,e.sortedIndex=ja,e.sortedIndexBy=za,e.sortedIndexOf=Da,e.sortedLastIndex=Ra,e.sortedLastIndexBy=Ia,e.sortedLastIndexOf=Fa,e.startCase=Kp,e.startsWith=bc,e.subtract=yh,e.sum=rl,e.sumBy=il,e.template=xc,e.times=Yc,e.toFinite=Eu,e.toInteger=Mu,e.toLength=Su,e.toLower=wc,e.toNumber=Ou,e.toSafeInteger=Tu,e.toString=Au,e.toUpper=_c,e.trim=Nc,e.trimEnd=Ec,e.trimStart=Mc,e.truncate=Sc,e.unescape=Oc,e.uniqueId=Zc,e.upperCase=Jp,e.upperFirst=Qp,e.each=ds,e.eachRight=ms,e.first=xa,Ic(e,function(){var t={};return ir(e,function(n,r){bl.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=it,u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),u(["drop","take"],function(t,e){b.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new b(this);n=n===rt?1:Yl(Mu(n),0);var i=this.clone();return r?i.__takeCount__=Xl(n,i.__takeCount__):i.__views__.push({size:Xl(n,It),type:t+(i.__dir__<0?"Right":"")}),i},b.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),u(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==At||n==Pt;b.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:No(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),u(["head","last"],function(t,e){var n="take"+(e?"Right":"");b.prototype[t]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");b.prototype[t]=function(){return this.__filtered__?new b(this):this[n](1)}}),b.prototype.compact=function(){return this.filter(jc)},b.prototype.find=function(t){return this.filter(t).head()},b.prototype.findLast=function(t){return this.reverse().find(t)},b.prototype.invokeMap=ai(function(t,e){return"function"==typeof t?new b(this):this.map(function(n){return Tr(n,t,e)})}),b.prototype.reject=function(t){return this.filter(Ds(No(t)))},b.prototype.slice=function(t,e){t=Mu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new b(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==rt&&(e=Mu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},b.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},b.prototype.toArray=function(){return this.take(It)},ir(b.prototype,function(t,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),a=e[o?"take"+("last"==n?"Right":""):n],s=o||/^find/.test(n);a&&(e.prototype[n]=function(){var n=this.__wrapped__,u=o?[1]:arguments,c=n instanceof b,l=u[0],f=c||xp(n),p=function(t){var n=a.apply(e,m([t],u));return o&&h?n[0]:n};f&&i&&"function"==typeof l&&1!=l.length&&(c=f=!1);var h=this.__chain__,d=!!this.__actions__.length,g=s&&!h,y=c&&!d;if(!s&&f){n=y?n:new b(this);var v=t.apply(n,u);return v.__actions__.push({func:es,args:[p],thisArg:rt}),new r(v,h)}return g&&y?t.apply(this,u):(v=this.thru(p),g?o?v.value()[0]:v.value():v)})}),u(["pop","push","shift","sort","splice","unshift"],function(t){var n=dl[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(xp(e)?e:[],t)}return this[r](function(e){return n.apply(xp(e)?e:[],t)})}}),ir(b.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",o=uf[i]||(uf[i]=[]);o.push({name:n,func:r})}}),uf[no(rt,yt).name]=[{name:"wrapper",func:rt}],b.prototype.clone=k,b.prototype.reverse=Z,b.prototype.value=tt,e.prototype.at=Qf,e.prototype.chain=ns,e.prototype.commit=rs,e.prototype.next=is,e.prototype.plant=as,e.prototype.reverse=ss,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=us,e.prototype.first=e.prototype.head,Dl&&(e.prototype[Dl]=os),e},Nr=_r();"function"==typeof t&&"object"==typeof t.amd&&t.amd?(ar._=Nr,t(function(){return Nr})):ur?((ur.exports=Nr)._=Nr,sr._=Nr):ar._=Nr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],43:[function(t,e,n){e.exports=t("./lib/core/core")},{"./lib/core/core":44}],44:[function(t,e,n){var r=t("./../utils/object").isFactory,i=(t("./../utils/object").deepExtend,t("./typed")),o=t("./../utils/emitter"),a=t("./function/import"),s=t("./function/config");n.create=function(t){function e(t){if(!r(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,o=n.indexOf(t);return o===-1?(i=t.math===!0?t.factory(c.type,l,e,c.typed,c):t.factory(c.type,l,e,c.typed),n.push(t),u.push(i)):i=u[o],i}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=[],u=[],c=o.mixin({});c.type={},c.expression={transform:Object.create(c)},c.typed=i.create(c.type);var l={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1};return c["import"]=e(a),c.config=e(s),t&&c.config(t),c}},{"./../utils/emitter":528,"./../utils/object":533,"./function/config":45,"./function/import":46,"./typed":47}],45:[function(t,e,n){"use strict";function r(t,e,n,r,i){function o(t){if(t){var n=s.clone(e);a(t,"matrix",u),a(t,"number",c),s.deepExtend(e,t);var r=s.clone(e);return i.emit("config",r,n),r}return s.clone(e)}var u=["Matrix","Array"],c=["number","BigNumber","Fraction"];return o.MATRIX=u,o.NUMBER=c,o}function i(t,e){return t.indexOf(e)!==-1}function o(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}function a(t,e,n){if(void 0!==t[e]&&!i(n,t[e])){var r=o(n,t[e]);r!==-1&&(t[e]=n[r])}}var s=t("../../utils/object");n.name="config",n.math=!0,n.factory=r},{"../../utils/object":533}],46:[function(t,e,n){"use strict";function r(t,e,n,r,u){function c(t,e){var n=arguments.length;if(1!=n&&2!=n)throw new s("import",n,1,2);if(e||(e={}),o(t))h(t,e);else if(Array.isArray(t))t.forEach(function(t){c(t,e)});else if("object"==typeof t){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];d(i)?l(r,i,e):o(t)?h(t,e):c(i,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}function l(t,e,n){if(n.wrap&&"function"==typeof e&&(e=p(e)),m(u[t])&&m(e))return e=n.override?r(t,e.signatures):r(u[t],e),u[t]=e,f(t,e),void u.emit("import",t,function(){return e});if(void 0===u[t]||n.override)return u[t]=e,f(t,e),void u.emit("import",t,function(){return e});if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}function f(t,e){e&&"function"==typeof e.transform&&(u.expression.transform[t]=e.transform)}function p(t){var e=function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];e[n]=i&&i.valueOf()}return t.apply(u,e)};return t.transform&&(e.transform=t.transform),e}function h(t,e){if("string"==typeof t.name){var o=t.name,s=t.path?a(u,t.path):u,c=s.hasOwnProperty(o)?s[o]:void 0,l=function(){var i=n(t);if(m(c)&&m(i))return e.override||(i=r(c,i)),i;if(void 0===c||e.override)return i;if(!e.silent)throw new Error('Cannot import "'+o+'": already exists')};t.lazy!==!1?i(s,o,l):s[o]=l(),u.emit("import",o,l,t.path)}else n(t)}function d(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&t.isUnit===!0||t&&t.isComplex===!0||t&&t.isBigNumber===!0||t&&t.isFraction===!0||t&&t.isMatrix===!0||t&&Array.isArray(t)===!0}function m(t){return"function"==typeof t&&"object"==typeof t.signatures}return c}var i=t("../../utils/object").lazy,o=t("../../utils/object").isFactory,a=t("../../utils/object").traverse,s=(t("../../utils/object").extend,t("../../error/ArgumentsError"));n.math=!0,n.name="import",n.factory=r,n.lazy=!0},{"../../error/ArgumentsError":48,"../../utils/object":533}],47:[function(t,e,n){var r=t("typed-function"),i=t("./../utils/number").digits,o=function(){return o=r.create,r};n.create=function(t){var e=o();return e.types=[{name:"number",test:function(t){return"number"==typeof t}},{name:"Complex",test:function(t){return t&&t.isComplex}},{name:"BigNumber",test:function(t){return t&&t.isBigNumber}},{name:"Fraction",test:function(t){return t&&t.isFraction}},{name:"Unit",test:function(t){return t&&t.isUnit}},{name:"string",test:function(t){return"string"==typeof t}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(t){return t&&t.isMatrix}},{name:"DenseMatrix",test:function(t){return t&&t.isDenseMatrix}},{name:"SparseMatrix",test:function(t){return t&&t.isSparseMatrix}},{name:"ImmutableDenseMatrix",test:function(t){return t&&t.isImmutableDenseMatrix}},{name:"Range",test:function(t){return t&&t.isRange}},{name:"Index",test:function(t){return t&&t.isIndex}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"ResultSet",test:function(t){return t&&t.isResultSet}},{name:"Help",test:function(t){return t&&t.isHelp}},{name:"function",test:function(t){return"function"==typeof t}},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to Fraction (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber((+e))}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction((+e))}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new t.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new t.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},{"./../utils/number":532,"typed-function":538}],48:[function(t,e,n){"use strict";function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,e.exports=r},{}],49:[function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,e.exports=r},{}],50:[function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",r.prototype.isIndexError=!0,e.exports=r},{}],51:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t)throw new Error('Argument "doc" missing');this.doc=t}var u=r(t("./function/parser"))();return s.prototype.type="Help",s.prototype.isHelp=!0,s.prototype.toString=function(){var t=this.doc||{},e="\n";if(t.name&&(e+="Name: "+t.name+"\n\n"),t.category&&(e+="Category: "+t.category+"\n\n"),t.description&&(e+="Description:\n    "+t.description+"\n\n"),t.syntax&&(e+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){e+="Examples:\n";for(var n=0;n<t.examples.length;n++){var r=t.examples[n];e+="    "+r+"\n";var i;try{i=u.eval(r)}catch(a){i=a}i&&!i.isHelp&&(e+="        "+o.format(i,{precision:14})+"\n")}e+="\n"}return t.seealso&&(e+="See also: "+t.seealso.join(", ")+"\n"),e},s.prototype.toJSON=function(){var t=i.clone(this.doc);return t.mathjs="Help",t},s.fromJSON=function(t){var e={};for(var n in t)"mathjs"!==n&&(e[n]=t[n]);return new s(e)},s.prototype.valueOf=s.prototype.toString,s}var i=t("../utils/object"),o=t("../utils/string");n.name="Help",n.path="type",n.factory=r},{"../utils/object":533,"../utils/string":534,"./function/parser":236}],52:[function(t,e,n){"use strict";function r(e,n,r,o,a){function s(){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}var u=r(t("./parse"));return s.prototype.type="Parser",s.prototype.isParser=!0,s.prototype.parse=function(t){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},s.prototype.compile=function(t){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},s.prototype.eval=function(t){return u(t).compile().eval(this.scope)},s.prototype.get=function(t){return this.scope[t]},s.prototype.getAll=function(){return i({},this.scope)},s.prototype.set=function(t,e){return this.scope[t]=e},s.prototype.remove=function(t){delete this.scope[t]},s.prototype.clear=function(){for(var t in this.scope)this.scope.hasOwnProperty(t)&&delete this.scope[t]},s}var i=t("../utils/object").extend;n.name="Parser",n.path="expression",n.factory=r,n.math=!0},{"../utils/object":533,"./parse":259}],53:[function(t,e,n){e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},{}],54:[function(t,e,n){e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},{}],55:[function(t,e,n){e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},{}],56:[function(t,e,n){e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},{}],57:[function(t,e,n){e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},{}],58:[function(t,e,n){e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},{}],59:[function(t,e,n){e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},{}],60:[function(t,e,n){e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},{}],61:[function(t,e,n){e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},{}],62:[function(t,e,n){e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},{}],63:[function(t,e,n){e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},{}],64:[function(t,e,n){e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},{}],65:[function(t,e,n){e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},{}],66:[function(t,e,n){e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},{}],67:[function(t,e,n){e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},{}],68:[function(t,e,n){e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},{}],69:[function(t,e,n){e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},{}],70:[function(t,e,n){e.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},{}],71:[function(t,e,n){e.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},{}],72:[function(t,e,n){e.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},{}],73:[function(t,e,n){e.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},{}],74:[function(t,e,n){e.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},{}],75:[function(t,e,n){e.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],
seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},{}],76:[function(t,e,n){e.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},{}],77:[function(t,e,n){e.exports={name:"number",category:"Construction",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},{}],78:[function(t,e,n){e.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},{}],79:[function(t,e,n){e.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},{}],80:[function(t,e,n){e.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},{}],81:[function(t,e,n){e.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},{}],82:[function(t,e,n){e.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},{}],83:[function(t,e,n){e.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},{}],84:[function(t,e,n){e.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},{}],85:[function(t,e,n){e.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},{}],86:[function(t,e,n){e.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu"]}},{}],87:[function(t,e,n){e.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},{}],88:[function(t,e,n){e.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup"]}},{}],89:[function(t,e,n){e.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},{}],90:[function(t,e,n){e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},{}],91:[function(t,e,n){e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},{}],92:[function(t,e,n){e.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},{}],93:[function(t,e,n){e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},{}],94:[function(t,e,n){e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},{}],95:[function(t,e,n){e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},{}],96:[function(t,e,n){e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},{}],97:[function(t,e,n){e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},{}],98:[function(t,e,n){e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},{}],99:[function(t,e,n){e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},{}],100:[function(t,e,n){e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},{}],101:[function(t,e,n){e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},{}],102:[function(t,e,n){e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},{}],103:[function(t,e,n){e.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},{}],104:[function(t,e,n){e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},{}],105:[function(t,e,n){e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},{}],106:[function(t,e,n){e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},{}],107:[function(t,e,n){e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},{}],108:[function(t,e,n){e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},{}],109:[function(t,e,n){e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},{}],110:[function(t,e,n){e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},{}],111:[function(t,e,n){e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},{}],112:[function(t,e,n){e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},{}],113:[function(t,e,n){e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},{}],114:[function(t,e,n){e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},{}],115:[function(t,e,n){e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},{}],116:[function(t,e,n){e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},{}],117:[function(t,e,n){e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},{}],118:[function(t,e,n){e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},{}],119:[function(t,e,n){e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},{}],120:[function(t,e,n){e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],121:[function(t,e,n){e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],122:[function(t,e,n){e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],123:[function(t,e,n){e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},{}],124:[function(t,e,n){e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},{}],125:[function(t,e,n){e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},{}],126:[function(t,e,n){e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},{}],127:[function(t,e,n){e.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},{}],128:[function(t,e,n){e.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},{}],129:[function(t,e,n){e.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},{}],130:[function(t,e,n){e.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},{}],131:[function(t,e,n){e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},{}],132:[function(t,e,n){e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},{}],133:[function(t,e,n){e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},{}],134:[function(t,e,n){e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},{}],135:[function(t,e,n){e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},{}],136:[function(t,e,n){e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},{}],137:[function(t,e,n){e.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},{}],138:[function(t,e,n){e.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},{}],139:[function(t,e,n){e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},{}],140:[function(t,e,n){e.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},{}],141:[function(t,e,n){e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},{}],142:[function(t,e,n){e.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},{}],143:[function(t,e,n){e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],144:[function(t,e,n){e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},{}],145:[function(t,e,n){e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],146:[function(t,e,n){e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],147:[function(t,e,n){e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},{}],148:[function(t,e,n){e.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],149:[function(t,e,n){e.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},{}],150:[function(t,e,n){e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},{}],151:[function(t,e,n){e.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},{}],152:[function(t,e,n){e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],153:[function(t,e,n){e.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},{}],154:[function(t,e,n){e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],155:[function(t,e,n){e.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},{}],156:[function(t,e,n){e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},{}],157:[function(t,e,n){e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze"]}},{}],158:[function(t,e,n){e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},{}],159:[function(t,e,n){e.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]}},{}],160:[function(t,e,n){e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},{}],161:[function(t,e,n){e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},{}],162:[function(t,e,n){e.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],163:[function(t,e,n){e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},{}],164:[function(t,e,n){e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},{}],165:[function(t,e,n){e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},{}],166:[function(t,e,n){e.exports={name:"factorial",category:"Probability",syntax:["kldivergence(x, y)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},{}],167:[function(t,e,n){e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},{}],168:[function(t,e,n){e.exports={name:"kldivergence",category:"Probability",syntax:["n!","factorial(n)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["math.kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},{}],169:[function(t,e,n){e.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},{}],170:[function(t,e,n){e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},{}],171:[function(t,e,n){e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},{}],172:[function(t,e,n){e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",
examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},{}],173:[function(t,e,n){e.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},{}],174:[function(t,e,n){e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]}},{}],175:[function(t,e,n){e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},{}],176:[function(t,e,n){e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},{}],177:[function(t,e,n){e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},{}],178:[function(t,e,n){e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},{}],179:[function(t,e,n){e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},{}],180:[function(t,e,n){e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},{}],181:[function(t,e,n){e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},{}],182:[function(t,e,n){e.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},{}],183:[function(t,e,n){e.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])","mad(10, 20, 30)"],seealso:["mean","median","std","abs"]}},{}],184:[function(t,e,n){e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},{}],185:[function(t,e,n){e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},{}],186:[function(t,e,n){e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var"]}},{}],187:[function(t,e,n){e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},{}],188:[function(t,e,n){e.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(5, 2, 7)","mode([3, -1, 5, 7])"],seealso:["max","mean","min","median","prod","std","sum","var"]}},{}],189:[function(t,e,n){e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},{}],190:[function(t,e,n){e.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},{}],191:[function(t,e,n){e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},{}],192:[function(t,e,n){e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},{}],193:[function(t,e,n){e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},{}],194:[function(t,e,n){e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},{}],195:[function(t,e,n){e.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},{}],196:[function(t,e,n){e.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},{}],197:[function(t,e,n){e.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]}},{}],198:[function(t,e,n){e.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]}},{}],199:[function(t,e,n){e.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},{}],200:[function(t,e,n){e.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},{}],201:[function(t,e,n){e.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},{}],202:[function(t,e,n){e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},{}],203:[function(t,e,n){e.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},{}],204:[function(t,e,n){e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},{}],205:[function(t,e,n){e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},{}],206:[function(t,e,n){e.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},{}],207:[function(t,e,n){e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},{}],208:[function(t,e,n){e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},{}],209:[function(t,e,n){e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},{}],210:[function(t,e,n){e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},{}],211:[function(t,e,n){e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},{}],212:[function(t,e,n){e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},{}],213:[function(t,e,n){e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},{}],214:[function(t,e,n){e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},{}],215:[function(t,e,n){e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},{}],216:[function(t,e,n){e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},{}],217:[function(t,e,n){e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},{}],218:[function(t,e,n){e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},{}],219:[function(t,e,n){e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},{}],220:[function(t,e,n){e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},{}],221:[function(t,e,n){e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},{}],222:[function(t,e,n){e.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},{}],223:[function(t,e,n){e.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},{}],224:[function(t,e,n){e.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},{}],225:[function(t,e,n){e.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]}},{}],226:[function(t,e,n){e.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},{}],227:[function(t,e,n){e.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},{}],228:[function(t,e,n){e.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},{}],229:[function(t,e,n){e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},{}],230:[function(t,e,n){function r(e,n,r,i){var o={};return o.bignumber=t("./construction/bignumber"),o["boolean"]=t("./construction/boolean"),o.complex=t("./construction/complex"),o.createUnit=t("./construction/createUnit"),o.fraction=t("./construction/fraction"),o.index=t("./construction/index"),o.matrix=t("./construction/matrix"),o.number=t("./construction/number"),o.sparse=t("./construction/sparse"),o.splitUnit=t("./construction/splitUnit"),o.string=t("./construction/string"),o.unit=t("./construction/unit"),o.e=t("./constants/e"),o.E=t("./constants/e"),o["false"]=t("./constants/false"),o.i=t("./constants/i"),o.Infinity=t("./constants/Infinity"),o.LN2=t("./constants/LN2"),o.LN10=t("./constants/LN10"),o.LOG2E=t("./constants/LOG2E"),o.LOG10E=t("./constants/LOG10E"),o.NaN=t("./constants/NaN"),o["null"]=t("./constants/null"),o.pi=t("./constants/pi"),o.PI=t("./constants/pi"),o.phi=t("./constants/phi"),o.SQRT1_2=t("./constants/SQRT1_2"),o.SQRT2=t("./constants/SQRT2"),o.tau=t("./constants/tau"),o["true"]=t("./constants/true"),o.version=t("./constants/version"),o.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},o.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},o.planckConstant={description:"Planck constant",examples:["planckConstant"]},o.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},o.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},o.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},o.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},o.coulomb={description:"Coulomb's constant",examples:["coulomb"]},o.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},o.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},o.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},o.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},o.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},o.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},o.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},o.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},o.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},o.electronMass={description:"Electron mass",examples:["electronMass"]},o.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},o.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},o.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},o.protonMass={description:"Proton mass",examples:["protonMass"]},o.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},o.neutronMass={description:"Neutron mass",examples:["neutronMass"]},o.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},o.rydberg={description:"Rydberg constant",examples:["rydberg"]},o.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},o.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},o.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},o.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},o.avogadro={description:"Avogadro's number",examples:["avogadro"]},o.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},o.faraday={description:"Faraday constant",examples:["faraday"]},o.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},o.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},o.gasConstant={description:"Gas constant",examples:["gasConstant"]},o.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},o.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},o.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},o.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},o.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},o.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},o.molarMass={description:"Molar mass constant",examples:["molarMass"]},o.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},o.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},o.planckLength={description:"Planck length",examples:["planckLength"]},o.planckMass={description:"Planck mass",examples:["planckMass"]},o.planckTime={description:"Planck time",examples:["planckTime"]},o.planckCharge={description:"Planck charge",examples:["planckCharge"]},o.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},o.lsolve=t("./function/algebra/lsolve"),o.lup=t("./function/algebra/lup"),o.lusolve=t("./function/algebra/lusolve"),o.slu=t("./function/algebra/slu"),o.usolve=t("./function/algebra/usolve"),o.abs=t("./function/arithmetic/abs"),o.add=t("./function/arithmetic/add"),o.cbrt=t("./function/arithmetic/cbrt"),o.ceil=t("./function/arithmetic/ceil"),o.cube=t("./function/arithmetic/cube"),o.divide=t("./function/arithmetic/divide"),o.dotDivide=t("./function/arithmetic/dotDivide"),o.dotMultiply=t("./function/arithmetic/dotMultiply"),o.dotPow=t("./function/arithmetic/dotPow"),o.exp=t("./function/arithmetic/exp"),o.fix=t("./function/arithmetic/fix"),o.floor=t("./function/arithmetic/floor"),o.gcd=t("./function/arithmetic/gcd"),o.hypot=t("./function/arithmetic/hypot"),o.lcm=t("./function/arithmetic/lcm"),o.log=t("./function/arithmetic/log"),o.log10=t("./function/arithmetic/log10"),o.mod=t("./function/arithmetic/mod"),o.multiply=t("./function/arithmetic/multiply"),o.norm=t("./function/arithmetic/norm"),o.nthRoot=t("./function/arithmetic/nthRoot"),o.pow=t("./function/arithmetic/pow"),o.round=t("./function/arithmetic/round"),o.sign=t("./function/arithmetic/sign"),o.sqrt=t("./function/arithmetic/sqrt"),o.square=t("./function/arithmetic/square"),o.subtract=t("./function/arithmetic/subtract"),o.unaryMinus=t("./function/arithmetic/unaryMinus"),o.unaryPlus=t("./function/arithmetic/unaryPlus"),o.xgcd=t("./function/arithmetic/xgcd"),o.bitAnd=t("./function/bitwise/bitAnd"),o.bitNot=t("./function/bitwise/bitNot"),o.bitOr=t("./function/bitwise/bitOr"),o.bitXor=t("./function/bitwise/bitXor"),o.leftShift=t("./function/bitwise/leftShift"),o.rightArithShift=t("./function/bitwise/rightArithShift"),o.rightLogShift=t("./function/bitwise/rightLogShift"),o.bellNumbers=t("./function/combinatorics/bellNumbers"),o.catalan=t("./function/combinatorics/catalan"),o.composition=t("./function/combinatorics/composition"),o.stirlingS2=t("./function/combinatorics/stirlingS2"),o.config=t("./core/config"),o["import"]=t("./core/import"),o.typed=t("./core/typed"),o.arg=t("./function/complex/arg"),o.conj=t("./function/complex/conj"),o.re=t("./function/complex/re"),o.im=t("./function/complex/im"),o.eval=t("./function/expression/eval"),o.help=t("./function/expression/help"),o.distance=t("./function/geometry/distance"),o.intersect=t("./function/geometry/intersect"),o.and=t("./function/logical/and"),o.not=t("./function/logical/not"),o.or=t("./function/logical/or"),o.xor=t("./function/logical/xor"),o.concat=t("./function/matrix/concat"),o.cross=t("./function/matrix/cross"),o.det=t("./function/matrix/det"),o.diag=t("./function/matrix/diag"),o.dot=t("./function/matrix/dot"),o.eye=t("./function/matrix/eye"),o.filter=t("./function/matrix/filter"),o.flatten=t("./function/matrix/flatten"),o.forEach=t("./function/matrix/forEach"),o.inv=t("./function/matrix/inv"),o.map=t("./function/matrix/map"),o.ones=t("./function/matrix/ones"),o.partitionSelect=t("./function/matrix/partitionSelect"),o.range=t("./function/matrix/range"),o.resize=t("./function/matrix/resize"),o.size=t("./function/matrix/size"),o.sort=t("./function/matrix/sort"),o.squeeze=t("./function/matrix/squeeze"),o.subset=t("./function/matrix/subset"),o.trace=t("./function/matrix/trace"),o.transpose=t("./function/matrix/transpose"),o.zeros=t("./function/matrix/zeros"),o.combinations=t("./function/probability/combinations"),o.factorial=t("./function/probability/factorial"),o.gamma=t("./function/probability/gamma"),o.kldivergence=t("./function/probability/kldivergence"),o.multinomial=t("./function/probability/multinomial"),o.permutations=t("./function/probability/permutations"),o.pickRandom=t("./function/probability/pickRandom"),o.random=t("./function/probability/random"),o.randomInt=t("./function/probability/randomInt"),o.compare=t("./function/relational/compare"),o.deepEqual=t("./function/relational/deepEqual"),o.equal=t("./function/relational/equal"),o.larger=t("./function/relational/larger"),o.largerEq=t("./function/relational/largerEq"),o.smaller=t("./function/relational/smaller"),o.smallerEq=t("./function/relational/smallerEq"),o.unequal=t("./function/relational/unequal"),o.erf=t("./function/special/erf"),o.mad=t("./function/statistics/mad"),o.max=t("./function/statistics/max"),o.mean=t("./function/statistics/mean"),o.median=t("./function/statistics/median"),o.min=t("./function/statistics/min"),o.mode=t("./function/statistics/mode"),o.prod=t("./function/statistics/prod"),o.quantileSeq=t("./function/statistics/quantileSeq"),o.std=t("./function/statistics/std"),o.sum=t("./function/statistics/sum"),o["var"]=t("./function/statistics/var"),o.acos=t("./function/trigonometry/acos"),o.acosh=t("./function/trigonometry/acosh"),o.acot=t("./function/trigonometry/acot"),o.acoth=t("./function/trigonometry/acoth"),o.acsc=t("./function/trigonometry/acsc"),o.acsch=t("./function/trigonometry/acsch"),o.asec=t("./function/trigonometry/asec"),o.asech=t("./function/trigonometry/asech"),o.asin=t("./function/trigonometry/asin"),o.asinh=t("./function/trigonometry/asinh"),o.atan=t("./function/trigonometry/atan"),o.atanh=t("./function/trigonometry/atanh"),o.atan2=t("./function/trigonometry/atan2"),o.cos=t("./function/trigonometry/cos"),o.cosh=t("./function/trigonometry/cosh"),o.cot=t("./function/trigonometry/cot"),o.coth=t("./function/trigonometry/coth"),o.csc=t("./function/trigonometry/csc"),o.csch=t("./function/trigonometry/csch"),o.sec=t("./function/trigonometry/sec"),o.sech=t("./function/trigonometry/sech"),o.sin=t("./function/trigonometry/sin"),o.sinh=t("./function/trigonometry/sinh"),o.tan=t("./function/trigonometry/tan"),o.tanh=t("./function/trigonometry/tanh"),o.to=t("./function/units/to"),o.clone=t("./function/utils/clone"),o.format=t("./function/utils/format"),o.isNaN=t("./function/utils/isNaN"),o.isInteger=t("./function/utils/isInteger"),o.isNegative=t("./function/utils/isNegative"),o.isNumeric=t("./function/utils/isNumeric"),o.isPositive=t("./function/utils/isPositive"),o.isPrime=t("./function/utils/isPrime"),o.isZero=t("./function/utils/isZero"),o["typeof"]=t("./function/utils/typeof"),o}n.name="docs",n.path="expression",n.factory=r},{"./constants/Infinity":53,"./constants/LN10":54,"./constants/LN2":55,"./constants/LOG10E":56,"./constants/LOG2E":57,"./constants/NaN":58,"./constants/SQRT1_2":59,"./constants/SQRT2":60,"./constants/e":61,"./constants/false":62,"./constants/i":63,"./constants/null":64,"./constants/phi":65,"./constants/pi":66,"./constants/tau":67,"./constants/true":68,"./constants/version":69,"./construction/bignumber":70,"./construction/boolean":71,"./construction/complex":72,"./construction/createUnit":73,"./construction/fraction":74,"./construction/index":75,"./construction/matrix":76,"./construction/number":77,"./construction/sparse":78,"./construction/splitUnit":79,"./construction/string":80,"./construction/unit":81,"./core/config":82,"./core/import":83,"./core/typed":84,"./function/algebra/lsolve":85,"./function/algebra/lup":86,"./function/algebra/lusolve":87,"./function/algebra/slu":88,"./function/algebra/usolve":89,"./function/arithmetic/abs":90,"./function/arithmetic/add":91,"./function/arithmetic/cbrt":92,"./function/arithmetic/ceil":93,"./function/arithmetic/cube":94,"./function/arithmetic/divide":95,"./function/arithmetic/dotDivide":96,"./function/arithmetic/dotMultiply":97,"./function/arithmetic/dotPow":98,"./function/arithmetic/exp":99,"./function/arithmetic/fix":100,"./function/arithmetic/floor":101,"./function/arithmetic/gcd":102,"./function/arithmetic/hypot":103,"./function/arithmetic/lcm":104,"./function/arithmetic/log":105,"./function/arithmetic/log10":106,"./function/arithmetic/mod":107,"./function/arithmetic/multiply":108,"./function/arithmetic/norm":109,"./function/arithmetic/nthRoot":110,"./function/arithmetic/pow":111,"./function/arithmetic/round":112,"./function/arithmetic/sign":113,"./function/arithmetic/sqrt":114,"./function/arithmetic/square":115,"./function/arithmetic/subtract":116,"./function/arithmetic/unaryMinus":117,"./function/arithmetic/unaryPlus":118,"./function/arithmetic/xgcd":119,"./function/bitwise/bitAnd":120,"./function/bitwise/bitNot":121,"./function/bitwise/bitOr":122,"./function/bitwise/bitXor":123,"./function/bitwise/leftShift":124,"./function/bitwise/rightArithShift":125,"./function/bitwise/rightLogShift":126,"./function/combinatorics/bellNumbers":127,"./function/combinatorics/catalan":128,"./function/combinatorics/composition":129,"./function/combinatorics/stirlingS2":130,"./function/complex/arg":131,"./function/complex/conj":132,"./function/complex/im":133,"./function/complex/re":134,"./function/expression/eval":135,"./function/expression/help":136,"./function/geometry/distance":137,"./function/geometry/intersect":138,"./function/logical/and":139,"./function/logical/not":140,"./function/logical/or":141,"./function/logical/xor":142,"./function/matrix/concat":143,"./function/matrix/cross":144,"./function/matrix/det":145,"./function/matrix/diag":146,"./function/matrix/dot":147,"./function/matrix/eye":148,"./function/matrix/filter":149,"./function/matrix/flatten":150,"./function/matrix/forEach":151,"./function/matrix/inv":152,"./function/matrix/map":153,
"./function/matrix/ones":154,"./function/matrix/partitionSelect":155,"./function/matrix/range":156,"./function/matrix/resize":157,"./function/matrix/size":158,"./function/matrix/sort":159,"./function/matrix/squeeze":160,"./function/matrix/subset":161,"./function/matrix/trace":162,"./function/matrix/transpose":163,"./function/matrix/zeros":164,"./function/probability/combinations":165,"./function/probability/factorial":166,"./function/probability/gamma":167,"./function/probability/kldivergence":168,"./function/probability/multinomial":169,"./function/probability/permutations":170,"./function/probability/pickRandom":171,"./function/probability/random":172,"./function/probability/randomInt":173,"./function/relational/compare":174,"./function/relational/deepEqual":175,"./function/relational/equal":176,"./function/relational/larger":177,"./function/relational/largerEq":178,"./function/relational/smaller":179,"./function/relational/smallerEq":180,"./function/relational/unequal":181,"./function/special/erf":182,"./function/statistics/mad":183,"./function/statistics/max":184,"./function/statistics/mean":185,"./function/statistics/median":186,"./function/statistics/min":187,"./function/statistics/mode":188,"./function/statistics/prod":189,"./function/statistics/quantileSeq":190,"./function/statistics/std":191,"./function/statistics/sum":192,"./function/statistics/var":193,"./function/trigonometry/acos":194,"./function/trigonometry/acosh":195,"./function/trigonometry/acot":196,"./function/trigonometry/acoth":197,"./function/trigonometry/acsc":198,"./function/trigonometry/acsch":199,"./function/trigonometry/asec":200,"./function/trigonometry/asech":201,"./function/trigonometry/asin":202,"./function/trigonometry/asinh":203,"./function/trigonometry/atan":204,"./function/trigonometry/atan2":205,"./function/trigonometry/atanh":206,"./function/trigonometry/cos":207,"./function/trigonometry/cosh":208,"./function/trigonometry/cot":209,"./function/trigonometry/coth":210,"./function/trigonometry/csc":211,"./function/trigonometry/csch":212,"./function/trigonometry/sec":213,"./function/trigonometry/sech":214,"./function/trigonometry/sin":215,"./function/trigonometry/sinh":216,"./function/trigonometry/tan":217,"./function/trigonometry/tanh":218,"./function/units/to":219,"./function/utils/clone":220,"./function/utils/format":221,"./function/utils/isInteger":222,"./function/utils/isNaN":223,"./function/utils/isNegative":224,"./function/utils/isNumeric":225,"./function/utils/isPositive":226,"./function/utils/isPrime":227,"./function/utils/isZero":228,"./function/utils/typeof":229}],231:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../parse"));return o("compile",{string:function(t){return a(t).compile()},"Array | Matrix":function(t){return i(t,function(t){return a(t).compile()})}})}var i=t("../../utils/collection/deepMap");n.name="compile",n.factory=r},{"../../utils/collection/deepMap":524,"../parse":259}],232:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../parse"));return o("compile",{string:function(t){var e={};return a(t).compile().eval(e)},"string, Object":function(t,e){return a(t).compile().eval(e)},"Array | Matrix":function(t){var e={};return i(t,function(t){return a(t).compile().eval(e)})},"Array | Matrix, Object":function(t,e){return i(t,function(t){return a(t).compile().eval(e)})}})}var i=t("../../utils/collection/deepMap");n.name="eval",n.factory=r},{"../../utils/collection/deepMap":524,"../parse":259}],233:[function(t,e,n){"use strict";function r(e,n,r,i,o){var a=r(t("../docs"));return i("help",{any:function(t){var n,r=t;if("string"!=typeof t)for(n in o)if(o.hasOwnProperty(n)&&t===o[n]){r=n;break}var i=a[r];if(!i)throw new Error('No documentation found on "'+r+'"');return new e.Help(i)}})}n.math=!0,n.name="help",n.factory=r},{"../docs":230}],234:[function(t,e,n){e.exports=[t("./compile"),t("./eval"),t("./help"),t("./parse"),t("./parser")]},{"./compile":231,"./eval":232,"./help":233,"./parse":235,"./parser":236}],235:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../parse"));return i("parse",{"string | Array | Matrix":o,"string | Array | Matrix, Object":o})}n.name="parse",n.factory=r},{"../parse":259}],236:[function(t,e,n){"use strict";function r(e,n,r,i,o){var a=r(t("../Parser"));return i("parser",{"":function(){return new a(o)}})}n.name="parser",n.factory=r,n.math=!0},{"../Parser":52}],237:[function(t,e,n){e.exports=[t("./docs"),t("./function"),t("./node"),t("./transform"),t("./Help"),t("./parse"),t("./Parser")]},{"./Help":51,"./Parser":52,"./docs":230,"./function":234,"./node":255,"./parse":259,"./transform":264}],238:[function(t,e,n){"use strict";e.exports={end:!0}},{}],239:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "object"');if(!e||!e.isIndexNode)throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(t){return!(t.isAccessorNode||t.isArrayNode||t.isConstantNode||t.isFunctionNode||t.isObjectNode||t.isParenthesisNode||t.isSymbolNode)}var s=r(t("./Node")),u=r(t("./utils/access"));return o.prototype=new s,o.prototype.type="AccessorNode",o.prototype.isAccessorNode=!0,o.prototype._compile=function(t,e){t.access=u;var n=this.object._compile(t,e),r=this.index._compile(t,e);return this.index.isObjectProperty()?n+'["'+this.index.getObjectProperty()+'"]':this.index.needsSize()?"(function () {  var object = "+n+";  var size = math.size(object).valueOf();  return access(object, "+r+");})()":"access("+n+", "+r+")"},o.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},o.prototype.map=function(t){return new o(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},o.prototype.clone=function(){return new o(this.object,this.index)},o.prototype._toString=function(t){var e=this.object.toString(t);return a(this.object)&&(e="("+e+")"),e+this.index.toString(t)},o.prototype._toTex=function(t){var e=this.object.toTex(t);return a(this.object)&&(e="\\left("+e+"\\right)"),e+this.index.toTex(t)},o}n.name="AccessorNode",n.path="expression.node",n.factory=r},{"./Node":248,"./utils/access":256}],240:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(function(t){return t&&t.isNode}))throw new TypeError("Array containing Nodes expected");var e=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:e,set:e})}var a=r(t("./Node"));return o.prototype=new a,o.prototype.type="ArrayNode",o.prototype.isArrayNode=!0,o.prototype._compile=function(t,e){var n="Array"!==t.math.config().matrix,r=this.items.map(function(n){return n._compile(t,e)});return(n?"math.matrix([":"[")+r.join(",")+(n?"])":"]")},o.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];t(n,"items["+e+"]",this)}},o.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new o(e)},o.prototype.clone=function(){return new o(this.items.slice(0))},o.prototype._toString=function(t){var e=this.items.map(function(e){return e.toString(t)});return"["+e.join(", ")+"]"},o.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach(function(n){e+=n.items?n.items.map(function(e){return e.toTex(t)}).join("&"):n.toTex(t),e+="\\\\"}),e+="\\end{bmatrix}"},o}n.name="ArrayNode",n.path="expression.node",n.factory=r},{"./Node":248}],241:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=n?e:null,this.value=n?n:e,!t||!t.isSymbolNode&&!t.isAccessorNode)throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(t&&t.isSymbolNode&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!this.index.isIndexNode)throw new TypeError('IndexNode expected as "index"');if(!this.value||!this.value.isNode)throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(t,e){e||(e="keep");var n=l.getPrecedence(t,e),r=l.getPrecedence(t.value,e);return"all"===e||null!==r&&r<=n}var s=r(t("./Node")),u=(r(t("./ArrayNode")),r(t("../../type/matrix/function/matrix")),r(t("./utils/assign"))),c=r(t("./utils/access")),l=(t("../keywords"),t("../operators"));return o.prototype=new s,o.prototype.type="AssignmentNode",o.prototype.isAssignmentNode=!0,o.prototype._compile=function(t,e){t.assign=u,t.access=c;var n,r=this.object._compile(t,e),i=this.index?this.index._compile(t,e):null,o=this.value._compile(t,e);if(this.index){if(this.index.isObjectProperty())return r+'["'+this.index.getObjectProperty()+'"] = '+o;if(this.object.isSymbolNode)return n=this.index.needsSize()?"var size = math.size(object).valueOf();":"","(function () {  var object = "+r+";  var value = "+o+";  "+n+'  scope["'+this.object.name+'"] = assign(object, '+i+", value);  return value;})()";n=this.index.needsSize()?"var size = math.size(object).valueOf();":"";var a=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var s='["'+this.object.index.getObjectProperty()+'"]';return"(function () {  var parent = "+a+";  var object = parent"+s+";  var value = "+o+";"+n+"  parent"+s+" = assign(object, "+i+", value);  return value;})()"}var l=this.object.index.needsSize()?"var size = math.size(parent).valueOf();":"",f=this.object.index._compile(t,e);return"(function () {  var parent = "+a+";  "+l+"  var parentIndex = "+f+";  var object = access(parent, parentIndex);  var value = "+o+";  "+n+"  assign(parent, parentIndex, assign(object, "+i+", value));  return value;})()"}if(!this.object.isSymbolNode)throw new TypeError("SymbolNode expected as object");return'scope["'+this.object.name+'"] = '+o},o.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},o.prototype.map=function(t){var e=this._ifNode(t(this.object,"object",this)),n=this.index?this._ifNode(t(this.index,"index",this)):null,r=this._ifNode(t(this.value,"value",this));return new o(e,n,r)},o.prototype.clone=function(){return new o(this.object,this.index,this.value)},o.prototype._toString=function(t){var e=this.object.toString(t),n=this.index?this.index.toString(t):"",r=this.value.toString(t);return a(this,t&&t.parenthesis)&&(r="("+r+")"),e+n+" = "+r},o.prototype._toTex=function(t){var e=this.object.toTex(t),n=this.index?this.index.toTex(t):"",r=this.value.toTex(t);return a(this,t&&t.parenthesis)&&(r="\\left("+r+"\\right)"),e+n+":="+r},o}t("../../utils/latex");n.name="AssignmentNode",n.path="expression.node",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/latex":531,"../keywords":238,"../operators":258,"./ArrayNode":240,"./Node":248,"./utils/access":256,"./utils/assign":257}],242:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map(function(t){var e=t&&t.node,n=!t||void 0===t.visible||t.visible;if(!e||!e.isNode)throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:e,visible:n}})}var a=r(t("./Node")),s=r(t("../../type/resultset/ResultSet"));return o.prototype=new a,o.prototype.type="BlockNode",o.prototype.isBlockNode=!0,o.prototype._compile=function(t,e){t.ResultSet=s;var n=this.blocks.map(function(n){var r=n.node._compile(t,e);return n.visible?"results.push("+r+");":r+";"});return"(function () {var results = [];"+n.join("")+"return new ResultSet(results);})()"},o.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},o.prototype.map=function(t){for(var e=[],n=0;n<this.blocks.length;n++){var r=this.blocks[n],i=this._ifNode(t(r.node,"blocks["+n+"].node",this));e[n]={node:i,visible:r.visible}}return new o(e)},o.prototype.clone=function(){var t=this.blocks.map(function(t){return{node:t.node,visible:t.visible}});return new o(t)},o.prototype._toString=function(t){return this.blocks.map(function(e){return e.node.toString(t)+(e.visible?"":";")}).join("\n")},o.prototype._toTex=function(t){return this.blocks.map(function(e){return e.node.toTex(t)+(e.visible?"":";")}).join("\\;\\;\n")},o}n.name="BlockNode",n.path="expression.node",n.factory=r},{"../../type/resultset/ResultSet":500,"./Node":248}],243:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Parameter condition must be a Node");if(!e||!e.isNode)throw new TypeError("Parameter trueExpr must be a Node");if(!n||!n.isNode)throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n}var s=r(t("./Node"));return a.prototype=new s,a.prototype.type="ConditionalNode",a.prototype.isConditionalNode=!0,a.prototype._compile=function(t,e){return t.testCondition=function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(e.isBigNumber===!0)return!e.isZero();if(e.isComplex===!0)return!(!e.re&&!e.im);if(e.isUnit===!0)return!!e.value}if(null===e||void 0===e)return!1;throw new TypeError('Unsupported type of condition "'+t.math["typeof"](e)+'"')},"testCondition("+this.condition._compile(t,e)+") ? ( "+this.trueExpr._compile(t,e)+") : ( "+this.falseExpr._compile(t,e)+")"},a.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},a.prototype.map=function(t){return new a(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},a.prototype.clone=function(){return new a(this.condition,this.trueExpr,this.falseExpr)},a.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=i.getPrecedence(this,e),r=this.condition.toString(t),o=i.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==o&&o<=n)&&(r="("+r+")");var a=this.trueExpr.toString(t),s=i.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(a="("+a+")");var u=this.falseExpr.toString(t),c=i.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u="("+u+")"),r+" ? "+a+" : "+u},a.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},a}var i=(t("../../utils/latex"),t("../operators"));n.name="ConditionalNode",n.path="expression.node",n.factory=r},{"../../utils/latex":531,"../operators":258,"./Node":248}],244:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(e){if("string"!=typeof e)throw new TypeError('String expected for parameter "valueType"');if("string"!=typeof t)throw new TypeError('String expected for parameter "value"');this.value=t,this.valueType=e}else this.value=t+"",this.valueType=i(t);if(!u[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var s=r(t("./Node")),u={number:!0,string:!0,"boolean":!0,undefined:!0,"null":!0};return a.prototype=new s,a.prototype.type="ConstantNode",a.prototype.isConstantNode=!0,a.prototype._compile=function(t,e){switch(this.valueType){case"number":var n=t.math.config().number;return"BigNumber"===n?'math.bignumber("'+this.value+'")':"Fraction"===n?'math.fraction("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(t,e){return t.substring(e.length)});case"string":return'"'+this.value+'"';case"boolean":return this.value;case"undefined":return this.value;case"null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"')}},a.prototype.forEach=function(t){},a.prototype.map=function(t){return this.clone()},a.prototype.clone=function(){return new a(this.value,this.valueType)},a.prototype._toString=function(t){switch(this.valueType){case"string":return'"'+this.value+'"';default:return this.value}},a.prototype._toTex=function(t){var e,n=this.value;switch(this.valueType){case"string":return'\\mathtt{"'+n+'"}';case"number":return e=n.toLowerCase().indexOf("e"),e!==-1?n.substring(0,e)+"\\cdot10^{"+n.substring(e+1)+"}":n;default:return n}},a}var i=t("../../utils/types").type;n.name="ConstantNode",n.path="expression.node",n.factory=r},{"../../utils/types":535,"./Node":248}],245:[function(t,e,n){"use strict";function r(e,n,r,s){function u(t,e,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!n||!n.isNode)throw new TypeError('Node expected for parameter "expr"');if(t in i)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map(function(t){return t&&t.name||t}),this.types=e.map(function(t){return t&&t.type||"any"}),this.expr=n}function c(t,e){var n=a.getPrecedence(t,e),r=a.getPrecedence(t.expr,e);return"all"===e||null!==r&&r<=n}var l=r(t("./Node"));return u.prototype=new l,u.prototype.type="FunctionAssignmentNode",u.prototype.isFunctionAssignmentNode=!0,u.prototype._compile=function(t,e){t.typed=s;var n=Object.create(e);this.params.forEach(function(t){n[t]=!0});var r=this.expr._compile(t,n);return'scope["'+this.name+'"] =   (function () {    var fn = typed("'+this.name+'", {      "'+this.types.join(",")+'": function ('+this.params.join(",")+") {        return "+r+'      }    });    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })()'},u.prototype.forEach=function(t){t(this.expr,"expr",this)},u.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new u(this.name,this.params.slice(0),e)},u.prototype.clone=function(){return new u(this.name,this.params.slice(0),this.expr)},u.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toString(t);return c(this,e)&&(n="("+n+")"),"function "+this.name+"("+this.params.join(", ")+") = "+n},u.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toTex(t);return c(this,e)&&(n="\\left("+n+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(o.toSymbol).join(",")+"\\right):="+n},u}var i=t("../keywords"),o=t("../../utils/latex"),a=t("../operators");n.name="FunctionAssignmentNode",n.path="expression.node",n.factory=r},{"../../utils/latex":531,"../keywords":238,"../operators":258,"./Node":248}],246:[function(t,e,n){"use strict";function r(e,n,r,o,a){function s(t,e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new l(t)),!t||!t.isNode)throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function u(t,e,n){for(var r,i="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),a=0;null!==(r=o.exec(t));)if(i+=t.substring(a,r.index),a=r.index,"$$"===r[0])i+="$",a++;else{a+=r[0].length;var s=e[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof s){case"string":i+=s;break;case"object":if(s.isNode)i+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=s.map(function(t,e){if(t&&t.isNode)return t.toTex(n);throw new TypeError("Template: "+r[1]+"["+e+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!s[r[2]]||!s[r[2]].isNode)throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=s[r[2]].toTex(n)}}return i+=t.slice(a)}var c=r(t("./Node")),l=r(t("./SymbolNode"));s.prototype=new c,s.prototype.type="FunctionNode",s.prototype.isFunctionNode=!0,s.prototype._compile=function(t,e){var n,r=this.fn._compile(t,e),i=this.args.map(function(n){return n._compile(t,e)});if(this.fn.isSymbolNode){var o=this.fn.name,a=t.math[o],s="function"==typeof a&&1==a.rawArgs;return s?(n=this._getUniqueArgumentsName(t),t[n]=this.args,r+"("+n+", math, scope)"):r+"("+i.join(", ")+")"}if(this.fn.isAccessorNode&&this.fn.index.isObjectProperty()){n=this._getUniqueArgumentsName(t),t[n]=this.args;var u=this.fn.object._compile(t,e),c=this.fn.index.getObjectProperty();return"(function () {var object = "+u+';return (object["'+c+'"] && object["'+c+'"].rawArgs)  ? object["'+c+'"]('+n+', math, scope) : object["'+c+'"]('+i.join(", ")+")})()"}return n=this._getUniqueArgumentsName(t),t[n]=this.args,"(function () {var fn = "+r+";return (fn && fn.rawArgs)  ? fn("+n+", math, scope) : fn("+i.join(", ")+")})()"},s.prototype._getUniqueArgumentsName=function(t){var e,n=0;do e="args"+n,n++;while(e in t);return e},s.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},s.prototype.map=function(t){for(var e=this.fn.map(t),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new s(e,n)},s.prototype.clone=function(){return new s(this.fn,this.args.slice(0))};var f=s.prototype.toString;s.prototype.toString=function(t){var e,n=this.fn.toString(t);return t&&"object"==typeof t.handler&&t.handler.hasOwnProperty(n)&&(e=t.handler[n](this,t)),"undefined"!=typeof e?e:f.call(this,t)},s.prototype._toString=function(t){var e=this.args.map(function(e){return e.toString(t)});return this.fn.toString(t)+"("+e.join(", ")+")"};var p=s.prototype.toTex;return s.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&t.handler.hasOwnProperty(this.name)&&(e=t.handler[this.name](this,t)),"undefined"!=typeof e?e:p.call(this,t)},s.prototype._toTex=function(t){var e,n=this.args.map(function(e){return e.toTex(t)});!a[this.name]||"function"!=typeof a[this.name].toTex&&"object"!=typeof a[this.name].toTex&&"string"!=typeof a[this.name].toTex||(e=a[this.name].toTex);var r;switch(typeof e){case"function":r=e(this,t);break;case"string":r=u(e,this,t);break;case"object":switch(typeof e[n.length]){case"function":r=e[n.length](this,t);break;case"string":r=u(e[n.length],this,t)}}return"undefined"!=typeof r?r:u(i.defaultTemplate,this,t)},s.prototype.getIdentifier=function(){return this.type+":"+this.name},s}var i=t("../../utils/latex");n.name="FunctionNode",n.path="expression.node",n.math=!0,n.factory=r},{"../../utils/latex":531,"./Node":248,"./SymbolNode":253}],247:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!u(t)||!t.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}var a=r(t("./Node")),s=(r(t("./RangeNode")),r(t("./SymbolNode")),r(t("../../type/matrix/Range"))),u=Array.isArray;return o.prototype=new a,o.prototype.type="IndexNode",o.prototype.isIndexNode=!0,o.prototype._compile=function(t,e){var n=Object.create(e);t.range=function(t,e,n){return new s(t&&t.isBigNumber===!0?t.toNumber():t,e&&e.isBigNumber===!0?e.toNumber():e,n&&n.isBigNumber===!0?n.toNumber():n)};var r=this.dimensions.map(function(e,r){return e&&e.isRangeNode?e.needsEnd()?(n.end=!0,"(function () {var end = size["+r+"]; return range("+e.start._compile(t,n)+", "+e.end._compile(t,n)+", "+(e.step?e.step._compile(t,n):"1")+"); })()"):"range("+e.start._compile(t,n)+", "+e.end._compile(t,n)+", "+(e.step?e.step._compile(t,n):"1")+")":e.isSymbolNode&&"end"===e.name?(n.end=!0,"(function () {var end = size["+r+"]; return "+e._compile(t,n)+"; })()"):e._compile(t,n)});return"math.index("+r.join(", ")+")"},o.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},o.prototype.map=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this._ifNode(t(this.dimensions[n],"dimensions["+n+"]",this));return new o(e)},o.prototype.clone=function(){return new o(this.dimensions.slice(0))},o.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&this.dimensions[0].isConstantNode&&"string"===this.dimensions[0].valueType},o.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},o.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},o.prototype._toTex=function(t){var e=this.dimensions.map(function(e){return e.toTex(t)});return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},o.prototype.needsSize=function(){return this.dimensions.some(function(t){return t.isRangeNode&&t.needsEnd()||t.isSymbolNode&&"end"===t.name})},o}n.name="IndexNode",n.path="expression.node",n.factory=r},{"../../type/matrix/Range":478,"./Node":248,"./RangeNode":252,"./SymbolNode":253}],248:[function(t,e,n){"use strict";function r(t,e,n,r,a){function s(){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator")}function u(t){for(var e in t)if(t.hasOwnProperty(e)&&e in i)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}return s.prototype.eval=function(t){return this.compile().eval(t)},s.prototype.type="Node",s.prototype.isNode=!0,s.prototype.comment="",s.prototype.compile=function(){if(arguments.length>0)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");var t={math:a.expression.transform,args:{},_validateScope:u},e={},n=this._compile(t,e),r=Object.keys(t).map(function(t){return"    var "+t+' = defs["'+t+'"];'}),i=r.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+n+";  }};",o=new Function("defs",i);return o(t)},s.prototype._compile=function(t,e){throw new Error("Cannot compile a Node interface")},s.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},s.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},s.prototype._ifNode=function(t){if(!t||!t.isNode)throw new TypeError("Callback function must return a Node");return t},s.prototype.traverse=function(t){function e(t,n){t.forEach(function(t,r,i){n(t,r,i),e(t,n)})}t(this,null,null),e(this,t)},s.prototype.transform=function(t){function e(t,n){return t.map(function(t,r,i){var o=n(t,r,i);return e(o,n)})}var n=t(this,null,null);return e(n,t)},s.prototype.filter=function(t){var e=[];return this.traverse(function(n,r,i){t(n,r,i)&&e.push(n)}),e},s.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},s.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},s.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},s.prototype.cloneDeep=function(){return this.map(function(t){return t.cloneDeep()})},s.prototype.equals=function(t){return!!t&&o(this,t)},s.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof e?e:this._toString(t)},s.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},s.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof e?e:this._toTex(t)},s.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},s.prototype.getIdentifier=function(){return this.type},s.prototype.getContent=function(){return this},s}var i=t("../keywords"),o=(t("../../utils/object").extend,t("../../utils/object").deepEqual);n.name="Node",n.path="expression.node",n.math=!0,n.factory=r},{"../../utils/object":533,"../keywords":238}],249:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||Object.keys(t).some(function(e){return!t[e]||!t[e].isNode})))throw new TypeError("Object containing Nodes expected")}var a=r(t("./Node"));return o.prototype=new a,o.prototype.type="ObjectNode",o.prototype.isObjectNode=!0,o.prototype._compile=function(t,e){var n=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&n.push('"'+r+'": '+this.properties[r]._compile(t,e));return"{"+n.join(", ")+"}"},o.prototype.forEach=function(t){for(var e in this.properties)this.properties.hasOwnProperty(e)&&t(this.properties[e],'properties["'+e+'"]',this)},o.prototype.map=function(t){var e={};for(var n in this.properties)this.properties.hasOwnProperty(n)&&(e[n]=this._ifNode(t(this.properties[n],'properties["'+n+'"]',this)));return new o(e)},o.prototype.clone=function(){var t={};for(var e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this.properties[e]);return new o(t)},o.prototype._toString=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push('"'+n+'": '+this.properties[n].toString(t));return"{"+e.join(", ")+"}"},o.prototype._toTex=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}"+e.join("\n")+"\\end{array}\\right\\}"},o}t("../../utils/string");n.name="ObjectNode",n.path="expression.node",n.factory=r},{"../../utils/string":534,"./Node":248}],250:[function(t,e,n){"use strict";function r(e,n,r,a,s){function u(t,e,n,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');
if(!Array.isArray(n)||!n.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=r===!0,this.op=t,this.fn=e,this.args=n||[]}function c(t,e,n,r){var i=o.getPrecedence(t,e),a=o.getAssociativity(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()){var s=n.map(function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});return s}if(0===n.length)return[];if(1===n.length){var u=o.getPrecedence(n[0],e);if(r&&null!==u){var c,l;if("keep"===e?(c=n[0].getIdentifier(),l=t.getIdentifier()):(c=n[0].getContent().getIdentifier(),l=t.getContent().getIdentifier()),o.properties[i][l].latexLeftParens===!1)return[!1];if(o.properties[u][c].latexParens===!1)return[!1]}return null===u?[!1]:u<=i?[!0]:[!1]}if(2===n.length){var f,p=o.getPrecedence(n[0],e),h=o.isAssociativeWith(t,n[0],e);f=null!==p&&(p===i&&"right"===a&&!h||p<i);var d,m=o.getPrecedence(n[1],e),g=o.isAssociativeWith(t,n[1],e);if(d=null!==m&&(m===i&&"left"===a&&!g||m<i),r){var l,y,v;"keep"===e?(l=t.getIdentifier(),y=t.args[0].getIdentifier(),v=t.args[1].getIdentifier()):(l=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),v=t.args[1].getContent().getIdentifier()),null!==p&&(o.properties[i][l].latexLeftParens===!1&&(f=!1),o.properties[p][y].latexParens===!1&&(f=!1)),null!==m&&(o.properties[i][l].latexRightParens===!1&&(d=!1),o.properties[m][v].latexParens===!1&&(d=!1))}return[f,d]}if(n.length>2&&("OperatorNode:add"===t.getIdentifier()||"OperatorNode:multiply"===t.getIdentifier())){var b=n.map(function(n){var r=o.getPrecedence(n,e),s=o.isAssociativeWith(t,n,e),u=o.getAssociativity(n,e);return null!==r&&(i===r&&a===u&&!s||r<i)});return b}}var l=r(t("./Node"));r(t("./ConstantNode")),r(t("./SymbolNode")),r(t("./FunctionNode"));return u.prototype=new l,u.prototype.type="OperatorNode",u.prototype.isOperatorNode=!0,u.prototype._compile=function(t,e){if(!t.math[this.fn])throw new Error("Function "+this.fn+' missing in provided namespace "math"');var n=this.args.map(function(n){return n._compile(t,e)});return"math."+this.fn+"("+n.join(", ")+")"},u.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},u.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new u(this.op,this.fn,e)},u.prototype.clone=function(){return new u(this.op,this.fn,this.args.slice(0),this.implicit)},u.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,i=c(this,e,r,!1);if(1===r.length){var a=o.getAssociativity(this,e),s=r[0].toString(t);return i[0]&&(s="("+s+")"),"right"===a?this.op+s:"left"===a?s+this.op:s+this.op}if(2==r.length){var u=r[0].toString(t),l=r[1].toString(t);return i[0]&&(u="("+u+")"),i[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==n?u+" "+l:u+" "+this.op+" "+l}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=r.map(function(e,n){return e=e.toString(t),i[n]&&(e="("+e+")"),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?f.join(" "):f.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},u.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,a=c(this,e,r,!0),s=i.operators[this.fn];if(s="undefined"==typeof s?this.op:s,1===r.length){var u=o.getAssociativity(this,e),l=r[0].toTex(t);return a[0]&&(l="\\left("+l+"\\right)"),"right"===u?s+l:"left"===u?l+s:l+s}if(2===r.length){var f=r[0],p=f.toTex(t);a[0]&&(p="\\left("+p+"\\right)");var h=r[1],d=h.toTex(t);a[1]&&(d="\\left("+d+"\\right)");var m;switch(m="keep"===e?f.getIdentifier():f.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return s+"{"+p+"}{"+d+"}";case"OperatorNode:pow":switch(p="{"+p+"}",d="{"+d+"}",m){case"ConditionalNode":case"OperatorNode:divide":p="\\left("+p+"\\right)"}case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return p+"~"+d}return p+s+d}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var g=r.map(function(e,n){return e=e.toTex(t),a[n]&&(e="\\left("+e+"\\right)"),e});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?g.join("~"):g.join(s)}return"\\mathrm{"+this.fn+"}\\left("+r.map(function(e){return e.toTex(t)}).join(",")+"\\right)"},u.prototype.getIdentifier=function(){return this.type+":"+this.fn},u}var i=t("../../utils/latex"),o=t("../operators");n.name="OperatorNode",n.path="expression.node",n.math=!0,n.factory=r},{"../../utils/latex":531,"../operators":258,"./ConstantNode":244,"./FunctionNode":246,"./Node":248,"./SymbolNode":253}],251:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "content"');this.content=t}var a=r(t("./Node"));return o.prototype=new a,o.prototype.type="ParenthesisNode",o.prototype.isParenthesisNode=!0,o.prototype._compile=function(t,e){return this.content._compile(t,e)},o.prototype.getContent=function(){return this.content.getContent()},o.prototype.forEach=function(t){t(this.content,"content",this)},o.prototype.map=function(t){var e=t(this.content,"content",this);return new o(e)},o.prototype.clone=function(){return new o(this.content)},o.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},o.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left("+this.content.toTex(t)+"\\right)":this.content.toTex(t)},o}n.name="ParenthesisNode",n.path="expression.node",n.factory=r},{"./Node":248}],252:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Node expected");if(!e||!e.isNode)throw new TypeError("Node expected");if(n&&(!n||!n.isNode))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null}function s(t,e){var n=i.getPrecedence(t,e),r={},o=i.getPrecedence(t.start,e);if(r.start=null!==o&&o<=n||"all"===e,t.step){var a=i.getPrecedence(t.step,e);r.step=null!==a&&a<=n||"all"===e}var s=i.getPrecedence(t.end,e);return r.end=null!==s&&s<=n||"all"===e,r}var u=r(t("./Node"));return a.prototype=new u,a.prototype.type="RangeNode",a.prototype.isRangeNode=!0,a.prototype.needsEnd=function(){var t=this.filter(function(t){return t&&t.isSymbolNode&&"end"==t.name});return t.length>0},a.prototype._compile=function(t,e){return"math.range("+this.start._compile(t,e)+", "+this.end._compile(t,e)+(this.step?", "+this.step._compile(t,e):"")+")"},a.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},a.prototype.map=function(t){return new a(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},a.prototype.clone=function(){return new a(this.start,this.end,this.step&&this.step)},a.prototype._toString=function(t){var e,n=t&&t.parenthesis?t.parenthesis:"keep",r=s(this,n),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var o=this.step.toString(t);r.step&&(o="("+o+")"),e+=":"+o}var a=this.end.toString(t);return r.end&&(a="("+a+")"),e+=":"+a},a.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=s(this,e),r=this.start.toTex(t);if(n.start&&(r="\\left("+r+"\\right)"),this.step){var i=this.step.toTex(t);n.step&&(i="\\left("+i+"\\right)"),r+=":"+i}var o=this.end.toTex(t);return n.end&&(o="\\left("+o+"\\right)"),r+=":"+o},a}var i=t("../operators");n.name="RangeNode",n.path="expression.node",n.factory=r},{"../operators":258,"./Node":248}],253:[function(t,e,n){"use strict";function r(e,n,r,o,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}function u(t){throw new Error("Undefined symbol "+t)}var c=r(t("./Node")),l=r(t("../../type/unit/Unit"));return s.prototype=new c,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,e){return t.undef=u,t.Unit=l,e[this.name]?this.name:this.name in t.math?'("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])':'("'+this.name+'" in scope ? scope["'+this.name+'"] : '+(l.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(t){return this.name},s.prototype._toTex=function(t){var e=!1;"undefined"==typeof a[this.name]&&l.isValuelessUnit(this.name)&&(e=!0);var n=i.toSymbol(this.name,e);return"\\"===n[0]?n:" "+n},s}var i=t("../../utils/latex");n.name="SymbolNode",n.path="expression.node",n.math=!0,n.factory=r},{"../../type/unit/Unit":503,"../../utils/latex":531,"./Node":248}],254:[function(t,e,n){"use strict";function r(t,e,n,r){function i(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}return i}n.name="UpdateNode",n.path="expression.node",n.factory=r},{}],255:[function(t,e,n){e.exports=[t("./AccessorNode"),t("./ArrayNode"),t("./AssignmentNode"),t("./BlockNode"),t("./ConditionalNode"),t("./ConstantNode"),t("./IndexNode"),t("./FunctionAssignmentNode"),t("./FunctionNode"),t("./Node"),t("./ObjectNode"),t("./OperatorNode"),t("./ParenthesisNode"),t("./RangeNode"),t("./SymbolNode"),t("./UpdateNode")]},{"./AccessorNode":239,"./ArrayNode":240,"./AssignmentNode":241,"./BlockNode":242,"./ConditionalNode":243,"./ConstantNode":244,"./FunctionAssignmentNode":245,"./FunctionNode":246,"./IndexNode":247,"./Node":248,"./ObjectNode":249,"./OperatorNode":250,"./ParenthesisNode":251,"./RangeNode":252,"./SymbolNode":253,"./UpdateNode":254}],256:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/matrix/subset")),s=r(t("../../../type/matrix/function/matrix"));return function(t,e){try{if(Array.isArray(t))return s(t).subset(e).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e);if("string"==typeof t)return a(t,e);if("object"==typeof t){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return t[e.getObjectProperty()]}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw i(n)}}}var i=t("../../transform/error.transform").transform;n.factory=r},{"../../../function/matrix/subset":377,"../../../type/matrix/function/matrix":482,"../../transform/error.transform":261}],257:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/matrix/subset")),s=r(t("../../../type/matrix/function/matrix"));return function(t,e,n){try{if(Array.isArray(t))return s(t).subset(e,n).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e,n);if("string"==typeof t)return a(t,e,n);if("object"==typeof t){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return t[e.getObjectProperty()]=n,t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw i(r)}}}var i=t("../../transform/error.transform").transform;n.factory=r},{"../../../function/matrix/subset":377,"../../../type/matrix/function/matrix":482,"../../transform/error.transform":261}],258:[function(t,e,n){"use strict";function r(t,e){var n=t;"keep"!==e&&(n=t.getContent());for(var r=n.getIdentifier(),i=0;i<a.length;i++)if(r in a[i])return i;return null}function i(t,e){var n=t;"keep"!==e&&(n=t.getContent());var i=n.getIdentifier(),o=r(n,e);if(null===o)return null;var s=a[o][i];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+s.associativity+"'.")}return null}function o(t,e,n){var i=t,o=e;if("keep"!==n)var i=t.getContent(),o=e.getContent();var s=i.getIdentifier(),u=o.getIdentifier(),c=r(i,n);if(null===c)return null;var l=a[c][s];if(l.hasOwnProperty("associativeWith")&&l.associativeWith instanceof Array){for(var f=0;f<l.associativeWith.length;f++)if(l.associativeWith[f]===u)return!0;return!1}return null}var a=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];e.exports.properties=a,e.exports.getPrecedence=r,e.exports.getAssociativity=i,e.exports.isAssociativeWith=o},{}],259:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){if(1!=arguments.length&&2!=arguments.length)throw new i("parse",arguments.length,1,2);if(ht=n&&n.nodes?n.nodes:{},"string"==typeof t)return dt=t,y();if(Array.isArray(t)||t instanceof e.Matrix)return o(t,function(t){if("string"!=typeof t)throw new TypeError("String expected");return dt=t,y()});throw new TypeError("String or matrix expected")}function u(){gt=0,yt=dt.charAt(0),xt=0,wt=null}function c(){gt++,yt=dt.charAt(gt)}function l(){return dt.charAt(gt-1)}function f(){return dt.charAt(gt+1)}function p(){return dt.charAt(gt+2)}function h(){for(bt=lt.NULL,vt="",mt="";s.isWhitespace(yt,xt);)c();if("#"==yt)for(;"\n"!=yt&&""!=yt;)mt+=yt,c();if(""==yt)return void(bt=lt.DELIMITER);if("\n"==yt&&!xt)return bt=lt.DELIMITER,vt=yt,void c();var t=yt+f(),e=t+p();if(3==e.length&&ft[e])return bt=lt.DELIMITER,vt=e,c(),c(),void c();if(2==t.length&&ft[t])return bt=lt.DELIMITER,vt=t,c(),void c();if(ft[yt])return bt=lt.DELIMITER,vt=yt,void c();if(!s.isDigitDot(yt)){if(s.isAlpha(yt,l(),f())){for(;s.isAlpha(yt,l(),f())||s.isDigit(yt);)vt+=yt,c();return void(bt=pt.hasOwnProperty(vt)?lt.DELIMITER:lt.SYMBOL)}for(bt=lt.UNKNOWN;""!=yt;)vt+=yt,c();throw Y('Syntax error in part "'+vt+'"')}if(bt=lt.NUMBER,"."==yt)vt+=yt,c(),s.isDigit(yt)||(bt=lt.DELIMITER);else{for(;s.isDigit(yt);)vt+=yt,c();s.isDecimalMark(yt,f())&&(vt+=yt,c())}for(;s.isDigit(yt);)vt+=yt,c();if(t=f(),"E"==yt||"e"==yt)if(s.isDigit(t)||"-"==t||"+"==t){if(vt+=yt,c(),"+"!=yt&&"-"!=yt||(vt+=yt,c()),!s.isDigit(yt))throw Y('Digit expected, got "'+yt+'"');for(;s.isDigit(yt);)vt+=yt,c();if(s.isDecimalMark(yt,f()))throw Y('Digit expected, got "'+yt+'"')}else if("."==t)throw c(),Y('Digit expected, got "'+yt+'"')}function d(){do h();while("\n"==vt)}function m(){xt++}function g(){xt--}function y(){u(),h();var t=v();if(""!=vt)throw bt==lt.DELIMITER?X("Unexpected operator "+vt):Y('Unexpected part "'+vt+'"');return t}function v(){var t,e,n=[];if(""==vt)return t=new et("undefined","undefined"),t.comment=mt,t;for("\n"!=vt&&";"!=vt&&(t=b(),t.comment=mt);"\n"==vt||";"==vt;)0==n.length&&t&&(e=";"!=vt,n.push({node:t,visible:e})),h(),"\n"!=vt&&";"!=vt&&""!=vt&&(t=b(),t.comment=mt,e=";"!=vt,n.push({node:t,visible:e}));return n.length>0?new Q(n):t}function b(){var t,e,n,r,i=x();if("="==vt){if(i&&i.isSymbolNode)return t=i.name,d(),n=b(),new J(new ct(t),n);if(i&&i.isAccessorNode)return d(),n=b(),new J(i.object,i.index,n);if(i&&i.isFunctionNode&&(r=!0,e=[],t=i.name,i.args.forEach(function(t,n){t&&t.isSymbolNode?e[n]=t.name:r=!1}),r))return d(),n=b(),new nt(t,e,n);throw Y("Invalid left hand side of assignment operator =")}return i}function x(){for(var t=w();"?"==vt;){var e=wt;wt=xt,d();var n=t,r=b();if(":"!=vt)throw Y("False part of conditional expression expected");wt=null,d();var i=b();t=new tt(n,r,i),wt=e}return t}function w(){for(var t=_();"or"==vt;)d(),t=new ot("or","or",[t,_()]);return t}function _(){for(var t=N();"xor"==vt;)d(),t=new ot("xor","xor",[t,N()]);return t}function N(){for(var t=E();"and"==vt;)d(),t=new ot("and","and",[t,E()]);return t}function E(){for(var t=M();"|"==vt;)d(),t=new ot("|","bitOr",[t,M()]);return t}function M(){for(var t=S();"^|"==vt;)d(),t=new ot("^|","bitXor",[t,S()]);return t}function S(){for(var t=O();"&"==vt;)d(),t=new ot("&","bitAnd",[t,O()]);return t}function O(){var t,e,n,r,i;for(t=k(),e={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};vt in e;)n=vt,r=e[n],d(),i=[t,k()],t=new ot(n,r,i);return t}function k(){var t,e,n,r,i;for(t=T(),e={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};vt in e;)n=vt,r=e[n],d(),i=[t,T()],t=new ot(n,r,i);return t}function T(){var t,e,n,r,i;for(t=A(),e={to:"to","in":"to"};vt in e;)n=vt,r=e[n],d(),"in"===n&&""===vt?t=new ot("*","multiply",[t,new ct("in")],(!0)):(i=[t,A()],t=new ot(n,r,i));return t}function A(){var t,e=[];if(t=":"==vt?new et("1","number"):C(),":"==vt&&wt!==xt){for(e.push(t);":"==vt&&e.length<3;)d(),")"==vt||"]"==vt||","==vt||""==vt?e.push(new ct("end")):e.push(C());t=3==e.length?new ut(e[0],e[2],e[1]):new ut(e[0],e[1])}return t}function C(){var t,e,n,r,i;for(t=P(),e={"+":"add","-":"subtract"};vt in e;)n=vt,r=e[n],d(),i=[t,P()],t=new ot(n,r,i);return t}function P(){var t,e,n,r,i;for(t=j(),e=t,n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(vt in n)r=vt,i=n[r],d(),e=j(),t=new ot(r,i,[t,e]);else{if(!(bt==lt.SYMBOL||"in"==vt&&t&&t.isConstantNode)&&(bt!=lt.NUMBER||e.isConstantNode||e.isOperatorNode&&"!"!==e.op)&&"("!=vt)break;e=j(),t=new ot("*","multiply",[t,e],(!0))}return t}function j(){var t,e,n={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[vt];return n?(t=vt,d(),e=[j()],new ot(t,n,e)):z()}function z(){var t,e,n,r;return t=D(),"^"!=vt&&".^"!=vt||(e=vt,n="^"==e?"pow":"dotPow",d(),r=[t,j()],t=new ot(e,n,r)),t}function D(){var t,e,n,r,i;for(t=R(),e={"!":"factorial","'":"transpose"};vt in e;)n=vt,r=e[n],h(),i=[t],t=new ot(n,r,i),t=F(t);return t}function R(){var t,e=[];if(bt==lt.SYMBOL&&ht[vt]){if(t=ht[vt],h(),"("==vt){if(e=[],m(),h(),")"!=vt)for(e.push(b());","==vt;)h(),e.push(b());if(")"!=vt)throw Y("Parenthesis ) expected");g(),h()}return new t(e)}return I()}function I(){var t,e;return bt==lt.SYMBOL||bt==lt.DELIMITER&&vt in pt?(e=vt,h(),t=new ct(e),t=F(t)):B()}function F(t,e){for(var n;!("("!=vt&&"["!=vt&&"."!=vt||e&&e.indexOf(vt)===-1);)if(n=[],"("==vt){if(!(t.isSymbolNode||t.isAccessorNode||t.isFunctionNode))return t;if(m(),h(),")"!=vt)for(n.push(b());","==vt;)h(),n.push(b());if(")"!=vt)throw Y("Parenthesis ) expected");g(),h(),t=new st(t,n)}else if("["==vt){if(m(),h(),"]"!=vt)for(n.push(b());","==vt;)h(),n.push(b());if("]"!=vt)throw Y("Parenthesis ] expected");g(),h(),t=new Z(t,new rt(n))}else{if(h(),bt!=lt.SYMBOL)throw Y("Property name expected after dot");n.push(new et(vt)),h();var r=!0;t=new Z(t,new rt(n,r))}return t}function B(){var t,e;return'"'==vt?(e=U(),t=new et(e,"string"),t=F(t)):L()}function U(){for(var t="";""!=yt&&'"'!=yt;)"\\"==yt&&(t+=yt,c()),t+=yt,c();if(h(),'"'!=vt)throw Y('End of string " expected');return h(),t}function L(){var t,e,n,r;if("["==vt){if(m(),h(),"]"!=vt){var i=q();if(";"==vt){for(n=1,e=[i];";"==vt;)h(),e[n]=q(),n++;if("]"!=vt)throw Y("End of matrix ] expected");g(),h(),r=e[0].items.length;for(var o=1;o<n;o++)if(e[o].items.length!=r)throw X("Column dimensions mismatch ("+e[o].items.length+" != "+r+")");t=new K(e)}else{if("]"!=vt)throw Y("End of matrix ] expected");g(),h(),t=i}}else g(),h(),t=new K([]);return F(t)}return V()}function q(){for(var t=[b()],e=1;","==vt;)h(),t[e]=b(),e++;return new K(t)}function V(){if("{"==vt){var t,e={};do if(h(),"}"!=vt){if('"'==vt)t=U();else{if(bt!=lt.SYMBOL)throw Y("Symbol or string expected as object key");t=vt,h()}if(":"!=vt)throw Y("Colon : expected after object key");h(),e[t]=b()}while(","==vt);if("}"!=vt)throw Y("Comma , or bracket } expected after object value");h();var n=new it(e);return n=F(n)}return W()}function W(){var t;return bt==lt.NUMBER?(t=vt,h(),new et(t,"number")):$()}function $(){var t;if("("==vt){if(m(),h(),t=b(),")"!=vt)throw Y("Parenthesis ) expected");return g(),h(),t=new at(t),t=F(t)}return H()}function H(){throw Y(""==vt?"Unexpected end of expression":"Value expected")}function G(){return gt-vt.length+1}function Y(t){var e=G(),n=new SyntaxError(t+" (char "+e+")");return n["char"]=e,n}function X(t){var e=G(),n=new SyntaxError(t+" (char "+e+")");return n["char"]=e,n}var Z=r(t("./node/AccessorNode")),K=r(t("./node/ArrayNode")),J=r(t("./node/AssignmentNode")),Q=r(t("./node/BlockNode")),tt=r(t("./node/ConditionalNode")),et=r(t("./node/ConstantNode")),nt=r(t("./node/FunctionAssignmentNode")),rt=r(t("./node/IndexNode")),it=r(t("./node/ObjectNode")),ot=r(t("./node/OperatorNode")),at=r(t("./node/ParenthesisNode")),st=r(t("./node/FunctionNode")),ut=r(t("./node/RangeNode")),ct=r(t("./node/SymbolNode")),lt={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},ft={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},pt={mod:!0,to:!0,"in":!0,and:!0,xor:!0,or:!0,not:!0},ht={},dt="",mt="",gt=0,yt="",vt="",bt=lt.NULL,xt=0,wt=null;return s.isAlpha=function(t,e,n){return s.isValidLatinOrGreek(t)||s.isValidMathSymbol(t,n)||s.isValidMathSymbol(e,t)},s.isValidLatinOrGreek=function(t){return/^[a-zA-Z_\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},s.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},s.isWhitespace=function(t,e){return" "==t||"\t"==t||"\n"==t&&e>0},s.isDecimalMark=function(t,e){return"."==t&&"/"!==e&&"*"!==e&&"^"!==e},s.isDigitDot=function(t){return t>="0"&&t<="9"||"."==t},s.isDigit=function(t){return t>="0"&&t<="9"},s}var i=t("../error/ArgumentsError"),o=t("../utils/collection/deepMap");n.name="parse",n.path="expression",n.factory=r},{"../error/ArgumentsError":48,"../utils/collection/deepMap":524,"./node/AccessorNode":239,"./node/ArrayNode":240,"./node/AssignmentNode":241,"./node/BlockNode":242,"./node/ConditionalNode":243,"./node/ConstantNode":244,"./node/FunctionAssignmentNode":245,"./node/FunctionNode":246,"./node/IndexNode":247,"./node/ObjectNode":249,"./node/OperatorNode":250,"./node/ParenthesisNode":251,"./node/RangeNode":252,"./node/SymbolNode":253}],260:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../function/matrix/concat"));return o("concat",{"...any":function(t){var e=t.length-1,n=t[e];"number"==typeof n?t[e]=n-1:n&&n.isBigNumber===!0&&(t[e]=n.minus(1));try{return a.apply(null,t)}catch(r){throw i(r)}}})}var i=t("./error.transform").transform;n.name="concat",n.path="expression.transform",n.factory=r},{"../../function/matrix/concat":358,"./error.transform":261}],261:[function(t,e,n){var r=t("../../error/IndexError");n.transform=function(t){return t&&t.isIndexError?new r(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}},{"../../error/IndexError":50}],262:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e,n){var r,i;if(t[0]&&(r=t[0].compile().eval(n)),t[1])if(t[1]&&t[1].isSymbolNode)i=t[1].compile().eval(n);else{var o=n||{},s=t[1].filter(function(t){return t&&t.isSymbolNode&&!(t.name in e)&&!(t.name in o)})[0],u=Object.create(o),c=t[1].compile();if(!s)throw new Error("No undefined variable found in filter equation");var l=s.name;i=function(t){return u[l]=t,c.eval(u)}}return a(r,i)}var a=r(t("../../function/matrix/filter"));r(t("../node/SymbolNode"));return o.rawArgs=!0,o}t("../../utils/function").maxArgumentCount;n.name="filter",n.path="expression.transform",n.factory=r},{"../../function/matrix/filter":364,"../../utils/function":529,"../node/SymbolNode":253}],263:[function(t,e,n){"use strict";function r(e,n,r,o){r(t("../../function/matrix/forEach"));return o("forEach",{"Array | Matrix, function":function(t,e){var n=i(e),r=function(i,o){Array.isArray(i)?i.forEach(function(t,e){r(t,o.concat(e+1))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};r(t.valueOf(),[])}})}var i=t("../../utils/function").maxArgumentCount;n.name="forEach",n.path="expression.transform",n.factory=r},{"../../function/matrix/forEach":366,"../../utils/function":529}],264:[function(t,e,n){e.exports=[t("./concat.transform"),t("./filter.transform"),t("./forEach.transform"),t("./index.transform"),t("./map.transform"),t("./max.transform"),t("./mean.transform"),t("./min.transform"),t("./range.transform"),t("./subset.transform")]},{"./concat.transform":260,"./filter.transform":262,"./forEach.transform":263,"./index.transform":265,"./map.transform":266,"./max.transform":267,"./mean.transform":268,"./min.transform":269,"./range.transform":270,"./subset.transform":271}],265:[function(t,e,n){"use strict";function r(t,e,n){return function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];if(i&&i.isRange===!0)i.start--,i.end-=i.step>0?0:2;else if(i&&i.isSet===!0)i=i.map(function(t){return t-1});else if(i&&(i.isArray===!0||i.isMatrix))i=i.map(function(t){return t-1});else if("number"==typeof i)i--;else if(i&&i.isBigNumber===!0)i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[n]=i}var o=new t.Index;return t.Index.apply(o,e),o}}n.name="index",n.path="expression.transform",n.factory=r},{}],266:[function(t,e,n){"use strict";function r(e,n,r,o){var a=(r(t("../../function/matrix/map")),r(t("../../type/matrix/function/matrix")));return o("max",{"Array, function":function(t,e){return i(t,e,t)},"Matrix, function":function(t,e){return a(i(t.valueOf(),e,t))}})}function i(t,e,n){function r(t,o){return Array.isArray(t)?t.map(function(t,e){return r(t,o.concat(e+1))}):1===i?e(t):2===i?e(t,o):e(t,o,n)}var i=o(e);return r(t,[])}var o=t("../../utils/function").maxArgumentCount;n.name="map",n.path="expression.transform",n.factory=r},{"../../function/matrix/map":369,"../../type/matrix/function/matrix":482,"../../utils/function":529}],267:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../function/statistics/max"));return a("max",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&e.isBigNumber===!0&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(n){throw i(n)}}})}var i=t("./error.transform").transform,o=t("../../utils/collection/isCollection");n.name="max",n.path="expression.transform",n.factory=r},{"../../function/statistics/max":406,"../../utils/collection/isCollection":525,"./error.transform":261}],268:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../function/statistics/mean"));return a("mean",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&e.isBigNumber===!0&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(n){throw i(n)}}})}var i=t("./error.transform").transform,o=t("../../utils/collection/isCollection");n.name="mean",n.path="expression.transform",n.factory=r},{"../../function/statistics/mean":407,"../../utils/collection/isCollection":525,"./error.transform":261}],269:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../function/statistics/min"));return a("min",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&e.isBigNumber===!0&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(n){throw i(n)}}})}var i=t("./error.transform").transform,o=t("../../utils/collection/isCollection");n.name="min",n.path="expression.transform",n.factory=r},{"../../function/statistics/min":409,"../../utils/collection/isCollection":525,"./error.transform":261}],270:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../function/matrix/range"));return i("range",{"...any":function(t){var e=t.length-1,n=t[e];return"boolean"!=typeof n&&t.push(!0),o.apply(null,t)}})}n.name="range",n.path="expression.transform",n.factory=r},{"../../function/matrix/range":372}],271:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../function/matrix/subset"));return o("subset",{"...any":function(t){try{return a.apply(null,t)}catch(e){throw i(e)}}})}var i=t("./error.transform").transform;n.name="subset",n.path="expression.transform",n.factory=r},{"../../function/matrix/subset":377,"./error.transform":261}],272:[function(t,e,n){"use strict";function r(e,n,r,i){var a=r(t("../../../type/matrix/function/matrix")),s=r(t("../../arithmetic/abs")),u=r(t("../../arithmetic/addScalar")),c=r(t("../../arithmetic/divideScalar")),l=r(t("../../arithmetic/multiplyScalar")),f=r(t("../../arithmetic/subtract")),p=r(t("../../relational/larger")),h=r(t("../../relational/equalScalar")),d=r(t("../../arithmetic/unaryMinus")),m=e.SparseMatrix,g=e.DenseMatrix,y=e.Spa,v=i("lup",{DenseMatrix:function(t){return b(t)},SparseMatrix:function(t){return x(t)},Array:function(t){var e=a(t),n=b(e);return{L:n.L.valueOf(),U:n.U.valueOf(),p:n.p}}}),b=function(t){var e,n,r,i=t._size[0],a=t._size[1],d=Math.min(i,a),m=o.clone(t._data),y=[],v=[i,d],b=[],x=[d,a],w=[];for(e=0;e<i;e++)w[e]=e;for(n=0;n<a;n++){if(n>0)for(e=0;e<i;e++){var _=Math.min(e,n),N=0;for(r=0;r<_;r++)N=u(N,l(m[e][r],m[r][n]));m[e][n]=f(m[e][n],N)}var E=n,M=0,S=0;for(e=n;e<i;e++){var O=m[e][n],k=s(O);p(k,M)&&(E=e,M=k,S=O)}if(n!==E&&(w[n]=[w[E],w[E]=w[n]][0],g._swapRows(n,E,m)),n<i)for(e=n+1;e<i;e++){var T=m[e][n];h(T,0)||(m[e][n]=c(m[e][n],S))}}for(n=0;n<a;n++)for(e=0;e<i;e++)0===n&&(e<a&&(b[e]=[]),y[e]=[]),e<n?(e<a&&(b[e][n]=m[e][n]),n<i&&(y[e][n]=0)):e!==n?(e<a&&(b[e][n]=0),n<i&&(y[e][n]=m[e][n])):(e<a&&(b[e][n]=m[e][n]),n<i&&(y[e][n]=1));var A=new g({
data:y,size:v}),C=new g({data:b,size:x}),P=[];for(e=0,d=w.length;e<d;e++)P[w[e]]=e;return{L:A,U:C,p:P,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},x=function(t){var e,n,r,i=t._size[0],o=t._size[1],a=Math.min(i,o),u=t._values,f=t._index,g=t._ptr,v=[],b=[],x=[],w=[i,a],_=[],N=[],E=[],M=[a,o],S=[],O=[];for(e=0;e<i;e++)S[e]=e,O[e]=e;var k=function(t,e){var n=O[t],r=O[e];S[n]=e,S[r]=t,O[t]=r,O[e]=n};for(n=0;n<o;n++){var T=new y;n<i&&(x.push(v.length),v.push(1),b.push(n)),E.push(_.length);var A=g[n],C=g[n+1];for(r=A;r<C;r++)e=f[r],T.set(S[e],u[r]);n>0&&T.forEach(0,n-1,function(t,e){m._forEachRow(t,v,b,x,function(n,r){n>t&&T.accumulate(n,d(l(r,e)))})});var P=n,j=T.get(n),z=s(j);T.forEach(n+1,i-1,function(t,e){var n=s(e);p(n,z)&&(P=t,z=n,j=e)}),n!==P&&(m._swapRows(n,P,w[1],v,b,x),m._swapRows(n,P,M[1],_,N,E),T.swap(n,P),k(n,P)),T.forEach(0,i-1,function(t,e){t<=n?(_.push(e),N.push(t)):(e=c(e,j),h(e,0)||(v.push(e),b.push(t)))})}return E.push(_.length),x.push(v.length),{L:new m({values:v,index:b,ptr:x,size:w}),U:new m({values:_,index:N,ptr:E,size:M}),p:S,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return v}var i=t("../../../utils/index"),o=i.object;n.name="lup",n.factory=r},{"../../../type/matrix/function/matrix":482,"../../../utils/index":530,"../../arithmetic/abs":297,"../../arithmetic/addScalar":299,"../../arithmetic/divideScalar":304,"../../arithmetic/multiplyScalar":319,"../../arithmetic/subtract":327,"../../arithmetic/unaryMinus":328,"../../relational/equalScalar":395,"../../relational/larger":397}],273:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../algebra/sparse/cs_sqr")),s=r(t("../../algebra/sparse/cs_lu")),u=i("slu",{"SparseMatrix, number, number":function(t,e,n){if(!a(e)||e<0||e>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=o(e,t,!1),i=s(t,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}});return u}var i=t("../../../utils/index"),o=i.number,a=o.isInteger;n.name="slu",n.factory=r},{"../../../utils/index":530,"../../algebra/sparse/cs_lu":287,"../../algebra/sparse/cs_sqr":294}],274:[function(t,e,n){e.exports=[t("./decomposition/lup"),t("./decomposition/slu"),t("./solver/lsolve"),t("./solver/lusolve"),t("./solver/usolve")]},{"./decomposition/lup":272,"./decomposition/slu":273,"./solver/lsolve":275,"./solver/lusolve":276,"./solver/usolve":277}],275:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../../type/matrix/function/matrix")),a=r(t("../../arithmetic/divideScalar")),s=r(t("../../arithmetic/multiplyScalar")),u=r(t("../../arithmetic/subtract")),c=r(t("../../relational/equalScalar")),l=r(t("./utils/solveValidation")),f=e.DenseMatrix,p=i("lsolve",{"SparseMatrix, Array | Matrix":function(t,e){return d(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return h(t,e)},"Array, Array | Matrix":function(t,e){var n=o(t),r=h(n,e);return r.valueOf()}}),h=function(t,e){e=l(t,e,!0);for(var n=e._data,r=t._size[0],i=t._size[1],o=[],p=t._data,h=0;h<i;h++){var d,m=n[h][0]||0;if(c(m,0))d=0;else{var g=p[h][h];if(c(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(m,g);for(var y=h+1;y<r;y++)n[y]=[u(n[y][0]||0,s(d,p[y][h]))]}o[h]=[d]}return new f({data:o,size:[r,1]})},d=function(t,e){e=l(t,e,!0);for(var n,r,i=e._data,o=t._size[0],p=t._size[1],h=t._values,d=t._index,m=t._ptr,g=[],y=0;y<p;y++){var v=i[y][0]||0;if(c(v,0))g[y]=[0];else{var b=0,x=[],w=[],_=m[y+1];for(r=m[y];r<_;r++)n=d[r],n===y?b=h[r]:n>y&&(x.push(h[r]),w.push(n));if(c(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var N=a(v,b);for(r=0,_=w.length;r<_;r++)n=w[r],i[n]=[u(i[n][0]||0,s(N,x[r]))];g[y]=[N]}}return new f({data:g,size:[o,1]})};return p}n.name="lsolve",n.factory=r},{"../../../type/matrix/function/matrix":482,"../../arithmetic/divideScalar":304,"../../arithmetic/multiplyScalar":319,"../../arithmetic/subtract":327,"../../relational/equalScalar":395,"./utils/solveValidation":278}],276:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../type/matrix/function/matrix")),s=r(t("../decomposition/lup")),u=r(t("../decomposition/slu")),c=r(t("../sparse/cs_ipvec")),l=r(t("./utils/solveValidation")),f=r(t("./usolve")),p=r(t("./lsolve")),h=o("lusolve",{"Array, Array | Matrix":function(t,e){t=a(t);var n=s(t),r=m(n.L,n.U,n.p,null,e);return r.valueOf()},"DenseMatrix, Array | Matrix":function(t,e){var n=s(t);return m(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix":function(t,e){var n=s(t);return m(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix, number, number":function(t,e,n,r){var i=u(t,n,r);return m(i.L,i.U,i.p,i.q,e)},"Object, Array | Matrix":function(t,e){return m(t.L,t.U,t.p,t.q,e)}}),d=function(t){if(t&&t.isMatrix===!0)return t;if(i(t))return a(t);throw new TypeError("Invalid Matrix LU decomposition")},m=function(t,e,n,r,i){t=d(t),e=d(e),i=l(t,i,!1),n&&(i._data=c(n,i._data));var o=p(t,i),a=f(e,o);return r&&(a._data=c(r,a._data)),a};return h}var i=Array.isArray;n.name="lusolve",n.factory=r},{"../../../type/matrix/function/matrix":482,"../decomposition/lup":272,"../decomposition/slu":273,"../sparse/cs_ipvec":285,"./lsolve":275,"./usolve":277,"./utils/solveValidation":278}],277:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../../type/matrix/function/matrix")),a=r(t("../../arithmetic/divideScalar")),s=r(t("../../arithmetic/multiplyScalar")),u=r(t("../../arithmetic/subtract")),c=r(t("../../relational/equalScalar")),l=r(t("./utils/solveValidation")),f=e.DenseMatrix,p=i("usolve",{"SparseMatrix, Array | Matrix":function(t,e){return d(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return h(t,e)},"Array, Array | Matrix":function(t,e){var n=o(t),r=h(n,e);return r.valueOf()}}),h=function(t,e){e=l(t,e,!0);for(var n=e._data,r=t._size[0],i=t._size[1],o=[],p=t._data,h=i-1;h>=0;h--){var d,m=n[h][0]||0;if(c(m,0))d=0;else{var g=p[h][h];if(c(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(m,g);for(var y=h-1;y>=0;y--)n[y]=[u(n[y][0]||0,s(d,p[y][h]))]}o[h]=[d]}return new f({data:o,size:[r,1]})},d=function(t,e){e=l(t,e,!0);for(var n,r,i=e._data,o=t._size[0],p=t._size[1],h=t._values,d=t._index,m=t._ptr,g=[],y=p-1;y>=0;y--){var v=i[y][0]||0;if(c(v,0))g[y]=[0];else{var b=0,x=[],w=[],_=m[y],N=m[y+1];for(r=N-1;r>=_;r--)n=d[r],n===y?b=h[r]:n<y&&(x.push(h[r]),w.push(n));if(c(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var E=a(v,b);for(r=0,N=w.length;r<N;r++)n=w[r],i[n]=[u(i[n][0],s(E,x[r]))];g[y]=[E]}}return new f({data:g,size:[o,1]})};return p}n.name="usolve",n.factory=r},{"../../../type/matrix/function/matrix":482,"../../arithmetic/divideScalar":304,"../../arithmetic/multiplyScalar":319,"../../arithmetic/subtract":327,"../../relational/equalScalar":395,"./utils/solveValidation":278}],278:[function(t,e,n){"use strict";function r(t){var e=t.DenseMatrix,n=function(t,n,r){var i=t.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+o.format(i)+")");var u=i[0],c=i[1];if(u!==c)throw new RangeError("Matrix must be square (size: "+o.format(i)+")");var l,f,p;if(n&&n.isMatrix===!0){var h=n.size();if(1===h.length){if(h[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],p=n._data,f=0;f<u;f++)l[f]=[p[f]];return new e({data:l,size:[u,1],datatype:n._datatype})}if(2===h.length){if(h[0]!==u||1!==h[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(n.isDenseMatrix===!0){if(r){for(l=[],p=n._data,f=0;f<u;f++)l[f]=[p[f][0]];return new e({data:l,size:[u,1],datatype:n._datatype})}return n}for(l=[],f=0;f<u;f++)l[f]=[0];for(var d=n._values,m=n._index,g=n._ptr,y=g[1],v=g[0];v<y;v++)f=m[v],l[f][0]=d[v];return new e({data:l,size:[u,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(s(n)){var b=a.size(n);if(1===b.length){if(b[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],f=0;f<u;f++)l[f]=[n[f]];return new e({data:l,size:[u,1]})}if(2===b.length){if(b[0]!==u||1!==b[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],f=0;f<u;f++)l[f]=[n[f][0]];return new e({data:l,size:[u,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}};return n}var i=t("../../../../utils/index"),o=i.string,a=i.array,s=Array.isArray;n.factory=r},{"../../../../utils/index":530}],279:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_flip")),o=r(t("./cs_fkeep")),a=r(t("./cs_tdfs")),s=r(t("../../arithmetic/add")),u=r(t("../../arithmetic/multiply")),c=r(t("../../matrix/transpose")),l=function(t,e){if(!e||t<=0||t>3)return null;var n=e._size,r=n[0],s=n[1],u=0,c=Math.max(16,10*Math.sqrt(s));c=Math.min(s-2,c);var l=f(t,e,r,s,c);o(l,m,null);for(var g,y,v,b,x,w,_,N,E,M,S,O,k,T,A,C,P=l._index,j=l._ptr,z=j[s],D=[],R=[],I=0,F=s+1,B=2*(s+1),U=3*(s+1),L=4*(s+1),q=5*(s+1),V=6*(s+1),W=7*(s+1),$=D,H=p(s,j,R,I,U,$,B,W,F,V,L,q),G=h(s,j,R,q,L,V,c,F,U,$,B),Y=0;G<s;){for(v=-1;Y<s&&(v=R[U+Y])==-1;Y++);R[B+v]!=-1&&($[R[B+v]]=-1),R[U+Y]=R[B+v];var X=R[L+v],Z=R[F+v];G+=Z;var K=0;R[F+v]=-Z;var J=j[v],Q=0===X?J:z,tt=Q;for(b=1;b<=X+1;b++){for(b>X?(w=v,_=J,N=R[I+v]-X):(w=P[J++],_=j[w],N=R[I+w]),x=1;x<=N;x++)g=P[_++],(E=R[F+g])<=0||(K+=E,R[F+g]=-E,P[tt++]=g,R[B+g]!=-1&&($[R[B+g]]=$[g]),$[g]!=-1?R[B+$[g]]=R[B+g]:R[U+R[q+g]]=R[B+g]);w!=v&&(j[w]=i(v),R[V+w]=0)}for(0!==X&&(z=tt),R[q+v]=K,j[v]=Q,R[I+v]=tt-Q,R[L+v]=-2,H=d(H,u,R,V,s),M=Q;M<tt;M++)if(g=P[M],!((S=R[L+g])<=0)){E=-R[F+g];var et=H-E;for(J=j[g],O=j[g]+S-1;J<=O;J++)w=P[J],R[V+w]>=H?R[V+w]-=E:0!==R[V+w]&&(R[V+w]=R[q+w]+et)}for(M=Q;M<tt;M++){for(g=P[M],O=j[g],k=O+R[L+g]-1,T=O,A=0,C=0,J=O;J<=k;J++)if(w=P[J],0!==R[V+w]){var nt=R[V+w]-H;nt>0?(C+=nt,P[T++]=w,A+=w):(j[w]=i(v),R[V+w]=0)}R[L+g]=T-O+1;var rt=T,it=O+R[I+g];for(J=k+1;J<it;J++){y=P[J];var ot=R[F+y];ot<=0||(C+=ot,P[T++]=y,A+=y)}0===C?(j[g]=i(v),E=-R[F+g],K-=E,Z+=E,G+=E,R[F+g]=0,R[L+g]=-1):(R[q+g]=Math.min(R[q+g],C),P[T]=P[rt],P[rt]=P[O],P[O]=v,R[I+g]=T-O+1,A=(A<0?-A:A)%s,R[B+g]=R[W+A],R[W+A]=g,$[g]=A)}for(R[q+v]=K,u=Math.max(u,K),H=d(H+u,u,R,V,s),M=Q;M<tt;M++)if(g=P[M],!(R[F+g]>=0))for(A=$[g],g=R[W+A],R[W+A]=-1;g!=-1&&R[B+g]!=-1;g=R[B+g],H++){for(N=R[I+g],S=R[L+g],J=j[g]+1;J<=j[g]+N-1;J++)R[V+P[J]]=H;var at=g;for(y=R[B+g];y!=-1;){var st=R[I+y]===N&&R[L+y]===S;for(J=j[y]+1;st&&J<=j[y]+N-1;J++)R[V+P[J]]!=H&&(st=0);st?(j[y]=i(g),R[F+g]+=R[F+y],R[F+y]=0,R[L+y]=-1,y=R[B+y],R[B+at]=y):(at=y,y=R[B+y])}}for(J=Q,M=Q;M<tt;M++)g=P[M],(E=-R[F+g])<=0||(R[F+g]=E,C=R[q+g]+K-E,C=Math.min(C,s-G-E),R[U+C]!=-1&&($[R[U+C]]=g),R[B+g]=R[U+C],$[g]=-1,R[U+C]=g,Y=Math.min(Y,C),R[q+g]=C,P[J++]=g);R[F+v]=Z,0===(R[I+v]=J-Q)&&(j[v]=-1,R[V+v]=0),0!==X&&(z=J)}for(g=0;g<s;g++)j[g]=i(j[g]);for(y=0;y<=s;y++)R[U+y]=-1;for(y=s;y>=0;y--)R[F+y]>0||(R[B+y]=R[U+j[y]],R[U+j[y]]=y);for(w=s;w>=0;w--)R[F+w]<=0||j[w]!=-1&&(R[B+w]=R[U+j[w]],R[U+j[w]]=w);for(v=0,g=0;g<=s;g++)j[g]==-1&&(v=a(g,v,R,U,B,D,V));return D.splice(D.length-1,1),D},f=function(t,e,n,r,i){var o=c(e);if(1===t&&r===n)return s(e,o);if(2==t){for(var a=o._index,l=o._ptr,f=0,p=0;p<n;p++){var h=l[p];if(l[p]=f,!(l[p+1]-h>i))for(var d=l[p+1];h<d;h++)a[f++]=a[h]}return l[n]=f,e=c(o),u(o,e)}return u(o,e)},p=function(t,e,n,r,i,o,a,s,u,c,l,f){for(var p=0;p<t;p++)n[r+p]=e[p+1]-e[p];n[r+t]=0;for(var h=0;h<=t;h++)n[i+h]=-1,o[h]=-1,n[a+h]=-1,n[s+h]=-1,n[u+h]=1,n[c+h]=1,n[l+h]=0,n[f+h]=n[r+h];var m=d(0,0,n,c,t);return n[l+t]=-2,e[t]=-1,n[c+t]=0,m},h=function(t,e,n,r,o,a,s,u,c,l,f){for(var p=0,h=0;h<t;h++){var d=n[r+h];if(0===d)n[o+h]=-2,p++,e[h]=-1,n[a+h]=0;else if(d>s)n[u+h]=0,n[o+h]=-1,p++,e[h]=i(t),n[u+t]++;else{var m=n[c+d];m!=-1&&(l[m]=h),n[f+h]=n[c+d],n[c+d]=h}}return p},d=function(t,e,n,r,i){if(t<2||t+e<0){for(var o=0;o<i;o++)0!==n[r+o]&&(n[r+o]=1);t=2}return t},m=function(t,e){return t!=e};return l}n.name="cs_amd",n.path="sparse",n.factory=r},{"../../arithmetic/add":298,"../../arithmetic/multiply":318,"../../matrix/transpose":379,"./cs_fkeep":283,"./cs_flip":284,"./cs_tdfs":295}],280:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("../../matrix/transpose")),o=r(t("./cs_leaf")),a=function(t,e,n,r){if(!t||!e||!n)return null;var a,s,u,c,l,f,p,h=t._size,d=h[0],m=h[1],g=4*m+(r?m+d+1:0),y=[],v=0,b=m,x=2*m,w=3*m,_=4*m,N=5*m+1;for(u=0;u<g;u++)y[u]=-1;var E=[],M=i(t),S=M._index,O=M._ptr;for(u=0;u<m;u++)for(s=n[u],E[s]=y[w+s]==-1?1:0;s!=-1&&y[w+s]==-1;s=e[s])y[w+s]=u;if(r){for(u=0;u<m;u++)y[n[u]]=u;for(a=0;a<d;a++){for(u=m,f=O[a],p=O[a+1],l=f;l<p;l++)u=Math.min(u,y[S[l]]);y[N+a]=y[_+u],y[_+u]=a}}for(a=0;a<m;a++)y[v+a]=a;for(u=0;u<m;u++){for(s=n[u],e[s]!=-1&&E[e[s]]--,c=r?y[_+u]:s;c!=-1;c=r?y[N+c]:-1)for(l=O[c];l<O[c+1];l++){a=S[l];var k=o(a,s,y,w,b,x,v);k.jleaf>=1&&E[s]++,2==k.jleaf&&E[k.q]--}e[s]!=-1&&(y[v+s]=e[s])}for(s=0;s<m;s++)e[s]!=-1&&(E[e[s]]+=E[s]);return E};return a}n.name="cs_counts",n.path="sparse",n.factory=r},{"../../matrix/transpose":379,"./cs_leaf":286}],281:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_marked")),o=r(t("./cs_mark")),a=r(t("./cs_unflip")),s=function(t,e,n,r,s){var u,c,l,f=e._index,p=e._ptr,h=e._size,d=h[1],m=0;for(r[0]=t;m>=0;){t=r[m];var g=s?s[t]:t;i(p,t)||(o(p,t),r[d+m]=g<0?0:a(p[g]));var y=1;for(c=r[d+m],l=g<0?0:a(p[g+1]);c<l;c++)if(u=f[c],!i(p,u)){r[d+m]=c,r[++m]=u,y=0;break}y&&(m--,r[--n]=t)}return n};return s}n.name="cs_dfs",n.path="sparse",n.factory=r},{"./cs_mark":288,"./cs_marked":289,"./cs_unflip":296}],282:[function(t,e,n){"use strict";function r(){var t=function(t,e){if(!t)return null;var n,r,i=t._index,o=t._ptr,a=t._size,s=a[0],u=a[1],c=[],l=[],f=0,p=u;if(e)for(n=0;n<s;n++)l[p+n]=-1;for(var h=0;h<u;h++){c[h]=-1,l[f+h]=-1;for(var d=o[h],m=o[h+1],g=d;g<m;g++){var y=i[g];for(n=e?l[p+y]:y;n!=-1&&n<h;n=r)r=l[f+n],l[f+n]=h,r==-1&&(c[n]=h);e&&(l[p+y]=h)}}return c};return t}n.name="cs_etree",n.path="sparse",n.factory=r},{}],283:[function(t,e,n){"use strict";function r(){var t=function(t,e,n){for(var r=t._values,i=t._index,o=t._ptr,a=t._size,s=a[1],u=0,c=0;c<s;c++){var l=o[c];for(o[c]=u;l<o[c+1];l++)e(i[l],c,r?r[l]:1,n)&&(i[u]=i[l],r&&(r[u]=r[l]),u++)}return o[s]=u,i.splice(u,i.length-u),r&&r.splice(u,r.length-u),u};return t}n.name="cs_fkeep",n.path="sparse",n.factory=r},{}],284:[function(t,e,n){"use strict";function r(){var t=function(t){return-t-2};return t}n.name="cs_flip",n.path="sparse",n.factory=r},{}],285:[function(t,e,n){"use strict";function r(){var t=function(t,e,n){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i};return t}n.name="cs_ipvec",n.path="sparse",n.factory=r},{}],286:[function(t,e,n){"use strict";function r(){var t=function(t,e,n,r,i,o,a){var s,u,c,l,f=0;if(t<=e||n[r+e]<=n[i+t])return-1;if(n[i+t]=n[r+e],c=n[o+t],n[o+t]=e,c===-1)f=1,l=t;else{for(f=2,l=c;l!=n[a+l];l=n[a+l]);for(s=c;s!=l;s=u)u=n[a+s],n[a+s]=l}return{jleaf:f,q:l}};return t}n.name="cs_leaf",n.path="sparse",n.factory=r},{}],287:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("../../arithmetic/abs")),o=r(t("../../arithmetic/divideScalar")),a=r(t("../../arithmetic/multiply")),s=r(t("../../relational/larger")),u=r(t("../../relational/largerEq")),c=r(t("./cs_spsolve")),l=e.SparseMatrix,f=function(t,e,n){if(!t)return null;var r,f=t._size,p=f[1],h=100,d=100;e&&(r=e.q,h=e.lnz||h,d=e.unz||d);var m,g,y=[],v=[],b=[],x=new l({values:y,index:v,ptr:b,size:[p,p]}),w=[],_=[],N=[],E=new l({values:w,index:_,ptr:N,size:[p,p]}),M=[],S=[],O=[];for(m=0;m<p;m++)S[m]=0,M[m]=-1,b[m+1]=0;h=0,d=0;for(var k=0;k<p;k++){b[k]=h,N[k]=d;var T=r?r[k]:k,A=c(x,t,T,O,S,M,1),C=-1,P=-1;for(g=A;g<p;g++)if(m=O[g],M[m]<0){var j=i(S[m]);s(j,P)&&(P=j,C=m)}else _[d]=M[m],w[d++]=S[m];if(C==-1||P<=0)return null;M[T]<0&&u(i(S[T]),a(P,n))&&(C=T);var z=S[C];for(_[d]=k,w[d++]=z,M[C]=k,v[h]=C,y[h++]=1,g=A;g<p;g++)m=O[g],M[m]<0&&(v[h]=m,y[h++]=o(S[m],z)),S[m]=0}for(b[p]=h,N[p]=d,g=0;g<h;g++)v[g]=M[v[g]];return y.splice(h,y.length-h),v.splice(h,v.length-h),w.splice(d,w.length-d),_.splice(d,_.length-d),{L:x,U:E,pinv:M}};return f}n.name="cs_lu",n.path="sparse",n.factory=r},{"../../arithmetic/abs":297,"../../arithmetic/divideScalar":304,"../../arithmetic/multiply":318,"../../relational/larger":397,"../../relational/largerEq":398,"./cs_spsolve":293}],288:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_flip")),o=function(t,e){t[e]=i(t[e])};return o}n.name="cs_mark",n.path="sparse",n.factory=r},{"./cs_flip":284}],289:[function(t,e,n){"use strict";function r(){var t=function(t,e){return t[e]<0};return t}n.name="cs_marked",n.path="sparse",n.factory=r},{}],290:[function(t,e,n){"use strict";function r(t){var e=t.SparseMatrix,n=function(t,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=t._size,c=t._datatype,l=u[0],f=u[1],p=i&&t._values?[]:null,h=[],d=[],m=0,g=0;g<f;g++){d[g]=m;for(var y=r?r[g]:g,v=s[y],b=s[y+1],x=v;x<b;x++){var w=n?n[a[x]]:a[x];h[m]=w,p&&(p[m]=o[x]),m++}}return d[f]=m,new e({values:p,index:h,ptr:d,size:[l,f],datatype:c})};return n}n.name="cs_permute",n.path="sparse",n.factory=r},{}],291:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_tdfs")),o=function(t,e){if(!t)return null;var n,r=0,o=[],a=[],s=0,u=e,c=2*e;for(n=0;n<e;n++)a[s+n]=-1;for(n=e-1;n>=0;n--)t[n]!=-1&&(a[u+n]=a[s+t[n]],a[s+t[n]]=n);for(n=0;n<e;n++)t[n]==-1&&(r=i(n,r,a,s,u,o,c));return o};return o}n.name="cs_post",n.path="sparse",n.factory=r},{"./cs_tdfs":295}],292:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_dfs")),o=r(t("./cs_marked")),a=r(t("./cs_mark")),s=function(t,e,n,r,s){var u,c,l,f=t._ptr,p=t._size,h=e._index,d=e._ptr,m=p[1],g=m;for(c=d[n],l=d[n+1],u=c;u<l;u++){var y=h[u];o(f,y)||(g=i(y,t,g,r,s))}for(u=g;u<m;u++)a(f,r[u]);return g};return s}n.name="cs_reach",n.path="sparse",n.factory=r},{"./cs_dfs":281,"./cs_mark":288,"./cs_marked":289}],293:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("../../arithmetic/divideScalar")),o=r(t("../../arithmetic/multiply")),a=r(t("../../arithmetic/subtract")),s=r(t("./cs_reach")),u=function(t,e,n,r,u,c,l){var f,p,h,d,m=t._values,g=t._index,y=t._ptr,v=t._size,b=v[1],x=e._values,w=e._index,_=e._ptr,N=s(t,e,n,r,c);for(f=N;f<b;f++)u[r[f]]=0;for(p=_[n],h=_[n+1],f=p;f<h;f++)u[w[f]]=x[f];for(var E=N;E<b;E++){var M=r[E],S=c?c[M]:M;if(!(S<0))for(p=y[S],h=y[S+1],u[M]=i(u[M],m[l?p:h-1]),f=l?p+1:p,d=l?h:h-1;f<d;f++){var O=g[f];u[O]=a(u[O],o(m[f],u[M]))}}return N};return u}n.name="cs_spsolve",n.path="sparse",n.factory=r},{"../../arithmetic/divideScalar":304,"../../arithmetic/multiply":318,"../../arithmetic/subtract":327,"./cs_reach":292}],294:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_amd")),o=r(t("./cs_permute")),a=r(t("./cs_etree")),s=r(t("./cs_post")),u=r(t("./cs_counts")),c=function(t,e,n){var r,c=e._ptr,f=e._size,p=f[1],h={};if(h.q=i(t,e),t&&!h.q)return null;if(n){var d=t?o(e,null,h.q,0):e;h.parent=a(d,1);var m=s(h.parent,p);if(h.cp=u(d,h.parent,m,1),d&&h.parent&&h.cp&&l(d,h))for(h.unz=0,r=0;r<p;r++)h.unz+=h.cp[r]}else h.unz=4*c[p]+p,h.lnz=h.unz;return h},l=function(t,e){var n=t._ptr,r=t._index,i=t._size,o=i[0],a=i[1];e.pinv=[],e.leftmost=[];var s,u,c,l,f,p=e.parent,h=e.pinv,d=e.leftmost,m=[],g=0,y=o,v=o+a,b=o+2*a;for(u=0;u<a;u++)m[y+u]=-1,m[v+u]=-1,m[b+u]=0;for(s=0;s<o;s++)d[s]=-1;for(u=a-1;u>=0;u--)for(l=n[u],f=n[u+1],c=l;c<f;c++)d[r[c]]=u;for(s=o-1;s>=0;s--)h[s]=-1,u=d[s],u!=-1&&(0===m[b+u]++&&(m[v+u]=s),m[g+s]=m[y+u],m[y+u]=s);for(e.lnz=0,e.m2=o,u=0;u<a;u++)if(s=m[y+u],e.lnz++,s<0&&(s=e.m2++),h[s]=u,!(--b[u]<=0)){e.lnz+=m[b+u];var x=p[u];x!=-1&&(0===m[b+x]&&(m[v+x]=m[v+u]),m[g+m[v+u]]=m[y+x],m[y+x]=m[g+s],m[b+x]+=m[b+u])}for(s=0;s<o;s++)h[s]<0&&(h[s]=u++);return!0};return c}n.name="cs_sqr",n.path="sparse",n.factory=r},{"./cs_amd":279,"./cs_counts":280,"./cs_etree":282,"./cs_permute":290,"./cs_post":291}],295:[function(t,e,n){"use strict";function r(){var t=function(t,e,n,r,i,o,a){var s=0;for(n[a]=t;s>=0;){var u=n[a+s],c=n[r+u];c==-1?(s--,o[e++]=u):(n[r+u]=n[i+c],++s,n[a+s]=c)}return e};return t}n.name="cs_tdfs",n.path="sparse",n.factory=r},{}],296:[function(t,e,n){"use strict";function r(e,n,r){var i=r(t("./cs_flip")),o=function(t){return t<0?i(t):t};return o}n.name="cs_unflip",n.path="sparse",n.factory=r},{"./cs_flip":284}],297:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("abs",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.abs()}});return o.toTex={1:"\\left|${args[0]}\\right|"},o}var i=t("../../utils/collection/deepMap");n.name="abs",n.factory=r},{"../../utils/collection/deepMap":524}],298:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../type/matrix/function/matrix")),s=r(t("./addScalar")),u=t("../../utils/latex.js"),c=r(t("../../type/matrix/utils/algorithm01")),l=r(t("../../type/matrix/utils/algorithm04")),f=r(t("../../type/matrix/utils/algorithm10")),p=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),d=o("add",i({"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,s);break;default:n=c(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,s,!1);break;default:n=p(t,e,s)}}return n},"Array, Array":function(t,e){return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return d(a(t),e)},"Matrix, Array":function(t,e){return d(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,s,!1);break;default:n=h(t,e,s,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,s,!0);break;default:n=h(e,t,s,!0)}return n},"Array, any":function(t,e){return h(a(t),e,s,!1).valueOf()},"any, Array":function(t,e){return h(a(e),t,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(t,e,n){for(var r=d(t,e),i=0;i<n.length;i++)r=d(r,n[i]);return r}},s.signatures));return d.toTex={2:"\\left(${args[0]}"+u.operators.add+"${args[1]}\\right)"},d}var i=t("../../utils/object").extend;n.name="add",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm01":485,"../../type/matrix/utils/algorithm04":488,"../../type/matrix/utils/algorithm10":494,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex.js":531,"../../utils/object":533,"./addScalar":299}],299:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=i(n.value,e.value),n.fixPrefix=!1,n}});return i}n.factory=r},{}],300:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,r){var i=t.arg()/3,a=t.abs(),s=new e.Complex(o(a),0).mul(new e.Complex(0,i).exp());if(r){var u=[s,new e.Complex(o(a),0).mul(new e.Complex(0,i+2*Math.PI/3).exp()),new e.Complex(o(a),0).mul(new e.Complex(0,i-2*Math.PI/3).exp())];return"Array"===n.matrix?u:f(u)}return s}function u(t){if(t.value&&t.value.isComplex){var n=t.clone();return n.value=1,n=n.pow(1/3),n.value=s(t.value),n}var r=l(t.value);r&&(t.value=c(t.value));var i;i=t.value&&t.value.isBigNumber?new e.BigNumber(1).div(3):t.value&&t.value.isFraction?new e.Fraction(1,3):1/3;var n=t.pow(i);return r&&(n.value=c(n.value)),n}var c=r(t("./unaryMinus")),l=r(t("../utils/isNegative")),f=r(t("../../type/matrix/function/matrix")),p=a("cbrt",{number:o,Complex:s,"Complex, boolean":s,BigNumber:function(t){return t.cbrt()},Unit:u,"Array | Matrix":function(t){return i(t,p,!0)}});return p.toTex={1:"\\sqrt[3]{${args[0]}}"},p}var i=t("../../utils/collection/deepMap"),o=Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),isFinite(t)?(e=Math.exp(Math.log(t)/3),e=(t/(e*e)+2*e)/3):e=t,n?-e:e};n.name="cbrt",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/collection/deepMap":524,"../utils/isNegative":451,"./unaryMinus":328}],301:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("ceil",{number:Math.ceil,Complex:function(t){return t.ceil()},BigNumber:function(t){return t.ceil()},Fraction:function(t){return t.ceil()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},o}var i=t("../../utils/collection/deepMap");n.name="ceil",n.factory=r},{"../../utils/collection/deepMap":524}],302:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("cube",{number:function(t){return t*t*t},Complex:function(t){return t.mul(t).mul(t)},BigNumber:function(t){return t.times(t).times(t)},Fraction:function(t){return t.pow(3)},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.pow(3)}});return o.toTex={1:"\\left(${args[0]}\\right)^3"},o}var i=t("../../utils/collection/deepMap");n.name="cube",n.factory=r},{"../../utils/collection/deepMap":524}],303:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("./divideScalar")),s=r(t("./multiply")),u=r(t("../matrix/inv")),c=r(t("../../type/matrix/function/matrix")),l=r(t("../../type/matrix/utils/algorithm11")),f=r(t("../../type/matrix/utils/algorithm14")),p=o("divide",i({"Array | Matrix, Array | Matrix":function(t,e){return s(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,a,!1);break;case"dense":n=f(t,e,a,!1)}return n},"Array, any":function(t,e){return f(c(t),e,a,!1).valueOf()},"any, Array | Matrix":function(t,e){return s(t,u(e))}},a.signatures));return p.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},p}var i=t("../../utils/object").extend;n.name="divide",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm14":498,"../../utils/object":533,"../matrix/inv":368,"./divideScalar":304,"./multiply":318}],304:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("./multiplyScalar")),a=i("divide",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone();return n.value=a(null===n.value?n._normalize(1):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.pow(-1);return n.value=o(null===n.value?n._normalize(1):n.value,t),n},"Unit, Unit":function(t,e){return t.divide(e)}});return a}n.factory=r},{"./multiplyScalar":319}],305:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("./divideScalar")),s=t("../../utils/latex"),u=r(t("../../type/matrix/utils/algorithm02")),c=r(t("../../type/matrix/utils/algorithm03")),l=r(t("../../type/matrix/utils/algorithm07")),f=r(t("../../type/matrix/utils/algorithm11")),p=r(t("../../type/matrix/utils/algorithm12")),h=r(t("../../type/matrix/utils/algorithm13")),d=r(t("../../type/matrix/utils/algorithm14")),m=i("dotDivide",{"any, any":a,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,a,!1);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=h(t,e,a)}}return n},"Array, Array":function(t,e){return m(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return m(o(t),e)},"Matrix, Array":function(t,e){return m(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,a,!1);break;default:n=d(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=p(e,t,a,!0);break;default:n=d(e,t,a,!0)}return n},"Array, any":function(t,e){return d(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return d(o(e),t,a,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.dotDivide+"${args[1]}\\right)"},m}n.name="dotDivide",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531,"./divideScalar":304}],306:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("./multiplyScalar")),s=t("../../utils/latex"),u=r(t("../../type/matrix/utils/algorithm02")),c=r(t("../../type/matrix/utils/algorithm09")),l=r(t("../../type/matrix/utils/algorithm11")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=i("dotMultiply",{"any, any":a,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,a,!1);break;default:n=f(t,e,a)}}return n},"Array, Array":function(t,e){return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return h(o(t),e)},"Matrix, Array":function(t,e){return h(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,a,!1);break;default:n=p(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,a,!0);break;default:n=p(e,t,a,!0)}return n},"Array, any":function(t,e){return p(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return p(o(e),t,a,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+s.operators.dotMultiply+"${args[1]}\\right)"},h}n.name="dotMultiply",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm09":493,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531,"./multiplyScalar":319}],307:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("./pow")),s=t("../../utils/latex"),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm11")),f=r(t("../../type/matrix/utils/algorithm12")),p=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),d=i("dotPow",{"any, any":a,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,a,!1);break;default:n=p(t,e,a)}}return n},"Array, Array":function(t,e){return d(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return d(o(t),e)},"Matrix, Array":function(t,e){return d(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(o(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(o(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.dotPow+"${args[1]}\\right)"},d}n.name="dotPow",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,
"../../utils/latex":531,"./pow":322}],308:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("exp",{number:Math.exp,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\exp\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="exp",n.factory=r},{"../../utils/collection/deepMap":524}],309:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("fix",{number:function(t){return t>0?Math.floor(t):Math.ceil(t)},Complex:function(e){return new t.Complex(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(t){return t.isNegative()?t.ceil():t.floor()},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="fix",n.factory=r},{"../../utils/collection/deepMap":524}],310:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("floor",{number:Math.floor,Complex:function(t){return t.floor()},BigNumber:function(t){return t.floor()},Fraction:function(t){return t.floor()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},o}var i=t("../../utils/collection/deepMap");n.name="floor",n.factory=r},{"../../utils/collection/deepMap":524}],311:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,n){if(!t.isInt()||!n.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var r=new e.BigNumber(0);!n.isZero();){var i=t.mod(n);t=n,n=i}return t.lt(r)?t.neg():t}var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm01")),c=r(t("../../type/matrix/utils/algorithm04")),l=r(t("../../type/matrix/utils/algorithm10")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=o("gcd",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(t,e){return t.gcd(e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,h);break;default:n=u(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,h,!1);break;default:n=f(t,e,h)}}return n},"Array, Array":function(t,e){return h(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return h(s(t),e)},"Matrix, Array":function(t,e){return h(t,s(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,h,!1);break;default:n=p(t,e,h,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,h,!0);break;default:n=p(e,t,h,!0)}return n},"Array, number | BigNumber":function(t,e){return p(s(t),e,h,!1).valueOf()},"number | BigNumber, Array":function(t,e){return p(s(e),t,h,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=h(t,e),i=0;i<n.length;i++)r=h(r,n[i]);return r}});return h.toTex="\\gcd\\left(${args}\\right)",h}function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!=e;)n=t%e,t=e,e=n;return t<0?-t:t}var o=t("../../utils/number").isInteger;n.name="gcd",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm01":485,"../../type/matrix/utils/algorithm04":488,"../../type/matrix/utils/algorithm10":494,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/number":532}],312:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t){for(var e=0,n=0,r=0;r<t.length;r++){var i=s(t[r]);p(n,i)?(e=l(e,l(c(n,i),c(n,i))),e=u(e,1),n=i):e=u(e,h(i)?l(c(i,n),c(i,n)):i)}return l(n,f(e))}var s=r(t("./abs")),u=r(t("./addScalar")),c=r(t("./divideScalar")),l=r(t("./multiplyScalar")),f=r(t("./sqrt")),p=r(t("../relational/smaller")),h=r(t("../utils/isPositive")),d=o("hypot",{"... number | BigNumber":a,Array:function(t){return d.apply(d,i(t))},Matrix:function(t){return d.apply(d,i(t.toArray()))}});return d.toTex="\\hypot\\left(${args}\\right)",d}var i=t("../../utils/array").flatten;n.name="hypot",n.factory=r},{"../../utils/array":510,"../relational/smaller":399,"../utils/isPositive":453,"./abs":297,"./addScalar":299,"./divideScalar":304,"./multiplyScalar":319,"./sqrt":325}],313:[function(t,e,n){e.exports=[t("./abs"),t("./add"),t("./addScalar"),t("./cbrt"),t("./ceil"),t("./cube"),t("./divide"),t("./dotDivide"),t("./dotMultiply"),t("./dotPow"),t("./exp"),t("./fix"),t("./floor"),t("./gcd"),t("./hypot"),t("./lcm"),t("./log"),t("./log10"),t("./mod"),t("./multiply"),t("./norm"),t("./nthRoot"),t("./pow"),t("./round"),t("./sign"),t("./sqrt"),t("./square"),t("./subtract"),t("./unaryMinus"),t("./unaryPlus"),t("./xgcd")]},{"./abs":297,"./add":298,"./addScalar":299,"./cbrt":300,"./ceil":301,"./cube":302,"./divide":303,"./dotDivide":305,"./dotMultiply":306,"./dotPow":307,"./exp":308,"./fix":309,"./floor":310,"./gcd":311,"./hypot":312,"./lcm":314,"./log":315,"./log10":316,"./mod":317,"./multiply":318,"./norm":320,"./nthRoot":321,"./pow":322,"./round":323,"./sign":324,"./sqrt":325,"./square":326,"./subtract":327,"./unaryMinus":328,"./unaryPlus":329,"./xgcd":330}],314:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,n){if(!t.isInt()||!n.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(t.isZero()||n.isZero())return new e.BigNumber(0);for(var r=t.times(n);!n.isZero();){var i=n;n=t.mod(i),t=i}return r.div(t).abs()}var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm02")),c=r(t("../../type/matrix/utils/algorithm06")),l=r(t("../../type/matrix/utils/algorithm11")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=o("lcm",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(t,e){return t.lcm(e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,h);break;default:n=u(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,h,!1);break;default:n=f(t,e,h)}}return n},"Array, Array":function(t,e){return h(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return h(s(t),e)},"Matrix, Array":function(t,e){return h(t,s(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,h,!1);break;default:n=p(t,e,h,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,h,!0);break;default:n=p(e,t,h,!0)}return n},"Array, number | BigNumber":function(t,e){return p(s(t),e,h,!1).valueOf()},"number | BigNumber, Array":function(t,e){return p(s(e),t,h,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=h(t,e),i=0;i<n.length;i++)r=h(r,n[i]);return r}});return h.toTex=void 0,h}function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function lcm must be integer numbers");if(0==t||0==e)return 0;for(var n,r=t*e;0!=e;)n=e,e=t%n,t=n;return Math.abs(r/t)}var o=t("../../utils/number").isInteger;n.name="lcm",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm06":490,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/number":532}],315:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("./divideScalar")),s=o("log",{number:function(t){return t>=0||n.predictable?Math.log(t):new e.Complex(t,0).log()},Complex:function(t){return t.log()},BigNumber:function(t){return!t.isNegative()||n.predictable?t.ln():new e.Complex(t.toNumber(),0).log()},"Array | Matrix":function(t){return i(t,s)},"any, any":function(t,e){return a(s(t),s(e))}});return s.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},s}var i=t("../../utils/collection/deepMap");n.name="log",n.factory=r},{"../../utils/collection/deepMap":524,"./divideScalar":304}],316:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("log10",{number:function(n){return n>=0||e.predictable?o(n):new t.Complex(n,0).log().div(Math.LN10)},Complex:function(e){return new t.Complex(e).log().div(Math.LN10)},BigNumber:function(n){return!n.isNegative()||e.predictable?n.log():new t.Complex(n.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.log10||function(t){return Math.log(t)/Math.LN10};n.name="log10",n.factory=r},{"../../utils/collection/deepMap":524}],317:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}var a=r(t("../../type/matrix/function/matrix")),s=t("../../utils/latex"),u=r(t("../../type/matrix/utils/algorithm02")),c=r(t("../../type/matrix/utils/algorithm03")),l=r(t("../../type/matrix/utils/algorithm05")),f=r(t("../../type/matrix/utils/algorithm11")),p=r(t("../../type/matrix/utils/algorithm12")),h=r(t("../../type/matrix/utils/algorithm13")),d=r(t("../../type/matrix/utils/algorithm14")),m=i("mod",{"number, number":o,"BigNumber, BigNumber":function(t,e){return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){return t.mod(e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,m,!1);break;default:n=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,m,!1);break;default:n=h(t,e,m)}}return n},"Array, Array":function(t,e){return m(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return m(a(t),e)},"Matrix, Array":function(t,e){return m(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=p(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n},"Array, any":function(t,e){return d(a(t),e,m,!1).valueOf()},"any, Array":function(t,e){return d(a(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.mod+"${args[1]}\\right)"},m}n.name="mod",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm05":489,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531}],318:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("./addScalar")),l=r(t("./multiplyScalar")),f=r(t("../relational/equalScalar")),p=r(t("../../type/matrix/utils/algorithm11")),h=r(t("../../type/matrix/utils/algorithm14")),d=e.DenseMatrix,m=e.SparseMatrix,g=a("multiply",i({"Array, Array":function(t,e){y(o.size(t),o.size(e));var n=g(u(t),u(e));return n&&n.isMatrix===!0?n.valueOf():n},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return y(n,r),1===n.length?1===r.length?v(t,e,n[0]):b(t,e):1===r.length?w(t,e):_(t,e)},"Matrix, Array":function(t,e){return g(t,u(e))},"Array, Matrix":function(t,e){return g(u(t,e.storage()),e)},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=p(t,e,l,!1);break;case"dense":n=h(t,e,l,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=p(e,t,l,!0);break;case"dense":n=h(e,t,l,!0)}return n},"Array, any":function(t,e){return h(u(t),e,l,!1).valueOf()},"any, Array":function(t,e){return h(u(e),t,l,!0).valueOf()},"any, any":l,"any, any, ...any":function(t,e,n){for(var r=g(t,e),i=0;i<n.length;i++)r=g(r,n[i]);return r}},l.signatures)),y=function(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}},v=function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");var r,i=t._data,o=t._datatype,s=e._data,u=e._datatype,f=c,p=l;o&&u&&o===u&&"string"==typeof o&&(r=o,f=a.find(c,[r,r]),p=a.find(l,[r,r]));for(var h=p(i[0],s[0]),d=1;d<n;d++)h=f(h,p(i[d],s[d]));return h},b=function(t,e){switch(e.storage()){case"dense":return x(t,e)}throw new Error("Not implemented")},x=function(t,e){var n,r=t._data,i=t._size,o=t._datatype,s=e._data,u=e._size,f=e._datatype,p=i[0],h=u[1],m=c,g=l;o&&f&&o===f&&"string"==typeof o&&(n=o,m=a.find(c,[n,n]),g=a.find(l,[n,n]));for(var y=[],v=0;v<h;v++){for(var b=g(r[0],s[0][v]),x=1;x<p;x++)b=m(b,g(r[x],s[x][v]));y[v]=b}return new d({data:y,size:[h],datatype:n})},w=function(t,e){switch(t.storage()){case"dense":return N(t,e);case"sparse":return S(t,e)}},_=function(t,e){switch(t.storage()){case"dense":switch(e.storage()){case"dense":return E(t,e);case"sparse":return M(t,e)}break;case"sparse":switch(e.storage()){case"dense":return O(t,e);case"sparse":return k(t,e)}}},N=function(t,e){var n,r=t._data,i=t._size,o=t._datatype,s=e._data,u=e._datatype,f=i[0],p=i[1],h=c,m=l;o&&u&&o===u&&"string"==typeof o&&(n=o,h=a.find(c,[n,n]),m=a.find(l,[n,n]));for(var g=[],y=0;y<f;y++){for(var v=r[y],b=m(v[0],s[0]),x=1;x<p;x++)b=h(b,m(v[x],s[x]));g[y]=b}return new d({data:g,size:[f],datatype:n})},E=function(t,e){var n,r=t._data,i=t._size,o=t._datatype,s=e._data,u=e._size,f=e._datatype,p=i[0],h=i[1],m=u[1],g=c,y=l;o&&f&&o===f&&"string"==typeof o&&(n=o,g=a.find(c,[n,n]),y=a.find(l,[n,n]));for(var v=[],b=0;b<p;b++){var x=r[b];v[b]=[];for(var w=0;w<m;w++){for(var _=y(x[0],s[0][w]),N=1;N<h;N++)_=g(_,y(x[N],s[N][w]));v[b][w]=_}}return new d({data:v,size:[p,m],datatype:n})},M=function(t,e){var n=t._data,r=t._size,i=t._datatype,o=e._values,s=e._index,u=e._ptr,p=e._size,h=e._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,g=r[0],y=p[1],v=c,b=l,x=f,w=0;i&&h&&i===h&&"string"==typeof i&&(d=i,v=a.find(c,[d,d]),b=a.find(l,[d,d]),x=a.find(f,[d,d]),w=a.convert(0,d));for(var _=[],N=[],E=[],M=new m({values:_,index:N,ptr:E,size:[g,y],datatype:d}),S=0;S<y;S++){E[S]=N.length;var O=u[S],k=u[S+1];if(k>O)for(var T=0,A=0;A<g;A++){for(var C,P=A+1,j=O;j<k;j++){var z=s[j];T!==P?(C=b(n[A][z],o[j]),T=P):C=v(C,b(n[A][z],o[j]))}T!==P||x(C,w)||(N.push(A),_.push(C))}}return E[y]=N.length,M},S=function(t,e){var n=t._values,r=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,p=e._datatype,h=t._size[0],d=e._size[0],g=[],y=[],v=[],b=c,x=l,w=f,_=0;o&&p&&o===p&&"string"==typeof o&&(s=o,b=a.find(c,[s,s]),x=a.find(l,[s,s]),w=a.find(f,[s,s]),_=a.convert(0,s));var N=[],E=[];v[0]=0;for(var M=0;M<d;M++){var S=u[M];if(!w(S,_))for(var O=i[M],k=i[M+1],T=O;T<k;T++){var A=r[T];E[A]?N[A]=b(N[A],x(S,n[T])):(E[A]=!0,y.push(A),N[A]=x(S,n[T]))}}for(var C=y.length,P=0;P<C;P++){var j=y[P];g[P]=N[j]}return v[1]=y.length,new m({values:g,index:y,ptr:v,size:[h,1],datatype:s})},O=function(t,e){var n=t._values,r=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,p=e._datatype,h=t._size[0],d=e._size[0],g=e._size[1],y=c,v=l,b=f,x=0;o&&p&&o===p&&"string"==typeof o&&(s=o,y=a.find(c,[s,s]),v=a.find(l,[s,s]),b=a.find(f,[s,s]),x=a.convert(0,s));for(var w=[],_=[],N=[],E=new m({values:w,index:_,ptr:N,size:[h,g],datatype:s}),M=[],S=[],O=0;O<g;O++){N[O]=_.length;for(var k=O+1,T=0;T<d;T++){var A=u[T][O];if(!b(A,x))for(var C=i[T],P=i[T+1],j=C;j<P;j++){var z=r[j];S[z]!==k?(S[z]=k,_.push(z),M[z]=v(A,n[j])):M[z]=y(M[z],v(A,n[j]))}}for(var D=N[O],R=_.length,I=D;I<R;I++){var F=_[I];w[I]=M[F]}}return N[g]=_.length,E},k=function(t,e){var n,r=t._values,i=t._index,o=t._ptr,s=t._datatype,u=e._values,f=e._index,p=e._ptr,h=e._datatype,d=t._size[0],g=e._size[1],y=r&&u,v=c,b=l;s&&h&&s===h&&"string"==typeof s&&(n=s,v=a.find(c,[n,n]),b=a.find(l,[n,n]));for(var x,w,_,N,E,M,S,O,k=y?[]:void 0,T=[],A=[],C=new m({values:k,index:T,ptr:A,size:[d,g],datatype:n}),P=y?[]:void 0,j=[],z=0;z<g;z++){A[z]=T.length;var D=z+1;for(E=p[z],M=p[z+1],N=E;N<M;N++)if(O=f[N],y)for(w=o[O],_=o[O+1],x=w;x<_;x++)S=i[x],j[S]!==D?(j[S]=D,T.push(S),P[S]=b(u[N],r[x])):P[S]=v(P[S],b(u[N],r[x]));else for(w=o[O],_=o[O+1],x=w;x<_;x++)S=i[x],j[S]!==D&&(j[S]=D,T.push(S));if(y)for(var R=A[z],I=T.length,F=R;F<I;F++){var B=T[F];k[F]=P[B]}}return A[g]=T.length,C};return g.toTex={2:"\\left(${args[0]}"+s.operators.multiply+"${args[1]}\\right)"},g}var i=t("../../utils/object").extend,o=t("../../utils/array");n.name="multiply",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm14":498,"../../utils/array":510,"../../utils/latex":531,"../../utils/object":533,"../relational/equalScalar":395,"./addScalar":299,"./multiplyScalar":319}],319:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):i(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):i(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}});return i}n.factory=r},{}],320:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){var n=t.size();if(1==n.length){if(e===Number.POSITIVE_INFINITY||"inf"===e){var r=0;return t.forEach(function(t){var e=a(t);p(e,r)&&(r=e)},!0),r}if(e===Number.NEGATIVE_INFINITY||"-inf"===e){var i;return t.forEach(function(t){var e=a(t);i&&!h(e,i)||(i=e)},!0),i||0}if("fro"===e)return o(t,2);if("number"==typeof e&&!isNaN(e)){if(!f(e,0)){var d=0;return t.forEach(function(t){d=s(u(a(t),e),d)},!0),u(d,1/e)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==n.length){if(1===e){var y=[],v=0;return t.forEach(function(t,e){var n=e[1],r=s(y[n]||0,a(t));p(r,v)&&(v=r),y[n]=r},!0),v}if(e===Number.POSITIVE_INFINITY||"inf"===e){var b=[],x=0;return t.forEach(function(t,e){var n=e[0],r=s(b[n]||0,a(t));p(r,x)&&(x=r),b[n]=r},!0),x}if("fro"===e)return c(m(l(g(t),t)));if(2===e)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}var a=r(t("../arithmetic/abs")),s=r(t("../arithmetic/add")),u=r(t("../arithmetic/pow")),c=r(t("../arithmetic/sqrt")),l=r(t("../arithmetic/multiply")),f=r(t("../relational/equalScalar")),p=r(t("../relational/larger")),h=r(t("../relational/smaller")),d=r(t("../../type/matrix/function/matrix")),m=r(t("../matrix/trace")),g=r(t("../matrix/transpose")),y=i("norm",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},"boolean | null":function(t){return Math.abs(t)},Array:function(t){return o(d(t),2)},Matrix:function(t){return o(t,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(t){return y(t)},"Array, number | BigNumber | string":function(t,e){return o(d(t),e)},"Matrix, number | BigNumber | string":function(t,e){return o(t,e)}});return y.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},y}n.name="norm",n.factory=r},{"../../type/matrix/function/matrix":482,"../arithmetic/abs":297,"../arithmetic/add":298,"../arithmetic/multiply":318,"../arithmetic/pow":322,"../arithmetic/sqrt":325,"../matrix/trace":378,"../matrix/transpose":379,"../relational/equalScalar":395,"../relational/larger":397,"../relational/smaller":399}],321:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){var r=e.BigNumber.precision,i=e.BigNumber.clone({precision:r+2}),o=new e.BigNumber(0),a=new i(1),s=n.isNegative();if(s&&(n=n.neg()),n.isZero())throw new Error("Root must be non-zero");if(t.isNegative()&&!n.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(t.isZero())return s?new i(1/0):0;if(!t.isFinite())return s?o:t;var u=t.abs().pow(a.div(n));return u=t.isNeg()?u.neg():u,new e.BigNumber((s?a.div(u):u).toPrecision(r))}var u=r(t("../../type/matrix/function/matrix")),c=r(t("../../type/matrix/utils/algorithm01")),l=r(t("../../type/matrix/utils/algorithm02")),f=r(t("../../type/matrix/utils/algorithm06")),p=r(t("../../type/matrix/utils/algorithm11")),h=r(t("../../type/matrix/utils/algorithm13")),d=r(t("../../type/matrix/utils/algorithm14")),m=a("nthRoot",{number:function(t){return i(t,2)},"number, number":i,BigNumber:function(t){return s(t,new e.BigNumber(2))},Complex:function(t){return o(t,2)},"Complex, number":o,"BigNumber, BigNumber":s,"Array | Matrix":function(t){return m(t,2)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");n=f(t,e,m);break;default:n=l(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");n=c(t,e,m,!1);break;default:n=h(t,e,m)}}return n},"Array, Array":function(t,e){return m(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return m(u(t),e)},"Matrix, Array":function(t,e){return m(t,u(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=p(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");n=p(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n},"Array, number | BigNumber":function(t,e){return m(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return m(t,u(e)).valueOf()}});return m.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},m}function i(t,e){var n=e<0;if(n&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==t)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);return r=t<0?-r:r,n?1/r:r}function o(t,e){if(e<0)throw new Error("Root must be greater than zero");if(0===e)throw new Error("Root must be non-zero");if(e%1!==0)throw new Error("Root must be an integer");for(var n=t.arg(),r=t.abs(),i=[],o=Math.pow(r,1/e),a=0;a<e;a++)i.push({r:o,phi:(n+2*Math.PI*a)/e});return i}n.name="nthRoot",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm01":485,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm06":490,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498}],322:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,r){if(n.predictable&&!i(r)&&t<0)try{var o=d(r),a=m(o);if((r===a||Math.abs((r-a)/r)<1e-14)&&o.d%2===1)return(o.n%2===0?1:-1)*Math.pow(-t,r)}catch(s){}return i(r)||t>=0||n.predictable?Math.pow(t,r):new e.Complex(t,0).pow(r,0)}function u(t,e){if(!i(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var n=o(t);if(2!=n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!=n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var r=f(n[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(r=p(a,r)),e>>=1,a=p(a,a);return r}function c(t,e){return h(u(t.valueOf(),e))}var l=t("../../utils/latex"),f=r(t("../matrix/eye")),p=r(t("./multiply")),h=r(t("../../type/matrix/function/matrix")),d=r(t("../../type/fraction/function/fraction")),m=r(t("../../type/number")),g=a("pow",{"number, number":s,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,r){return r.isInteger()||t>=0||n.predictable?t.pow(r):new e.Complex(t.toNumber(),0).pow(r.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(n.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return s(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":u,"Array, BigNumber":function(t,e){return u(t,e.toNumber())},"Matrix, number":c,"Matrix, BigNumber":function(t,e){return c(t,e.toNumber())},"Unit, number":function(t,e){return t.pow(e)}});return g.toTex={2:"\\left(${args[0]}\\right)"+l.operators.pow+"{${args[1]}}"},g}var i=t("../../utils/number").isInteger,o=t("../../utils/array").size;n.name="pow",n.factory=r},{"../../type/fraction/function/fraction":470,"../../type/matrix/function/matrix":482,"../../type/number":499,"../../utils/array":510,"../../utils/latex":531,"../../utils/number":532,"../matrix/eye":363,"./multiply":318}],323:[function(t,e,n){"use strict";function r(e,n,r,a){var c=r(t("../../type/matrix/function/matrix")),l=r(t("../relational/equalScalar")),f=r(t("../matrix/zeros")),p=r(t("../../type/matrix/utils/algorithm11")),h=r(t("../../type/matrix/utils/algorithm12")),d=r(t("../../type/matrix/utils/algorithm14")),m=a("round",{number:Math.round,"number, number":function(t,e){if(!o(e))throw new TypeError(u);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return i(t,e)},Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);var n=e.toNumber();return t.round(n)},"number, BigNumber":function(t,n){if(!n.isInteger())throw new TypeError(u);return new e.BigNumber(t).toDecimalPlaces(n.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Array | Matrix":function(t){return s(t,m,!0)},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=p(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"number | Complex | BigNumber, Matrix":function(t,e){if(!l(t,0)){var n;switch(e.storage()){case"sparse":n=h(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n}return f(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return d(c(t),e,m,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return d(c(e),t,m,!0).valueOf()}});return m.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},m}function i(t,e){return parseFloat(a(t,e))}var o=t("../../utils/number").isInteger,a=t("../../utils/number").toFixed,s=t("../../utils/collection/deepMap"),u="Number of decimals in function round must be an integer";n.name="round",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm14":498,"../../utils/collection/deepMap":524,"../../utils/number":532,"../matrix/zeros":380,"../relational/equalScalar":395}],324:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("sign",{number:i.sign,Complex:function(t){return t.sign()},BigNumber:function(e){return new t.BigNumber(e.cmp(0))},Fraction:function(e){return new t.Fraction(e.s,1)},"Array | Matrix":function(t){return o(t,a,!0)},Unit:function(t){return a(t.value)}});return a.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},a}var i=t("../../utils/number"),o=t("../../utils/collection/deepMap");n.name="sign",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532}],325:[function(t,e,n){"use strict";function r(t,e,n,r){function o(n){return n>=0||e.predictable?Math.sqrt(n):new t.Complex(n,0).sqrt()}var a=r("sqrt",{number:o,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||e.predictable?t.sqrt():o(t.toNumber())},"Array | Matrix":function(t){return i(t,a,!0)},Unit:function(t){return t.pow(.5)}});return a.toTex={1:"\\sqrt{${args[0]}}"},a}var i=t("../../utils/collection/deepMap");n.name="sqrt",n.factory=r},{"../../utils/collection/deepMap":524}],326:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("square",{number:function(t){return t*t},Complex:function(t){return t.mul(t)},BigNumber:function(t){return t.times(t)},Fraction:function(t){return t.mul(t)},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.pow(2)}});return o.toTex={1:"\\left(${args[0]}\\right)^2"},o}var i=t("../../utils/collection/deepMap");n.name="square",n.factory=r},{"../../utils/collection/deepMap":524}],327:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=r(t("../../type/matrix/function/matrix")),u=r(t("./addScalar")),c=r(t("./unaryMinus")),l=r(t("../../type/matrix/utils/algorithm01")),f=r(t("../../type/matrix/utils/algorithm03")),p=r(t("../../type/matrix/utils/algorithm05")),h=r(t("../../type/matrix/utils/algorithm10")),d=r(t("../../type/matrix/utils/algorithm13")),m=r(t("../../type/matrix/utils/algorithm14")),g=o("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=g(n.value,e.value),n.fixPrefix=!1,n},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();if(n.length!==r.length)throw new i(n.length,r.length);var o;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":o=p(t,e,g);break;default:o=f(e,t,g,!0)}break;default:switch(e.storage()){case"sparse":o=l(t,e,g,!1);break;default:o=d(t,e,g)}}return o},"Array, Array":function(t,e){return g(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return g(s(t),e)},"Matrix, Array":function(t,e){return g(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=h(t,c(e),u);break;default:n=m(t,e,g)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=h(e,t,g,!0);break;default:n=m(e,t,g,!0)}return n},"Array, any":function(t,e){return m(s(t),e,g,!1).valueOf()},"any, Array":function(t,e){return m(s(e),t,g,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+a.operators.subtract+"${args[1]}\\right)"},g}var i=t("../../error/DimensionError");n.name="subtract",n.factory=r},{"../../error/DimensionError":49,"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm01":485,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm05":489,"../../type/matrix/utils/algorithm10":494,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531,"./addScalar":299,"./unaryMinus":328}],328:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=o("unaryMinus",{number:function(t){return-t},Complex:function(t){return t.neg()},BigNumber:function(t){
return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=s(t.value),e},"Array | Matrix":function(t){return i(t,s,!0)}});return s.toTex={1:a.operators.unaryMinus+"\\left(${args[0]}\\right)"},s}var i=t("../../utils/collection/deepMap");n.name="unaryMinus",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/latex":531}],329:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=o("unaryPlus",{number:function(t){return t},Complex:function(t){return t},BigNumber:function(t){return t},Fraction:function(t){return t},Unit:function(t){return t.clone()},"Array | Matrix":function(t){return i(t,s,!0)},"boolean | string | null":function(t){return"BigNumber"==n.number?new e.BigNumber((+t)):+t}});return s.toTex={1:a.operators.unaryPlus+"\\left(${args[0]}\\right)"},s}var i=t("../../utils/collection/deepMap");n.name="unaryPlus",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/latex":531}],330:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){var r,o,a,s=0,c=1,l=1,f=0;if(!i(t)||!i(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)o=Math.floor(t/e),a=t%e,r=s,s=c-o*s,c=r,r=l,l=f-o*l,f=r,t=e,e=a;var p;return p=t<0?[-t,-c,-f]:[t,t?c:0,f],"Array"===n.matrix?p:u(p)}function s(t,r){var i,o,a,s=new e.BigNumber(0),c=new e.BigNumber(1),l=s,f=c,p=c,h=s;if(!t.isInt()||!r.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!r.isZero();)o=t.div(r).floor(),a=t.mod(r),i=l,l=f.minus(o.times(l)),f=i,i=p,p=h.minus(o.times(p)),h=i,t=r,r=a;var d;return d=t.lt(s)?[t.neg(),f.neg(),h.neg()]:[t,t.isZero()?0:f,h],"Array"===n.matrix?d:u(d)}var u=r(t("../../type/matrix/function/matrix")),c=o("xgcd",{"number, number":a,"BigNumber, BigNumber":s});return c.toTex=void 0,c}var i=t("../../utils/number").isInteger;n.name="xgcd",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/number":532}],331:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../../type/matrix/utils/algorithm02")),l=r(t("../../type/matrix/utils/algorithm06")),f=r(t("../../type/matrix/utils/algorithm11")),p=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),d=a("bitAnd",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitAnd");return t&e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=p(t,e,d)}}return n},"Array, Array":function(t,e){return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return d(u(t),e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.bitAnd+"${args[1]}\\right)"},d}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/bitAnd");n.name="bitAnd",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm06":490,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/bitAnd":511,"../../utils/latex":531,"../../utils/number":532}],332:[function(t,e,n){"use strict";function r(e,n,r,s){var u=t("../../utils/latex"),c=s("bitNot",{number:function(t){if(!a(t))throw new Error("Integer expected in function bitNot");return~t},BigNumber:o,"Array | Matrix":function(t){return i(t,c)}});return c.toTex={1:u.operators.bitNot+"\\left(${args[0]}\\right)"},c}var i=t("../../utils/collection/deepMap"),o=t("../../utils/bignumber/bitNot"),a=t("../../utils/number").isInteger;n.name="bitNot",n.factory=r},{"../../utils/bignumber/bitNot":512,"../../utils/collection/deepMap":524,"../../utils/latex":531,"../../utils/number":532}],333:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../../type/matrix/utils/algorithm01")),l=r(t("../../type/matrix/utils/algorithm04")),f=r(t("../../type/matrix/utils/algorithm10")),p=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),d=a("bitOr",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitOr");return t|e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,d);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=p(t,e,d)}}return n},"Array, Array":function(t,e){return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return d(u(t),e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.bitOr+"${args[1]}\\right)"},d}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/bitOr");n.name="bitOr",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm01":485,"../../type/matrix/utils/algorithm04":488,"../../type/matrix/utils/algorithm10":494,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/bitOr":513,"../../utils/latex":531,"../../utils/number":532}],334:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../../type/matrix/utils/algorithm03")),l=r(t("../../type/matrix/utils/algorithm07")),f=r(t("../../type/matrix/utils/algorithm12")),p=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),d=a("bitXor",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitXor");return t^e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,d);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=p(t,e,d)}}return n},"Array, Array":function(t,e){return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return d(u(t),e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return h(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.bitXor+"${args[1]}\\right)"},d}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/bitXor");n.name="bitXor",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/bitXor":514,"../../utils/latex":531,"../../utils/number":532}],335:[function(t,e,n){e.exports=[t("./bitAnd"),t("./bitNot"),t("./bitOr"),t("./bitXor"),t("./leftShift"),t("./rightArithShift"),t("./rightLogShift")]},{"./bitAnd":331,"./bitNot":332,"./bitOr":333,"./bitXor":334,"./leftShift":336,"./rightArithShift":337,"./rightLogShift":338}],336:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../relational/equalScalar")),l=r(t("../matrix/zeros")),f=r(t("../../type/matrix/utils/algorithm01")),p=r(t("../../type/matrix/utils/algorithm02")),h=r(t("../../type/matrix/utils/algorithm08")),d=r(t("../../type/matrix/utils/algorithm10")),m=r(t("../../type/matrix/utils/algorithm11")),g=r(t("../../type/matrix/utils/algorithm13")),y=r(t("../../type/matrix/utils/algorithm14")),v=a("leftShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function leftShift");return t<<e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=h(t,e,v,!1);break;default:n=p(e,t,v,!0)}break;default:switch(e.storage()){case"sparse":n=f(t,e,v,!1);break;default:n=g(t,e,v)}}return n},"Array, Array":function(t,e){return v(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return v(u(t),e)},"Matrix, Array":function(t,e){return v(t,u(e))},"Matrix, number | BigNumber":function(t,e){if(!c(e,0)){var n;switch(t.storage()){case"sparse":n=m(t,e,v,!1);break;default:n=y(t,e,v,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!c(t,0)){var n;switch(e.storage()){case"sparse":n=d(e,t,v,!0);break;default:n=y(e,t,v,!0)}return n}return l(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return v(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return v(t,u(e)).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+s.operators.leftShift+"${args[1]}\\right)"},v}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/leftShift");n.name="leftShift",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm01":485,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm08":492,"../../type/matrix/utils/algorithm10":494,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/leftShift":518,"../../utils/latex":531,"../../utils/number":532,"../matrix/zeros":380,"../relational/equalScalar":395}],337:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=r(t("../relational/equalScalar")),l=r(t("../matrix/zeros")),f=r(t("../../type/matrix/utils/algorithm01")),p=r(t("../../type/matrix/utils/algorithm02")),h=r(t("../../type/matrix/utils/algorithm08")),d=r(t("../../type/matrix/utils/algorithm10")),m=r(t("../../type/matrix/utils/algorithm11")),g=r(t("../../type/matrix/utils/algorithm13")),y=r(t("../../type/matrix/utils/algorithm14")),v=a("rightArithShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightArithShift");return t>>e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=h(t,e,v,!1);break;default:n=p(e,t,v,!0)}break;default:switch(e.storage()){case"sparse":n=f(t,e,v,!1);break;default:n=g(t,e,v)}}return n},"Array, Array":function(t,e){return v(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return v(u(t),e)},"Matrix, Array":function(t,e){return v(t,u(e))},"Matrix, number | BigNumber":function(t,e){if(!c(e,0)){var n;switch(t.storage()){case"sparse":n=m(t,e,v,!1);break;default:n=y(t,e,v,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!c(t,0)){var n;switch(e.storage()){case"sparse":n=d(e,t,v,!0);break;default:n=y(e,t,v,!0)}return n}return l(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return v(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return v(t,u(e)).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+s.operators.rightArithShift+"${args[1]}\\right)"},v}var i=t("../../utils/number").isInteger,o=t("../../utils/bignumber/rightArithShift");n.name="rightArithShift",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm01":485,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm08":492,"../../type/matrix/utils/algorithm10":494,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/rightArithShift":520,"../../utils/latex":531,"../../utils/number":532,"../matrix/zeros":380,"../relational/equalScalar":395}],338:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=r(t("../../type/matrix/function/matrix")),u=r(t("../relational/equalScalar")),c=r(t("../matrix/zeros")),l=r(t("../../type/matrix/utils/algorithm01")),f=r(t("../../type/matrix/utils/algorithm02")),p=r(t("../../type/matrix/utils/algorithm08")),h=r(t("../../type/matrix/utils/algorithm10")),d=r(t("../../type/matrix/utils/algorithm11")),m=r(t("../../type/matrix/utils/algorithm13")),g=r(t("../../type/matrix/utils/algorithm14")),y=o("rightLogShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightLogShift");return t>>>e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=p(t,e,y,!1);break;default:n=f(e,t,y,!0)}break;default:switch(e.storage()){case"sparse":n=l(t,e,y,!1);break;default:n=m(t,e,y)}}return n},"Array, Array":function(t,e){return y(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return y(s(t),e)},"Matrix, Array":function(t,e){return y(t,s(e))},"Matrix, number | BigNumber":function(t,e){if(!u(e,0)){var n;switch(t.storage()){case"sparse":n=d(t,e,y,!1);break;default:n=g(t,e,y,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!u(t,0)){var n;switch(e.storage()){case"sparse":n=h(e,t,y,!0);break;default:n=g(e,t,y,!0)}return n}return c(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return y(s(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return y(t,s(e)).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+a.operators.rightLogShift+"${args[1]}\\right)"},y}var i=t("../../utils/number").isInteger;n.name="rightLogShift",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm01":485,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm08":492,"../../type/matrix/utils/algorithm10":494,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531,"../../utils/number":532,"../matrix/zeros":380,"../relational/equalScalar":395}],339:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../arithmetic/add")),a=r(t("./stirlingS2")),s=r(t("../utils/isNegative")),u=r(t("../utils/isInteger")),c=i("bellNumbers",{"number | BigNumber":function(t){if(!u(t)||s(t))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var e=0,n=0;n<=t;n++)e=o(e,a(t,n));return e}});return c.toTex={1:"\\mathrm{B}_{${args[0]}}"},c}n.name="bellNumbers",n.factory=r},{"../arithmetic/add":298,"../utils/isInteger":449,"../utils/isNegative":451,"./stirlingS2":343}],340:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../arithmetic/add")),a=r(t("../arithmetic/divide")),s=r(t("../arithmetic/multiply")),u=r(t("../probability/combinations")),c=r(t("../utils/isNegative")),l=r(t("../utils/isInteger")),f=i("catalan",{"number | BigNumber":function(t){if(!l(t)||c(t))throw new TypeError("Non-negative integer value expected in function catalan");return a(u(s(t,2),t),o(t,1))}});return f.toTex={1:"\\mathrm{C}_{${args[0]}}"},f}n.name="catalan",n.factory=r},{"../arithmetic/add":298,"../arithmetic/divide":303,"../arithmetic/multiply":318,"../probability/combinations":381,"../utils/isInteger":449,"../utils/isNegative":451}],341:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../probability/combinations")),a=r(t("../arithmetic/addScalar")),s=r(t("../utils/isPositive")),u=r(t("../utils/isInteger")),c=r(t("../relational/larger")),l=i("composition",{"number | BigNumber, number | BigNumber":function(t,e){if(!(u(t)&&s(t)&&u(e)&&s(e)))throw new TypeError("Positive integer value expected in function composition");if(c(e,t))throw new TypeError("k must be less than or equal to n in function composition");return o(a(t,-1),a(e,-1))}});return l.toTex=void 0,l}n.name="composition",n.factory=r},{"../arithmetic/addScalar":299,"../probability/combinations":381,"../relational/larger":397,"../utils/isInteger":449,"../utils/isPositive":453}],342:[function(t,e,n){e.exports=[t("./bellNumbers"),t("./composition"),t("./stirlingS2"),t("./catalan")]},{"./bellNumbers":339,"./catalan":340,"./composition":341,"./stirlingS2":343}],343:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../arithmetic/add")),a=r(t("../arithmetic/subtract")),s=r(t("../arithmetic/multiply")),u=r(t("../arithmetic/divide")),c=r(t("../arithmetic/pow")),l=r(t("../probability/factorial")),f=r(t("../probability/combinations")),p=r(t("../utils/isNegative")),h=r(t("../utils/isInteger")),d=r(t("../relational/larger")),m=i("stirlingS2",{"number | BigNumber, number | BigNumber":function(t,e){if(!h(t)||p(t)||!h(e)||p(e))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(e,t))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var n=l(e),r=0,i=0;i<=e;i++){var m=c(-1,a(e,i)),g=f(e,i),y=c(i,t);r=o(r,s(s(g,y),m))}return u(r,n)}});return m.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},m}n.name="stirlingS2",n.factory=r},{"../arithmetic/add":298,"../arithmetic/divide":303,"../arithmetic/multiply":318,"../arithmetic/pow":322,"../arithmetic/subtract":327,"../probability/combinations":381,"../probability/factorial":383,"../relational/larger":397,"../utils/isInteger":449,"../utils/isNegative":451}],344:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("arg",{number:function(t){return Math.atan2(0,t)},BigNumber:function(e){return t.BigNumber.atan2(0,e)},Complex:function(t){return t.arg()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\arg\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="arg",n.factory=r},{"../../utils/collection/deepMap":524}],345:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)^*"},o}var i=t("../../utils/collection/deepMap");n.name="conj",n.factory=r},{"../../utils/collection/deepMap":524}],346:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("im",{number:function(t){return 0},BigNumber:function(e){return new t.BigNumber(0)},Complex:function(t){return t.im},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=t("../../utils/collection/deepMap");n.name="im",n.factory=r},{"../../utils/collection/deepMap":524}],347:[function(t,e,n){e.exports=[t("./arg"),t("./conj"),t("./im"),t("./re")]},{"./arg":344,"./conj":345,"./im":346,"./re":348}],348:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("re",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.re},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=t("../../utils/collection/deepMap");n.name="re",n.factory=r},{"../../utils/collection/deepMap":524}],349:[function(t,e,n){"use strict";function r(e,n,r,s){var d=(r(t("../../type/matrix/function/matrix")),s("distance",{"Array, Array, Array":function(t,e,n){if(2==t.length&&2==e.length&&2==n.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");if(!i(n))throw new TypeError("Array with 2 numbers expected for third argument");var r=(n[1]-n[0])/(e[1]-e[0]),o=r*r*e[0],a=-1*(r*e[0]),s=t[1];return c(t[0],t[1],o,a,s)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(t,e,n){if(2==Object.keys(t).length&&2==Object.keys(e).length&&2==Object.keys(n).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!i(e))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers");if(!i(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("lineOnePtX")&&e.hasOwnProperty("lineOnePtY")&&n.hasOwnProperty("lineTwoPtX")&&n.hasOwnProperty("lineTwoPtY")){var r=(n.lineTwoPtY-n.lineTwoPtX)/(e.lineOnePtY-e.lineOnePtX),o=r*r*e.lineOnePtX,a=-1*(r*e.lineOnePtX),s=t.pointX;return c(t.pointX,t.pointY,o,a,s)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(t,e){if(2==t.length&&3==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return c(t[0],t[1],e[0],e[1],e[2])}if(3==t.length&&6==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 6 numbers expected for second argument");return l(t[0],t[1],t[2],e[0],e[1],e[2],e[3],e[4],e[5])}if(2==t.length&&2==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");return f(t[0],t[1],e[0],e[1])}if(3==t.length&&3==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return p(t[0],t[1],t[2],e[0],e[1],e[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(t,e){if(2==Object.keys(t).length&&3==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!o(e))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("xCoeffLine")&&e.hasOwnProperty("yCoeffLine")&&e.hasOwnProperty("yCoeffLine"))return c(t.pointX,t.pointY,e.xCoeffLine,e.yCoeffLine,e.constant);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&6==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointX, pointY and pointZ should be numbers");if(!a(e))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("x0")&&e.hasOwnProperty("y0")&&e.hasOwnProperty("z0")&&e.hasOwnProperty("a")&&e.hasOwnProperty("b")&&e.hasOwnProperty("c"))return l(t.pointX,t.pointY,t.pointZ,e.x0,e.y0,e.z0,e.a,e.b,e.c);throw new TypeError("Key names do not match")}if(2==Object.keys(t).length&&2==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointOneX and pointOneY should be numbers");if(!i(e))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY"))return f(t.pointOneX,t.pointOneY,e.pointTwoX,e.pointTwoY);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&3==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers");if(!o(e))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointOneZ")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY")&&e.hasOwnProperty("pointTwoZ"))return p(t.pointOneX,t.pointOneY,t.pointOneZ,e.pointTwoX,e.pointTwoY,e.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(t){if(!u(t))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return h(t)}}));return d}function i(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]}function o(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function a(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]&&"number"==typeof t[4]&&"number"==typeof t[5]}function s(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;r++)n.push(t[e[r]]);return n}function u(t){if(2==t[0].length&&"number"==typeof t[0][0]&&"number"==typeof t[0][1]){for(var e in t)if(2!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1])return!1}else{if(3!=t[0].length||"number"!=typeof t[0][0]||"number"!=typeof t[0][1]||"number"!=typeof t[0][2])return!1;for(var e in t)if(3!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1]||"number"!=typeof t[e][2])return!1}return!0}function c(t,e,n,r,i){var o=Math.abs(n*t+r*e+i),a=Math.pow(n*n+r*r,.5),s=o/a;return s}function l(t,e,n,r,i,o,a,s,u){var c=[(i-e)*u-(o-n)*s,(o-n)*a-(r-t)*u,(r-t)*s-(i-e)*a];c=Math.pow(c[0]*c[0]+c[1]*c[1]+c[2]*c[2],.5);var l=Math.pow(a*a+s*s+u*u,.5),f=c/l;return f}function f(t,e,n,r){var i=r-e,o=n-t,a=i*i+o*o,s=Math.pow(a,.5);return s}function p(t,e,n,r,i,o){var a=o-n,s=i-e,u=r-t,c=a*a+s*s+u*u,l=Math.pow(c,.5);return l}function h(t){for(var e=[],n=0;n<t.length-1;n++)for(var r=n+1;r<t.length;r++)2==t[0].length?e.push(f(t[n][0],t[n][1],t[r][0],t[r][1])):3==t[0].length&&e.push(p(t[n][0],t[n][1],t[n][2],t[r][0],t[r][1],t[r][2]));return e}n.name="distance",n.factory=r},{"../../type/matrix/function/matrix":482}],350:[function(t,e,n){e.exports=[t("./intersect"),t("./distance")]},{"./distance":349,"./intersect":351}],351:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){return 2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function a(t){return 3===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function s(t){return 4===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]}function u(t,e,r,i){var o=t,a=r,s=m(o,e),u=m(a,i),c=s[0]*u[1]-u[0]*s[1];if(f(c)<n.epsilon)return null;var l=(u[0]*o[1]-u[1]*o[0]-u[0]*a[1]+u[1]*a[0])/c;return p(d(s,l),o)}function c(t,e,n,r,i,o,a,s,u,c,l,f){var p=(t-a)*(c-a)+(e-s)*(l-s)+(n-u)*(f-u),h=(c-a)*(r-t)+(l-s)*(i-e)+(f-u)*(o-n),d=(t-a)*(r-t)+(e-s)*(i-e)+(n-u)*(o-n),m=(c-a)*(c-a)+(l-s)*(l-s)+(f-u)*(f-u),g=(r-t)*(r-t)+(i-e)*(i-e)+(o-n)*(o-n),y=(p*h-d*m)/(g*m-h*h),v=(p+y*h)/m,b=t+y*(r-t),x=e+y*(i-e),w=n+y*(o-n),_=a+v*(c-a),N=s+v*(l-s),E=u+v*(f-u);return b===_&&x===N&&w===E?[b,x,w]:null}function l(t,e,n,r,i,o,a,s,u,c){var l=(c-t*a-e*s-n*u)/(r*a+i*s+o*u-t-e-n),f=t+l*(r-t),p=e+l*(i-e),h=n+l*(o-n);return[f,p,h]}var f=r(t("../arithmetic/abs")),p=r(t("../arithmetic/add")),h=r(t("../../type/matrix/function/matrix")),d=r(t("../arithmetic/multiply")),m=r(t("../arithmetic/subtract")),g=i("intersect",{"Array, Array, Array":function(t,e,n){if(!a(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!s(n))throw new TypeError("Array with 4 numbers expected as third argument");return l(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(t,e,n,r){if(2===t.length){if(!o(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 2 numbers expected for second argument");if(!o(n))throw new TypeError("Array with 2 numbers expected for third argument");if(!o(r))throw new TypeError("Array with 2 numbers expected for fourth argument");return u(t,e,n,r)}if(3===t.length){if(!a(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!a(n))throw new TypeError("Array with 3 numbers expected for third argument");if(!a(r))throw new TypeError("Array with 3 numbers expected for fourth argument");return c(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2])}throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(t,e,n){return h(g(t.valueOf(),e.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(t,e,n,r){return h(g(t.valueOf(),e.valueOf(),n.valueOf(),r.valueOf()))}});return g}n.name="intersect",n.factory=r},{"../../type/matrix/function/matrix":482,"../arithmetic/abs":297,"../arithmetic/add":298,"../arithmetic/multiply":318,"../arithmetic/subtract":327}],352:[function(t,e,n){e.exports=[t("./algebra"),t("./arithmetic"),t("./bitwise"),t("./combinatorics"),t("./complex"),t("./geometry"),t("./logical"),t("./matrix"),t("./probability"),t("./relational"),t("./special"),t("./statistics"),t("./string"),t("./trigonometry"),t("./unit"),t("./utils")]},{"./algebra":274,"./arithmetic":313,"./bitwise":335,"./combinatorics":342,"./complex":347,"./geometry":350,"./logical":354,"./matrix":367,"./probability":385,"./relational":396,"./special":403,"./statistics":404,"./string":417,"./trigonometry":438,"./unit":445,"./utils":448}],353:[function(t,e,n){"use strict";function r(e,n,r,i){var o=t("../../utils/latex"),a=r(t("../../type/matrix/function/matrix")),s=r(t("../matrix/zeros")),u=r(t("./not")),c=(r(t("../utils/isZero")),r(t("../../type/matrix/utils/algorithm02"))),l=r(t("../../type/matrix/utils/algorithm06")),f=r(t("../../type/matrix/utils/algorithm11")),p=r(t("../../type/matrix/utils/algorithm13")),h=r(t("../../type/matrix/utils/algorithm14")),d=i("and",{"number, number":function(t,e){return!(!t||!e)},"Complex, Complex":function(t,e){return!(0===t.re&&0===t.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(t,e){return!(t.isZero()||e.isZero()||t.isNaN()||e.isNaN())},"Unit, Unit":function(t,e){return d(t.value,e.value)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=c(t,e,d,!1);break;default:n=p(t,e,d)}}return n},"Array, Array":function(t,e){return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return d(a(t),e)},"Matrix, Array":function(t,e){return d(t,a(e))},"Matrix, any":function(t,e){if(u(e))return s(t.size(),t.storage());var n;switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){if(u(t))return s(t.size(),t.storage());var n;switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){return d(a(t),e).valueOf()},"any, Array":function(t,e){return d(t,a(e)).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+o.operators.and+"${args[1]}\\right)"},d}n.name="and",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm06":490,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531,"../matrix/zeros":380,"../utils/isZero":455,"./not":355}],354:[function(t,e,n){e.exports=[t("./and"),t("./not"),t("./or"),t("./xor")]},{"./and":353,"./not":355,"./or":356,"./xor":357}],355:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../utils/latex"),s=o("not",{number:function(t){return!t},Complex:function(t){return 0===t.re&&0===t.im},BigNumber:function(t){return t.isZero()||t.isNaN()},Unit:function(t){return s(t.value)},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={1:a.operators.not+"\\left(${args[0]}\\right)"
},s}var i=t("../../utils/collection/deepMap");n.name="not",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/latex":531}],356:[function(t,e,n){"use strict";function r(e,n,r,i){var o=t("../../utils/latex"),a=r(t("../../type/matrix/function/matrix")),s=r(t("../../type/matrix/utils/algorithm03")),u=r(t("../../type/matrix/utils/algorithm05")),c=r(t("../../type/matrix/utils/algorithm12")),l=r(t("../../type/matrix/utils/algorithm13")),f=r(t("../../type/matrix/utils/algorithm14")),p=i("or",{"number, number":function(t,e){return!(!t&&!e)},"Complex, Complex":function(t,e){return 0!==t.re||0!==t.im||0!==e.re||0!==e.im},"BigNumber, BigNumber":function(t,e){return!t.isZero()&&!t.isNaN()||!e.isZero()&&!e.isNaN()},"Unit, Unit":function(t,e){return p(t.value,e.value)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,p);break;default:n=s(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,p,!1);break;default:n=l(t,e,p)}}return n},"Array, Array":function(t,e){return p(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return p(a(t),e)},"Matrix, Array":function(t,e){return p(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,p,!1);break;default:n=f(t,e,p,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,p,!0);break;default:n=f(e,t,p,!0)}return n},"Array, any":function(t,e){return f(a(t),e,p,!1).valueOf()},"any, Array":function(t,e){return f(a(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+o.operators.or+"${args[1]}\\right)"},p}n.name="or",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm05":489,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531}],357:[function(t,e,n){"use strict";function r(e,n,r,i){var o=t("../../utils/latex"),a=r(t("../../type/matrix/function/matrix")),s=r(t("../../type/matrix/utils/algorithm03")),u=r(t("../../type/matrix/utils/algorithm07")),c=r(t("../../type/matrix/utils/algorithm12")),l=r(t("../../type/matrix/utils/algorithm13")),f=r(t("../../type/matrix/utils/algorithm14")),p=i("xor",{"number, number":function(t,e){return!!(!!t^!!e)},"Complex, Complex":function(t,e){return(0!==t.re||0!==t.im)!=(0!==e.re||0!==e.im)},"BigNumber, BigNumber":function(t,e){return(!t.isZero()&&!t.isNaN())!=(!e.isZero()&&!e.isNaN())},"Unit, Unit":function(t,e){return p(t.value,e.value)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,p);break;default:n=s(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,p,!1);break;default:n=l(t,e,p)}}return n},"Array, Array":function(t,e){return p(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return p(a(t),e)},"Matrix, Array":function(t,e){return p(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,p,!1);break;default:n=f(t,e,p,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,p,!0);break;default:n=f(e,t,p,!0)}return n},"Array, any":function(t,e){return f(a(t),e,p,!1).valueOf()},"any, Array":function(t,e){return f(a(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+o.operators.xor+"${args[1]}\\right)"},p}n.name="xor",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531}],358:[function(t,e,n){"use strict";function r(e,n,r,l){var f=r(t("../../type/matrix/function/matrix")),p=l("concat",{"...Array | Matrix | number | BigNumber":function(t){var e,n,r=t.length,l=-1,p=!1,h=[];for(e=0;e<r;e++){var d=t[e];if(d&&d.isMatrix===!0&&(p=!0),"number"==typeof d||d&&d.isBigNumber===!0){if(e!==r-1)throw new Error("Dimension must be specified as last argument");if(n=l,l=d.valueOf(),!a(l))throw new TypeError("Integer number expected for dimension");if(l<0||e>0&&l>n)throw new u(l,n+1)}else{var m=o(d).valueOf(),g=s.size(m);if(h[e]=m,n=l,l=g.length-1,e>0&&l!=n)throw new c(n+1,l+1)}}if(0==h.length)throw new SyntaxError("At least one matrix expected");for(var y=h.shift();h.length;)y=i(y,h.shift(),l,0);return p?f(y):y},"...string":function(t){return t.join("")}});return p.toTex=void 0,p}function i(t,e,n,r){if(r<n){if(t.length!=e.length)throw new c(t.length,e.length);for(var o=[],a=0;a<t.length;a++)o[a]=i(t[a],e[a],n,r+1);return o}return t.concat(e)}var o=t("../../utils/object").clone,a=t("../../utils/number").isInteger,s=t("../../utils/array"),u=t("../../error/IndexError"),c=t("../../error/DimensionError");n.name="concat",n.factory=r},{"../../error/DimensionError":49,"../../error/IndexError":50,"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/number":532,"../../utils/object":533}],359:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){var n=Math.max(i.size(t).length,i.size(e).length);t=i.squeeze(t),e=i.squeeze(e);var r=i.size(t),o=i.size(e);if(1!=r.length||1!=o.length||3!=r[0]||3!=o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+r.join(", ")+"], B = ["+o.join(", ")+"])");var a=[u(c(t[1],e[2]),c(t[2],e[1])),u(c(t[2],e[0]),c(t[0],e[2])),u(c(t[0],e[1]),c(t[1],e[0]))];return n>1?[a]:a}var s=r(t("../../type/matrix/function/matrix")),u=r(t("../arithmetic/subtract")),c=r(t("../arithmetic/multiply")),l=o("cross",{"Matrix, Matrix":function(t,e){return s(a(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return s(a(t.toArray(),e))},"Array, Matrix":function(t,e){return s(a(t,e.toArray()))},"Array, Array":a});return l.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},l}var i=t("../../utils/array");n.name="cross",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510,"../arithmetic/multiply":318,"../arithmetic/subtract":327}],360:[function(t,e,n){"use strict";function r(e,n,r,i){function s(t,e,n){if(1==e)return o.clone(t[0][0]);if(2==e)return l(f(t[0][0],t[1][1]),f(t[1][0],t[0][1]));for(var r=function(t){var e,n,r=new Array(t.length),i=0;for(e=1;e<t.length;e++)i=c(i,t[e][e]);for(e=0;e<t.length;e++){for(r[e]=new Array(t.length),r[e][e]=p(i),n=0;n<e;n++)r[e][n]=0;for(n=e+1;n<t.length;n++)r[e][n]=t[e][n];e+1<t.length&&(i=l(i,t[e+1][e+1]))}return r},i=t,a=0;a<e-1;a++)i=f(r(i),t);return e%2==0?p(i[0][0]):i[0][0]}var u=r(t("../../type/matrix/function/matrix")),c=r(t("../arithmetic/add")),l=r(t("../arithmetic/subtract")),f=r(t("../arithmetic/multiply")),p=r(t("../arithmetic/unaryMinus")),h=i("det",{any:function(t){return o.clone(t)},"Array | Matrix":function(t){var e;switch(t&&t.isMatrix===!0?e=t.size():Array.isArray(t)?(t=u(t),e=t.size()):e=[],e.length){case 0:return o.clone(t);case 1:if(1==e[0])return o.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");case 2:var n=e[0],r=e[1];if(n==r)return s(t.clone().valueOf(),n,r);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(e)+")")}}});return h.toTex={1:"\\det\\left(${args[0]}\\right)"},h}var i=t("../../utils/index"),o=i.object,a=i.string;n.name="det",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/index":530,"../arithmetic/add":298,"../arithmetic/multiply":318,"../arithmetic/subtract":327,"../arithmetic/unaryMinus":328}],361:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,e,n,r){if(!o(e))throw new TypeError("Second parameter in function diag must be an integer");var i=e>0?e:0,a=e<0?-e:0;switch(n.length){case 1:return u(t,e,r,n[0],a,i);case 2:return c(t,e,r,n,a,i)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function u(t,n,r,i,o,a){var s=[i+o,i+a],u=e.Matrix.storage(r||"dense"),c=u.diagonal(s,t,n);return null!==r?c:c.valueOf()}function c(t,e,n,r,i,o){if(t&&t.isMatrix===!0){var a=t.diagonal(e);return null!==n?n!==a.storage()?l(a,n):a:a.valueOf()}for(var s=Math.min(r[0]-i,r[1]-o),u=[],c=0;c<s;c++)u[c]=t[c+i][c+o];return null!==n?l(u):u}var l=r(t("../../type/matrix/function/matrix")),f=a("diag",{Array:function(t){return s(t,0,i.size(t),null)},"Array, number":function(t,e){return s(t,e,i.size(t),null)},"Array, BigNumber":function(t,e){return s(t,e.toNumber(),i.size(t),null)},"Array, string":function(t,e){return s(t,0,i.size(t),e)},"Array, number, string":function(t,e,n){return s(t,e,i.size(t),n)},"Array, BigNumber, string":function(t,e,n){return s(t,e.toNumber(),i.size(t),n)},Matrix:function(t){return s(t,0,t.size(),t.storage())},"Matrix, number":function(t,e){return s(t,e,t.size(),t.storage())},"Matrix, BigNumber":function(t,e){return s(t,e.toNumber(),t.size(),t.storage())},"Matrix, string":function(t,e){return s(t,0,t.size(),e)},"Matrix, number, string":function(t,e,n){return s(t,e,t.size(),n)},"Matrix, BigNumber, string":function(t,e,n){return s(t,e.toNumber(),t.size(),n)}});return f.toTex=void 0,f}var i=t("../../utils/array"),o=(t("../../utils/object").clone,t("../../utils/number").isInteger);n.name="diag",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/number":532,"../../utils/object":533}],362:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){var n=i(t),r=i(e),o=n[0];if(1!==n.length||1!==r.length)throw new RangeError("Vector expected");if(n[0]!=r[0])throw new RangeError("Vectors must have equal length ("+n[0]+" != "+r[0]+")");if(0==o)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var a=0,c=0;c<o;c++)a=s(a,u(t[c],e[c]));return a}var s=r(t("../arithmetic/add")),u=r(t("../arithmetic/multiply")),c=o("dot",{"Matrix, Matrix":function(t,e){return a(t.toArray(),e.toArray())},"Matrix, Array":function(t,e){return a(t.toArray(),e)},"Array, Matrix":function(t,e){return a(t,e.toArray())},"Array, Array":a});return c.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},c}var i=t("../../utils/array").size;n.name="dot",n.factory=r},{"../../utils/array":510,"../arithmetic/add":298,"../arithmetic/multiply":318}],363:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,e){switch(t.length){case 0:return e?c(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,n,r){var a=t&&t.isBigNumber===!0?e.BigNumber:n&&n.isBigNumber===!0?e.BigNumber:null;if(t&&t.isBigNumber===!0&&(t=t.toNumber()),n&&n.isBigNumber===!0&&(n=n.toNumber()),!o(t)||t<1)throw new Error("Parameters in function eye must be positive integers");if(!o(n)||n<1)throw new Error("Parameters in function eye must be positive integers");var s=a?new e.BigNumber(1):1,u=a?new a(0):0,c=[t,n];if(r){var l=e.Matrix.storage(r);return l.diagonal(c,s,0,u)}for(var f=i.resize([],c,u),p=t<n?t:n,h=0;h<p;h++)f[h][h]=s;return f}var c=r(t("../../type/matrix/function/matrix")),l=a("eye",{"":function(){return"Matrix"===n.matrix?c([]):[]},string:function(t){return c(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===n.matrix?"default":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===n.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,n){return u(t,e,n)},Array:function(t){return s(t)},"Array, string":function(t,e){return s(t,e)},Matrix:function(t){return s(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return s(t.valueOf(),e)}});return l.toTex=void 0,l}var i=t("../../utils/array"),o=t("../../utils/number").isInteger;n.name="eye",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/number":532}],364:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=a("filter",{"Array, function":i,"Array, RegExp":o,"Matrix, function":function(t,e){return s(i(t.toArray(),e))},"Matrix, RegExp":function(t,e){return s(o(t.toArray(),e))}});return u.toTex=void 0,u}function i(t,e){if(1!==a(t).length)throw new Error("Only one dimensional matrices supported");var n=s(e);return t.filter(function(t,r,i){return 1===n?e(t):2===n?e(t,[r]):e(t,[r],i)})}function o(t,e){if(1!==a(t).length)throw new Error("Only one dimensional matrices supported");return t.filter(function(t){return e.test(t)})}var a=t("../../utils/array").size,s=t("../../utils/function").maxArgumentCount;n.name="filter",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/function":529}],365:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=a("flatten",{Array:function(t){return o(i(t))},Matrix:function(t){var e=o(i(t.toArray()));return s(e)}});return u.toTex=void 0,u}var i=t("../../utils/object").clone,o=t("../../utils/array").flatten;n.name="flatten",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/object":533}],366:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("forEach",{"Array, function":i,"Matrix, function":function(t,e){return t.forEach(e)}});return o.toTex=void 0,o}function i(t,e){var n=o(e),r=function(i,o){Array.isArray(i)?i.forEach(function(t,e){r(t,o.concat(e))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};r(t,[])}var o=t("../../utils/function").maxArgumentCount;n.name="forEach",n.factory=r},{"../../utils/function":529}],367:[function(t,e,n){e.exports=[t("./concat"),t("./cross"),t("./det"),t("./diag"),t("./dot"),t("./eye"),t("./filter"),t("./flatten"),t("./forEach"),t("./inv"),t("./map"),t("./ones"),t("./partitionSelect"),t("./range"),t("./resize"),t("./size"),t("./sort"),t("./squeeze"),t("./subset"),t("./trace"),t("./transpose"),t("./zeros")]},{"./concat":358,"./cross":359,"./det":360,"./diag":361,"./dot":362,"./eye":363,"./filter":364,"./flatten":365,"./forEach":366,"./inv":368,"./map":369,"./ones":370,"./partitionSelect":371,"./range":372,"./resize":373,"./size":374,"./sort":375,"./squeeze":376,"./subset":377,"./trace":378,"./transpose":379,"./zeros":380}],368:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e,n){var r,i,o,a,s;if(1==e){if(a=t[0][0],0==a)throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,a)]]}if(2==e){var d=p(t);if(0==d)throw Error("Cannot calculate inverse, determinant is zero");return[[u(t[1][1],d),u(f(t[0][1]),d)],[u(f(t[1][0]),d),u(t[0][0],d)]]}var m=t.concat();for(r=0;r<e;r++)m[r]=m[r].concat();for(var g=h(e).valueOf(),y=0;y<n;y++){for(r=y;r<e&&0==m[r][y];)r++;if(r==e||0==m[r][y])throw Error("Cannot calculate inverse, determinant is zero");r!=y&&(s=m[y],m[y]=m[r],m[r]=s,s=g[y],g[y]=g[r],g[r]=s);var v=m[y],b=g[y];for(r=0;r<e;r++){var x=m[r],w=g[r];if(r!=y){if(0!=x[y]){for(o=u(f(x[y]),v[y]),i=y;i<n;i++)x[i]=c(x[i],l(o,v[i]));for(i=0;i<n;i++)w[i]=c(w[i],l(o,b[i]))}}else{for(o=v[y],i=y;i<n;i++)x[i]=u(x[i],o);for(i=0;i<n;i++)w[i]=u(w[i],o)}}}return g}var s=r(t("../../type/matrix/function/matrix")),u=r(t("../arithmetic/divideScalar")),c=r(t("../arithmetic/addScalar")),l=r(t("../arithmetic/multiply")),f=r(t("../arithmetic/unaryMinus")),p=r(t("../matrix/det")),h=r(t("./eye")),d=o("inv",{"Array | Matrix":function(t){var e=t.isMatrix===!0?t.size():i.array.size(t);switch(e.length){case 1:if(1==e[0])return t.isMatrix===!0?s([u(1,t.valueOf()[0])]):[u(1,t[0])];throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");case 2:var n=e[0],r=e[1];if(n==r)return t.isMatrix===!0?s(a(t.valueOf(),n,r),t.storage()):a(t,n,r);throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i.string.format(e)+")")}},any:function(t){return u(1,t)}});return d.toTex={1:"\\left(${args[0]}\\right)^{-1}"},d}var i=t("../../utils/index");n.name="inv",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/index":530,"../arithmetic/addScalar":299,"../arithmetic/divideScalar":304,"../arithmetic/multiply":318,"../arithmetic/unaryMinus":328,"../matrix/det":360,"./eye":363}],369:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("map",{"Array, function":i,"Matrix, function":function(t,e){return t.map(e)}});return o.toTex=void 0,o}function i(t,e){var n=o(e),r=function(i,o){return Array.isArray(i)?i.map(function(t,e){return r(t,o.concat(e))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};return r(t,[])}var o=t("../../utils/function").maxArgumentCount;n.name="map",n.factory=r},{"../../utils/function":529}],370:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){var r=u(t),i=r?new e.BigNumber(1):1;if(c(t),n){var a=l(n);return t.length>0?a.resize(t,i):a}var s=[];return t.length>0?o(s,t,i):s}function u(t){var e=!1;return t.forEach(function(t,n,r){t&&t.isBigNumber===!0&&(e=!0,r[n]=t.toNumber())}),e}function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function ones must be positive integers")})}var l=r(t("../../type/matrix/function/matrix")),f=a("ones",{"":function(){return"Array"===n.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){var e=t[t.length-1];if("string"==typeof e){var r=t.pop();return s(t,r)}return"Array"===n.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});return f.toTex=void 0,f}var i=t("../../utils/number").isInteger,o=t("../../utils/array").resize;n.name="ones",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/number":532}],371:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t,e){return-c(t,e)}function s(t,e,n){if(!i(e)||e<0)throw new Error("k must be a non-negative integer");if(t&&t.isMatrix){var r=t.size();if(r.length>1)throw new Error("Only one dimensional matrices supported");return u(t.valueOf(),e,n)}if(Array.isArray(t))return u(t,e,n)}function u(t,e,n){if(e>=t.length)throw new Error("k out of bounds");for(var r=0,i=t.length-1;r<i;){for(var o=r,a=i,s=t[Math.floor(Math.random()*(i-r+1))+r];o<a;)if(n(t[o],s)>=0){var u=t[a];t[a]=t[o],t[o]=u,--a}else++o;n(t[o],s)>0&&--o,e<=o?i=o:r=o+1}return t[e]}var c=r(t("../relational/compare"));return o("partitionSelect",{"Array | Matrix, number":function(t,e){return s(t,e,c)},"Array | Matrix, number, string":function(t,e,n){if("asc"===n)return s(t,e,c);if("desc"===n)return s(t,e,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s})}var i=t("../../utils/number").isInteger;n.name="partitionSelect",n.factory=r},{"../../utils/number":532,"../relational/compare":392}],372:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t){return"Array"===n.matrix?t:p(t)}function a(t,r){var i=f(t);if(!i)throw new SyntaxError('String "'+t+'" is no valid range');var a;return"BigNumber"===n.number?(a=r?l:c,o(a(new e.BigNumber(i.start),new e.BigNumber(i.end),new e.BigNumber(i.step)))):(a=r?u:s,o(a(i.start,i.end,i.step)))}function s(t,e,n){var r=[],i=t;if(n>0)for(;i<e;)r.push(i),i+=n;else if(n<0)for(;i>e;)r.push(i),i+=n;return r}function u(t,e,n){var r=[],i=t;if(n>0)for(;i<=e;)r.push(i),i+=n;else if(n<0)for(;i>=e;)r.push(i),i+=n;return r}function c(t,e,n){var r=[],i=t;if(n.gt(h))for(;i.lt(e);)r.push(i),i=i.plus(n);else if(n.lt(h))for(;i.gt(e);)r.push(i),i=i.plus(n);return r}function l(t,e,n){var r=[],i=t;if(n.gt(h))for(;i.lte(e);)r.push(i),i=i.plus(n);else if(n.lt(h))for(;i.gte(e);)r.push(i),i=i.plus(n);return r}function f(t){var e=t.split(":"),n=e.map(function(t){return Number(t)}),r=n.some(function(t){return isNaN(t)});if(r)return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}var p=r(t("../../type/matrix/function/matrix")),h=new e.BigNumber(0),d=new e.BigNumber(1),m=i("range",{string:a,"string, boolean":a,"number, number":function(t,e){return o(s(t,e,1))},"number, number, number":function(t,e,n){return o(s(t,e,n))},"number, number, boolean":function(t,e,n){return o(n?u(t,e,1):s(t,e,1))},"number, number, number, boolean":function(t,e,n,r){return o(r?u(t,e,n):s(t,e,n))},"BigNumber, BigNumber":function(t,e){return o(c(t,e,d))},"BigNumber, BigNumber, BigNumber":function(t,e,n){return o(c(t,e,n))},"BigNumber, BigNumber, boolean":function(t,e,n){return o(n?l(t,e,d):c(t,e,d))},"BigNumber, BigNumber, BigNumber, boolean":function(t,e,n,r){return o(r?l(t,e,n):c(t,e,n))}});return m.toTex=void 0,m}n.name="range",n.factory=r},{"../../type/matrix/function/matrix":482}],373:[function(t,e,n){"use strict";function r(e,n,r,l){function f(t,e,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==e.length)throw new i(e.length,1);var r=e[0];if("number"!=typeof r||!a(r))throw new TypeError("Invalid size, must contain positive integers (size: "+s(e)+")");if(t.length>r)return t.substring(0,r);if(t.length<r){for(var o=t,u=0,c=r-t.length;u<c;u++)o+=n;return o}return t}var p=r(t("../../type/matrix/function/matrix")),h=function(t,e,r){if(2!=arguments.length&&3!=arguments.length)throw new o("resize",arguments.length,2,3);if(e&&e.isMatrix===!0&&(e=e.valueOf()),e.length&&e[0]&&e[0].isBigNumber===!0&&(e=e.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t})),t&&t.isMatrix===!0)return t.resize(e,r,!0);if("string"==typeof t)return f(t,e,r);var i=!Array.isArray(t)&&"Array"!==n.matrix;if(0==e.length){for(;Array.isArray(t);)t=t[0];return u(t)}Array.isArray(t)||(t=[t]),t=u(t);var a=c.resize(t,e,r);return i?p(a):a};return h.toTex=void 0,h}var i=t("../../error/DimensionError"),o=t("../../error/ArgumentsError"),a=t("../../utils/number").isInteger,s=t("../../utils/string").format,u=t("../../utils/object").clone,c=t("../../utils/array");n.name="resize",n.factory=r},{"../../error/ArgumentsError":48,"../../error/DimensionError":49,"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/number":532,"../../utils/object":533,"../../utils/string":534}],374:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../type/matrix/function/matrix")),s=o("size",{Matrix:function(t){return a(t.size())},Array:i.size,string:function(t){return"Array"===n.matrix?[t.length]:a([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===n.matrix?[]:a([])}});return s.toTex=void 0,s}var i=t("../../utils/array");n.name="size",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510}],375:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t){if("asc"===t)return l;if("desc"===t)return f;throw new Error('String "asc" or "desc" expected')}function s(t){if(1!==i(t).length)throw new Error("One dimensional array expected")}function u(t){if(1!==t.size().length)throw new Error("One dimensional matrix expected")}var c=r(t("../../type/matrix/function/matrix")),l=r(t("../relational/compare")),f=function(t,e){return-l(t,e)},p=o("sort",{Array:function(t){return s(t),t.sort(l)},Matrix:function(t){return u(t),c(t.toArray().sort(l),t.storage())},"Array, function":function(t,e){return s(t),t.sort(e)},"Matrix, function":function(t,e){return u(t),c(t.toArray().sort(e),t.storage())},"Array, string":function(t,e){return s(t),t.sort(a(e))},"Matrix, string":function(t,e){return u(t),c(t.toArray().sort(a(e)),t.storage())}});return p.toTex=void 0,p}var i=t("../../utils/array").size;n.name="sort",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510,"../relational/compare":392}],376:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=a("squeeze",{Array:function(t){return o.squeeze(i.clone(t))},Matrix:function(t){var e=o.squeeze(t.toArray());return Array.isArray(e)?s(e):e},any:function(t){return i.clone(t)}});return u.toTex=void 0,u}var i=t("../../utils/object"),o=t("../../utils/array");n.name="squeeze",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/object":533}],377:[function(t,e,n){"use strict";function r(e,n,r,c){function l(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(1!=e.size().length)throw new u(e.size().length,1);var n=t.length;s(e.min()[0],n),s(e.max()[0],n);var r=e.dimension(0),i="";return r.forEach(function(e){i+=t.charAt(e)}),i}function f(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(1!=e.size().length)throw new u(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0),o=i.size()[0];if(o!=n.length)throw new u(i.size()[0],n.length);var a=t.length;s(e.min()[0]),s(e.max()[0]);for(var c=[],l=0;l<a;l++)c[l]=t.charAt(l);if(i.forEach(function(t,e){c[t]=n.charAt(e[0])}),c.length>a)for(l=a-1,o=c.length;l<o;l++)c[l]||(c[l]=r);return c.join("")}var p=r(t("../../type/matrix/function/matrix")),h=c("subset",{"Array, Index":function(t,e){var n=p(t),r=n.subset(e);return r&&r.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":i,"string, Index":l,"Array, Index, any":function(t,e,n){return p(a(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,r){return p(a(t)).subset(e,n,r).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,r){return t.clone().subset(e,n,r)},"string, Index, string":f,"string, Index, string, string":f,"Object, Index, any":o});return h.toTex=void 0,h}function i(t,e){if(1!==e.size().length)throw new u(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return t[n]}function o(t,e,n){if(1!==e.size().length)throw new u(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=a(t);return i[r]=n,i}var a=t("../../utils/object").clone,s=t("../../utils/array").validateIndex,u=t("../../error/DimensionError");n.name="subset",n.factory=r},{"../../error/DimensionError":49,"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/object":533}],378:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../arithmetic/add")),c=a("trace",{Array:function(t){return c(s(t))},Matrix:function(t){var e;switch(t.storage()){case"dense":e=l(t);break;case"sparse":e=f(t)}return e},any:i}),l=function(t){var e=t._size,n=t._data;switch(e.length){case 1:if(1==e[0])return i(n[0]);throw new RangeError("Matrix must be square (size: "+o(e)+")");case 2:var r=e[0],a=e[1];if(r===a){for(var s=0,c=0;c<r;c++)s=u(s,n[c][c]);return s}throw new RangeError("Matrix must be square (size: "+o(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o(e)+")")}},f=function(t){var e=t._values,n=t._index,r=t._ptr,i=t._size,a=i[0],s=i[1];if(a===s){var c=0;if(e.length>0)for(var l=0;l<s;l++)for(var f=r[l],p=r[l+1],h=f;h<p;h++){var d=n[h];if(d===l){c=u(c,e[h]);break}if(d>l)break}return c}throw new RangeError("Matrix must be square (size: "+o(i)+")")};return c.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},c}var i=t("../../utils/object").clone,o=t("../../utils/string").format;n.name="trace",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/object":533,"../../utils/string":534,"../arithmetic/add":298}],379:[function(t,e,n){"use strict";function r(e,n,r,a){var s=t("../../utils/latex"),u=r(t("../../type/matrix/function/matrix")),c=e.DenseMatrix,l=e.SparseMatrix,f=a("transpose",{Array:function(t){return f(u(t)).valueOf()},Matrix:function(t){var e,n=t.size();switch(n.length){case 1:e=t.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+o(n)+")");switch(t.storage()){case"dense":e=p(t,r,i);break;case"sparse":e=h(t,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+o(this._size)+")")}return e},any:function(t){return i(t)}}),p=function(t,e,n){for(var r,o=t._data,a=[],s=0;s<n;s++){r=a[s]=[];for(var u=0;u<e;u++)r[u]=i(o[u][s])}return new c({data:a,size:[n,e],datatype:t._datatype})},h=function(t,e,n){for(var r=t._values,o=t._index,a=t._ptr,s=r?[]:void 0,u=[],c=[],f=[],p=0;p<e;p++)f[p]=0;var h,d,m;for(h=0,d=o.length;h<d;h++)f[o[h]]++;for(var g=0,y=0;y<e;y++)c.push(g),g+=f[y],f[y]=c[y];for(c.push(g),m=0;m<n;m++)for(var v=a[m],b=a[m+1],x=v;x<b;x++){var w=f[o[x]]++;u[w]=m,r&&(s[w]=i(r[x]))}return new l({values:s,index:u,ptr:c,size:[n,e],datatype:t._datatype})};return f.toTex={1:"\\left(${args[0]}\\right)"+s.operators.transpose},f}var i=t("../../utils/object").clone,o=t("../../utils/string").format;n.name="transpose",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/latex":531,"../../utils/object":533,"../../utils/string":534}],380:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){var r=u(t),i=r?new e.BigNumber(0):0;if(c(t),n){var a=l(n);return t.length>0?a.resize(t,i):a}var s=[];return t.length>0?o(s,t,i):s}function u(t){var e=!1;return t.forEach(function(t,n,r){t&&t.isBigNumber===!0&&(e=!0,r[n]=t.toNumber())}),e}function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")})}var l=r(t("../../type/matrix/function/matrix")),f=a("zeros",{"":function(){return"Array"===n.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){var e=t[t.length-1];if("string"==typeof e){var r=t.pop();return s(t,r)}return"Array"===n.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});return f.toTex=void 0,f}var i=t("../../utils/number").isInteger,o=t("../../utils/array").resize;n.name="zeros",n.factory=r},{"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/number":532}],381:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("combinations",{"number, number":function(t,e){var n,r,i;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(n=Math.max(e,t-e),r=1,i=1;i<=t-n;i++)r=r*(n+i)/i;return r},"BigNumber, BigNumber":function(e,n){var r,o,a,s,u=new t.BigNumber(1);if(!i(e)||!i(n))throw new TypeError("Positive integer value expected in function combinations");if(n.gt(e))throw new TypeError("k must be less than n in function combinations");for(r=e.minus(n),n.lt(r)&&(r=n),o=u,a=u,s=e.minus(r);a.lte(s);a=a.plus(1))o=o.times(r.plus(a)).dividedBy(a);return o}});return a.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},a}function i(t){return t.isInteger()&&t.gte(0)}var o=t("../../utils/number").isInteger;n.name="combinations",n.factory=r},{"../../utils/number":532}],382:[function(t,e,n){"use strict";function r(e,n,r,s){function u(t){if(!f.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var e=Array.prototype.slice.call(arguments,1),n=f[t].apply(this,e);return function(t){var e={random:function(t,e,n){var s,u,l;if(arguments.length>3)throw new i("random",arguments.length,0,3);if(1===arguments.length?o(t)?s=t:l=t:2===arguments.length?o(t)?(s=t,l=e):(u=t,l=e):(s=t,u=e,l=n),void 0!==u&&!a(u)||void 0!==l&&!a(l))throw new TypeError("Invalid argument in function random");if(void 0===l&&(l=1),void 0===u&&(u=0),void 0!==s){var p=f(s.valueOf(),u,l,r);return s&&s.isMatrix===!0?c(p):p}return r(u,l)},randomInt:s({"number | Array":function(t){var e=0;if(o(t)){var n=t,r=1,i=f(n.valueOf(),e,r,u);return n&&n.isMatrix===!0?c(i):i}var r=t;return u(e,r)},"number | Array, number":function(t,e){if(o(t)){var n=t,r=e,i=0,a=f(n.valueOf(),i,r,u);return n&&n.isMatrix===!0?c(a):a;
}var i=t,r=e;return u(i,r)},"Array, number, number":function(t,e,n){var r=f(t.valueOf(),e,n,u);return t&&t.isMatrix===!0?c(r):r}}),pickRandom:s({Array:function(t){return n(t)},"Array, number | Array":function(t,e){var r,i;if(Array.isArray(e))i=e;else{if(!a(e))throw new TypeError("Invalid argument in function pickRandom");r=e}return n(t,r,i)},"Array, number | Array, Array | number":function(t,e,r){var i,o;if(Array.isArray(e)?(o=e,i=r):(o=r,i=e),!Array.isArray(o)||!a(i))throw new TypeError("Invalid argument in function pickRandom");return n(t,i,o)}})},n=function(t,e,n){var r="undefined"==typeof e;if(r&&(e=1),t&&t.isMatrix===!0)t=t.valueOf();else if(!Array.isArray(t))throw new TypeError("Unsupported type of value in function pickRandom");if(l.size(t).length>1)throw new Error("Only one dimensional vectors supported");if("undefined"!=typeof n){if(n.length!=t.length)throw new Error("Weights must have the same length as possibles");for(var i=0,o=0,s=n.length;o<s;o++){if(!a(n[o])||n[o]<0)throw new Error("Weights must be an array of positive numbers");i+=n[o]}}var u=t.length;if(0==u)return[];if(e>=u)return t;for(var c,f=[];f.length<e;){if("undefined"==typeof n)c=t[Math.floor(Math.random()*u)];else for(var p=Math.random()*i,o=0,s=t.length;o<s;o++)if(p-=n[o],p<0){c=t[o];break}f.indexOf(c)==-1&&f.push(c)}return r?f[0]:f},r=function(e,n){return e+t()*(n-e)},u=function(e,n){return Math.floor(e+t()*(n-e))},f=function(t,e,n,r){var i,o,a=[];if(t=t.slice(0),t.length>1)for(var o=0,i=t.shift();o<i;o++)a.push(f(t,e,n,r));else for(var o=0,i=t.shift();o<i;o++)a.push(r(e,n));return a};return e}(n)}var c=r(t("../../type/matrix/function/matrix")),l=t("../../utils/array"),f={uniform:function(){return Math.random},normal:function(){return function(){for(var t,e,n=-1;n<0||n>1;)t=Math.random(),e=Math.random(),n=1/6*Math.pow(-2*Math.log(t),.5)*Math.cos(2*Math.PI*e)+.5;return n}}};return u.toTex=void 0,u}var i=t("../../error/ArgumentsError"),o=t("../../utils/collection/isCollection"),a=t("../../utils/number").isNumber;n.name="distribution",n.factory=r},{"../../error/ArgumentsError":48,"../../type/matrix/function/matrix":482,"../../utils/array":510,"../../utils/collection/isCollection":525,"../../utils/number":532}],383:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("./gamma")),s=t("../../utils/latex"),u=o("factorial",{number:function(t){if(t<0)throw new Error("Value must be non-negative");return a(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error("Value must be non-negative");return a(t.plus(1))},"Array | Matrix":function(t){return i(t,u)}});return u.toTex={1:"\\left(${args[0]}\\right)"+s.operators.factorial},u}var i=t("../../utils/collection/deepMap");n.name="factorial",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/latex":531,"./gamma":384}],384:[function(t,e,n){"use strict";function r(e,n,r,u){function c(t){if(t.isZero())return new e.BigNumber(1);for(var r=n.precision+(0|Math.log(t.toNumber())),i=e.BigNumber.clone({precision:r}),o=new i(t),a=t.toNumber()-1;a>1;)o=o.times(a),a--;return new e.BigNumber(o.toPrecision(e.BigNumber.precision))}var l=r(t("../arithmetic/multiply")),f=r(t("../arithmetic/pow")),p=u("gamma",{number:function(t){var e,n;if(o(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0==i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*p(1-t));if(t>=171.35)return 1/0;if(t>85){var u=t*t,c=u*t,l=c*t,f=l*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*u)-139/(51840*c)-571/(2488320*l)+163879/(209018880*f)+5246819/(75246796800*f*t))}--t,n=s[0];for(var h=1;h<s.length;++h)n+=s[h]/(t+h);return e=t+a+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n},Complex:function(t){var n,r;if(0==t.im)return p(t.re);t=new e.Complex(t.re-1,t.im),r=new e.Complex(s[0],0);for(var i=1;i<s.length;++i){var o=t.re+i,u=o*o+t.im*t.im;0!=u?(r.re+=s[i]*o/u,r.im+=-(s[i]*t.im)/u):r.re=s[i]<0?-(1/0):1/0}n=new e.Complex(t.re+a+.5,t.im);var c=Math.sqrt(2*Math.PI);t.re+=.5;var h=f(n,t);0==h.im?h.re*=c:0==h.re?h.im*=c:(h.re*=c,h.im*=c);var d=Math.exp(-n.re);return n.re=d*Math.cos(-n.im),n.im=d*Math.sin(-n.im),l(l(h,n),r)},BigNumber:function(t){if(t.isInteger())return t.isNegative()||t.isZero()?new e.BigNumber(1/0):c(t.minus(1));if(!t.isFinite())return new e.BigNumber(t.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(t){return i(t,p)}});return p.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},p}var i=t("../../utils/collection/deepMap"),o=t("../../utils/number").isInteger,a=4.7421875,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];n.name="gamma",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532,"../arithmetic/multiply":318,"../arithmetic/pow":322}],385:[function(t,e,n){e.exports=[t("./combinations"),t("./factorial"),t("./gamma"),t("./kldivergence"),t("./multinomial"),t("./permutations"),t("./pickRandom"),t("./random"),t("./randomInt")]},{"./combinations":381,"./factorial":383,"./gamma":384,"./kldivergence":386,"./multinomial":387,"./permutations":388,"./pickRandom":389,"./random":390,"./randomInt":391}],386:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){var n=e.size().length,r=t.size().length;if(n>1)throw new Error("first object must be one dimensional");if(r>1)throw new Error("second object must be one dimensional");if(n!==r)throw new Error("Length of two vectors must be equal");var i=u(t);if(0===i)throw new Error("Sum of elements in first object must be non zero");var o=u(e);if(0===o)throw new Error("Sum of elements in second object must be non zero");var a=s(t,u(t)),h=s(e,u(e)),d=u(c(a,f(l(a,h))));return p(d)?d:Number.NaN}var a=r(t("../../type/matrix/function/matrix")),s=r(t("../arithmetic/divide")),u=r(t("../statistics/sum")),c=r(t("../arithmetic/multiply")),l=r(t("../arithmetic/dotDivide")),f=r(t("../arithmetic/log")),p=r(t("../utils/isNumeric")),h=i("kldivergence",{"Array, Array":function(t,e){return o(a(t),a(e))},"Matrix, Array":function(t,e){return o(t,a(e))},"Array, Matrix":function(t,e){return o(a(t),e)},"Matrix, Matrix":function(t,e){return o(t,e)}});return h}n.name="kldivergence",n.factory=r},{"../../type/matrix/function/matrix":482,"../arithmetic/divide":303,"../arithmetic/dotDivide":305,"../arithmetic/log":315,"../arithmetic/multiply":318,"../statistics/sum":414,"../utils/isNumeric":452}],387:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../arithmetic/add")),s=r(t("../arithmetic/multiply")),u=r(t("../arithmetic/divide")),c=r(t("../probability/factorial")),l=r(t("../utils/isInteger")),f=r(t("../utils/isPositive"));return o("multinomial",{"Array | Matrix":function(t){var e=0,n=1;return i(t,function(t){if(!l(t)||!f(t))throw new TypeError("Positive integer value expected in function multinomial");e=a(e,t),n=s(n,c(t))}),u(c(e),n)}})}var i=t("../../utils/collection/deepForEach");n.name="multinomial",n.factory=r},{"../../utils/collection/deepForEach":523,"../arithmetic/add":298,"../arithmetic/divide":303,"../arithmetic/multiply":318,"../probability/factorial":383,"../utils/isInteger":449,"../utils/isPositive":453}],388:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("./factorial")),u=a("permutations",{"number | BigNumber":s,"number, number":function(t,e){var n,r;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(e>t)throw new TypeError("second argument k must be less than or equal to first argument n");for(n=1,r=t-e+1;r<=t;r++)n*=r;return n},"BigNumber, BigNumber":function(t,n){var r,o;if(!i(t)||!i(n))throw new TypeError("Positive integer value expected in function permutations");if(n.gt(t))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=new e.BigNumber(1),o=t.minus(n).plus(1);o.lte(t);o=o.plus(1))r=r.times(o);return r}});return u.toTex=void 0,u}function i(t){return t.isInteger()&&t.gte(0)}var o=t("../../utils/number").isInteger;n.name="permutations",n.factory=r},{"../../utils/number":532,"./factorial":383}],389:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("./distribution")),a=o("uniform").pickRandom;return a.toTex=void 0,a}n.name="pickRandom",n.factory=r},{"./distribution":382}],390:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("./distribution")),a=o("uniform").random;return a.toTex=void 0,a}n.name="random",n.factory=r},{"./distribution":382}],391:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("./distribution")),a=o("uniform").randomInt;return a.toTex=void 0,a}n.name="randomInt",n.factory=r},{"./distribution":382}],392:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm05")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=a("compare",{"boolean, boolean":function(t,e){return t===e?0:t>e?1:-1},"number, number":function(t,e){return t===e||i(t,e,n.epsilon)?0:t>e?1:-1},"BigNumber, BigNumber":function(t,r){return t.eq(r)||o(t,r,n.epsilon)?new e.BigNumber(0):new e.BigNumber(t.cmp(r))},"Fraction, Fraction":function(t,n){return new e.Fraction(t.compare(n))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return h(t.value,e.value)},"string, string":function(t,e){return t===e?0:t>e?1:-1},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,h);break;default:n=u(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,h,!1);break;default:n=f(t,e,h)}}return n},"Array, Array":function(t,e){return h(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return h(s(t),e)},"Matrix, Array":function(t,e){return h(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,h,!1);break;default:n=p(t,e,h,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,h,!0);break;default:n=p(e,t,h,!0)}return n},"Array, any":function(t,e){return p(s(t),e,h,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,h,!0).valueOf()}});return h.toTex=void 0,h}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="compare",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm05":489,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/nearlyEqual":519,"../../utils/number":532}],393:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(Array.isArray(t)){if(Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(!o(t[r],e[r]))return!1;return!0}return!1}return!Array.isArray(e)&&a(t,e)}var a=r(t("./equal")),s=i("deepEqual",{"any, any":function(t,e){return o(t.valueOf(),e.valueOf())}});return s.toTex=void 0,s}n.name="deepEqual",n.factory=r},{"./equal":394}],394:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("./equalScalar")),s=r(t("../../type/matrix/utils/algorithm03")),u=r(t("../../type/matrix/utils/algorithm07")),c=r(t("../../type/matrix/utils/algorithm12")),l=r(t("../../type/matrix/utils/algorithm13")),f=r(t("../../type/matrix/utils/algorithm14")),p=t("../../utils/latex"),h=i("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:a(t,e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,a);break;default:n=s(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,a,!1);break;default:n=l(t,e,a)}}return n},"Array, Array":function(t,e){return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return h(o(t),e)},"Matrix, Array":function(t,e){return h(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=f(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,a,!0);break;default:n=f(e,t,a,!0)}return n},"Array, any":function(t,e){return f(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return f(o(e),t,a,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+p.operators.equal+"${args[1]}\\right)"},h}n.name="equal",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531,"./equalScalar":395}],395:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,n){return t===n||i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.eq(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)},"string, string":function(t,e){return t===e}});return a}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.factory=r},{"../../utils/bignumber/nearlyEqual":519,"../../utils/number":532}],396:[function(t,e,n){e.exports=[t("./compare"),t("./deepEqual"),t("./equal"),t("./larger"),t("./largerEq"),t("./smaller"),t("./smallerEq"),t("./unequal")]},{"./compare":392,"./deepEqual":393,"./equal":394,"./larger":397,"./largerEq":398,"./smaller":399,"./smallerEq":400,"./unequal":401}],397:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=t("../../utils/latex"),d=a("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t>e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=f(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.larger+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="larger",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/nearlyEqual":519,"../../utils/latex":531,"../../utils/number":532}],398:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=t("../../utils/latex"),d=a("largerEq",{"boolean, boolean":function(t,e){return t>=e},"number, number":function(t,e){return t>=e||i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gte(e)||o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.compare(e)!==-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t>=e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=f(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.largerEq+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="largerEq",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/nearlyEqual":519,"../../utils/latex":531,"../../utils/number":532}],399:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=t("../../utils/latex"),d=a("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.compare(e)===-1},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t<e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=f(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.smaller+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="smaller",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/nearlyEqual":519,"../../utils/latex":531,"../../utils/number":532}],400:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=t("../../utils/latex"),d=a("smallerEq",{"boolean, boolean":function(t,e){return t<=e},"number, number":function(t,e){return t<=e||i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lte(e)||o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t<=e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,d);break;default:n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,d,!1);break;default:n=f(t,e,d)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){return p(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.smallerEq+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="smallerEq",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/nearlyEqual":519,"../../utils/latex":531,"../../utils/number":532}],401:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../type/matrix/function/matrix")),u=r(t("../../type/matrix/utils/algorithm03")),c=r(t("../../type/matrix/utils/algorithm07")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=t("../../utils/latex"),d=a("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:m(t,e)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,m);break;default:n=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,m,!1);break;default:n=f(t,e,m)}}return n},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,m,!1);break;default:n=p(t,e,m,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,m,!0);break;default:n=p(e,t,m,!0)}return n},"Array, any":function(t,e){return p(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,m,!0).valueOf()}}),m=a("_unequal",{"boolean, boolean":function(t,e){return t!==e},"number, number":function(t,e){return!i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return!o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return!t.equals(e)},"Complex, Complex":function(t,e){return!t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t!==e}});return d.toTex={2:"\\left(${args[0]}"+h.operators.unequal+"${args[1]}\\right)"},d}var i=t("../../utils/number").nearlyEqual,o=t("../../utils/bignumber/nearlyEqual");n.name="unequal",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm07":491,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/bignumber/nearlyEqual":519,"../../utils/latex":531,"../../utils/number":532}],402:[function(t,e,n){"use strict";function r(t,e,n,r){function f(t){var e,n=t*t,r=u[0][4]*n,i=n;for(e=0;e<3;e+=1)r=(r+u[0][e])*n,i=(i+c[0][e])*n;return t*(r+u[0][3])/(i+c[0][3])}function p(t){var e,n=u[1][8]*t,r=t;for(e=0;e<7;e+=1)n=(n+u[1][e])*t,r=(r+c[1][e])*t;var i=(n+u[1][7])/(r+c[1][7]),o=parseInt(16*t)/16,a=(t-o)*(t+o);return Math.exp(-o*o)*Math.exp(-a)*i}function h(t){var e,n=1/(t*t),r=u[2][5]*n,i=n;for(e=0;e<4;e+=1)r=(r+u[2][e])*n,i=(i+c[2][e])*n;var o=n*(r+u[2][4])/(i+c[2][4]);o=(s-o)/t,n=parseInt(16*t)/16;var a=(t-n)*(t+n);return Math.exp(-n*n)*Math.exp(-a)*o}var d=r("erf",{number:function(t){var e=Math.abs(t);return e>=l?o(t):e<=a?o(t)*f(e):e<=4?o(t)*(1-p(e)):o(t)*(1-h(e))},BigNumber:function(e){return new t.BigNumber(d(e.toNumber()))},"Array | Matrix":function(t){return i(t,d)}});return d.toTex={1:"erf\\left(${args[0]}\\right)"},d}var i=t("../../utils/collection/deepMap"),o=t("../../utils/number").sign,a=.46875,s=.5641895835477563,u=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],c=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],l=Math.pow(2,53);n.name="erf",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532}],403:[function(t,e,n){e.exports=[t("./erf")]},{"./erf":402}],404:[function(t,e,n){e.exports=[t("./mad"),t("./max"),t("./mean"),t("./median"),t("./min"),t("./mode"),t("./prod"),t("./quantileSeq"),t("./std"),t("./sum"),t("./var")]},{"./mad":405,"./max":406,"./mean":407,"./median":408,"./min":409,"./mode":410,"./prod":411,"./quantileSeq":412,"./std":413,"./sum":414,"./var":415}],405:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t){if(t=i(t.valueOf()),0===t.length)throw new Error("Cannot calculate median absolute deviation of an empty array");var e=c(t);return c(u(t,function(t){return s(l(t,e))}))}var s=r(t("../arithmetic/abs")),u=r(t("../matrix/map")),c=r(t("../statistics/median")),l=r(t("../arithmetic/subtract")),f=o("mad",{"Array | Matrix":a,"...":function(t){return a(t)}});return f.toTex=void 0,f}var i=t("../../utils/array").flatten;n.name="mad",n.factory=r},{"../../utils/array":510,"../arithmetic/abs":297,"../arithmetic/subtract":327,"../matrix/map":369,"../statistics/median":408}],406:[function(t,e,n){"use strict";function r(e,n,r,s){function u(t,e){return l(t,e)?t:e}function c(t){var e=void 0;if(i(t,function(t){(void 0===e||l(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate max of an empty array");return e}var l=r(t("../relational/larger")),f=s("max",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function max");return c(t)}});return f.toTex="\\max\\left(${args}\\right)",f}var i=t("../../utils/collection/deepForEach"),o=t("../../utils/collection/reduce"),a=t("../../utils/collection/containsCollections");n.name="max",n.factory=r},{"../../utils/collection/containsCollections":522,"../../utils/collection/deepForEach":523,"../../utils/collection/reduce":526,"../relational/larger":397}],407:[function(t,e,n){"use strict";function r(e,n,r,u){function c(t,e){var n=a(t,e,f),r=Array.isArray(t)?i(t):t.size();return p(n,r[e])}function l(t){var e=0,n=0;if(o(t,function(t){e=f(e,t),n++}),0===n)throw new Error("Cannot calculate mean of an empty array");return p(e,n)}var f=r(t("../arithmetic/add")),p=r(t("../arithmetic/divide")),h=u("mean",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":c,"...":function(t){if(s(t))throw new TypeError("Scalar values expected in function mean");return l(t)}});return h.toTex=void 0,h}var i=t("../../utils/array").size,o=t("../../utils/collection/deepForEach"),a=t("../../utils/collection/reduce"),s=t("../../utils/collection/containsCollections");n.name="mean",n.factory=r},{"../../utils/array":510,"../../utils/collection/containsCollections":522,"../../utils/collection/deepForEach":523,"../../utils/collection/reduce":526,"../arithmetic/add":298,"../arithmetic/divide":303}],408:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t){t=i(t.valueOf());var e=t.length;if(0==e)throw new Error("Cannot calculate median of an empty array");if(e%2==0){for(var n=e/2-1,r=f(t,n+1),o=t[n],a=0;a<n;++a)l(t[a],o)>0&&(o=t[a]);return d(o,r)}var s=f(t,(e-1)/2);return h(s)}var u=r(t("../arithmetic/addScalar")),c=r(t("../arithmetic/divideScalar")),l=r(t("../relational/compare")),f=r(t("../matrix/partitionSelect")),p=a("median",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("median(A, dim) is not yet supported")},"...":function(t){if(o(t))throw new TypeError("Scalar values expected in function median");return s(t)}}),h=a({"number | BigNumber | Unit":function(t){return t}}),d=a({"number | BigNumber | Unit, number | BigNumber | Unit":function(t,e){return c(u(t,e),2)}});return p.toTex=void 0,p}var i=t("../../utils/array").flatten,o=(t("../../utils/collection/reduce"),t("../../utils/collection/containsCollections"));n.name="median",n.factory=r},{"../../utils/array":510,"../../utils/collection/containsCollections":522,"../../utils/collection/reduce":526,"../arithmetic/addScalar":299,"../arithmetic/divideScalar":304,"../matrix/partitionSelect":371,"../relational/compare":392}],409:[function(t,e,n){"use strict";function r(e,n,r,s){function u(t,e){return l(t,e)?t:e}function c(t){var e=void 0;if(i(t,function(t){(void 0===e||l(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate min of an empty array");return e}var l=r(t("../relational/smaller")),f=s("min",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function min");return c(t)}});return f.toTex="\\min\\left(${args}\\right)",f}var i=t("../../utils/collection/deepForEach"),o=t("../../utils/collection/reduce"),a=t("../../utils/collection/containsCollections");n.name="min",n.factory=r},{"../../utils/collection/containsCollections":522,"../../utils/collection/deepForEach":523,"../../utils/collection/reduce":526,"../relational/smaller":399}],410:[function(t,e,n){"use strict";function r(t,e,n,r){function o(t){t=i(t.valueOf());var e=t.length;
if(0==e)throw new Error("Cannot calculate mode of an empty array");var n={},r=[],o=0;for(var a in t)t[a]in n||(n[t[a]]=0),n[t[a]]++,n[t[a]]==o?r.push(t[a]):n[t[a]]>o&&(o=n[t[a]],r=[t[a]]);return r}var a=r("mode",{"Array | Matrix":o,"...":function(t){return o(t)}});return a}var i=t("../../utils/array").flatten;n.name="mode",n.factory=r},{"../../utils/array":510}],411:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t){var e=void 0;if(i(t,function(t){e=void 0===e?t:s(e,t)}),void 0===e)throw new Error("Cannot calculate prod of an empty array");return e}var s=r(t("../arithmetic/multiplyScalar")),u=o("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("prod(A, dim) is not yet supported")},"...":function(t){return a(t)}});return u.toTex=void 0,u}var i=t("../../utils/collection/deepForEach");n.name="prod",n.factory=r},{"../../utils/collection/deepForEach":523,"../arithmetic/multiplyScalar":319}],412:[function(t,e,n){"use strict";function r(e,n,r,u){function c(t,n,r){var a,u,c;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(s(t)){if(r=r||!1,"boolean"==typeof r){if(u=t.valueOf(),o(n)){if(n<0)throw new Error("N/prob must be non-negative");if(n<=1)return l(u,n,r);if(n>1){if(!i(n))throw new Error("N must be a positive integer");var f=n+1;a=new Array(n);for(var p=0;p<n;)a[p]=l(u,++p/f,r);return a}}if(n&&n.isBigNumber){if(n.isNegative())throw new Error("N/prob must be non-negative");if(c=new n.constructor(1),n.lte(c))return l(u,n,r);if(n.gt(c)){if(!n.isInteger())throw new Error("N must be a positive integer");var h=n.toNumber();if(h>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var f=new e.BigNumber(h+1);a=new Array(h);for(var p=0;p<h;)a[p]=l(u,new e.BigNumber((++p)).div(f),r);return a}}if(Array.isArray(n)){a=new Array(n.length);for(var p=0;p<a.length;++p){var d=n[p];if(o(d)){if(d<0||d>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!d||!d.isBigNumber)throw new TypeError("Unexpected type of argument in function quantileSeq");if(c=new d.constructor(1),d.isNegative()||d.gt(c))throw new Error("Probability must be between 0 and 1, inclusive")}a[p]=l(u,d,r)}return a}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function l(t,e,n){var r=a(t),i=r.length;if(0===i)throw new Error("Cannot calculate quantile of an empty sequence");if(o(e)){var s=e*(i-1),u=s%1;if(0===u){var c=n?r[s]:h(r,s);return m(c),c}var l,g,y=Math.floor(s);if(n)l=r[y],g=r[y+1];else{g=h(r,y+1),l=r[y];for(var v=0;v<y;++v)d(r[v],l)>0&&(l=r[v])}return m(l),m(g),f(p(l,1-u),p(g,u))}var s=e.times(i-1);if(s.isInteger()){s=s.toNumber();var c=n?r[s]:h(r,s);return m(c),c}var l,g,y=s.floor(),u=s.minus(y),b=y.toNumber();if(n)l=r[b],g=r[b+1];else{g=h(r,b+1),l=r[b];for(var v=0;v<b;++v)d(r[v],l)>0&&(l=r[v])}m(l),m(g);var x=new u.constructor(1);return f(p(l,x.minus(u)),p(g,u))}var f=r(t("../arithmetic/add")),p=r(t("../arithmetic/multiply")),h=r(t("../matrix/partitionSelect")),d=r(t("../relational/compare")),m=u({"number | BigNumber | Unit":function(t){return t}});return c}var i=t("../../utils/number").isInteger,o=t("../../utils/number").isNumber,a=t("../../utils/array").flatten,s=t("../../utils/collection/isCollection");n.name="quantileSeq",n.factory=r},{"../../utils/array":510,"../../utils/collection/isCollection":525,"../../utils/number":532,"../arithmetic/add":298,"../arithmetic/multiply":318,"../matrix/partitionSelect":371,"../relational/compare":392}],413:[function(t,e,n){"use strict";function r(e,n,r,i){function o(t,e){if(0==t.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return a(s.apply(null,arguments))}var a=r(t("../arithmetic/sqrt")),s=r(t("../statistics/var")),u=i("std",{"Array | Matrix":o,"Array | Matrix, string":o,"...":function(t){return o(t)}});return u.toTex=void 0,u}n.name="std",n.factory=r},{"../arithmetic/sqrt":325,"../statistics/var":415}],414:[function(t,e,n){"use strict";function r(e,n,r,o){function a(t){var r=void 0;if(i(t,function(t){r=void 0===r?t:s(r,t)}),void 0===r)switch(n.number){case"number":return 0;case"BigNumber":return new e.BigNumber(0);case"Fraction":return new e.Fraction(0);default:return 0}return r}var s=r(t("../arithmetic/addScalar")),u=o("sum",{"Array | Matrix":function(t){return a(t)},"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":function(t){return a(t)}});return u.toTex=void 0,u}var i=t("../../utils/collection/deepForEach");n.name="sum",n.factory=r},{"../../utils/collection/deepForEach":523,"../arithmetic/addScalar":299}],415:[function(t,e,n){"use strict";function r(e,n,r,a){function s(t,n){var r=0,i=0;if(0==t.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(o(t,function(t){r=u(r,t),i++}),0===i)throw new Error("Cannot calculate var of an empty array");var a=f(r,i);switch(r=0,o(t,function(t){var e=c(t,a);r=u(r,l(e,e))}),n){case"uncorrected":return f(r,i);case"biased":return f(r,i+1);case"unbiased":var s=r&&r.isBigNumber===!0?new e.BigNumber(0):0;return 1==i?s:f(r,i-1);default:throw new Error('Unknown normalization "'+n+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}var u=r(t("../arithmetic/addScalar")),c=r(t("../arithmetic/subtract")),l=r(t("../arithmetic/multiplyScalar")),f=r(t("../arithmetic/divideScalar")),p=a("variance",{"Array | Matrix":function(t){return s(t,i)},"Array | Matrix, string":s,"...":function(t){return s(t,i)}});return p.toTex="\\mathrm{Var}\\left(${args}\\right)",p}var i="unbiased",o=t("../../utils/collection/deepForEach");n.name="var",n.factory=r},{"../../utils/collection/deepForEach":523,"../arithmetic/addScalar":299,"../arithmetic/divideScalar":304,"../arithmetic/multiplyScalar":319,"../arithmetic/subtract":327}],416:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("format",{any:i.format,"any, Object | function | number":i.format});return o.toTex=void 0,o}var i=t("../../utils/string");n.name="format",n.factory=r},{"../../utils/string":534}],417:[function(t,e,n){e.exports=[t("./format"),t("./print")]},{"./format":416,"./print":418}],418:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("print",{"string, Object":i,"string, Object, number | Object":i});return o.toTex=void 0,o}function i(t,e,n){return t.replace(/\$([\w\.]+)/g,function(t,r){for(var i=r.split("."),s=e[i.shift()];i.length&&void 0!==s;){var u=i.shift();s=u?s[u]:s+"."}return void 0!==s?o(s)?s:a(s,n):t})}var o=t("../../utils/string").isString,a=t("../../utils/string").format;n.name="print",n.factory=r},{"../../utils/string":534}],419:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acos",{number:function(n){return n>=-1&&n<=1||e.predictable?Math.acos(n):new t.Complex(n,0).acos()},Complex:function(t){return t.acos()},BigNumber:function(t){return t.acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acos",n.factory=r},{"../../utils/collection/deepMap":524}],420:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("acosh",{number:function(n){return n>=1||e.predictable?o(n):n<=-1?new t.Complex(Math.log(Math.sqrt(n*n-1)-n),Math.PI):new t.Complex(n,0).acosh()},Complex:function(t){return t.acosh()},BigNumber:function(t){return t.acosh()},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)};n.name="acosh",n.factory=r},{"../../utils/collection/deepMap":524}],421:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acot",{number:function(t){return Math.atan(1/t)},Complex:function(t){return t.acot()},BigNumber:function(e){return new t.BigNumber(1).div(e).atan()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acot",n.factory=r},{"../../utils/collection/deepMap":524}],422:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acoth",{number:function(n){return n>=1||n<=-1||e.predictable?isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0:new t.Complex(n,0).acoth()},Complex:function(t){return t.acoth()},BigNumber:function(e){return new t.BigNumber(1).div(e).atanh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acoth",n.factory=r},{"../../utils/collection/deepMap":524}],423:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acsc",{number:function(n){return n<=-1||n>=1||e.predictable?Math.asin(1/n):new t.Complex(n,0).acsc()},Complex:function(t){return t.acsc()},BigNumber:function(e){return new t.BigNumber(1).div(e).asin()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acsc",n.factory=r},{"../../utils/collection/deepMap":524}],424:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("acsch",{number:function(t){return t=1/t,Math.log(t+Math.sqrt(t*t+1))},Complex:function(t){return t.acsch()},BigNumber:function(e){return new t.BigNumber(1).div(e).asinh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="acsch",n.factory=r},{"../../utils/collection/deepMap":524}],425:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("asec",{number:function(n){return n<=-1||n>=1||e.predictable?Math.acos(1/n):new t.Complex(n,0).asec()},Complex:function(t){return t.asec()},BigNumber:function(e){return new t.BigNumber(1).div(e).acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="asec",n.factory=r},{"../../utils/collection/deepMap":524}],426:[function(t,e,n){"use strict";function r(e,n,r,o){var a=(o.find(r(t("./acosh")),["Complex"]),o("asech",{number:function(t){if(t<=1&&t>=-1||n.predictable){t=1/t;var r=Math.sqrt(t*t-1);return t>0||n.predictable?Math.log(r+t):new e.Complex(Math.log(r-t),Math.PI)}return new e.Complex(t,0).asech()},Complex:function(t){return t.asech()},BigNumber:function(t){return new e.BigNumber(1).div(t).acosh()},"Array | Matrix":function(t){return i(t,a)}}));return a.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap");n.name="asech",n.factory=r},{"../../utils/collection/deepMap":524,"./acosh":420}],427:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("asin",{number:function(n){return n>=-1&&n<=1||e.predictable?Math.asin(n):new t.Complex(n,0).asin()},Complex:function(t){return t.asin()},BigNumber:function(t){return t.asin()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="asin",n.factory=r},{"../../utils/collection/deepMap":524}],428:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("asinh",{number:Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Complex:function(t){return t.asinh()},BigNumber:function(t){return t.asinh()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="asinh",n.factory=r},{"../../utils/collection/deepMap":524}],429:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("atan",{number:function(t){return Math.atan(t)},Complex:function(t){return t.atan()},BigNumber:function(t){return t.atan()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="atan",n.factory=r},{"../../utils/collection/deepMap":524}],430:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../type/matrix/function/matrix")),a=r(t("../../type/matrix/utils/algorithm02")),s=r(t("../../type/matrix/utils/algorithm03")),u=r(t("../../type/matrix/utils/algorithm09")),c=r(t("../../type/matrix/utils/algorithm11")),l=r(t("../../type/matrix/utils/algorithm12")),f=r(t("../../type/matrix/utils/algorithm13")),p=r(t("../../type/matrix/utils/algorithm14")),h=i("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(t,n){return e.BigNumber.atan2(t,n)},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,h,!1);break;default:n=a(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,h,!1);break;default:n=f(t,e,h)}}return n},"Array, Array":function(t,e){return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return h(o(t),e)},"Matrix, Array":function(t,e){return h(t,o(e))},"Matrix, number | BigNumber":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,h,!1);break;default:n=p(t,e,h,!1)}return n},"number | BigNumber, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,h,!0);break;default:n=p(e,t,h,!0)}return n},"Array, number | BigNumber":function(t,e){return p(o(t),e,h,!1).valueOf()},"number | BigNumber, Array":function(t,e){return p(o(e),t,h,!0).valueOf()}});return h.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},h}n.name="atan2",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm02":486,"../../type/matrix/utils/algorithm03":487,"../../type/matrix/utils/algorithm09":493,"../../type/matrix/utils/algorithm11":495,"../../type/matrix/utils/algorithm12":496,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498}],431:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("atanh",{number:function(n){return n<=1&&n>=-1||e.predictable?o(n):new t.Complex(n,0).atanh()},Complex:function(t){return t.atanh()},BigNumber:function(t){return t.atanh()},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2};n.name="atanh",n.factory=r},{"../../utils/collection/deepMap":524}],432:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("cos",{number:Math.cos,Complex:function(t){return t.cos()},BigNumber:function(t){return t.cos()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="cos",n.factory=r},{"../../utils/collection/deepMap":524}],433:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("cosh",{number:o,Complex:function(t){return t.cosh()},BigNumber:function(t){return t.cosh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\cosh\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2};n.name="cosh",n.factory=r},{"../../utils/collection/deepMap":524}],434:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("cot",{number:function(t){return 1/Math.tan(t)},Complex:function(t){return t.cot()},BigNumber:function(e){return new t.BigNumber(1).div(e.tan())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="cot",n.factory=r},{"../../utils/collection/deepMap":524}],435:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("coth",{number:i,Complex:function(t){return t.coth()},BigNumber:function(e){return new t.BigNumber(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\coth\\left(${args[0]}\\right)"},a}function i(t){var e=Math.exp(2*t);return(e+1)/(e-1)}var o=t("../../utils/collection/deepMap");n.name="coth",n.factory=r},{"../../utils/collection/deepMap":524}],436:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("csc",{number:function(t){return 1/Math.sin(t)},Complex:function(t){return t.csc()},BigNumber:function(e){return new t.BigNumber(1).div(e.sin())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="csc",n.factory=r},{"../../utils/collection/deepMap":524}],437:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("csch",{number:i,Complex:function(t){return t.csch()},BigNumber:function(e){return new t.BigNumber(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},a}function i(t){return 0==t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*a(t)}var o=t("../../utils/collection/deepMap"),a=t("../../utils/number").sign;n.name="csch",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532}],438:[function(t,e,n){e.exports=[t("./acos"),t("./acosh"),t("./acot"),t("./acoth"),t("./acsc"),t("./acsch"),t("./asec"),t("./asech"),t("./asin"),t("./asinh"),t("./atan"),t("./atan2"),t("./atanh"),t("./cos"),t("./cosh"),t("./cot"),t("./coth"),t("./csc"),t("./csch"),t("./sec"),t("./sech"),t("./sin"),t("./sinh"),t("./tan"),t("./tanh")]},{"./acos":419,"./acosh":420,"./acot":421,"./acoth":422,"./acsc":423,"./acsch":424,"./asec":425,"./asech":426,"./asin":427,"./asinh":428,"./atan":429,"./atan2":430,"./atanh":431,"./cos":432,"./cosh":433,"./cot":434,"./coth":435,"./csc":436,"./csch":437,"./sec":439,"./sech":440,"./sin":441,"./sinh":442,"./tan":443,"./tanh":444}],439:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("sec",{number:function(t){return 1/Math.cos(t)},Complex:function(t){return t.sec()},BigNumber:function(e){return new t.BigNumber(1).div(e.cos())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="sec",n.factory=r},{"../../utils/collection/deepMap":524}],440:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("sech",{number:i,Complex:function(t){return t.sech()},BigNumber:function(e){return new t.BigNumber(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},a}function i(t){return 2/(Math.exp(t)+Math.exp(-t))}var o=t("../../utils/collection/deepMap");n.name="sech",n.factory=r},{"../../utils/collection/deepMap":524}],441:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("sin",{number:Math.sin,Complex:function(t){return t.sin()},BigNumber:function(t){return t.sin()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sin\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="sin",n.factory=r},{"../../utils/collection/deepMap":524}],442:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("sinh",{number:o,Complex:function(t){return t.sinh()},BigNumber:function(t){return t.sinh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\sinh\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2};n.name="sinh",n.factory=r},{"../../utils/collection/deepMap":524}],443:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("tan",{number:Math.tan,Complex:function(t){return t.tan()},BigNumber:function(t){return t.tan()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\tan\\left(${args[0]}\\right)"},o}var i=t("../../utils/collection/deepMap");n.name="tan",n.factory=r},{"../../utils/collection/deepMap":524}],444:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("tanh",{number:o,Complex:function(t){return t.tanh()},BigNumber:function(t){return t.tanh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\tanh\\left(${args[0]}\\right)"},a}var i=t("../../utils/collection/deepMap"),o=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};n.name="tanh",n.factory=r},{"../../utils/collection/deepMap":524}],445:[function(t,e,n){e.exports=[t("./to")]},{"./to":446}],446:[function(t,e,n){"use strict";function r(e,n,r,i){var o=t("../../utils/latex"),a=r(t("../../type/matrix/function/matrix")),s=r(t("../../type/matrix/utils/algorithm13")),u=r(t("../../type/matrix/utils/algorithm14")),c=i("to",{"Unit, Unit | string":function(t,e){return t.to(e)},"Matrix, Matrix":function(t,e){return s(t,e,c)},"Array, Array":function(t,e){return c(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return c(a(t),e)},"Matrix, Array":function(t,e){return c(t,a(e))},"Matrix, any":function(t,e){return u(t,e,c,!1)},"any, Matrix":function(t,e){return u(e,t,c,!0)},"Array, any":function(t,e){return u(a(t),e,c,!1).valueOf()},"any, Array":function(t,e){return u(a(e),t,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}"+o.operators.to+"${args[1]}\\right)"},c}n.name="to",n.factory=r},{"../../type/matrix/function/matrix":482,"../../type/matrix/utils/algorithm13":497,"../../type/matrix/utils/algorithm14":498,"../../utils/latex":531}],447:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("clone",{any:i.clone});return o.toTex=void 0,o}var i=t("../../utils/object");n.name="clone",n.factory=r},{"../../utils/object":533}],448:[function(t,e,n){e.exports=[t("./clone"),t("./isInteger"),t("./isNegative"),t("./isNumeric"),t("./isPositive"),t("./isPrime"),t("./isZero"),t("./isNaN"),t("./typeof")]},{"./clone":447,"./isInteger":449,"./isNaN":450,"./isNegative":451,"./isNumeric":452,"./isPositive":453,"./isPrime":454,"./isZero":455,"./typeof":456}],449:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("isInteger",{number:o.isInteger,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":function(t){return i(t,a)}});return a}var i=t("../../utils/collection/deepMap"),o=t("../../utils/number");n.name="isInteger",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532}],450:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isNaN",{number:function(t){return Number.isNaN(t)},BigNumber:function(t){return t.isNaN()},Fraction:function(t){return!1},Complex:function(t){return Number.isNaN(t.re)&&Number.isNaN(t.im)},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":function(t){return i(t,Number.isNaN)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isNaN",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532}],451:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isNegative",{number:function(t){return t<0},BigNumber:function(t){return t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s<0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isNegative",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532}],452:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isNumeric",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532}],453:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isPositive",{number:function(t){return t>0},BigNumber:function(t){return!t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s>0&&t.n>0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isPositive",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532}],454:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isPrime",{number:function(t){if(t<2)return!1;if(2==t)return!0;if(t%2==0)return!1;for(var e=3;e*e<=t;e+=2)if(t%e==0)return!1;return!0},BigNumber:function(e){if(e.lt(2))return!1;if(e.equals(2))return!0;if(e.mod(2).isZero())return!1;for(var n=t.BigNumber(3);n.times(n).lte(e);n=n.plus(1))if(e.mod(n).isZero())return!1;return!0},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");n.name="isPrime",n.factory=r},{"../../utils/collection/deepMap":524}],455:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("isZero",{number:function(t){return 0===t},BigNumber:function(t){return t.isZero()},Complex:function(t){return 0===t.re&&0===t.im},Fraction:function(t){return 1===t.d&&0===t.n},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../utils/collection/deepMap");t("../../utils/number");n.name="isZero",n.factory=r},{"../../utils/collection/deepMap":524,"../../utils/number":532}],456:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("_typeof",{any:function(t){var e=i.type(t);if("Object"===e){if(t.isBigNumber===!0)return"BigNumber";if(t.isComplex===!0)return"Complex";if(t.isFraction===!0)return"Fraction";if(t.isMatrix===!0)return"Matrix";if(t.isUnit===!0)return"Unit";if(t.isIndex===!0)return"Index";if(t.isRange===!0)return"Range";if(t.isChain===!0)return"Chain";if(t.isHelp===!0)return"Help"}return e}});return o.toTex=void 0,o}var i=t("../../utils/types");n.name="typeof",n.factory=r},{"../../utils/types":535}],457:[function(t,e,n){e.exports=[t("./reviver")]},{"./reviver":458}],458:[function(t,e,n){"use strict";function r(t,e,n,r){return function(e,n){var r=t[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}}n.name="reviver",n.path="json",n.factory=r},{}],459:[function(t,e,n){function r(t,e,n,r,o){var a=i.clone({precision:e.precision});return a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(t){return new a(t.value)},o.on("config",function(t,e){t.precision!==e.precision&&a.config({precision:t.precision})}),a}var i=t("decimal.js");n.name="BigNumber",n.path="type",n.factory=r,n.math=!0},{"decimal.js":22}],460:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(t){return t},Fraction:function(e){return new t.BigNumber(e.n).div(e.d)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)"},o}var i=t("../../../utils/collection/deepMap");n.name="bignumber",n.factory=r},{"../../../utils/collection/deepMap":524}],461:[function(t,e,n){e.exports=[t("./BigNumber"),t("./function/bignumber")]},{"./BigNumber":459,"./function/bignumber":460}],462:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("bool",{"":function(){return!1},"boolean":function(t){return t},number:function(t){return!!t},BigNumber:function(t){return!t.isZero()},string:function(t){var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;var n=Number(t);if(""!=t&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+t+'" to a boolean')},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("./../utils/collection/deepMap");n.name="boolean",n.factory=r},{"./../utils/collection/deepMap":524}],463:[function(t,e,n){"use strict";function r(t,e,n,r,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");t&&t.isChain?this.value=t.value:this.value=t}function u(t,e){"function"==typeof e&&(s.prototype[t]=l(e))}function c(t,e){o(s.prototype,t,function(){var t=e();if("function"==typeof t)return l(t)})}function l(t){return function(){for(var e=[this.value],n=0;n<arguments.length;n++)e[n+1]=arguments[n];return new s(t.apply(t,e))}}return s.prototype.type="Chain",s.prototype.isChain=!0,s.prototype.done=function(){return this.value},s.prototype.valueOf=function(){return this.value},s.prototype.toString=function(){return i(this.value)},s.createProxy=function(t,e){if("string"==typeof t)u(t,e);else for(var n in t)t.hasOwnProperty(n)&&u(n,t[n])},s.createProxy(a),a.on("import",function(t,e,n){void 0===n&&c(t,e)}),s}var i=t("../../utils/string").format,o=t("../../utils/object").lazy;n.name="Chain",n.path="type",n.factory=r,n.math=!0,n.lazy=!1},{"../../utils/object":533,"../../utils/string":534}],464:[function(t,e,n){"use strict";function r(t,e,n,r){return r("chain",{"":function(){return new t.Chain},any:function(e){return new t.Chain(e)}})}n.name="chain",n.factory=r},{}],465:[function(t,e,n){e.exports=[t("./Chain"),t("./function/chain")]},{"./Chain":463,"./function/chain":464}],466:[function(t,e,n){function r(t,e,n,r,s){return i.prototype.type="Complex",i.prototype.isComplex=!0,i.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},i.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},i.prototype.format=function(t){var e="",n=this.im,r=this.re,i=o(this.re,t),s=o(this.im,t),u=a(t)?t:t?t.precision:null;if(null!==u){var c=Math.pow(10,-u);Math.abs(r/n)<c&&(r=0),Math.abs(n/r)<c&&(n=0)}return e=0==n?i:0==r?1==n?"i":n==-1?"-i":s+"i":n>0?1==n?i+" + i":i+" + "+s+"i":n==-1?i+" - i":i+" - "+s.substring(1)+"i"},i.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return i(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(a(n)){if(r&&r.isUnit&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),a(r))return new i({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},i.prototype.valueOf=i.prototype.toString,i.fromJSON=function(t){return new i(t)},i.EPSILON=e.epsilon,s.on("config",function(t,e){t.epsilon!==e.epsilon&&(i.EPSILON=t.epsilon)}),i}var i=t("complex.js"),o=t("../../utils/number").format,a=t("../../utils/number").isNumber;n.name="Complex",n.path="type",n.factory=r,n.math=!0},{"../../utils/number":532,"complex.js":3}],467:[function(t,e,n){"use strict";function r(e,n,r,o){var a=t("../../../utils/latex"),s=o("complex",{
"":function(){return e.Complex.ZERO},number:function(t){return new e.Complex(t,0)},"number, number":function(t,n){return new e.Complex(t,n)},"BigNumber, BigNumber":function(t,n){return new e.Complex(t.toNumber(),n.toNumber())},Complex:function(t){return t.clone()},string:function(t){return e.Complex(t)},Object:function(t){if("re"in t&&"im"in t)return new e.Complex(t.re,t.im);if("r"in t&&"phi"in t)return new e.Complex(t);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+a.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},s}var i=t("../../../utils/collection/deepMap");n.name="complex",n.factory=r},{"../../../utils/collection/deepMap":524,"../../../utils/latex":531}],468:[function(t,e,n){e.exports=[t("./Complex"),t("./function/complex")]},{"./Complex":466,"./function/complex":467}],469:[function(t,e,n){function r(t,e,n,r){return i}var i=t("fraction.js");i.prototype.type="Fraction",i.prototype.isFraction=!0,i.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},i.fromJSON=function(t){return new i(t)},n.name="Fraction",n.path="type",n.factory=r},{"fraction.js":24}],470:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},"number, number":function(e,n){return new t.Fraction(e,n)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=t("../../../utils/collection/deepMap");n.name="fraction",n.factory=r},{"../../../utils/collection/deepMap":524}],471:[function(t,e,n){e.exports=[t("./Fraction"),t("./function/fraction")]},{"./Fraction":469,"./function/fraction":470}],472:[function(t,e,n){e.exports=[t("./bignumber"),t("./boolean"),t("./chain"),t("./complex"),t("./fraction"),t("./matrix"),t("./number"),t("./resultset"),t("./string"),t("./unit")]},{"./bignumber":461,"./boolean":462,"./chain":465,"./complex":468,"./fraction":471,"./matrix":484,"./number":499,"./resultset":501,"./string":502,"./unit":507}],473:[function(t,e,n){"use strict";function r(e,n,r,c){function m(t,e){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!h(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)"DenseMatrix"===t.type?(this._data=u.clone(t._data),this._size=u.clone(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&l(t.data)&&l(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))this._data=w(t),this._size=s.size(this._data),s.validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e}}function g(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var n=e.isScalar();if(n)return t.get(e.min());var r=e.size();if(r.length!=t._size.length)throw new o(r.length,t._size.length);for(var i=e.min(),a=e.max(),s=0,u=t._size.length;s<u;s++)d(i[s],t._size[s]),d(a[s],t._size[s]);return new m(y(t._data,e,r.length,0),t._datatype)}function y(t,e,n,r){var i=r==n-1,o=e.dimension(r);return i?o.map(function(e){return t[e]}).valueOf():o.map(function(i){var o=t[i];return y(o,e,n,r+1)}).valueOf()}function v(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var i,a=e.size(),c=e.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.valueOf()):i=s.size(n),c){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(a.length<t._size.length)throw new o(a.length,t._size.length,"<");if(i.length<a.length){for(var l=0,f=0;1===a[l]&&1===i[l];)l++;for(;1===a[l];)f++,l++;n=s.unsqueeze(n,a.length,f,i)}if(!u.deepEqual(a,i))throw new o(a,i,">");var p=e.max().map(function(t){return t+1});x(t,p,r);var h=a.length,d=0;b(t._data,e,n,h,d)}return t}function b(t,e,n,r,i){var o=i==r-1,a=e.dimension(i);o?a.forEach(function(e,r){d(e),t[e]=n[r[0]]}):a.forEach(function(o,a){d(o),b(t[o],e,n[a[0]],r,i+1)})}function x(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,a=e.length;o<a;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&N(t,r,n)}function w(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];l(r)?t[e]=w(r):r&&r.isMatrix===!0&&(t[e]=w(r.valueOf()))}return t}var _=r(t("./Matrix"));m.prototype=new _,m.prototype.type="DenseMatrix",m.prototype.isDenseMatrix=!0,m.prototype.storage=function(){return"dense"},m.prototype.datatype=function(){return this._datatype},m.prototype.create=function(t,e){return new m(t,e)},m.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return g(this,t);case 2:case 3:return v(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},m.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);for(var e=0;e<t.length;e++)d(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var a=t[r];d(a,n.length),n=n[a]}return n},m.prototype.set=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new o(t.length,this._size.length,"<");var r,i,a,s=t.map(function(t){return t+1});x(this,s,n);var u=this._data;for(r=0,i=t.length-1;r<i;r++)a=t[r],d(a,u.length),u=u[a];return a=t[t.length-1],d(a,u.length),u[a]=e,this},m.prototype.resize=function(t,e,n){if(!l(t))throw new TypeError("Array expected");var r=n?this.clone():this;return N(r,t,e)};var N=function(t,e,n){if(0===e.length){for(var r=t._data;l(r);)r=r[0];return r}return t._size=e.slice(0),t._data=s.resize(t._data,t._size,n),t};return m.prototype.clone=function(){var t=new m({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype});return t},m.prototype.size=function(){return this._size.slice(0)},m.prototype.map=function(t){var e=this,n=function(r,i){return l(r)?r.map(function(t,e){return n(t,i.concat(e))}):t(r,i,e)};return new m({data:n(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},m.prototype.forEach=function(t){var e=this,n=function(r,i){l(r)?r.forEach(function(t,e){n(t,i.concat(e))}):t(r,i,e)};n(this._data,[])},m.prototype.toArray=function(){return u.clone(this._data)},m.prototype.valueOf=function(){return this._data},m.prototype.format=function(t){return a.format(this._data,t)},m.prototype.toString=function(){return a.format(this._data)},m.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},m.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!p(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=0;s<o;s++)a[s]=this._data[s+n][s+e];return new m({data:a,size:[o],datatype:this._datatype})},m.diagonal=function(t,n,r,i,o){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!p(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){if(r&&r.isBigNumber===!0&&(r=r.toNumber()),!f(r)||!p(r))throw new TypeError("The parameter k must be an integer number")}else r=0;i&&h(o)&&(i=c.convert(i,o));var a,u=r>0?r:0,d=r<0?-r:0,g=t[0],y=t[1],v=Math.min(g-d,y-u);if(l(n)){if(n.length!==v)throw new Error("Invalid value array length");a=function(t){return n[t]}}else if(n&&n.isMatrix===!0){var b=n.size();if(1!==b.length||b[0]!==v)throw new Error("Invalid matrix length");a=function(t){return n.get([t])}}else a=function(){return n};i||(i=a(0)&&a(0).isBigNumber===!0?new e.BigNumber(0):0);var x=[];if(t.length>0){x=s.resize(x,t,i);for(var w=0;w<v;w++)x[w+d][w+u]=a(w)}return new m({data:x,size:[g,y]})},m.fromJSON=function(t){return new m(t)},m.prototype.swapRows=function(t,e){if(!(f(t)&&p(t)&&f(e)&&p(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(t,this._size[0]),d(e,this._size[0]),m._swapRows(t,e,this._data),this},m._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},e.Matrix._storage.dense=m,e.Matrix._storage["default"]=m,m}var i=t("../../utils/index"),o=t("../../error/DimensionError"),a=i.string,s=i.array,u=i.object,c=i.number,l=Array.isArray,f=c.isNumber,p=c.isInteger,h=a.isString,d=s.validateIndex;n.name="DenseMatrix",n.path="type",n.factory=r,n.lazy=!1},{"../../error/DimensionError":49,"../../utils/index":530,"./Matrix":476}],474:[function(t,e,n){"use strict";function r(e,n,r,i){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var a=r(t("../../function/relational/smaller")),s=r(t("../../function/relational/larger")),u=1/Math.log((1+Math.sqrt(5))/2);o.prototype.type="FibonacciHeap",o.prototype.isFibonacciHeap=!0,o.prototype.insert=function(t,e){var n={key:t,value:e,degree:0};if(this._minimum){var r=this._minimum;n.left=r,n.right=r.right,r.right=n,n.right.left=n,a(t,r.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},o.prototype.size=function(){return this._size},o.prototype.clear=function(){this._minimum=null,this._size=0},o.prototype.isEmpty=function(){return!!this._minimum},o.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,n=t.degree,r=t.child;n>0;){var i=r.right;r.left.right=r.right,r.right.left=r.left,r.left=e,r.right=e.right,e.right=r,r.right.left=r,r.parent=null,r=i,n--}return t.left.right=t.right,t.right.left=t.left,t==t.right?e=null:(e=t.right,e=h(e,this._size)),this._size--,this._minimum=e,t},o.prototype.remove=function(t){this._minimum=c(this._minimum,t,-1),this.extractMinimum()};var c=function(t,e,n){e.key=n;var r=e.parent;return r&&a(e.key,r.key)&&(l(t,e,r),f(t,r)),a(e.key,t.key)&&(t=e),t},l=function(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child==e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1},f=function(t,e){var n=e.parent;n&&(e.mark?(l(t,e,n),f(n)):e.mark=!0)},p=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1},h=function(t,e){var n=Math.floor(Math.log(e)*u)+1,r=new Array(n),i=0,o=t;if(o)for(i++,o=o.right;o!==t;)i++,o=o.right;for(var c;i>0;){for(var l=o.degree,f=o.right;;){if(c=r[l],!c)break;if(s(o.key,c.key)){var h=c;c=o,o=h}p(c,o),r[l]=null,l++}r[l]=o,o=f,i--}t=null;for(var d=0;d<n;d++)c=r[d],c&&(t?(c.left.right=c.right,c.right.left=c.left,c.left=t,c.right=t.right,t.right=c,c.right.left=c,a(c.key,t.key)&&(t=c)):t=c);return t};return o}n.name="FibonacciHeap",n.path="type",n.factory=r},{"../../function/relational/larger":397,"../../function/relational/smaller":399}],475:[function(t,e,n){"use strict";function r(e,n,r){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0||s(t)){var n=new c(t,e);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(t&&s(t.data)&&s(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min="undefined"!=typeof t.min?t.min:null,this._max="undefined"!=typeof t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}var c=r(t("./DenseMatrix")),l=r(t("../../function/relational/smaller"));return o.prototype=new c,o.prototype.type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(t){switch(arguments.length){case 1:var e=c.prototype.subset.call(this,t);return e.isMatrix?new o({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.clone=function(){var t=new o({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype});return t},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(t){return new o(t)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||l(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},o.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||l(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},o}var i=t("../../utils/index"),o=i.string,a=i.object,s=Array.isArray,u=o.isString;n.name="ImmutableDenseMatrix",n.path="type",n.factory=r},{"../../function/relational/smaller":399,"../../utils/index":530,"./DenseMatrix":473}],476:[function(t,e,n){"use strict";function r(t,e,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(t){if(!a(t))throw new TypeError("format must be a string value");var e=i._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}var i=t("../../utils/index"),o=i.string,a=o.isString;n.name="Matrix",n.path="type",n.factory=r},{"../../utils/index":530}],477:[function(t,e,n){"use strict";function r(t){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var r=0,i=arguments.length;r<i;r++){var o=arguments[r];if(o&&o.isRange===!0)this._dimensions.push(o),this._isScalar=!1;else if(o&&(Array.isArray(o)||o.isMatrix===!0)){var a=n(o.valueOf());this._dimensions.push(a);var s=a.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(n([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function n(e){for(var n=0,r=e.length;n<r;n++)if("number"!=typeof e[n]||!o(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t.ImmutableDenseMatrix(e)}return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=i(this._dimensions),t._isScalar=this._isScalar,t},e.create=function(t){var n=new e;return e.apply(n,t),n},e.prototype.size=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?1:r.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.max()}return t},e.prototype.min=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.min()}return t},e.prototype.forEach=function(t){for(var e=0,n=this._dimensions.length;e<n;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t.push("string"==typeof r?r:r.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];"string"==typeof r?t.push(JSON.stringify(r)):t.push(r.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}var i=t("../../utils/object").clone,o=t("../../utils/number").isInteger;n.name="Index",n.path="type",n.factory=r},{"../../utils/number":532,"../../utils/object":533}],478:[function(t,e,n){"use strict";function r(t,e,n,r){function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(t.isBigNumber===!0)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=e)if(e.isBigNumber===!0)e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(null!=n)if(n.isBigNumber===!0)n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=e?parseFloat(e):0,this.step=null!=n?parseFloat(n):1}return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":"),n=e.map(function(t){return parseFloat(t)}),r=n.some(function(t){return isNaN(t)});if(r)return null;switch(n.length){case 2:return new o(n[0],n[1]);case 3:return new o(n[0],n[2],n[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var t=0,e=this.start,n=this.step,r=this.end,o=r-e;return i.sign(n)==i.sign(o)?t=Math.ceil(o/n):0==o&&(t=0),isNaN(t)&&(t=0),[t]},o.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},o.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},o.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;e<r;)t(e,[i],this),e+=n,i++;else if(n<0)for(;e>r;)t(e,[i],this),e+=n,i++},o.prototype.map=function(t){var e=[];return this.forEach(function(n,r,i){e[r[0]]=t(n,r,i)}),e},o.prototype.toArray=function(){var t=[];return this.forEach(function(e,n){t[n[0]]=e}),t},o.prototype.valueOf=function(){return this.toArray()},o.prototype.format=function(t){var e=i.format(this.start,t);return 1!=this.step&&(e+=":"+i.format(this.step,t)),e+=":"+i.format(this.end,t)},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(t){return new o(t.start,t.end,t.step)},o}var i=t("../../utils/number");n.name="Range",n.path="type",n.factory=r},{"../../utils/number":532}],479:[function(t,e,n){"use strict";function r(e,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e.FibonacciHeap}var o=r(t("../../function/arithmetic/add")),a=r(t("../../function/relational/equalScalar"));return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var n=this._heap.insert(t,e);this._values[t]=n}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,e){var n=this._values[t];n?n.value=o(n.value,e):(n=this._heap.insert(t,e),this._values[t]=n)},i.prototype.forEach=function(t,e,n){var r=this._heap,i=this._values,o=[],s=r.extractMinimum();for(s&&o.push(s);s&&s.key<=e;)s.key>=t&&(a(s.value,0)||n(s.key,s.value,this)),s=r.extractMinimum(),s&&o.push(s);for(var u=0;u<o.length;u++){var c=o[u];s=r.insert(c.key,c.value),i[s.key]=s}},i.prototype.swap=function(t,e){var n=this._values[t],r=this._values[e];if(!n&&r)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(n&&!r)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}n.name="Spa",n.path="type",n.factory=r},{"../../function/arithmetic/add":298,"../../function/relational/equalScalar":395}],480:[function(t,e,n){"use strict";function r(e,n,r,m){function g(t,e){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!h(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)b(this,t,e);else if(t&&l(t.index)&&l(t.ptr)&&l(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))x(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}var y=r(t("./Matrix")),v=r(t("../../function/relational/equalScalar")),b=function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?s.clone(e._values):void 0,t._index=s.clone(e._index),t._ptr=s.clone(e._ptr),t._size=s.clone(e._size),t._datatype=n||e._datatype):x(t,e.valueOf(),n||e._datatype)},x=function(t,e,n){t._values=[],t._index=[],t._ptr=[],t._datatype=n;var r=e.length,i=0,o=v,a=0;if(h(n)&&(o=m.find(v,[n,n])||v,a=m.convert(0,n)),r>0){var s=0;do{t._ptr.push(t._index.length);for(var u=0;u<r;u++){var c=e[u];if(l(c)){if(0===s&&i<c.length&&(i=c.length),s<c.length){var f=c[s];o(f,a)||(t._values.push(f),t._index.push(u))}}else 0===s&&i<1&&(i=1),o(c,a)||(t._values.push(c),t._index.push(u))}s++}while(s<i)}t._ptr.push(t._index.length),t._size=[r,i]};g.prototype=new y,g.prototype.type="SparseMatrix",g.prototype.isSparseMatrix=!0,g.prototype.storage=function(){return"sparse"},g.prototype.datatype=function(){return this._datatype},g.prototype.create=function(t,e){return new g(t,e)},g.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},g.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return w(this,t);case 2:case 3:return _(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}};var w=function(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var n=e.isScalar();if(n)return t.get(e.min());var r=e.size();if(r.length!=t._size.length)throw new o(r.length,t._size.length);var i,a,s,u,c=e.min(),l=e.max();for(i=0,a=t._size.length;i<a;i++)d(c[i],t._size[i]),d(l[i],t._size[i]);var f=t._values,p=t._index,h=t._ptr,m=e.dimension(0),y=e.dimension(1),v=[],b=[];m.forEach(function(t,e){b[t]=e[0],v[t]=!0});var x=f?[]:void 0,w=[],_=[];return y.forEach(function(t){for(_.push(w.length),s=h[t],u=h[t+1];s<u;s++)i=p[s],v[i]===!0&&(w.push(b[i]),x&&x.push(f[s]))}),_.push(w.length),new g({values:x,index:w,ptr:_,size:r,datatype:t._datatype})},_=function(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var i,u=e.size(),c=e.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.toArray()):i=a.size(n),c){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==u.length&&2!==u.length)throw new o(u.length,t._size.length,"<");if(i.length<u.length){for(var l=0,f=0;1===u[l]&&1===i[l];)l++;for(;1===u[l];)f++,l++;n=a.unsqueeze(n,u.length,f,i)}if(!s.deepEqual(u,i))throw new o(u,i,">");for(var p=e.min()[0],h=e.min()[1],d=i[0],m=i[1],g=0;g<d;g++)for(var y=0;y<m;y++){var v=n[g][y];t.set([g+p,y+h],v,r)}}return t};g.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];d(e,this._size[0]),d(n,this._size[1]);var r=N(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},g.prototype.set=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var r=t[0],i=t[1],a=this._size[0],s=this._size[1],u=v,c=0;h(this._datatype)&&(u=m.find(v,[this._datatype,this._datatype])||v,c=m.convert(0,this._datatype)),(r>a-1||i>s-1)&&(S(this,Math.max(r+1,a),Math.max(i+1,s),n),a=this._size[0],s=this._size[1]),d(r,a),d(i,s);var f=N(r,this._ptr[i],this._ptr[i+1],this._index);return f<this._ptr[i+1]&&this._index[f]===r?u(e,c)?E(f,i,this._values,this._index,this._ptr):this._values[f]=e:M(f,r,i,e,this._values,this._index,this._ptr),this};var N=function(t,e,n,r){if(n-e===0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e},E=function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--},M=function(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++};g.prototype.resize=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")});var r=n?this.clone():this;return S(r,t[0],t[1],e)};var S=function(t,e,n,r){var i=r||0,o=v,a=0;h(t._datatype)&&(o=m.find(v,[t._datatype,t._datatype])||v,a=m.convert(0,t._datatype),i=m.convert(i,t._datatype));var s,u,c,l=!o(i,a),f=t._size[0],p=t._size[1];if(n>p){for(u=p;u<n;u++)if(t._ptr[u]=t._values.length,l)for(s=0;s<f;s++)t._values.push(i),t._index.push(s);t._ptr[n]=t._values.length}else n<p&&(t._ptr.splice(n+1,p-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(p=n,e>f){if(l){var d=0;for(u=0;u<p;u++){t._ptr[u]=t._ptr[u]+d,c=t._ptr[u+1]+d;var g=0;for(s=f;s<e;s++,g++)t._values.splice(c+g,0,i),t._index.splice(c+g,0,s),d++}t._ptr[p]=t._values.length}}else if(e<f){var y=0;for(u=0;u<p;u++){t._ptr[u]=t._ptr[u]-y;var b=t._ptr[u],x=t._ptr[u+1]-y;for(c=b;c<x;c++)s=t._index[c],s>e-1&&(t._values.splice(c,1),t._index.splice(c,1),y++)}t._ptr[u]=t._values.length}return t._size[0]=e,t._size[1]=n,t};g.prototype.clone=function(){var t=new g({values:this._values?s.clone(this._values):void 0,index:s.clone(this._index),ptr:s.clone(this._ptr),size:s.clone(this._size),datatype:this._datatype});return t},g.prototype.size=function(){return this._size.slice(0)},g.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var n=this,r=this._size[0],i=this._size[1],o=function(e,r,i){return t(e,[r,i],n)};return O(this,0,r-1,0,i-1,o,e)};var O=function(t,e,n,r,i,o,a){var s=[],u=[],c=[],l=v,f=0;h(t._datatype)&&(l=m.find(v,[t._datatype,t._datatype])||v,f=m.convert(0,t._datatype));for(var p=function(t,e,n){t=o(t,e,n),l(t,f)||(s.push(t),u.push(e))},d=r;d<=i;d++){c.push(s.length);for(var y=t._ptr[d],b=t._ptr[d+1],x=e,w=y;w<b;w++){var _=t._index[w];if(_>=e&&_<=n){if(!a)for(var N=x;N<_;N++)p(0,N-e,d-r);p(t._values[w],_-e,d-r)}x=_+1}if(!a)for(var E=x;E<=n;E++)p(0,E-e,d-r)}return c.push(s.length),new g({values:s,index:u,ptr:c,size:[n-e+1,i-r+1]})};g.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this,r=this._size[0],i=this._size[1],o=0;o<i;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,c=a;c<s;c++){var l=this._index[c];if(!e)for(var f=u;f<l;f++)t(0,[f,o],n);t(this._values[c],[l,o],n),u=l+1}if(!e)for(var p=u;p<r;p++)t(0,[p,o],n)}},g.prototype.toArray=function(){return k(this._values,this._index,this._ptr,this._size,!0)},g.prototype.valueOf=function(){return k(this._values,this._index,this._ptr,this._size,!1)};var k=function(t,e,n,r,i){var o,a,u=r[0],c=r[1],l=[];for(o=0;o<u;o++)for(l[o]=[],a=0;a<c;a++)l[o][a]=0;for(a=0;a<c;a++)for(var f=n[a],p=n[a+1],h=f;h<p;h++)o=e[h],l[o][a]=t?i?s.clone(t[h]):t[h]:1;return l};return g.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+u.format(e,t)+" x "+u.format(n,t)+"] density: "+u.format(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],c=a;c<s;c++){var l=this._index[c];i+="\n    ("+u.format(l,t)+", "+u.format(o,t)+") ==> "+(this._values?u.format(this._values[c],t):"X")}return i},g.prototype.toString=function(){return u.format(this.toArray())},g.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},g.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!p(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=[],u=[];u[0]=0;for(var c=e;c<i&&a.length<o;c++)for(var l=this._ptr[c],h=this._ptr[c+1],d=l;d<h;d++){var m=this._index[d];if(m===c-e+n){a.push(this._values[d]),s[a.length-1]=m-n;break}}return u.push(a.length),new g({values:a,index:s,ptr:u,size:[o,1]})},g.fromJSON=function(t){return new g(t)},g.diagonal=function(t,e,n,r,i){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!p(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(n.isBigNumber===!0&&(n=n.toNumber()),!f(n)||!p(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=v,a=0;h(i)&&(o=m.find(v,[i,i])||v,a=m.convert(0,i));var s,u=n>0?n:0,c=n<0?-n:0,d=t[0],y=t[1],b=Math.min(d-c,y-u);if(l(e)){if(e.length!==b)throw new Error("Invalid value array length");s=function(t){return e[t]}}else if(e&&e.isMatrix===!0){var x=e.size();if(1!==x.length||x[0]!==b)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};for(var w=[],_=[],N=[],E=0;E<y;E++){N.push(w.length);var M=E-u;if(M>=0&&M<b){var S=s(M);o(S,a)||(_.push(M+c),w.push(S))}}return N.push(w.length),new g({values:w,index:_,ptr:N,size:[d,y]})},g.prototype.swapRows=function(t,e){if(!(f(t)&&p(t)&&f(e)&&p(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");
return d(t,this._size[0]),d(e,this._size[0]),g._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},g._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],s=o;s<a;s++)i(n[s],e[s])},g._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],u=o[a+1],c=N(t,s,u,i),l=N(e,s,u,i);if(c<u&&l<u&&i[c]===t&&i[l]===e){if(r){var f=r[c];r[c]=r[l],r[l]=f}}else if(c<u&&i[c]===t&&(l>=u||i[l]!==e)){var p=r?r[c]:void 0;i.splice(l,0,e),r&&r.splice(l,0,p),i.splice(l<=c?c+1:c,1),r&&r.splice(l<=c?c+1:c,1)}else if(l<u&&i[l]===e&&(c>=u||i[c]!==t)){var h=r?r[l]:void 0;i.splice(c,0,t),r&&r.splice(c,0,h),i.splice(c<=l?l+1:l,1),r&&r.splice(c<=l?l+1:l,1)}}},e.Matrix._storage.sparse=g,g}var i=t("../../utils/index"),o=t("../../error/DimensionError"),a=i.array,s=i.object,u=i.string,c=i.number,l=Array.isArray,f=c.isNumber,p=c.isInteger,h=u.isString,d=a.validateIndex;n.name="SparseMatrix",n.path="type",n.factory=r,n.lazy=!1},{"../../error/DimensionError":49,"../../function/relational/equalScalar":395,"../../utils/index":530,"./Matrix":476}],481:[function(t,e,n){"use strict";function r(t,e,n,r){return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var n=e.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t&&(Array.isArray(t)||t.isMatrix===!0)?t.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t}):t}),r=new t.Index;return t.Index.apply(r,n),r}})}n.name="index",n.factory=r},{}],482:[function(t,e,n){"use strict";function r(t,e,n,r){function i(e,n,r){var i=t.Matrix.storage(n||"default");return new i(e,r)}var o=r("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o}n.name="matrix",n.factory=r},{}],483:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.SparseMatrix,o=r("sparse",{"":function(){return new i([])},string:function(t){return new i([],t)},"Array | Matrix":function(t){return new i(t)},"Array | Matrix, string":function(t,e){return new i(t,e)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}n.name="sparse",n.factory=r},{}],484:[function(t,e,n){e.exports=[t("./Matrix"),t("./DenseMatrix"),t("./SparseMatrix"),t("./Spa"),t("./FibonacciHeap"),t("./ImmutableDenseMatrix"),t("./MatrixIndex"),t("./Range"),t("./function/index"),t("./function/matrix"),t("./function/sparse")]},{"./DenseMatrix":473,"./FibonacciHeap":474,"./ImmutableDenseMatrix":475,"./Matrix":476,"./MatrixIndex":477,"./Range":478,"./Spa":479,"./SparseMatrix":480,"./function/index":481,"./function/matrix":482,"./function/sparse":483}],485:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var s=t._data,u=t._size,c=t._datatype,l=e._values,f=e._index,p=e._ptr,h=e._size,d=e._datatype;if(u.length!==h.length)throw new i(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g,y=u[0],v=u[1],b="string"==typeof c&&c===d?c:void 0,x=b?r.find(n,[b,b]):n,w=[];for(m=0;m<y;m++)w[m]=[];var _=[],N=[];for(g=0;g<v;g++){for(var E=g+1,M=p[g],S=p[g+1],O=M;O<S;O++)m=f[O],_[m]=a?x(l[O],s[m][g]):x(s[m][g],l[O]),N[m]=E;for(m=0;m<y;m++)N[m]===E?w[m][g]=_[m]:w[m][g]=s[m][g]}return new o({data:w,size:[y,v],datatype:b})};return a}var i=t("../../../error/DimensionError");n.name="algorithm01",n.factory=r},{"../../../error/DimensionError":49}],486:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n,r){var u=t._data,c=t._size,l=t._datatype,f=e._values,p=e._index,h=e._ptr,d=e._size,m=e._datatype;if(c.length!==d.length)throw new i(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,y=c[0],v=c[1],b=a,x=0,w=n;"string"==typeof l&&l===m&&(g=l,b=o.find(a,[g,g]),x=o.convert(0,g),w=o.find(n,[g,g]));for(var _=[],N=[],E=[],M=0;M<v;M++){E[M]=N.length;for(var S=h[M],O=h[M+1],k=S;k<O;k++){var T=p[k],A=r?w(f[k],u[T][M]):w(u[T][M],f[k]);b(A,x)||(N.push(T),_.push(A))}}return E[v]=N.length,new s({values:_,index:N,ptr:E,size:[y,v],datatype:g})};return u}var i=t("../../../error/DimensionError");n.name="algorithm02",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":395}],487:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var s=t._data,u=t._size,c=t._datatype,l=e._values,f=e._index,p=e._ptr,h=e._size,d=e._datatype;if(u.length!==h.length)throw new i(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g=u[0],y=u[1],v=0,b=n;"string"==typeof c&&c===d&&(m=c,v=r.convert(0,m),b=r.find(n,[m,m]));for(var x=[],w=0;w<g;w++)x[w]=[];for(var _=[],N=[],E=0;E<y;E++){for(var M=E+1,S=p[E],O=p[E+1],k=S;k<O;k++){var T=f[k];_[T]=a?b(l[k],s[T][E]):b(s[T][E],l[k]),N[T]=M}for(var A=0;A<g;A++)N[A]===M?x[A][E]=_[A]:x[A][E]=a?b(v,s[A][E]):b(s[A][E],v)}return new o({data:x,size:[g,y],datatype:m})};return a}var i=t("../../../error/DimensionError");n.name="algorithm03",n.factory=r},{"../../../error/DimensionError":49}],488:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n){var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,h=e._index,d=e._ptr,m=e._size,g=e._datatype;if(l.length!==m.length)throw new i(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var y,v=l[0],b=l[1],x=a,w=0,_=n;"string"==typeof f&&f===g&&(y=f,x=o.find(a,[y,y]),w=o.convert(0,y),_=o.find(n,[y,y]));var N,E,M,S,O,k=r&&p?[]:void 0,T=[],A=[],C=new s({values:k,index:T,ptr:A,size:[v,b],datatype:y}),P=r&&p?[]:void 0,j=r&&p?[]:void 0,z=[],D=[];for(E=0;E<b;E++){A[E]=T.length;var R=E+1;for(S=c[E],O=c[E+1],M=S;M<O;M++)N=u[M],T.push(N),z[N]=R,P&&(P[N]=r[M]);for(S=d[E],O=d[E+1],M=S;M<O;M++)if(N=h[M],z[N]===R){if(P){var I=_(P[N],p[M]);x(I,w)?z[N]=null:P[N]=I}}else T.push(N),D[N]=R,j&&(j[N]=p[M]);if(P&&j)for(M=A[E];M<T.length;)N=T[M],z[N]===R?(k[M]=P[N],M++):D[N]===R?(k[M]=j[N],M++):T.splice(M,1)}return A[b]=T.length,C};return u}var i=t("../../../error/DimensionError");n.name="algorithm04",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":395}],489:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n){var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,h=e._index,d=e._ptr,m=e._size,g=e._datatype;if(l.length!==m.length)throw new i(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var y,v=l[0],b=l[1],x=a,w=0,_=n;"string"==typeof f&&f===g&&(y=f,x=o.find(a,[y,y]),w=o.convert(0,y),_=o.find(n,[y,y]));var N,E,M,S,O=r&&p?[]:void 0,k=[],T=[],A=new s({values:O,index:k,ptr:T,size:[v,b],datatype:y}),C=O?[]:void 0,P=O?[]:void 0,j=[],z=[];for(E=0;E<b;E++){T[E]=k.length;var D=E+1;for(M=c[E],S=c[E+1];M<S;M++)N=u[M],k.push(N),j[N]=D,C&&(C[N]=r[M]);for(M=d[E],S=d[E+1];M<S;M++)N=h[M],j[N]!==D&&k.push(N),z[N]=D,P&&(P[N]=p[M]);if(O)for(M=T[E];M<k.length;){N=k[M];var R=j[N],I=z[N];if(R===D||I===D){var F=R===D?C[N]:w,B=I===D?P[N]:w,U=_(F,B);x(U,w)?k.splice(M,1):(O.push(U),M++)}}}return T[b]=k.length,A};return u}var i=t("../../../error/DimensionError");n.name="algorithm05",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":395}],490:[function(t,e,n){"use strict";function r(e,n,r,a){var s=r(t("../../../function/relational/equalScalar")),u=e.SparseMatrix,c=function(t,e,n){var r=t._values,c=t._size,l=t._datatype,f=e._values,p=e._size,h=e._datatype;if(c.length!==p.length)throw new o(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");var d,m=c[0],g=c[1],y=s,v=0,b=n;"string"==typeof l&&l===h&&(d=l,y=a.find(s,[d,d]),v=a.convert(0,d),b=a.find(n,[d,d]));for(var x=r&&f?[]:void 0,w=[],_=[],N=new u({values:x,index:w,ptr:_,size:[m,g],datatype:d}),E=x?[]:void 0,M=[],S=[],O=0;O<g;O++){_[O]=w.length;var k=O+1;if(i(t,O,M,E,S,k,N,b),i(e,O,M,E,S,k,N,b),E)for(var T=_[O];T<w.length;){var A=w[T];if(S[A]===k){var C=E[A];y(C,v)?w.splice(T,1):(x.push(C),T++)}else w.splice(T,1)}else for(var P=_[O];P<w.length;){var j=w[P];S[j]!==k?w.splice(P,1):P++}}return _[g]=w.length,N};return c}var i=t("./../../../utils/collection/scatter"),o=t("../../../error/DimensionError");n.name="algorithm06",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":395,"./../../../utils/collection/scatter":527}],491:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n){var a=t._size,u=t._datatype,c=e._size,l=e._datatype;if(a.length!==c.length)throw new i(a.length,c.length);if(a[0]!==c[0]||a[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+c+")");var f,p=a[0],h=a[1],d=0,m=n;"string"==typeof u&&u===l&&(f=u,d=r.convert(0,f),m=r.find(n,[f,f]));var g,y,v=[];for(g=0;g<p;g++)v[g]=[];var b=new o({data:v,size:[p,h],datatype:f}),x=[],w=[],_=[],N=[];for(y=0;y<h;y++){var E=y+1;for(s(t,y,_,x,E),s(e,y,N,w,E),g=0;g<p;g++){var M=_[g]===E?x[g]:d,S=N[g]===E?w[g]:d;v[g][y]=m(M,S)}}return b},s=function(t,e,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=s[e],c=s[e+1];u<c;u++){var l=a[u];n[l]=i,r[l]=o[u]}};return a}var i=t("../../../error/DimensionError");n.name="algorithm07",n.factory=r},{"../../../error/DimensionError":49}],492:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n){var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,h=e._index,d=e._ptr,m=e._size,g=e._datatype;if(l.length!==m.length)throw new i(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!r||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y,v=l[0],b=l[1],x=a,w=0,_=n;"string"==typeof f&&f===g&&(y=f,x=o.find(a,[y,y]),w=o.convert(0,y),_=o.find(n,[y,y]));for(var N,E,M,S,O=[],k=[],T=[],A=new s({values:O,index:k,ptr:T,size:[v,b],datatype:y}),C=[],P=[],j=0;j<b;j++){T[j]=k.length;var z=j+1;for(E=c[j],M=c[j+1],N=E;N<M;N++)S=u[N],P[S]=z,C[S]=r[N],k.push(S);for(E=d[j],M=d[j+1],N=E;N<M;N++)S=h[N],P[S]===z&&(C[S]=_(C[S],p[N]));for(N=T[j];N<k.length;){S=k[N];var D=C[S];x(D,w)?k.splice(N,1):(O.push(D),N++)}}return T[b]=k.length,A};return u}var i=t("../../../error/DimensionError");n.name="algorithm08",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":395}],493:[function(t,e,n){"use strict";function r(e,n,r,o){var a=r(t("../../../function/relational/equalScalar")),s=e.SparseMatrix,u=function(t,e,n){var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,h=e._index,d=e._ptr,m=e._size,g=e._datatype;if(l.length!==m.length)throw new i(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var y,v=l[0],b=l[1],x=a,w=0,_=n;"string"==typeof f&&f===g&&(y=f,x=o.find(a,[y,y]),w=o.convert(0,y),_=o.find(n,[y,y]));var N,E,M,S,O,k=r&&p?[]:void 0,T=[],A=[],C=new s({values:k,index:T,ptr:A,size:[v,b],datatype:y}),P=k?[]:void 0,j=[];for(E=0;E<b;E++){A[E]=T.length;var z=E+1;if(P)for(S=d[E],O=d[E+1],M=S;M<O;M++)N=h[M],j[N]=z,P[N]=p[M];for(S=c[E],O=c[E+1],M=S;M<O;M++)if(N=u[M],P){var D=j[N]===z?P[N]:w,R=_(r[M],D);x(R,w)||(T.push(N),k.push(R))}else T.push(N)}return A[b]=T.length,C};return u}var i=t("../../../error/DimensionError");n.name="algorithm09",n.factory=r},{"../../../error/DimensionError":49,"../../../function/relational/equalScalar":395}],494:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix,o=function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=c[0],h=c[1],d=n;"string"==typeof l&&(f=l,e=r.convert(e,f),d=r.find(n,[f,f]));for(var m=[],g=new i({data:m,size:[p,h],datatype:f}),y=[],v=[],b=0;b<h;b++){for(var x=b+1,w=u[b],_=u[b+1],N=w;N<_;N++){var E=s[N];y[E]=a[N],v[E]=x}for(var M=0;M<p;M++)0===b&&(m[M]=[]),v[M]===x?m[M][b]=o?d(e,y[M]):d(y[M],e):m[M][b]=e}return g};return o}n.name="algorithm10",n.factory=r},{}],495:[function(t,e,n){"use strict";function r(e,n,r,i){var o=r(t("../../../function/relational/equalScalar")),a=e.SparseMatrix,s=function(t,e,n,r){var s=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=l[0],d=l[1],m=o,g=0,y=n;"string"==typeof f&&(p=f,m=i.find(o,[p,p]),g=i.convert(0,p),e=i.convert(e,p),y=i.find(n,[p,p]));for(var v=[],b=[],x=[],w=new a({values:v,index:b,ptr:x,size:[h,d],datatype:p}),_=0;_<d;_++){x[_]=b.length;for(var N=c[_],E=c[_+1],M=N;M<E;M++){var S=u[M],O=r?y(e,s[M]):y(s[M],e);m(O,g)||(b.push(S),v.push(O))}}return x[d]=b.length,w};return s}n.name="algorithm11",n.factory=r},{"../../../function/relational/equalScalar":395}],496:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix,o=function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=c[0],h=c[1],d=n;"string"==typeof l&&(f=l,e=r.convert(e,f),d=r.find(n,[f,f]));for(var m=[],g=new i({data:m,size:[p,h],datatype:f}),y=[],v=[],b=0;b<h;b++){for(var x=b+1,w=u[b],_=u[b+1],N=w;N<_;N++){var E=s[N];y[E]=a[N],v[E]=x}for(var M=0;M<p;M++)0===b&&(m[M]=[]),v[M]===x?m[M][b]=o?d(e,y[M]):d(y[M],e):m[M][b]=o?d(e,0):d(0,e)}return g};return o}n.name="algorithm12",n.factory=r},{}],497:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix,a=function(t,e,n){var a=t._data,u=t._size,c=t._datatype,l=e._data,f=e._size,p=e._datatype,h=[];if(u.length!==f.length)throw new o(u.length,f.length);for(var d=0;d<u.length;d++){if(u[d]!==f[d])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");h[d]=u[d]}var m,g=n;"string"==typeof c&&c===p&&(m=c,e=r.convert(e,m),g=r.find(n,[m,m]));var y=h.length>0?s(g,0,h,h[0],a,l):[];return new i({data:y,size:h,datatype:m})},s=function(t,e,n,r,i,o){var a=[];if(e===n.length-1)for(var u=0;u<r;u++)a[u]=t(i[u],o[u]);else for(var c=0;c<r;c++)a[c]=s(t,e+1,n,n[e+1],i[c],o[c]);return a};return a}var i=t("../../../utils/index"),o=t("../../../error/DimensionError"),a=i.string;a.isString;n.name="algorithm13",n.factory=r},{"../../../error/DimensionError":49,"../../../utils/index":530}],498:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var u,c=t._data,l=t._size,f=t._datatype,p=n;"string"==typeof f&&(u=f,e=r.convert(e,u),p=r.find(n,[u,u]));var h=l.length>0?s(p,0,l,l[0],c,e,a):[];return new o({data:h,size:i(l),datatype:u})},s=function(t,e,n,r,i,o,a){var u=[];if(e===n.length-1)for(var c=0;c<r;c++)u[c]=a?t(o,i[c]):t(i[c],o);else for(var l=0;l<r;l++)u[l]=s(t,e+1,n,n[e+1],i[l],o,a);return u};return a}var i=t("../../../utils/object").clone;n.name="algorithm14",n.factory=r},{"../../../utils/object":533}],499:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("number",{"":function(){return 0},number:function(t){return t},string:function(t){var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=t("./../utils/collection/deepMap");n.name="number",n.factory=r},{"./../utils/collection/deepMap":524}],500:[function(t,e,n){"use strict";function r(t,e,n,r){function i(t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(t){return new i(t.entries)},i}n.name="ResultSet",n.path="type",n.factory=r},{}],501:[function(t,e,n){e.exports=[t("./ResultSet")]},{"./ResultSet":500}],502:[function(t,e,n){"use strict";function r(t,e,n,r){var a=r("string",{"":function(){return""},number:o.format,"null":function(t){return"null"},"boolean":function(t){return t+""},string:function(t){return t},"Array | Matrix":function(t){return i(t,a)},any:function(t){return String(t)}});return a.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},a}var i=t("./../utils/collection/deepMap"),o=t("../utils/number");n.name="string",n.factory=r},{"../utils/number":532,"./../utils/collection/deepMap":524}],503:[function(t,e,n){"use strict";function r(e,n,r,s,u){function c(t,e){if(!(this instanceof c))throw new Error("Constructor must be called with the new operator");if(void 0!==t&&!T(t)&&!t.isComplex)throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!=e&&("string"!=typeof e||""==e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=e){var n=c.parse(e);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:V,prefix:F.NONE,power:0}],this.dimensions=[];for(var r=0;r<U.length;r++)this.dimensions[r]=0}this.value=void 0!=t?this._normalize(t):null,this.fixPrefix=!1,this.isUnitListSimplified=!0}function l(){for(;" "==R||"\t"==R;)h()}function f(t){return t>="0"&&t<="9"||"."==t}function p(t){return t>="0"&&t<="9"}function h(){D++,R=z.charAt(D)}function d(t){D=t,R=z.charAt(D)}function m(){var t,e="";if(t=D,"+"==R?h():"-"==R&&(e+=R,h()),!f(R))return d(t),null;if("."==R){if(e+=R,h(),!p(R))return d(t),null}else{for(;p(R);)e+=R,h();"."==R&&(e+=R,h())}for(;p(R);)e+=R,h();if("E"==R||"e"==R){var n="",r=D;if(n+=R,h(),"+"!=R&&"-"!=R||(n+=R,h()),!p(R))return d(r),e;for(e+=n;p(R);)e+=R,h()}return e}function g(){for(var t="",e=z.charCodeAt(D);e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122;)t+=R,h(),e=z.charCodeAt(D);return e=t.charCodeAt(0),e>=65&&e<=90||e>=97&&e<=122?t||null:null}function y(t){return R===t?(h(),t):null}function v(t){if(W.hasOwnProperty(t)){var e=W[t],n=e.prefixes[""];return{unit:e,prefix:n}}for(var r in W)if(W.hasOwnProperty(r)&&i(t,r)){var e=W[r],o=t.length-r.length,a=t.substring(0,o),n=e.prefixes[a];if(void 0!==n)return{unit:e,prefix:n}}return null}function b(t){if("BigNumber"===t.number){var n=a.pi(e.BigNumber);W.rad.value=new e.BigNumber(1),W.deg.value=n.div(180),W.grad.value=n.div(200),W.cycle.value=n.times(2),W.arcsec.value=n.div(648e3),W.arcmin.value=n.div(10800)}else W.rad.value=1,W.deg.value=Math.PI/180,W.grad.value=Math.PI/200,W.cycle.value=2*Math.PI,W.arcsec.value=Math.PI/648e3,W.arcmin.value=Math.PI/10800}function x(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),r=function(t){return/^[a-zA-Z]$/.test(t)},i=function(t){return t>="0"&&t<="9"};if(0===e&&!r(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!r(n)&&!i(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}var w=r(t("../../function/arithmetic/addScalar")),_=r(t("../../function/arithmetic/subtract")),N=r(t("../../function/arithmetic/multiplyScalar")),E=r(t("../../function/arithmetic/divideScalar")),M=r(t("../../function/arithmetic/pow")),S=r(t("../../function/arithmetic/abs")),O=r(t("../../function/arithmetic/fix")),k=r(t("../../function/relational/equal")),T=r(t("../../function/utils/isNumeric")),A=r(t("../../function/string/format")),C=r(t("../../function/utils/typeof")),P=r(t("../../type/number")),j=r(t("../../type/complex/Complex"));c.prototype.type="Unit",c.prototype.isUnit=!0;var z,D,R;c.parse=function(t,r){if(r=r||{},z=t,D=-1,R="","string"!=typeof z)throw new TypeError("Invalid argument in Unit.parse, string expected");var i=new c;i.units=[],h(),l();var o=m(),a=null;o&&(a="BigNumber"===n.number?new e.BigNumber(o):"Fraction"===n.number?new e.Fraction(o):parseFloat(o)),l();for(var s=1,u=!1,f=[],p=1;;){for(l();"("===R;)f.push(s),p*=s,s=1,h(),l();if(!R)break;var d=R,b=g();if(null==b)throw new SyntaxError('Unexpected "'+d+'" in "'+z+'" at index '+D.toString());var x=v(b);if(null==x)throw new SyntaxError('Unit "'+b+'" not found.');var w=s*p;if(l(),y("^")){l();var _=m();if(null==_)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');w*=_}i.units.push({unit:x.unit,prefix:x.prefix,power:w});for(var N=0;N<U.length;N++)i.dimensions[N]+=(x.unit.dimensions[N]||0)*w;for(l();")"===R;){if(0===f.length)throw new SyntaxError('Unmatched ")" in "'+z+'" at index '+D.toString());p/=f.pop(),h(),l()}if(u=!1,y("*")?(s=1,u=!0):y("/")?(s=-1,u=!0):s=1,x.unit.base){var E=x.unit.base.key;H.auto[E]={unit:x.unit,prefix:x.prefix}}}if(l(),R)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==f.length)throw new SyntaxError('Unmatched "(" in "'+z+'"');if(0==i.units.length&&!r.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return i.value=void 0!=a?i._normalize(a):null,i},c.prototype.clone=function(){var t=new c;t.fixPrefix=this.fixPrefix,t.isUnitListSimplified=this.isUnitListSimplified,t.value=o(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++){t.units[e]={};for(var n in this.units[e])this.units[e].hasOwnProperty(n)&&(t.units[e][n]=this.units[e][n])}return t},c.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},c.prototype._normalize=function(t){var e,n,r,i,o;if(null==t||0===this.units.length)return t;if(this._isDerived()){var a=t;o=c._getNumberConverter(C(t));for(var s=0;s<this.units.length;s++)e=o(this.units[s].unit.value),i=o(this.units[s].prefix.value),r=o(this.units[s].power),a=N(a,M(N(e,i),r));return a}return o=c._getNumberConverter(C(t)),e=o(this.units[0].unit.value),n=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),N(w(t,n),N(e,i))},c.prototype._denormalize=function(t,e){var n,r,i,o,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var s=t;a=c._getNumberConverter(C(t));for(var u=0;u<this.units.length;u++)n=a(this.units[u].unit.value),o=a(this.units[u].prefix.value),i=a(this.units[u].power),s=E(s,M(N(n,o),i));return s}return a=c._getNumberConverter(C(t)),n=a(this.units[0].unit.value),o=a(this.units[0].prefix.value),r=a(this.units[0].unit.offset),void 0==e?_(E(E(t,n),o),r):_(E(E(t,n),e),r)},c.isValuelessUnit=function(t){return null!=v(t)},c.prototype.hasBase=function(t){if("string"==typeof t&&(t=L[t]),!t)return!1;for(var e=0;e<U.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},c.prototype.equalBase=function(t){for(var e=0;e<U.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},c.prototype.equals=function(t){return this.equalBase(t)&&k(this.value,t.value)},c.prototype.multiply=function(t){for(var e=this.clone(),n=0;n<U.length;n++)e.dimensions[n]=(this.dimensions[n]||0)+(t.dimensions[n]||0);for(var n=0;n<t.units.length;n++){var r={};for(var i in t.units[n])r[i]=t.units[n][i];e.units.push(r)}if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,a=null==t.value?t._normalize(1):t.value;e.value=N(o,a)}else e.value=null;return e.isUnitListSimplified=!1,I(e)},c.prototype.divide=function(t){for(var e=this.clone(),n=0;n<U.length;n++)e.dimensions[n]=(this.dimensions[n]||0)-(t.dimensions[n]||0);for(var n=0;n<t.units.length;n++){var r={};for(var i in t.units[n])r[i]=t.units[n][i];r.power=-r.power,e.units.push(r)}if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,a=null==t.value?t._normalize(1):t.value;e.value=E(o,a)}else e.value=null;return e.isUnitListSimplified=!1,I(e)},c.prototype.pow=function(t){for(var e=this.clone(),n=0;n<U.length;n++)e.dimensions[n]=(this.dimensions[n]||0)*t;for(var n=0;n<e.units.length;n++)e.units[n].power*=t;return null!=e.value?e.value=M(e.value,t):e.value=null,e.isUnitListSimplified=!1,I(e)};var I=function(t){return t.equalBase(L.NONE)&&null!==t.value&&!n.predictable?t.value:t};c.prototype.abs=function(){var t=this.clone();t.value=S(t.value);for(var e in t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=W.W);return t},c.prototype.to=function(t){var e,n=null==this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=c.parse(t),!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=o(n),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}if(t&&t.isUnit){if(!this.equalBase(t))throw new Error("Units do not match");if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return e=t.clone(),e.value=o(n),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}throw new Error("String or Unit expected as parameter")},c.prototype.toNumber=function(t){return P(this.toNumeric(t))},c.prototype.toNumeric=function(t){var e=this;return t&&(e=this.to(t)),e._isDerived()?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},c.prototype.toString=function(){return this.format()},c.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},c.fromJSON=function(t){var e=new c(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},c.prototype.valueOf=c.prototype.toString,c.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!=this.value){var e,n=[];for(var r in G)if(this.hasBase(L[r])){e=r;break}if("NONE"===e)this.units=[];else{var i;e&&G.hasOwnProperty(e)&&(i=G[e]);if(i)this.units=[{unit:i.unit,prefix:i.prefix,power:1}];else{for(var o=!1,a=0;a<U.length;a++){var s=U[a];Math.abs(this.dimensions[a]||0)>1e-12&&(G.hasOwnProperty(s)?n.push({unit:G[s].unit,prefix:G[s].prefix,power:this.dimensions[a]||0}):o=!0)}t("util");n.length<this.units.length&&!o&&(this.units=n)}}this.isUnitListSimplified=!0}},c.prototype.formatUnits=function(){this.simplifyUnitListLazy();for(var t="",e="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var i=0;i<this.units.length;i++)this.units[i].power<0&&(n>0?(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power+1)>1e-15&&(e+="^"+-this.units[i].power)):(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,e+="^"+this.units[i].power));t=t.substr(1),e=e.substr(1),n>1&&r>0&&(t="("+t+")"),r>1&&n>0&&(e="("+e+")");var o=t;return n>0&&r>0&&(o+=" / "),o+=e},c.prototype.format=function(t){this.simplifyUnitListLazy();var e=!1,n=!0;"undefined"!=typeof this.value&&null!==this.value&&this.value.isComplex&&(e=Math.abs(this.value.re)<1e-14,n=Math.abs(this.value.im)<1e-14);for(var r in this.units)this.units[r].unit&&("VA"===this.units[r].unit.name&&e?this.units[r].unit=W.VAR:"VAR"!==this.units[r].unit.name||e||(this.units[r].unit=W.VA));1!==this.units.length||this.fixPrefix||Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(this.units[0].prefix=this._bestPrefix());var i=this._denormalize(this.value),o=null!==this.value?A(i,t||{}):"",a=this.formatUnits();return this.value&&this.value.isComplex&&(o="("+o+")"),a.length>0&&o.length>0&&(o+=" "),o+=a},c.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=S(this.value),e=S(this.units[0].unit.value),n=this.units[0].prefix;if(0===t)return n;var r=this.units[0].power,i=Math.log(t/Math.pow(n.value*e,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var o=this.units[0].unit.prefixes;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];if(s.scientific){var u=Math.abs(Math.log(t/Math.pow(s.value*e,r))/Math.LN10-1.2);(u<i||u===i&&s.name.length<n.name.length)&&(n=s,i=u)}}return n},c.prototype.splitUnit=function(t){for(var e=this.clone(),n=[],r=0;r<t.length&&(e=e.to(t[r]),r!=t.length-1);r++){var i=O(e.toNumeric()),o=new c(i,t[r].toString());n.push(o),e=_(e,o)}return n.push(e),n};var F={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{
name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};F.SHORTLONG={};for(var B in F.SHORT)F.SHORT.hasOwnProperty(B)&&(F.SHORTLONG[B]=F.SHORT[B]);for(var B in F.LONG)F.LONG.hasOwnProperty(B)&&(F.SHORTLONG[B]=F.LONG[B]);var U=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],L={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var B in L)L[B].key=B;var q={},V={name:"",base:q,value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},W={meter:{name:"meter",base:L.LENGTH,prefixes:F.LONG,value:1,offset:0},inch:{name:"inch",base:L.LENGTH,prefixes:F.NONE,value:.0254,offset:0},foot:{name:"foot",base:L.LENGTH,prefixes:F.NONE,value:.3048,offset:0},yard:{name:"yard",base:L.LENGTH,prefixes:F.NONE,value:.9144,offset:0},mile:{name:"mile",base:L.LENGTH,prefixes:F.NONE,value:1609.344,offset:0},link:{name:"link",base:L.LENGTH,prefixes:F.NONE,value:.201168,offset:0},rod:{name:"rod",base:L.LENGTH,prefixes:F.NONE,value:5.02921,offset:0},chain:{name:"chain",base:L.LENGTH,prefixes:F.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:L.LENGTH,prefixes:F.NONE,value:1e-10,offset:0},m:{name:"m",base:L.LENGTH,prefixes:F.SHORT,value:1,offset:0},"in":{name:"in",base:L.LENGTH,prefixes:F.NONE,value:.0254,offset:0},ft:{name:"ft",base:L.LENGTH,prefixes:F.NONE,value:.3048,offset:0},yd:{name:"yd",base:L.LENGTH,prefixes:F.NONE,value:.9144,offset:0},mi:{name:"mi",base:L.LENGTH,prefixes:F.NONE,value:1609.344,offset:0},li:{name:"li",base:L.LENGTH,prefixes:F.NONE,value:.201168,offset:0},rd:{name:"rd",base:L.LENGTH,prefixes:F.NONE,value:5.02921,offset:0},ch:{name:"ch",base:L.LENGTH,prefixes:F.NONE,value:20.1168,offset:0},mil:{name:"mil",base:L.LENGTH,prefixes:F.NONE,value:254e-7,offset:0},m2:{name:"m2",base:L.SURFACE,prefixes:F.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:L.SURFACE,prefixes:F.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:L.SURFACE,prefixes:F.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:L.SURFACE,prefixes:F.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:L.SURFACE,prefixes:F.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:L.SURFACE,prefixes:F.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:L.SURFACE,prefixes:F.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:L.SURFACE,prefixes:F.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:L.SURFACE,prefixes:F.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:L.SURFACE,prefixes:F.NONE,value:1e4,offset:0},m3:{name:"m3",base:L.VOLUME,prefixes:F.CUBIC,value:1,offset:0},L:{name:"L",base:L.VOLUME,prefixes:F.SHORT,value:.001,offset:0},l:{name:"l",base:L.VOLUME,prefixes:F.SHORT,value:.001,offset:0},litre:{name:"litre",base:L.VOLUME,prefixes:F.LONG,value:.001,offset:0},cuin:{name:"cuin",base:L.VOLUME,prefixes:F.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:L.VOLUME,prefixes:F.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:L.VOLUME,prefixes:F.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:L.VOLUME,prefixes:F.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:L.VOLUME,prefixes:F.NONE,value:15e-6,offset:0},drop:{name:"drop",base:L.VOLUME,prefixes:F.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:L.VOLUME,prefixes:F.NONE,value:5e-8,offset:0},minim:{name:"minim",base:L.VOLUME,prefixes:F.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:L.VOLUME,prefixes:F.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:L.VOLUME,prefixes:F.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:L.VOLUME,prefixes:F.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:L.VOLUME,prefixes:F.NONE,value:1e-6,offset:0},cup:{name:"cup",base:L.VOLUME,prefixes:F.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:L.VOLUME,prefixes:F.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:L.VOLUME,prefixes:F.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:L.VOLUME,prefixes:F.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:L.VOLUME,prefixes:F.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:L.VOLUME,prefixes:F.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:L.VOLUME,prefixes:F.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:L.VOLUME,prefixes:F.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:L.VOLUME,prefixes:F.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:L.VOLUME,prefixes:F.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:L.VOLUME,prefixes:F.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:L.VOLUME,prefixes:F.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:L.VOLUME,prefixes:F.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:L.VOLUME,prefixes:F.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:L.VOLUME,prefixes:F.NONE,value:.1173478,offset:0},obl:{name:"obl",base:L.VOLUME,prefixes:F.NONE,value:.1589873,offset:0},g:{name:"g",base:L.MASS,prefixes:F.SHORT,value:.001,offset:0},gram:{name:"gram",base:L.MASS,prefixes:F.LONG,value:.001,offset:0},ton:{name:"ton",base:L.MASS,prefixes:F.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:L.MASS,prefixes:F.SHORT,value:1e3,offset:0},grain:{name:"grain",base:L.MASS,prefixes:F.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:L.MASS,prefixes:F.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:L.MASS,prefixes:F.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:L.MASS,prefixes:F.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:L.MASS,prefixes:F.NONE,value:45.359237,offset:0},stick:{name:"stick",base:L.MASS,prefixes:F.NONE,value:.115,offset:0},stone:{name:"stone",base:L.MASS,prefixes:F.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:L.MASS,prefixes:F.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:L.MASS,prefixes:F.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:L.MASS,prefixes:F.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:L.MASS,prefixes:F.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:L.MASS,prefixes:F.NONE,value:45.359237,offset:0},s:{name:"s",base:L.TIME,prefixes:F.SHORT,value:1,offset:0},min:{name:"min",base:L.TIME,prefixes:F.NONE,value:60,offset:0},h:{name:"h",base:L.TIME,prefixes:F.NONE,value:3600,offset:0},second:{name:"second",base:L.TIME,prefixes:F.LONG,value:1,offset:0},sec:{name:"sec",base:L.TIME,prefixes:F.LONG,value:1,offset:0},minute:{name:"minute",base:L.TIME,prefixes:F.NONE,value:60,offset:0},hour:{name:"hour",base:L.TIME,prefixes:F.NONE,value:3600,offset:0},day:{name:"day",base:L.TIME,prefixes:F.NONE,value:86400,offset:0},week:{name:"week",base:L.TIME,prefixes:F.NONE,value:604800,offset:0},month:{name:"month",base:L.TIME,prefixes:F.NONE,value:2629800,offset:0},year:{name:"year",base:L.TIME,prefixes:F.NONE,value:31557600,offset:0},decade:{name:"year",base:L.TIME,prefixes:F.NONE,value:315576e3,offset:0},century:{name:"century",base:L.TIME,prefixes:F.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:L.TIME,prefixes:F.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:L.FREQUENCY,prefixes:F.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:L.FREQUENCY,prefixes:F.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:L.ANGLE,prefixes:F.LONG,value:1,offset:0},deg:{name:"deg",base:L.ANGLE,prefixes:F.LONG,value:null,offset:0},grad:{name:"grad",base:L.ANGLE,prefixes:F.LONG,value:null,offset:0},cycle:{name:"cycle",base:L.ANGLE,prefixes:F.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:L.ANGLE,prefixes:F.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:L.ANGLE,prefixes:F.NONE,value:null,offset:0},A:{name:"A",base:L.CURRENT,prefixes:F.SHORT,value:1,offset:0},ampere:{name:"ampere",base:L.CURRENT,prefixes:F.LONG,value:1,offset:0},K:{name:"K",base:L.TEMPERATURE,prefixes:F.NONE,value:1,offset:0},degC:{name:"degC",base:L.TEMPERATURE,prefixes:F.NONE,value:1,offset:273.15},degF:{name:"degF",base:L.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:L.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:L.TEMPERATURE,prefixes:F.NONE,value:1,offset:0},celsius:{name:"celsius",base:L.TEMPERATURE,prefixes:F.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:L.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:L.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:L.AMOUNT_OF_SUBSTANCE,prefixes:F.SHORT,value:1,offset:0},mole:{name:"mole",base:L.AMOUNT_OF_SUBSTANCE,prefixes:F.LONG,value:1,offset:0},cd:{name:"cd",base:L.LUMINOUS_INTENSITY,prefixes:F.NONE,value:1,offset:0},candela:{name:"candela",base:L.LUMINOUS_INTENSITY,prefixes:F.NONE,value:1,offset:0},N:{name:"N",base:L.FORCE,prefixes:F.SHORT,value:1,offset:0},newton:{name:"newton",base:L.FORCE,prefixes:F.LONG,value:1,offset:0},dyn:{name:"dyn",base:L.FORCE,prefixes:F.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:L.FORCE,prefixes:F.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:L.FORCE,prefixes:F.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:L.FORCE,prefixes:F.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:L.FORCE,prefixes:F.LONG,value:4448.2216,offset:0},J:{name:"J",base:L.ENERGY,prefixes:F.SHORT,value:1,offset:0},joule:{name:"joule",base:L.ENERGY,prefixes:F.SHORT,value:1,offset:0},erg:{name:"erg",base:L.ENERGY,prefixes:F.NONE,value:1e-5,offset:0},Wh:{name:"Wh",base:L.ENERGY,prefixes:F.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:L.ENERGY,prefixes:F.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:L.ENERGY,prefixes:F.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:"electronvolt",base:L.ENERGY,prefixes:F.LONG,value:1.602176565e-19,offset:0},W:{name:"W",base:L.POWER,prefixes:F.SHORT,value:1,offset:0},watt:{name:"W",base:L.POWER,prefixes:F.LONG,value:1,offset:0},hp:{name:"hp",base:L.POWER,prefixes:F.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:L.POWER,prefixes:F.SHORT,value:j.I,offset:0},VA:{name:"VA",base:L.POWER,prefixes:F.SHORT,value:1,offset:0},Pa:{name:"Pa",base:L.PRESSURE,prefixes:F.SHORT,value:1,offset:0},psi:{name:"psi",base:L.PRESSURE,prefixes:F.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:L.PRESSURE,prefixes:F.NONE,value:101325,offset:0},bar:{name:"bar",base:L.PRESSURE,prefixes:F.NONE,value:1e5,offset:0},torr:{name:"torr",base:L.PRESSURE,prefixes:F.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:L.PRESSURE,prefixes:F.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:L.PRESSURE,prefixes:F.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:L.PRESSURE,prefixes:F.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:L.ELECTRIC_CHARGE,prefixes:F.LONG,value:1,offset:0},C:{name:"C",base:L.ELECTRIC_CHARGE,prefixes:F.SHORT,value:1,offset:0},farad:{name:"farad",base:L.ELECTRIC_CAPACITANCE,prefixes:F.LONG,value:1,offset:0},F:{name:"F",base:L.ELECTRIC_CAPACITANCE,prefixes:F.SHORT,value:1,offset:0},volt:{name:"volt",base:L.ELECTRIC_POTENTIAL,prefixes:F.LONG,value:1,offset:0},V:{name:"V",base:L.ELECTRIC_POTENTIAL,prefixes:F.SHORT,value:1,offset:0},ohm:{name:"ohm",base:L.ELECTRIC_RESISTANCE,prefixes:F.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:L.ELECTRIC_INDUCTANCE,prefixes:F.LONG,value:1,offset:0},H:{name:"H",base:L.ELECTRIC_INDUCTANCE,prefixes:F.SHORT,value:1,offset:0},siemens:{name:"siemens",base:L.ELECTRIC_CONDUCTANCE,prefixes:F.LONG,value:1,offset:0},S:{name:"S",base:L.ELECTRIC_CONDUCTANCE,prefixes:F.SHORT,value:1,offset:0},weber:{name:"weber",base:L.MAGNETIC_FLUX,prefixes:F.LONG,value:1,offset:0},Wb:{name:"Wb",base:L.MAGNETIC_FLUX,prefixes:F.SHORT,value:1,offset:0},tesla:{name:"tesla",base:L.MAGNETIC_FLUX_DENSITY,prefixes:F.LONG,value:1,offset:0},T:{name:"T",base:L.MAGNETIC_FLUX_DENSITY,prefixes:F.SHORT,value:1,offset:0},b:{name:"b",base:L.BIT,prefixes:F.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:L.BIT,prefixes:F.BINARY_LONG,value:1,offset:0},B:{name:"B",base:L.BIT,prefixes:F.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:L.BIT,prefixes:F.BINARY_LONG,value:8,offset:0}},$={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",hertz:"hertz",radians:"rad",degree:"deg",degrees:"deg",gradian:"grad",gradians:"grad",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};b(n),u.on("config",function(t,e){t.number!==e.number&&b(t)});var H={si:{NONE:{unit:V,prefix:F.NONE[""]},LENGTH:{unit:W.m,prefix:F.SHORT[""]},MASS:{unit:W.g,prefix:F.SHORT.k},TIME:{unit:W.s,prefix:F.SHORT[""]},CURRENT:{unit:W.A,prefix:F.SHORT[""]},TEMPERATURE:{unit:W.K,prefix:F.SHORT[""]},LUMINOUS_INTENSITY:{unit:W.cd,prefix:F.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:W.mol,prefix:F.SHORT[""]},ANGLE:{unit:W.rad,prefix:F.SHORT[""]},BIT:{unit:W.bit,prefix:F.SHORT[""]},FORCE:{unit:W.N,prefix:F.SHORT[""]},ENERGY:{unit:W.J,prefix:F.SHORT[""]},POWER:{unit:W.W,prefix:F.SHORT[""]},PRESSURE:{unit:W.Pa,prefix:F.SHORT[""]},ELECTRIC_CHARGE:{unit:W.C,prefix:F.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:W.F,prefix:F.SHORT[""]},ELECTRIC_POTENTIAL:{unit:W.V,prefix:F.SHORT[""]},ELECTRIC_RESISTANCE:{unit:W.ohm,prefix:F.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:W.H,prefix:F.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:W.S,prefix:F.SHORT[""]},MAGNETIC_FLUX:{unit:W.Wb,prefix:F.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:W.T,prefix:F.SHORT[""]},FREQUENCY:{unit:W.Hz,prefix:F.SHORT[""]}}};H.cgs=JSON.parse(JSON.stringify(H.si)),H.cgs.LENGTH={unit:W.m,prefix:F.SHORT.c},H.cgs.MASS={unit:W.g,prefix:F.SHORT[""]},H.cgs.FORCE={unit:W.dyn,prefix:F.SHORT[""]},H.cgs.ENERGY={unit:W.erg,prefix:F.NONE[""]},H.us=JSON.parse(JSON.stringify(H.si)),H.us.LENGTH={unit:W.ft,prefix:F.NONE[""]},H.us.MASS={unit:W.lbm,prefix:F.NONE[""]},H.us.TEMPERATURE={unit:W.degF,prefix:F.NONE[""]},H.us.FORCE={unit:W.lbf,prefix:F.NONE[""]},H.us.ENERGY={unit:W.BTU,prefix:F.BTU[""]},H.us.POWER={unit:W.hp,prefix:F.NONE[""]},H.us.PRESSURE={unit:W.psi,prefix:F.NONE[""]},H.auto=JSON.parse(JSON.stringify(H.si));var G=H.auto;c.setUnitSystem=function(t){if(!H.hasOwnProperty(t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(H).join(", "));G=H[t]},c.getUnitSystem=function(){for(var t in H)if(H[t]===G)return t},c.typeConverters={BigNumber:function(t){return new e.BigNumber(t+"")},Fraction:function(t){return new e.Fraction(t)},Complex:function(t){return t},number:function(t){return t}},c._getNumberConverter=function(t){if(!c.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return c.typeConverters[t]};for(var B in W){var Y=W[B];Y.dimensions=Y.base.dimensions}for(var X in $)if($.hasOwnProperty(X)){var Y=W[$[X]],Z={};for(var B in Y)Y.hasOwnProperty(B)&&(Z[B]=Y[B]);Z.name=X,W[X]=Z}return c.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var n in t)if(t.hasOwnProperty(n)&&c.deleteUnit(n),t[n].aliases)for(var r=0;r<t[n].aliases.length;r++)c.deleteUnit(t[n].aliases[r]);var i;for(var n in t)t.hasOwnProperty(n)&&(i=c.createUnitSingle(n,t[n]));return i},c.createUnitSingle=function(t,e,n){if("undefined"!=typeof e&&null!==e||(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(W.hasOwnProperty(t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');x(t);var r,i,o=null,a=[],s=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(r=e);else{if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');r=e.definition,i=e.prefixes,s=e.offset,a=e.aliases}if(a)for(var u=0;u<a.length;u++)if(W.hasOwnProperty(a[u]))throw new Error('Cannot create alias "'+a[u]+'": a unit with that name already exists');if(r&&"string"==typeof r&&!o)try{o=c.parse(r,{allowNoUnits:!0})}catch(l){throw l.message='Could not create unit "'+t+'" from "'+r+'": '+l.message,l}else r&&"Unit"===r.type&&(o=r.clone());a=a||[],s=s||0,i=i&&i.toUpperCase?F[i.toUpperCase()]||F.NONE:F.NONE;var f={};if(o){f={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:i,offset:s};var p=!1;for(var u in L)if(L.hasOwnProperty(u)){for(var h=!0,d=0;d<U.length;d++)if(Math.abs((f.dimensions[d]||0)-(L[u].dimensions[d]||0))>1e-12){h=!1;break}if(h){p=!0;break}}if(!p){var m=t+"_STUFF",g={dimensions:o.dimensions.slice(0)};g.key=m,L[m]=g,G[m]={unit:f,prefix:F.NONE[""]},f.base=m}}else{var m=t+"_STUFF";if(U.indexOf(m)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');U.push(m);for(var y in L)L.hasOwnProperty(y)&&(L[y].dimensions[U.length-1]=0);for(var g={dimensions:[]},u=0;u<U.length;u++)g.dimensions[u]=0;g.dimensions[U.length-1]=1,g.key=m,L[m]=g,f={name:t,value:1,dimensions:L[m].dimensions.slice(0),prefixes:i,offset:s,base:m},G[m]={unit:f,prefix:F.NONE[""]}}c.UNITS[t]=f;for(var u=0;u<a.length;u++){var v=a[u],b={};for(var w in f)f.hasOwnProperty(w)&&(b[w]=f[w]);b.name=v,c.UNITS[v]=b}return new c(null,t)},c.deleteUnit=function(t){delete c.UNITS[t]},c.PREFIXES=F,c.BASE_UNITS=L,c.UNITS=W,c.UNIT_SYSTEMS=H,c}var i=t("../../utils/string").endsWith,o=t("../../utils/object").clone,a=t("../../utils/bignumber/constants");n.name="Unit",n.path="type",n.factory=r,n.math=!0},{"../../function/arithmetic/abs":297,"../../function/arithmetic/addScalar":299,"../../function/arithmetic/divideScalar":304,"../../function/arithmetic/fix":309,"../../function/arithmetic/multiplyScalar":319,"../../function/arithmetic/pow":322,"../../function/arithmetic/subtract":327,"../../function/relational/equal":394,"../../function/string/format":416,"../../function/utils/isNumeric":452,"../../function/utils/typeof":456,"../../type/complex/Complex":466,"../../type/number":499,"../../utils/bignumber/constants":516,"../../utils/object":533,"../../utils/string":534,util:541}],504:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r("createUnit",{"Object, Object":function(e,n){return t.Unit.createUnit(e,n)},Object:function(e){return t.Unit.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,n,r){var i={};return i[e]=n,t.Unit.createUnit(i,r)},"string, Unit | string | Object":function(e,n){var r={};return r[e]=n,t.Unit.createUnit(r,{})},string:function(e){var n={};return n[e]={},t.Unit.createUnit(n,{})}});return i}t("../../../utils/collection/deepMap");n.name="createUnit",n.factory=r},{"../../../utils/collection/deepMap":524}],505:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r("splitUnit",{"Unit, Array":function(t,e){return t.splitUnit(e)}});return i}t("../../../utils/collection/deepMap");n.name="splitUnit",n.factory=r},{"../../../utils/collection/deepMap":524}],506:[function(t,e,n){"use strict";function r(t,e,n,r){var o=r("unit",{Unit:function(t){return t.clone()},string:function(e){return t.Unit.isValuelessUnit(e)?new t.Unit(null,e):t.Unit.parse(e)},"number | BigNumber | Fraction | Complex, string":function(e,n){return new t.Unit(e,n)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=t("../../../utils/collection/deepMap");n.name="unit",n.factory=r},{"../../../utils/collection/deepMap":524}],507:[function(t,e,n){e.exports=[t("./Unit"),t("./function/unit"),t("./function/createUnit"),t("./function/splitUnit"),t("./physicalConstants")]},{"./Unit":503,"./function/createUnit":504,"./function/splitUnit":505,"./function/unit":506,"./physicalConstants":508}],508:[function(t,e,n){function r(t,e,n,r,o){function a(e){var n=t.Unit.parse(e);return n.fixPrefix=!0,n}i(o,"speedOfLight",function(){return a("299792458 m s^-1")}),i(o,"gravitationConstant",function(){return a("6.6738480e-11 m^3 kg^-1 s^-2")}),i(o,"planckConstant",function(){return a("6.626069311e-34 J s")}),i(o,"reducedPlanckConstant",function(){return a("1.05457172647e-34 J s")}),i(o,"magneticConstant",function(){return a("1.2566370614e-6 N A^-2")}),i(o,"electricConstant",function(){return a("8.854187817e-12 F m^-1")}),i(o,"vacuumImpedance",function(){return a("376.730313461 ohm")}),i(o,"coulomb",function(){return a("8.9875517873681764e9 N m^2 C^-2")}),i(o,"elementaryCharge",function(){return a("1.60217656535e-19 C")}),i(o,"bohrMagneton",function(){return a("9.2740096820e-24 J T^-1")}),i(o,"conductanceQuantum",function(){return a("7.748091734625e-5 S")}),i(o,"inverseConductanceQuantum",function(){return a("12906.403721742 ohm")}),i(o,"magneticFluxQuantum",function(){return a("2.06783375846e-15 Wb")}),i(o,"nuclearMagneton",function(){return a("5.0507835311e-27 J T^-1")}),i(o,"klitzing",function(){return a("25812.807443484 ohm")}),i(o,"bohrRadius",function(){return a("5.291772109217e-11 m")}),i(o,"classicalElectronRadius",function(){return a("2.817940326727e-15 m")}),i(o,"electronMass",function(){return a("9.1093829140e-31 kg")}),i(o,"fermiCoupling",function(){return a("1.1663645e-5 GeV^-2")}),i(o,"fineStructure",function(){return.007297352569824}),i(o,"hartreeEnergy",function(){return a("4.3597443419e-18 J")}),i(o,"protonMass",function(){return a("1.67262177774e-27 kg")}),i(o,"deuteronMass",function(){return a("3.3435830926e-27 kg")}),i(o,"neutronMass",function(){return a("1.6749271613e-27 kg")}),i(o,"quantumOfCirculation",function(){return a("3.636947552024e-4 m^2 s^-1")}),i(o,"rydberg",function(){return a("10973731.56853955 m^-1")}),i(o,"thomsonCrossSection",function(){return a("6.65245873413e-29 m^2")}),i(o,"weakMixingAngle",function(){return.222321}),i(o,"efimovFactor",function(){return 22.7}),i(o,"atomicMass",function(){return a("1.66053892173e-27 kg")}),i(o,"avogadro",function(){return a("6.0221412927e23 mol^-1")}),i(o,"boltzmann",function(){return a("1.380648813e-23 J K^-1")}),i(o,"faraday",function(){return a("96485.336521 C mol^-1")}),i(o,"firstRadiation",function(){return a("3.7417715317e-16 W m^2")}),i(o,"loschmidt",function(){return a("2.686780524e25 m^-3")}),i(o,"gasConstant",function(){return a("8.314462175 J K^-1 mol^-1")}),i(o,"molarPlanckConstant",function(){return a("3.990312717628e-10 J s mol^-1")}),i(o,"molarVolume",function(){return a("2.241396820e-10 m^3 mol^-1")}),i(o,"sackurTetrode",function(){return-1.164870823}),i(o,"secondRadiation",function(){return a("1.438777013e-2 m K")}),i(o,"stefanBoltzmann",function(){return a("5.67037321e-8 W m^-2 K^-4")}),i(o,"wienDisplacement",function(){return a("2.897772126e-3 m K")}),i(o,"molarMass",function(){return a("1e-3 kg mol^-1")}),i(o,"molarMassC12",function(){return a("1.2e-2 kg mol^-1")}),i(o,"gravity",function(){return a("9.80665 m s^-2")}),i(o,"planckLength",function(){return a("1.61619997e-35 m")}),i(o,"planckMass",function(){return a("2.1765113e-8 kg")}),i(o,"planckTime",function(){return a("5.3910632e-44 s")}),i(o,"planckCharge",function(){return a("1.87554595641e-18 C")}),i(o,"planckTemperature",function(){return a("1.41683385e+32 K")})}var i=t("../../utils/object").lazy;n.factory=r,n.lazy=!1,n.math=!0},{"../../utils/object":533}],509:[function(t,e,n){"use strict";function r(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number");var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1,this.sign=n,this.coefficients=r.replace(".","").replace(/^0*/,function(t){return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)}),0===this.coefficients.length&&(this.coefficients.push(0),i++),this.exponent=i}function i(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}r.prototype.toEngineering=function(t){var e=this.roundDigits(t),n=e.exponent,r=e.coefficients,o=n%3===0?n:n<0?n-3-n%3:n-n%3,a=n>=0?n:Math.abs(o);r.length-1<a&&(r=r.concat(i(a-(r.length-1))));for(var s=Math.abs(n-o),u=1,c="";--s>=0;)u++;var l=r.slice(u).join(""),f=l.match(/[1-9]/)?"."+l:"";return c=r.slice(0,u).join("")+f,c+="e"+(n>=0?"+":"")+o.toString(),e.sign+c},r.prototype.toFixed=function(t){var e=this.roundDigits(this.exponent+1+(t||0)),n=e.coefficients,r=e.exponent+1,o=r+(t||0);return n.length<o&&(n=n.concat(i(o-n.length))),r<0&&(n=i(-r+1).concat(n),r=1),t&&n.splice(r,0,0===r?"0.":"."),this.sign+n.join("")},r.prototype.toExponential=function(t){var e=t?this.roundDigits(t):this.clone(),n=e.coefficients,r=e.exponent;n.length<t&&(n=n.concat(i(t-n.length)));var o=n.shift();return this.sign+o+(n.length>0?"."+n.join(""):"")+"e"+(r>=0?"+":"")+r},r.prototype.toPrecision=function(t,e){var n=e&&void 0!==e.lower?e.lower:.001,r=e&&void 0!==e.upper?e.upper:1e5,o=Math.abs(Math.pow(10,this.exponent));if(o<n||o>=r)return this.toExponential(t);var a=t?this.roundDigits(t):this.clone(),s=a.coefficients,u=a.exponent;s.length<t&&(s=s.concat(i(t-s.length))),s=s.concat(i(u-s.length+1+(s.length<t?t-s.length:0))),s=i(-u).concat(s);var c=u>0?u:0;return c<s.length-1&&s.splice(c+1,0,"."),this.sign+s.join("")},r.prototype.clone=function(){var t=new r("0");return t.sign=this.sign,t.coefficients=this.coefficients.slice(0),t.exponent=this.exponent,t},r.prototype.roundDigits=function(t){for(var e=this.clone(),n=e.coefficients;t<=0;)n.unshift(0),e.exponent++,t++;if(n.length>t){var r=n.splice(t,n.length-t);if(r[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),e.exponent++,i++),i--,n[i]++}}return e},e.exports=r},{}],510:[function(t,e,n){"use strict";function r(t,e,n){var i,o=t.length;if(o!=e[n])throw new c(o,e[n]);if(n<e.length-1){var a=n+1;for(i=0;i<o;i++){var s=t[i];if(!Array.isArray(s))throw new c(e.length-1,e.length,"<");r(t[i],e,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new c(e.length+1,e.length,">")}function i(t,e,r,o){var a,s,u=t.length,c=e[r],l=Math.min(u,c);if(t.length=c,r<e.length-1){var f=r+1;for(a=0;a<l;a++)s=t[a],Array.isArray(s)||(s=[s],t[a]=s),i(s,e,f,o);for(a=l;a<c;a++)s=[],t[a]=s,i(s,e,f,o)}else{for(a=0;a<l;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];if(o!==n.UNINITIALIZED)for(a=l;a<c;a++)t[a]=o}}function o(t,e,n){var r,i;if(n<e){var a=n+1;for(r=0,i=t.length;r<i;r++)t[r]=o(t[r],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function a(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=a(t[r],e,o)}else for(var s=n;s<e;s++)t=[t];return t}var s=t("./number"),u=t("./string"),c=(t("./object"),t("./types"),t("../error/DimensionError")),l=t("../error/IndexError");n.size=function(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e},n.validate=function(t,e){var n=0==e.length;if(n){if(Array.isArray(t))throw new c(t.length,0)}else r(t,e,0)},n.validateIndex=function(t,e){if(!s.isNumber(t)||!s.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new l(t,e)},n.UNINITIALIZED={},n.resize=function(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!s.isNumber(t)||!s.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(e)+")")});var r=void 0!==n?n:0;return i(t,e,0,r),t},n.squeeze=function(t,e){for(var r=e||n.size(t);Array.isArray(t)&&1===t.length;)t=t[0],r.shift();for(var i=r.length;1===r[i-1];)i--;return i<r.length&&(t=o(t,i,0),r.length=i),t},n.unsqueeze=function(t,e,r,i){var o=i||n.size(t);
if(r)for(var s=0;s<r;s++)t=[t],o.unshift(1);for(t=a(t,e,0);o.length<e;)o.push(1);return t},n.flatten=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function n(t){Array.isArray(t)?t.forEach(n):e.push(t)}),e},n.isArray=Array.isArray},{"../error/DimensionError":49,"../error/IndexError":50,"./number":532,"./object":533,"./string":534,"./types":535}],511:[function(t,e,n){var r=t("./bitwise");e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()==e.isNegative()?t:new n(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t}return r(t,e,function(t,e){return t&e})}},{"./bitwise":515}],512:[function(t,e,n){e.exports=function(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,n=e.precision;e.config({precision:1e9});var t=t.plus(new e(1));return t.s=-t.s||null,e.config({precision:n}),t}},{}],513:[function(t,e,n){var r=t("./bitwise");e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);var i=new n((-1));return t.isZero()||e.eq(i)||t.eq(e)?e:e.isZero()||t.eq(i)?t:t.isFinite()&&e.isFinite()?r(t,e,function(t,e){return t|e}):!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?i:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t}},{"./bitwise":515}],514:[function(t,e,n){var r=t("./bitwise"),i=t("./bitNot");e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new n(0);var o=new n((-1));return t.eq(o)?i(e):e.eq(o)?i(t):t.isFinite()&&e.isFinite()?r(t,e,function(t,e){return t^e}):t.isFinite()||e.isFinite()?new n(t.isNegative()==e.isNegative()?1/0:-(1/0)):o}},{"./bitNot":512,"./bitwise":515}],515:[function(t,e,n){function r(t){for(var e=t.d,n=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}var a;for(a=n.length-1;"0"==n.charAt(a);--a);var s=t.e,u=n.slice(0,a+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;u+="0");else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var l=[0],r=0;r<u.length;){for(var f=l.length;f--;l[f]*=10);l[0]+=u.charAt(r++)<<0;for(var a=0;a<l.length;++a)l[a]>1&&(null==l[a+1]&&(l[a+1]=0),l[a+1]+=l[a]>>1,l[a]&=1)}return l.reverse()}var i=t("./bitNot");e.exports=function(t,e,n){var o,a,s=t.constructor,u=+(t.s<0),c=+(e.s<0);if(u){o=r(i(t));for(var l=0;l<o.length;++l)o[l]^=1}else o=r(t);if(c){a=r(i(e));for(var l=0;l<a.length;++l)a[l]^=1}else a=r(e);var f,p,h;o.length<=a.length?(f=o,p=a,h=u):(f=a,p=o,h=c);var d=f.length,m=p.length,g=1^n(u,c),y=new s(1^g),v=new s(1),b=new s(2),x=s.precision;for(s.config({precision:1e9});d>0;)n(f[--d],p[--m])==g&&(y=y.plus(v)),v=v.times(b);for(;m>0;)n(h,p[--m])==g&&(y=y.plus(v)),v=v.times(b);return s.config({precision:x}),0==g&&(y.s=-y.s),y}},{"./bitNot":512}],516:[function(t,e,n){function r(t){return t[0].precision}var i=t("../function").memoize;n.e=i(function(t){return new t(1).exp()},r),n.phi=i(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},r),n.pi=i(function(t){return pi=t.acos(-1)},r),n.tau=i(function(t){return n.pi(t).times(2)},r)},{"../function":529}],517:[function(t,e,n){n.format=function(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",i=void 0;switch(void 0!==e&&(e.notation&&(r=e.notation),"number"==typeof e?i=e:e.precision&&(i=e.precision)),r){case"fixed":return n.toFixed(t,i);case"exponential":return n.toExponential(t,i);case"auto":var o=.001,a=1e5;e&&e.exponential&&(void 0!==e.exponential.lower&&(o=e.exponential.lower),void 0!==e.exponential.upper&&(a=e.exponential.upper));({toExpNeg:t.constructor.toExpNeg,toExpPos:t.constructor.toExpPos});if(t.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),t.isZero())return"0";var s,u=t.abs();return s=u.gte(o)&&u.lt(a)?t.toSignificantDigits(i).toFixed():n.toExponential(t,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},n.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},n.toFixed=function(t,e){return t.toFixed(e||0)}},{}],518:[function(t,e,n){e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:t.isFinite()||e.isFinite()?e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new n(2).pow(e)):new n(NaN)}},{}],519:[function(t,e,n){"use strict";e.exports=function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}},{}],520:[function(t,e,n){e.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new n(2).pow(e)).floor():new n(t.isNegative()?-1:t.isFinite()?0:NaN)}},{}],521:[function(t,e,n){"use strict";n.isBoolean=function(t){return"boolean"==typeof t}},{}],522:[function(t,e,n){"use strict";var r=t("./isCollection");e.exports=function(t){for(var e=0;e<t.length;e++)if(r(t[e]))return!0;return!1}},{"./isCollection":525}],523:[function(t,e,n){"use strict";e.exports=function r(t,e){t&&t.isMatrix===!0&&(t=t.valueOf());for(var n=0,i=t.length;n<i;n++){var o=t[n];Array.isArray(o)?r(o,e):e(o)}}},{}],524:[function(t,e,n){"use strict";e.exports=function r(t,e,n){return t&&"function"==typeof t.map?t.map(function(t){return r(t,e,n)}):e(t)}},{}],525:[function(t,e,n){"use strict";e.exports=function(t){return Array.isArray(t)||t&&t.isMatrix===!0}},{}],526:[function(t,e,n){"use strict";function r(t,e,n){var o,a,s,u;if(e<=0){if(Array.isArray(t[0])){for(u=i(t),a=[],o=0;o<u.length;o++)a[o]=r(u[o],e-1,n);return a}for(s=t[0],o=1;o<t.length;o++)s=n(s,t[o]);return s}for(a=[],o=0;o<t.length;o++)a[o]=r(t[o],e-1,n);return a}function i(t){var e,n,r=t.length,i=t[0].length,o=[];for(n=0;n<i;n++){var a=[];for(e=0;e<r;e++)a.push(t[e][n]);o.push(a)}return o}var o=t("../array").size,a=t("../../error/IndexError");e.exports=function(t,e,n){var i=Array.isArray(t)?o(t):t.size();if(e<0||e>=i.length)throw new a(e,i.length);return t&&t.isMatrix===!0?t.create(r(t.valueOf(),e,n)):r(t,e,n)}},{"../../error/IndexError":50,"../array":510}],527:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o,a,s,u,c,l){var f,p,h,d,m=t._values,g=t._index,y=t._ptr,v=a._index;if(r)for(p=y[e],h=y[e+1],f=p;f<h;f++)d=g[f],n[d]!==o?(n[d]=o,v.push(d),c?(r[d]=u?s(m[f],l):s(l,m[f]),i[d]=o):r[d]=m[f]):(r[d]=u?s(m[f],r[d]):s(r[d],m[f]),i[d]=o);else for(p=y[e],h=y[e+1],f=p;f<h;f++)d=g[f],n[d]!==o?(n[d]=o,v.push(d)):i[d]=o}},{}],528:[function(t,e,n){var r=t("tiny-emitter");n.mixin=function(t){var e=new r;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},{"tiny-emitter":537}],529:[function(t,e,n){n.memoize=function(t,e){return function n(){"object"!=typeof n.cache&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e(r):JSON.stringify(r);return o in n.cache?n.cache[o]:n.cache[o]=t.apply(t,r)}},n.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}},{}],530:[function(t,e,n){"use strict";n.array=t("./array"),n["boolean"]=t("./boolean"),n["function"]=t("./function"),n.number=t("./number"),n.object=t("./object"),n.string=t("./string"),n.types=t("./types"),n.emitter=t("./emitter")},{"./array":510,"./boolean":521,"./emitter":528,"./function":529,"./number":532,"./object":533,"./string":534,"./types":535}],531:[function(t,e,n){"use strict";n.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega","true":"\\mathrm{True}","false":"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},n.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},n.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var r={deg:"^\\circ"};n.toSymbol=function(t,e){if(e="undefined"!=typeof e&&e)return r.hasOwnProperty(t)?r[t]:"\\mathrm{"+t+"}";if(n.symbols.hasOwnProperty(t))return n.symbols[t];if(t.indexOf("_")!==-1){var i=t.indexOf("_");return n.toSymbol(t.substring(0,i))+"_{"+n.toSymbol(t.substring(i+1))+"}"}return t}},{}],532:[function(t,e,n){"use strict";var r=t("./NumberFormatter");n.isNumber=function(t){return"number"==typeof t},n.isInteger=function(t){return!!isFinite(t)&&t==Math.round(t)},n.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},n.format=function(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-(1/0))return"-Infinity";if(isNaN(t))return"NaN";var r="auto",i=void 0;switch(e&&(e.notation&&(r=e.notation),n.isNumber(e)?i=e:e.precision&&(i=e.precision)),r){case"fixed":return n.toFixed(t,i);case"exponential":return n.toExponential(t,i);case"engineering":return n.toEngineering(t,i);case"auto":return n.toPrecision(t,i,e&&e.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},n.toExponential=function(t,e){return new r(t).toExponential(e)},n.toEngineering=function(t,e){return new r(t).toEngineering(e)},n.toFixed=function(t,e){return new r(t).toFixed(e)},n.toPrecision=function(t,e,n){return new r(t).toPrecision(e,n)},n.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},n.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,n.nearlyEqual=function(t,e,r){if(null==r)return t==e;if(t==e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var i=Math.abs(t-e);return i<n.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}},{"./NumberFormatter":509}],533:[function(t,e,n){"use strict";n.clone=function r(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null===t||void 0===t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map(function(t){return r(t)});if(t instanceof Number)return new Number(t.valueOf());if(t instanceof String)return new String(t.valueOf());if(t instanceof Boolean)return new Boolean(t.valueOf());if(t instanceof Date)return new Date(t.valueOf());if(t&&t.isBigNumber===!0)return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=r(t[i]));return n},n.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},n.deepExtend=function i(t,e){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n in e)if(e.hasOwnProperty(n))if(e[n]&&e[n].constructor===Object)void 0===t[n]&&(t[n]={}),t[n].constructor===Object?i(t[n],e[n]):t[n]=e[n];else{if(Array.isArray(e[n]))throw new TypeError("Arrays are not supported by deepExtend");t[n]=e[n]}return t},n.deepEqual=function(t,e){var r,i,o;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!=e.length)return!1;for(i=0,o=t.length;i<o;i++)if(!n.deepEqual(t[i],e[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!n.deepEqual(t[r],e[r]))return!1;for(r in e)if(!n.deepEqual(t[r],e[r]))return!1;return!0}return typeof t==typeof e&&t==e},n.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},n.lazy=function(t,e,r){if(n.canDefineProperty()){var i,o=!0;Object.defineProperty(t,e,{get:function(){return o&&(i=r(),o=!1),i},set:function(t){i=t,o=!1},configurable:!0,enumerable:!0})}else t[e]=r()},n.traverse=function(t,e){var n=t;if(e)for(var r=e.split("."),i=0;i<r.length;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}return n},n.isFactory=function(t){return t&&"function"==typeof t.factory}},{}],534:[function(t,e,n){"use strict";function r(t,e){if(Array.isArray(t)){for(var i="[",o=t.length,a=0;a<o;a++)0!=a&&(i+=", "),i+=r(t[a],e);return i+="]"}return n.format(t,e)}var i=t("./number").format,o=t("./bignumber/formatter").format;n.isString=function(t){return"string"==typeof t},n.endsWith=function(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e},n.format=function(t,e){if("number"==typeof t)return i(t,e);if(t&&t.isBigNumber===!0)return o(t,e);if(t&&t.isFraction===!0)return e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return r(t,e);if(n.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"==typeof t){if("function"==typeof t.format)return t.format(e);if(t&&t.toString()!=={}.toString())return t.toString();var a=[];for(var s in t)t.hasOwnProperty(s)&&a.push('"'+s+'": '+n.format(t[s],e));return"{"+a.join(", ")+"}"}return String(t)}},{"./bignumber/formatter":517,"./number":532}],535:[function(t,e,n){"use strict";n.type=function(t){var e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":"Object":"function"===e?"Function":e},n.isScalar=function(t){return!(t&&t.isMatrix||Array.isArray(t))}},{}],536:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){g&&d&&(g=!1,d.length?m=d.concat(m):y=-1,m.length&&u())}function u(){if(!g){var t=o(s);g=!0;for(var e=m.length;e;){for(d=m,m=[];++y<e;)d&&d[y].run();y=-1,e=m.length}d=null,g=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var f,p,h=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(t){p=i}}();var d,m=[],g=!1,y=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new c(t,e)),1!==m.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],537:[function(t,e,n){function r(){}r.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},e.exports=r},{}],538:[function(e,n,r){"use strict";!function(e,i){"function"==typeof t&&t.amd?t([],i):"object"==typeof r?n.exports=i():e.typed=i()}(this,function(){function t(){function e(t){for(var e,n=0;n<E.types.length;n++){var r=E.types[n];if(r.name===t){e=r.test;break}}if(!e){var i;for(n=0;n<E.types.length;n++)if(r=E.types[n],r.name.toLowerCase()==t.toLowerCase()){i=r.name;break}throw new Error('Unknown type "'+t+'"'+(i?'. Did you mean "'+i+'"?':""))}return e}function n(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(r.signatures&&""!=r.name)if(""==e)e=r.name;else if(e!=r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function r(t,e,n,r,i){var o,a=m(r),s=i?i.split(","):null,u=t||"unnamed",c=s&&g(s,"any"),l={fn:t,index:n,actual:r,expected:s};o=s?e>n&&!c?"Unexpected type of argument in function "+u+" (expected: "+s.join(" or ")+", actual: "+a+", index: "+n+")":"Too few arguments in function "+u+" (expected: "+s.join(" or ")+", index: "+n+")":"Too many arguments in function "+u+" (expected: "+n+", actual: "+e+")";var f=new TypeError(o);return f.data=l,f}function i(t){this.name=t||"refs",this.categories={}}function o(t,e){if("string"==typeof t){var n=t.trim(),r="..."===n.substr(0,3);if(r&&(n=n.substr(3)),""===n)this.types=["any"];else{this.types=n.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(t)){if(t instanceof o)return t.clone();throw new Error("String or Array expected")}this.types=t}this.conversions=[],this.varArgs=r||e||!1,this.anyType=this.types.indexOf("any")!==-1}function a(t,e){var n;if("string"==typeof t)n=""!==t?t.split(","):[];else{if(!Array.isArray(t))throw new Error("string or Array expected");n=t}this.params=new Array(n.length),this.anyType=!1,this.varArgs=!1;for(var r=0;r<n.length;r++){var i=new o(n[r]);if(this.params[r]=i,i.anyType&&(this.anyType=!0),r===n.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=e}function s(t,e,n,r){this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=n||[],this.fallThrough=r||!1}function u(t){var e,n,r={},i=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];if(e=new a(o,s),e.ignore())continue;var u=e.expand();for(n=0;n<u.length;n++){var c=u[n],l=c.toString(),f=r[l];if(f){var p=a.compare(c,f);if(p<0)r[l]=c;else if(0===p)throw new Error('Signature "'+l+'" is defined twice')}else r[l]=c}}for(l in r)r.hasOwnProperty(l)&&i.push(r[l]);for(i.sort(function(t,e){return a.compare(t,e)}),n=0;n<i.length;n++)if(e=i[n],e.varArgs)for(var h=e.params.length-1,d=e.params[h],m=0;m<d.types.length;){if(d.conversions[m])for(var y=d.types[m],v=0;v<i.length;v++){var b=i[v],x=b.params[h];if(b!==e&&x&&g(x.types,y)&&!x.conversions[h]){d.types.splice(m,1),d.conversions.splice(m,1),m--;break}}m++}return i}function c(t){for(var e=[],n=0;n<t.length;n++)t[n].anyType&&e.push(t[n]);return e}function l(t){for(var e={},n=0;n<t.length;n++){var r=t[n];if(r.fn&&!r.hasConversions()){var i=r.params.join(",");e[i]=r.fn}}return e}function f(t,e,n){var r,i,a,u=e.length,c=[];for(r=0;r<t.length;r++)i=t[r],i.params.length!==u||a||(a=i),void 0!=i.params[u]&&c.push(i);c.sort(function(t,e){return o.compare(t.params[u],e.params[u])});var l=[];for(r=0;r<c.length;r++){i=c[r];var p=i.params[u],h=l.filter(function(t){return t.param.overlapping(p)})[0];if(h){if(h.param.varArgs)throw new Error('Conflicting types "'+h.param+'" and "'+p+'"');h.signatures.push(i)}else l.push({param:p,signatures:[i]})}var d=[];for(r=0;r<n.length;r++)n[r].paramsStartWith(e)&&d.push(n[r]);var m=!1;for(r=0;r<d.length;r++)if(!g(t,d[r])){m=!0;break}var y=new Array(l.length);for(r=0;r<l.length;r++){var v=l[r];y[r]=f(v.signatures,e.concat(v.param),d)}return new s(e,a,y,m)}function p(t){for(var e=[],n=0;n<t;n++)e[n]="arg"+n;return e}function h(t,e){var n=new i,o=u(e);if(0==o.length)throw new Error("No signatures provided");var a=c(o),s=f(o,[],a),h=[],m=t||"",g=p(d(o));h.push("function "+m+"("+g.join(", ")+") {"),h.push('  "use strict";'),h.push("  var name = '"+m+"';"),h.push(s.toCode(n,"  ",!1)),h.push("}");var y=[n.toCode(),"return "+h.join("\n")].join("\n"),v=new Function(n.name,"createError",y),b=v(n,r);return b.signatures=l(o),b}function d(t){for(var e=0,n=0;n<t.length;n++){var r=t[n].params.length;r>e&&(e=r)}return e}function m(t){for(var e,n=0;n<E.types.length;n++){var r=E.types[n];if("Object"===r.name)e=r;else if(r.test(t))return r.name}return e&&e.test(t)?e.name:"unknown"}function g(t,e){return t.indexOf(e)!==-1}function y(t){return t[t.length-1]}function v(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")}function b(t,e){var n=m(t);if(e===n)return t;for(var r=0;r<E.conversions.length;r++){var i=E.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)}i.prototype.add=function(t,e){var n=e||"fn";this.categories[n]||(this.categories[n]=[]);var r=this.categories[n].indexOf(t);return r==-1&&(r=this.categories[n].length,this.categories[n].push(t)),n+r},i.prototype.toCode=function(){var t=[],e=this.name+".categories",n=this.categories;for(var r in n)if(n.hasOwnProperty(r))for(var i=n[r],o=0;o<i.length;o++)t.push("var "+r+o+" = "+e+"['"+r+"']["+o+"];");return t.join("\n")},o.compare=function(t,e){if(t.anyType)return 1;if(e.anyType)return-1;if(g(t.types,"Object"))return 1;if(g(e.types,"Object"))return-1;if(t.hasConversions()){if(e.hasConversions()){var n,r,i;for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){r=t.conversions[n];break}for(n=0;n<e.conversions.length;n++)if(void 0!==e.conversions[n]){i=e.conversions[n];break}return E.conversions.indexOf(r)-E.conversions.indexOf(i)}return 1}if(e.hasConversions())return-1;var o,a;for(n=0;n<E.types.length;n++)if(E.types[n].name===t.types[0]){o=n;break}for(n=0;n<E.types.length;n++)if(E.types[n].name===e.types[0]){a=n;break}return o-a},o.prototype.overlapping=function(t){for(var e=0;e<this.types.length;e++)if(g(t.types,this.types[e]))return!0;return!1},o.prototype.matches=function(t){return this.anyType||t.anyType||this.overlapping(t)},o.prototype.clone=function(){var t=new o(this.types.slice(),this.varArgs);return t.conversions=this.conversions.slice(),t},o.prototype.hasConversions=function(){return this.conversions.length>0},o.prototype.contains=function(t){for(var e=0;e<this.types.length;e++)if(t[this.types[e]])return!0;return!1},o.prototype.toString=function(t){for(var e=[],n={},r=0;r<this.types.length;r++){var i=this.conversions[r],o=t&&i?i.to:this.types[r];o in n||(n[o]=!0,e.push(o))}return(this.varArgs?"...":"")+e.join("|")},a.prototype.clone=function(){return new a(this.params.slice(),this.fn)},a.prototype.expand=function(){function t(n,r){if(r.length<n.params.length){var i,s,u,c=n.params[r.length];if(c.varArgs){for(s=c.clone(),i=0;i<E.conversions.length;i++)if(u=E.conversions[i],!g(c.types,u.from)&&g(c.types,u.to)){var l=s.types.length;s.types[l]=u.from,s.conversions[l]=u}t(n,r.concat(s))}else{for(i=0;i<c.types.length;i++)t(n,r.concat(new o(c.types[i])));for(i=0;i<E.conversions.length;i++)u=E.conversions[i],!g(c.types,u.from)&&g(c.types,u.to)&&(s=new o(u.from),s.conversions[0]=u,t(n,r.concat(s)))}}else e.push(new a(r,n.fn))}var e=[];return t(this,[]),e},a.compare=function(t,e){if(t.params.length>e.params.length)return 1;if(t.params.length<e.params.length)return-1;var n,r=t.params.length,i=0,a=0;for(n=0;n<r;n++)t.params[n].hasConversions()&&i++,e.params[n].hasConversions()&&a++;if(i>a)return 1;if(i<a)return-1;for(n=0;n<t.params.length;n++){var s=o.compare(t.params[n],e.params[n]);if(0!==s)return s}return 0},a.prototype.hasConversions=function(){for(var t=0;t<this.params.length;t++)if(this.params[t].hasConversions())return!0;return!1},a.prototype.ignore=function(){for(var t={},e=0;e<E.ignore.length;e++)t[E.ignore[e]]=!0;for(e=0;e<this.params.length;e++)if(this.params[e].contains(t))return!0;return!1},a.prototype.paramsStartWith=function(t){if(0===t.length)return!0;for(var e=y(this.params),n=y(t),r=0;r<t.length;r++){var i=this.params[r]||(e.varArgs?e:null),o=t[r]||(n.varArgs?n:null);if(!i||!o||!i.matches(o))return!1}return!0},a.prototype.toCode=function(t,e){for(var n=[],r=new Array(this.params.length),i=0;i<this.params.length;i++){var o=this.params[i],a=o.conversions[0];o.varArgs?r[i]="varArgs":a?r[i]=t.add(a.convert,"convert")+"(arg"+i+")":r[i]="arg"+i}var s=this.fn?t.add(this.fn,"signature"):void 0;return s?e+"return "+s+"("+r.join(", ")+"); // signature: "+this.params.join(", "):n.join("\n")},a.prototype.toString=function(){return this.params.join(", ")},s.prototype.toCode=function(t,n){var r=[];if(this.param){var i=this.path.length-1,o=this.param.conversions[0],a="// type: "+(o?o.from+" (convert to "+o.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)r.push(n+"if (arguments.length > "+i+") {"),r.push(n+"  var varArgs = [];"),r.push(n+"  for (var i = "+i+"; i < arguments.length; i++) {"),r.push(n+"    varArgs.push(arguments[i]);"),r.push(n+"  }"),r.push(this.signature.toCode(t,n+"  ")),r.push(n+"}");else{for(var s=function(n,r){for(var i=[],o=0;o<n.length;o++)i[o]=t.add(e(n[o]),"test")+"("+r+")";return i.join(" || ")}.bind(this),u=this.param.types,c=[],l=0;l<u.length;l++)void 0===this.param.conversions[l]&&c.push(u[l]);r.push(n+"if ("+s(u,"arg"+i)+") { "+a),r.push(n+"  var varArgs = [arg"+i+"];"),r.push(n+"  for (var i = "+(i+1)+"; i < arguments.length; i++) {"),r.push(n+"    if ("+s(c,"arguments[i]")+") {"),r.push(n+"      varArgs.push(arguments[i]);");for(var l=0;l<u.length;l++){var f=this.param.conversions[l];if(f){var p=t.add(e(u[l]),"test"),h=t.add(f.convert,"convert");r.push(n+"    }"),r.push(n+"    else if ("+p+"(arguments[i])) {"),r.push(n+"      varArgs.push("+h+"(arguments[i]));")}}r.push(n+"    } else {"),r.push(n+"      throw createError(name, arguments.length, i, arguments[i], '"+c.join(",")+"');"),r.push(n+"    }"),r.push(n+"  }"),r.push(this.signature.toCode(t,n+"  ")),r.push(n+"}")}else if(this.param.anyType)r.push(n+"// type: any"),r.push(this._innerCode(t,n));else{var d=this.param.types[0],p="any"!==d?t.add(e(d),"test"):null;r.push(n+"if ("+p+"(arg"+i+")) { "+a),r.push(this._innerCode(t,n+"  ")),r.push(n+"}")}}else r.push(this._innerCode(t,n));return r.join("\n")},s.prototype._innerCode=function(t,e){var n,r=[];for(this.signature&&(r.push(e+"if (arguments.length === "+this.path.length+") {"),r.push(this.signature.toCode(t,e+"  ")),r.push(e+"}")),n=0;n<this.childs.length;n++)r.push(this.childs[n].toCode(t,e));if(!this.fallThrough||this.param&&this.param.anyType){var i=this._exceptions(t,e);i&&r.push(i)}return r.join("\n")},s.prototype._exceptions=function(t,e){var n=this.path.length;if(0===this.childs.length)return[e+"if (arguments.length > "+n+") {",e+"  throw createError(name, arguments.length, "+n+", arguments["+n+"]);",e+"}"].join("\n");for(var r={},i=[],o=0;o<this.childs.length;o++){var a=this.childs[o];if(a.param)for(var s=0;s<a.param.types.length;s++){var u=a.param.types[s];u in r||a.param.conversions[s]||(r[u]=!0,i.push(u))}}return e+"throw createError(name, arguments.length, "+n+", arguments["+n+"], '"+i.join(",")+"');"};var x=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],w={},_=[],N=[],E={config:w,types:x,conversions:_,ignore:N};return E=h("typed",{Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);var i=n(e);return h(i,t)},"string, Object":h,"...Function":function(t){for(var e,r=n(t),i={},o=0;o<t.length;o++){var a=t[o];if("object"!=typeof a.signatures)throw e=new TypeError("Function is no typed-function (index: "+o+")"),e.data={index:o},e;for(var s in a.signatures)if(a.signatures.hasOwnProperty(s))if(i.hasOwnProperty(s)){if(a.signatures[s]!==i[s])throw e=new Error('Signature "'+s+'" is defined twice'),e.data={signature:s},e}else i[s]=a.signatures[s]}return h(r,i)}}),E.config=w,E.types=x,E.conversions=_,E.ignore=N,E.create=t,E.find=v,E.convert=b,E.addType=function(t){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");E.types.push(t)},E.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");E.conversions.push(t)},E}return t()})},{}],539:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],540:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],541:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,r){
if(t.customInspect&&e&&S(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=c(t,e);if(o)return o;var a=Object.keys(e),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),M(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(e);if(0===a.length){if(S(e)){var g=e.name?": "+e.name:"";return t.stylize("[Function"+g+"]","special")}if(_(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(M(e))return l(e)}var y="",v=!1,x=["{","}"];if(d(e)&&(v=!0,x=["[","]"]),S(e)){var w=e.name?": "+e.name:"";y=" [Function"+w+"]"}if(_(e)&&(y=" "+RegExp.prototype.toString.call(e)),E(e)&&(y=" "+Date.prototype.toUTCString.call(e)),M(e)&&(y=" "+l(e)),0===a.length&&(!v||0==e.length))return x[0]+y+x[1];if(r<0)return _(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var N;return N=v?f(t,e,r,m,a):a.map(function(n){return p(t,e,r,m,n,v)}),t.seen.pop(),h(N,y,x)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)T(e,String(a))?o.push(p(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))}),o}function p(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=g(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function x(t){return"symbol"==typeof t}function w(t){return void 0===t}function _(t){return N(t)&&"[object RegExp]"===k(t)}function N(t){return"object"==typeof t&&null!==t}function E(t){return N(t)&&"[object Date]"===k(t)}function M(t){return N(t)&&("[object Error]"===k(t)||t instanceof Error)}function S(t){return"function"==typeof t}function O(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function k(t){return Object.prototype.toString.call(t)}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var A=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(A,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])a+=g(s)||!N(s)?" "+s:" "+i(s);return a},n.deprecate=function(t,i){function o(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation,a=!0}return t.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return o};var C,P={};n.debuglog=function(t){if(w(C)&&(C=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(C)){e.pid;P[t]=function(){n.format.apply(n,arguments)}}else P[t]=function(){};return P[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=y,n.isNumber=v,n.isString=b,n.isSymbol=x,n.isUndefined=w,n.isRegExp=_,n.isObject=N,n.isDate=E,n.isError=M,n.isFunction=S,n.isPrimitive=O,n.isBuffer=t("./support/isBuffer");n.log=function(){},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!N(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":540,_process:536,inherits:539}],542:[function(t,e,n){e.exports={name:"silver-decisions",version:"0.5.2",description:"Software for creating and analyzing decision trees.",main:"index.js",scripts:{test:'echo "Error: no test specified" && exit 1'},repository:{type:"git",url:"git+https://github.com/bkamins/SilverDecisions.git"},author:"Micha Wasiluk, Bogumi Kamiski, Przemysaw Szufel",license:"LGPL-3.0",bugs:{url:"https://github.com/bkamins/SilverDecisions/issues"},homepage:"https://github.com/bkamins/SilverDecisions#readme",devDependencies:{autosize:"^3.0.19","babel-plugin-transform-class-properties":"^6.11.5","babel-plugin-transform-object-assign":"^6.8.0","babel-preset-es2015":"^6.14.0",babelify:"^7.3.0","browser-sync":"^2.13.0",browserify:"^13.1.0",chalk:"^1.1.3",del:"^2.2.0",gulp:"^3.9.1","gulp-concat":"^2.6.0","gulp-html2js":"^0.4.2","gulp-load-plugins":"^1.2.4","gulp-minify-css":"^1.2.4","gulp-plumber":"^1.1.0","gulp-rename":"^1.2.2","gulp-replace":"^0.5.4","gulp-sass":"^2.3.1","gulp-sourcemaps":"^1.6.0","gulp-strip-debug":"^1.1.0","gulp-uglify":"^1.5.3","gulp-util":"^3.0.7",hammerjs:"^2.0.8",i18next:"^3.4.3",jasmine:"^2.5.2",karma:"^1.3.0","karma-chrome-launcher":"^2.0.0","karma-intl-shim":"^1.0.3","karma-jasmine":"^1.0.2","karma-phantomjs-launcher":"^1.0.2",mathjs:"^3.5.3","merge-stream":"^1.0.0",phantomjs:"^2.1.7",stringify:"^5.1.0","svg2pdf.js":"^0.11.4","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",yargs:"^6.0.0"},dependencies:{"blueimp-canvas-to-blob":"^3.3.0","d3-array":"^1.0.1","d3-brush":"^1.0.3","d3-dispatch":"^1.0.1","d3-drag":"^1.0.1","d3-hierarchy":"^1.0.2","d3-scale":"^1.0.3","d3-selection":"^1.0.2","d3-shape":"^1.0.3","d3-time-format":"^2.0.2","file-saver":"^1.3.2",lodash:"^4.16.2"}}},{}],543:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.AboutDialog=void 0;var s=t("./d3"),u=(r(s),t("./dialog"));n.AboutDialog=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.container.select("#sd-about-dialog"),t))}return a(e,t),e}(u.Dialog)},{"./d3":547,"./dialog":550}],544:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.App=n.AppConfig=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("./d3"),u=r(s),c=t("./i18n/i18n"),l=t("./utils"),f=t("./model/index"),p=r(f),h=t("./objective/objective-rules-manager"),d=t("./validation/tree-validator"),m=t("./tree-designer/tree-designer"),g=t("./data-model"),y=t("./templates"),v=t("./sidebar"),b=t("./toolbar"),x=t("./expression-engine"),w=t("./settings-dialog"),_=t("./objective/expected-value-maximization-rule"),N=t("./about-dialog"),E=t("lodash"),M=r(E),S=(t("./exporter"),t("./definitions-dialog")),O=n.AppConfig=function T(t){i(this,T),this.readOnly=!1,this.buttons={"new":!0,save:!0,open:!0,exportToPng:!0,exportToSvg:!0,exportToPdf:!0},this.exports={show:!0,serverUrl:"http://export.highcharts.com",pdf:{mode:"server"},png:{mode:"fallback"}},this.showDetails=!0,this.showDefinitions=!0,this.jsonFileDownload=!0,this.width=void 0,this.height=void 0,this.rule=_.ExpectedValueMaximizationRule.NAME,this.lng="en",this.format={locales:"en",payoff:{style:"currency",currency:"USD",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0},probability:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:3,useGrouping:!0}},this.title="",this.description="",this.treeDesigner={},t&&l.Utils.deepExtend(this,t)},k=n.App=function(){function t(e,n,r){i(this,t),this.setConfig(n),this.initI18n(),this.initContainer(e),this.initDataModel(),this.initExpressionEngine(),this.initTreeValidator(),this.initObjectiveRulesManager(),this.initProbabilityNumberFormat(),this.initPayoffNumberFormat(),this.initTreeDesigner(),this.initSidebar(),this.initSettingsDialog(),this.initAboutDialog(),this.initDefinitionsDialog(),this.initToolbar(),this.initOnBeforeUnload(),this.initKeyCodes(),r&&this.openDiagram(r)}return a(t,[{key:"setConfig",value:function(t){return t?this.config=new O(t):this.config=new O,this}},{key:"initContainer",value:function(e){if(l.Utils.isString(e)){var n=e.trim();M.startsWith(n,"#")||M.startsWith(n,".")||(n="#"+n),this.container=u.select(n)}else this.container=u.select(e);var r=this;this.container.html(y.Templates.get("main",{version:t.version,lng:r.config.lng})),this.container.select("#silver-decisions").classed("sd-read-only",this.config.readOnly)}},{key:"initI18n",value:function(){c.i18n.init(this.config.lng)}},{key:"initDataModel",value:function(){var t=this;this.dataModel=new g.DataModel,this.dataModel.nodeAddedCallback=this.dataModel.nodeRemovedCallback=function(e){return l.Utils.waitForFinalEvent(function(){return t.onNodeAddedOrRemoved()},"onNodeAddedOrRemoved")},this.dataModel.textAddedCallback=function(e){return l.Utils.waitForFinalEvent(function(){return t.onTextAdded(e)},"onTextAdded")},this.dataModel.textRemovedCallback=function(e){return l.Utils.waitForFinalEvent(function(){return t.onTextRemoved(e)},"onTextAdded")}}},{key:"initExpressionEngine",value:function(){this.expressionEngine=new x.ExpressionEngine(this.dataModel.expressionScope),this.dataModel.setExpressionEngine(this.expressionEngine)}},{key:"initTreeValidator",value:function(){this.treeValidator=new d.TreeValidator(this.expressionEngine),this.dataModel.setTreeValidator(this.treeValidator)}},{key:"initObjectiveRulesManager",value:function(){this.objectiveRulesManager=new h.ObjectiveRulesManager(this.config.rule,this.dataModel,this.expressionEngine),this.checkValidityAndRecomputeObjective(!1,!1,!1)}},{key:"initSidebar",value:function(){this.sidebar=new v.Sidebar(this.container.select("#sd-sidebar"),this)}},{key:"initSettingsDialog",value:function(){this.settingsDialog=new w.SettingsDialog(this)}},{key:"initAboutDialog",value:function(){this.aboutDialog=new N.AboutDialog(this)}},{key:"initDefinitionsDialog",value:function(){var t=this;this.definitionsDialog=new S.DefinitionsDialog(this),this.definitionsDialog.onClosed=function(){return t.recompute()}}},{key:"initToolbar",value:function(){this.toolbar=new b.Toolbar(this.container.select("#sd-toolbar"),this)}},{key:"initPayoffNumberFormat",value:function(){this.payoffNumberFormat=new Intl.NumberFormat(this.config.format.locales,this.config.format.payoff)}},{key:"initProbabilityNumberFormat",value:function(){this.probabilityNumberFormat=new Intl.NumberFormat(this.config.format.locales,this.config.format.probability)}},{key:"initTreeDesigner",value:function(){var t=this.getTreeDesignerInitialConfig();this.treeDesigner=new m.TreeDesigner(this.container.select("#tree-designer-container"),this.dataModel,t)}},{key:"getTreeDesignerInitialConfig",value:function(){var t=this;return l.Utils.deepExtend({$readOnly:t.config.readOnly,$rule:t.config.rule,onNodeSelected:function(e){t.onObjectSelected(e)},onEdgeSelected:function(e){t.onObjectSelected(e)},onTextSelected:function(e){t.onObjectSelected(e)},onSelectionCleared:function(){t.onSelectionCleared()},payoffNumberFormatter:function(e){return t.payoffNumberFormat.format(e)},probabilityNumberFormatter:function(e){return t.probabilityNumberFormat.format(e)}},t.config.treeDesigner)}},{key:"onObjectSelected",value:function(t){var e=this;this.selectedObject!==t&&(this.selectedObject=t,setTimeout(function(){e.sidebar.updateObjectPropertiesView(e.selectedObject),e.updateVariableDefinitions(),e.treeDesigner.updatePlottingRegionSize()},10))}},{key:"onSelectionCleared",value:function(){var t=this;this.selectedObject=null,this.sidebar.hideObjectProperties(),setTimeout(function(){t.updateVariableDefinitions(),t.treeDesigner.updatePlottingRegionSize()},10)}},{key:"getCurrentVariableDefinitionsSourceObject",value:function(){return this.selectedObject?this.selectedObject instanceof p.Edge?this.selectedObject.parentNode:this.selectedObject:this.dataModel}},{key:"updateVariableDefinitions",value:function(){var t=this,e=t.getCurrentVariableDefinitionsSourceObject(),n=this.selectedObject instanceof p.Edge||this.selectedObject instanceof p.TerminalNode;t.sidebar.updateDefinitions(e,n,function(n){t.dataModel.saveState(),e.code=n,t.recompute()})}},{key:"openDefinitionsDialog",value:function(){var t=this,e=this.getCurrentVariableDefinitionsSourceObject();this.definitionsDialog.open(e,function(n){t.dataModel.saveState(),e.code=n,t.recompute()})}},{key:"updateView",value:function(){this.treeDesigner.redraw(!0),this.sidebar.updateObjectPropertiesView(this.selectedObject),this.updateVariableDefinitions(),this.toolbar.update(),this.sidebar.updateLayoutOptions(),this.sidebar.updateDiagramDetails()}},{key:"undo",value:function(){var t=this;t.dataModel.undo(),t.selectedObject&&(t.selectedObject=t.dataModel.findById(t.selectedObject.$id)),this.checkValidityAndRecomputeObjective(!1,!1,!1),t.updateView()}},{key:"redo",value:function(){var t=this;t.dataModel.redo(),t.selectedObject&&(t.selectedObject=t.dataModel.findById(t.selectedObject.$id)),this.checkValidityAndRecomputeObjective(!1,!1,!1),t.updateView()}},{key:"onNodeAddedOrRemoved",value:function(){this.checkValidityAndRecomputeObjective(),this.updateView()}},{key:"onTextAdded",value:function(t){this.onObjectSelected(t)}},{key:"onTextRemoved",value:function(t){this.updateView()}},{key:"onObjectUpdated",value:function(){var t=this;this.checkValidityAndRecomputeObjective(),setTimeout(function(){t.treeDesigner.redraw(!0)},1)}},{key:"setObjectiveRule",value:function(t){this.treeDesigner.setRuleName(t),this.objectiveRulesManager.setCurrentRuleByName(t),this.checkValidityAndRecomputeObjective(!1,!1,!1),this.updateView(!0)}},{key:"recompute",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.checkValidityAndRecomputeObjective(!1,!0),t&&this.updateView()}},{key:"checkValidityAndRecomputeObjective",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.validationResults=[],n&&this.evalCodeExpressions(),r&&this.objectiveRulesManager.evalNumericExpressions(),this.dataModel.getRoots().forEach(function(n){var r=e.treeValidator.validate(e.dataModel.getAllNodesInSubtree(n));e.validationResults.push(r),r.isValid()?e.objectiveRulesManager.recomputeTree(n,t):e.objectiveRulesManager.setProbabilitiesToDisplay()}),this.updateValidationMessages(),l.Utils.dispatchEvent("SilverDecisionsRecomputedEvent",this)}},{key:"evalNumericExpressions",value:function(){this.objectiveRulesManager.evalNumericExpressions()}},{key:"evalCodeExpressions",value:function(){this.objectiveRulesManager.evalCodeExpressions()}},{key:"evalAllExpressions",value:function(){this.objectiveRulesManager.evalCodeExpressions(),this.objectiveRulesManager.evalNumericExpressions()}},{key:"updateValidationMessages",value:function(){var t=this;setTimeout(function(){t.treeDesigner.updateValidationMessages(t.validationResults)},1)}},{key:"newDiagram",value:function(){this.clear(),this.updateView()}},{key:"clear",value:function(){this.dataModel.clear(),this.setDiagramTitle("",!0),this.setDiagramDescription("",!0),this.treeDesigner.setConfig(l.Utils.deepExtend(this.getTreeDesignerInitialConfig())),this.onSelectionCleared()}},{key:"openDiagram",value:function(t){var e=this;if(this.clear(),!t.SilverDecisions)return void alert(c.i18n.t("error.notSilverDecisionsFile"));try{t.lng&&(this.config.lng=t.lng),t.rule&&(this.objectiveRulesManager.isRuleName(t.rule)?this.config.rule=t.rule:delete this.config.rule),t.format&&(this.config.format=t.format),this.setConfig(this.config),this.dataModel.load(t.trees,t.texts,t.code,t.expressionScope),t.treeDesigner&&this.treeDesigner.setConfig(l.Utils.deepExtend(e.getTreeDesignerInitialConfig(),t.treeDesigner)),this.setDiagramTitle(t.title||"",!0),this.setDiagramDescription(t.description||"",!0)}catch(n){alert(c.i18n.t("error.malformedData"))}try{this.updateNumberFormats()}catch(n){alert(c.i18n.t("error.incorrectNumberFormatOptions")),delete this.config.format,this.setConfig(this.config),this.updateNumberFormats()}this.setObjectiveRule(this.config.rule)}},{key:"serialize",value:function(e,n){var r=this;r.checkValidityAndRecomputeObjective(!0,!1,!1);var i={SilverDecisions:t.version,lng:r.config.lng,rule:r.objectiveRulesManager.currentRule.name,title:r.config.title,description:r.config.description,format:r.config.format,treeDesigner:r.treeDesigner.config,trees:r.dataModel.getRoots(),texts:r.dataModel.texts,expressionScope:r.dataModel.expressionScope,code:r.dataModel.code},a=[];return JSON.stringify(i,function(t,i){if("object"===("undefined"==typeof i?"undefined":o(i))&&null!==i){if(a.indexOf(i)!==-1)return;a.push(i)}if(!M.startsWith(t,"$")&&"parentNode"!=t&&!(e&&"location"==t||n&&"computed"==t)){if(null!==i&&void 0!==i&&i.mathjs)try{return r.expressionEngine.serialize(i)}catch(s){return i}return i}},2)}},{key:"updateNumberFormats",value:function(){this.initPayoffNumberFormat(),this.initProbabilityNumberFormat(),this.updateView()}},{key:"updatePayoffNumberFormat",value:function(){this.initPayoffNumberFormat(),this.updateView()}},{key:"updateProbabilityNumberFormat",value:function(){this.initProbabilityNumberFormat(),this.updateView()}},{key:"initOnBeforeUnload",value:function(){var t=this;window.addEventListener("beforeunload",function(e){if(t.dataModel.isUndoAvailable()||t.dataModel.isRedoAvailable()){var n=c.i18n.t("confirm.beforeunload");return e.returnValue=n,n}})}},{key:"setConfigParam",value:function(t,e,n,r){var i=this,o=M.get(this.config,t);o!=e&&(n||this.dataModel.saveState({data:{prevValue:o},onUndo:function(e){i.setConfigParam(t,e.prevValue,!0,r)},onRedo:function(n){i.setConfigParam(t,e,!0,r)}}),M.set(this.config,t,e),r&&r(e))}},{key:"setDiagramTitle",value:function(t,e){var n=this;this.setConfigParam("title",t,e,function(t){return n.treeDesigner.updateDiagramTitle(t)})}},{key:"setDiagramDescription",value:function(t,e){var n=this;this.setConfigParam("description",t,e,function(t){return n.treeDesigner.updateDiagramDescription(t)})}},{key:"initKeyCodes",value:function(){var t=this;this.container.on("keyup",function(e){if(!(u.event.srcElement&&["INPUT","TEXTAREA"].indexOf(u.event.srcElement.nodeName.toUpperCase())>-1)){var n=u.event.keyCode;if(46==n)return t.treeDesigner.removeSelectedNodes(),void t.treeDesigner.removeSelectedTexts();if(u.event.ctrlKey){if(u.event.altKey){if(t.selectedObject instanceof p.Node){var r=t.selectedObject;if(r instanceof p.TerminalNode)return;return void(68==n?t.treeDesigner.addDecisionNode(r):67==n?t.treeDesigner.addChanceNode(r):84==n&&t.treeDesigner.addTerminalNode(r))}t.selectedObject instanceof p.Edge&&(68==n?t.treeDesigner.injectDecisionNode(t.selectedObject):67==n&&t.treeDesigner.injectChanceNode(t.selectedObject))}if(90==n)return void t.undo();if(89==n)return void t.redo();var i=t.treeDesigner.getSelectedNodes();if(86!=n)i.length&&(88==n?t.treeDesigner.cutSelectedNodes():67==n&&t.treeDesigner.copySelectedNodes());else if(1==i.length){var o=i[0];if(o instanceof p.TerminalNode)return;t.treeDesigner.pasteToNode(o)}else 0==i.length}}})}}]),t}();k.version="",k.utils=l.Utils,k.d3=u},{"./about-dialog":543,"./d3":547,"./data-model":548,"./definitions-dialog":549,"./exporter":551,"./expression-engine":552,"./i18n/i18n":558,"./model/index":566,"./objective/expected-value-maximization-rule":574,"./objective/objective-rules-manager":578,"./settings-dialog":579,"./sidebar":580,"./templates":581,"./toolbar":606,"./tree-designer/tree-designer":617,"./utils":618,"./validation/tree-validator":623,lodash:42}],545:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ContextMenu=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=r(a);n.ContextMenu=function(){function t(e,n){i(this,t);var r=this;return"function"==typeof n?r.openCallback=n:(n=n||{},r.openCallback=n.onOpen,r.closeCallback=n.onClose),s.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),s.select("body").on("click.d3-context-menu",function(){s.select(".d3-context-menu").style("display","none"),r.closeCallback&&r.closeCallback()}),function(t,n){var i=this;s.selectAll(".d3-context-menu").html("");var o=s.selectAll(".d3-context-menu").on("contextmenu",function(t){s.select(".d3-context-menu").style("display","none"),s.event.preventDefault(),s.event.stopPropagation()}).append("ul");o.selectAll("li").data("function"==typeof e?e(t):e).enter().append("li").attr("class",function(t){var e="";return t.divider&&(e+=" is-divider"),t.disabled&&(e+=" is-disabled"),t.action||(e+=" is-header"),e}).html(function(e){return e.divider?"<hr>":(!e.title,"string"==typeof e.title?e.title:e.title(t))}).on("click",function(e,o){e.disabled||e.action&&(e.action(i,t,n),s.select(".d3-context-menu").style("display","none"),r.closeCallback&&r.closeCallback())}),r.openCallback&&r.openCallback(t,n)===!1||(s.select(".d3-context-menu").style("left",s.event.pageX-2+"px").style("top",s.event.pageY-2+"px").style("display","block"),s.event.preventDefault(),s.event.stopPropagation())}}return o(t,null,[{key:"hide",value:function(){s.select(".d3-context-menu").style("display","none")}}]),t}()},{"./d3":547}],546:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.D3Extensions=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./utils"),s=t("./d3"),u=r(s);n.D3Extensions=function(){function t(){i(this,t)}return o(t,null,[{key:"extend",value:function(){u.selection.prototype.enter.prototype.insertSelector=u.selection.prototype.insertSelector=function(t,e){return a.Utils.insertSelector(this,t,e)},u.selection.prototype.enter.prototype.appendSelector=u.selection.prototype.appendSelector=function(t){return a.Utils.appendSelector(this,t)},u.selection.prototype.enter.prototype.selectOrAppend=u.selection.prototype.selectOrAppend=function(t){return a.Utils.selectOrAppend(this,t)},u.selection.prototype.enter.prototype.selectOrInsert=u.selection.prototype.selectOrInsert=function(t,e){return a.Utils.selectOrInsert(this,t,e)}}}]),t}()},{"./d3":547,"./utils":618}],547:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-dispatch");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("d3-scale");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("d3-selection");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("d3-shape");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var s=t("d3-drag");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var u=t("d3-brush");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var c=t("d3-array");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})});var l=t("d3-hierarchy");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}})});var f=t("d3-time-format");Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return f[t]}})})},{"d3-array":4,"d3-brush":5,"d3-dispatch":8,"d3-drag":9,"d3-hierarchy":12,"d3-scale":15,"d3-selection":16,"d3-shape":17,"d3-time-format":18}],548:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DataModel=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("./utils"),u=t("./model/index"),c=r(u),l=t("lodash"),f=r(l),p=t("./expression-engine");n.DataModel=function(){function t(){o(this,t),this.nodes=[],this.edges=[],this.texts=[],this.expressionScope={},this.code="",this.$codeError=null,this.$codeDirty=!1,this.maxStackSize=20,this.undoStack=[],this.redoStack=[],this.undoRedoStateChangedCallback=null,this.nodeAddedCallback=null,this.nodeRemovedCallback=null,this.textAddedCallback=null,this.textRemovedCallback=null,this.callbacksDisabled=!1}return a(t,[{key:"setTreeValidator",value:function(t){this.treeValidator=t}},{key:"setExpressionEngine",value:function(t){this.expressionEngine=t}},{key:"load",value:function(t,e,n,r){var i=this;t.forEach(function(t){i.createNodeFromData(t)}),e&&e.forEach(function(t){var e=new c.Point(t.location.x,t.location.y),n=new c.Text(e,t.value);i.texts.push(n)}),this.clearExpressionScope(),this.code=n||"",r&&s.Utils.extend(this.expressionScope,r)}},{key:"createNodeFromData",value:function(t,e){var n,r=this,i=new c.Point(t.location.x,t.location.y);c.DecisionNode.$TYPE==t.type?n=new c.DecisionNode(i):c.ChanceNode.$TYPE==t.type?n=new c.ChanceNode(i):c.TerminalNode.$TYPE==t.type&&(n=new c.TerminalNode(i)),n.name=t.name;var o=this.addNode(n,e);return t.childEdges.forEach(function(t){var e=r.createNodeFromData(t.childNode,n);e.payoff=t.payoff,e.probability=t.probability,e.name=t.name}),t.expressionScope&&(n.expressionScope=t.expressionScope),o}},{key:"addNode",value:function(t,e){var n=this;if(n.nodes.push(t),e){var r=n._addChild(e,t);return this._fireNodeAddedCallback(t),r}return this._fireNodeAddedCallback(t),t}},{key:"injectNode",value:function(t,e){var n=e.parentNode,r=e.childNode;this.nodes.push(t),t.$parent=n,e.childNode=t,this._addChild(t,r),this._fireNodeAddedCallback(t)}},{key:"_addChild",value:function(t,e){var n=this,r=new c.Edge(t,e);return n._setEdgeInitialProbability(r),n.edges.push(r),t.childEdges.push(r),e.$parent=t,r}},{key:"_setEdgeInitialProbability",value:function(t){t.parentNode instanceof c.ChanceNode?t.probability="#":t.probability=void 0}},{key:"removeNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;t.childEdges.forEach(function(t){return n.removeNode(t.childNode,e+1)}),n._removeNode(t);var r=t.$parent;if(r){var i=f.find(r.childEdges,function(e,n){return e.childNode===t});0==e?n.removeEdge(i):n._removeEdge(i)}this._fireNodeRemovedCallback(t)}},{key:"removeNodes",value:function(t){var e=this,n=this.findSubtreeRoots(t);n.forEach(function(t){return e.removeNode(t,0)},this)}},{key:"getRoots",value:function(){return this.nodes.filter(function(t){return!t.$parent})}},{key:"findSubtreeRoots",value:function(t){return t.filter(function(e){return!e.$parent||t.indexOf(e.$parent)===-1})}},{key:"cloneSubtree",value:function(t,e){var n=this,r=this.cloneNode(t);return t.childEdges.forEach(function(t){var i=n.cloneSubtree(t.childNode,e);i.$parent=r;var o=new c.Edge(r,i,t.name,t.payoff,t.probability);e&&(o.computed=f.cloneDeep(t.computed),i.computed=f.cloneDeep(t.childNode.computed)),r.childEdges.push(o)}),e&&(r.computed=f.cloneDeep(t.computed)),r}},{key:"attachSubtree",value:function(t,e){var n=this,r=n.addNode(t,e),i=n.getAllDescendantEdges(t);return i.forEach(function(t){n.edges.push(t),n.nodes.push(t.childNode)}),r}},{key:"cloneNodes",value:function(t){}},{key:"cloneNode",value:function(t){var e=f.clone(t);return e.$id=s.Utils.guid(),e.location=f.clone(t.location),e.computed=f.clone(t.computed),e.$parent=null,e.childEdges=[],e}},{key:"findNodeById",value:function(t){return f.find(this.nodes,function(e){return e.$id==t})}},{key:"findEdgeById",value:function(t){return f.find(this.edges,function(e){return e.$id==t})}},{key:"findById",value:function(t){var e=this.findNodeById(t);return e?e:this.findEdgeById(t)}},{key:"_removeNode",value:function(t){var e=this.nodes.indexOf(t);e>-1&&this.nodes.splice(e,1)}},{key:"removeEdge",value:function(t){var e=t.parentNode.childEdges.indexOf(t);e>-1&&t.parentNode.childEdges.splice(e,1),
this._removeEdge(t)}},{key:"_removeEdge",value:function(t){var e=this.edges.indexOf(t);e>-1&&this.edges.splice(e,1)}},{key:"_removeNodes",value:function(t){this.nodes=this.nodes.filter(function(e){return t.indexOf(e)===-1})}},{key:"_removeEdges",value:function(t){this.edges=this.edges.filter(function(e){return t.indexOf(e)===-1})}},{key:"getAllDescendantEdges",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){n.push(t),t.childNode&&n.push.apply(n,i(e.getAllDescendantEdges(t.childNode)))}),n}},{key:"getAllDescendantNodes",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){t.childNode&&(n.push(t.childNode),n.push.apply(n,i(e.getAllDescendantNodes(t.childNode))))}),n}},{key:"getAllNodesInSubtree",value:function(t){var e=this.getAllDescendantNodes(t);return e.unshift(t),e}},{key:"isUndoAvailable",value:function(){return!!this.undoStack.length}},{key:"isRedoAvailable",value:function(){return!!this.redoStack.length}},{key:"saveState",value:function(t){return this.redoStack.length=0,this._pushToStack(this.undoStack,{revertConf:t,nodes:f.cloneDeep(this.nodes),edges:f.cloneDeep(this.edges),texts:f.cloneDeep(this.texts),expressionScope:f.cloneDeep(this.expressionScope),code:this.code,$codeError:this.$codeError}),this._fireUndoRedoCallback(),this}},{key:"undo",value:function(){var t=this,e=this.undoStack.pop();if(e)return this._pushToStack(this.redoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e),this._fireUndoRedoCallback(),this}},{key:"redo",value:function(){var t=this,e=this.redoStack.pop();if(e)return this._pushToStack(this.undoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e,!0),this._fireUndoRedoCallback(),this}},{key:"clear",value:function(){this.nodes.length=0,this.edges.length=0,this.undoStack.length=0,this.redoStack.length=0,this.texts.length=0}},{key:"addText",value:function(t){this.texts.push(t),this._fireTextAddedCallback(t)}},{key:"removeTexts",value:function(t){var e=this;t.forEach(function(t){return e.removeText(t)})}},{key:"removeText",value:function(t){var e=this.texts.indexOf(t);e>-1&&(this.texts.splice(e,1),this._fireTextRemovedCallback(t))}},{key:"canFlipSubTree",value:function(t){if(!(t instanceof c.ChanceNode))return!1;if(!this.treeValidator.validate(this.getAllNodesInSubtree(t)).isValid())return!1;if(t.childEdges.length<1)return!1;var e,n=null,r=[],i=new Set;return!!t.childEdges.every(function(t){var o=t.childNode;return o instanceof c.ChanceNode&&(!i.has(t.name.trim())&&(i.add(t.name.trim()),null===n?(n=o.childEdges.length,!(n<1)&&(o.childEdges.forEach(function(t){r.push(t.name.trim())}),e=new Set(r),e.size===r.length)):o.childEdges.length==n&&!!o.childEdges.every(function(t,e){return r[e]===t.name.trim()})))})}},{key:"flipSubTree",value:function(t){var e=this,n=this.cloneSubtree(t,!0),r=t.childEdges.length,i=t.childEdges[0].childNode.childEdges.length,o=i,a=r,s=this.callbacksDisabled;this.callbacksDisabled=!0;var u=t.childEdges[0].childNode.location.x,l=t.childEdges[0].childNode.childEdges[0].childNode.location.y,f=t.childEdges[r-1].childNode.childEdges[i-1].childNode.location.y,h=f-l,d=h/(o+1);t.childEdges.slice().forEach(function(t){return e.removeNode(t.childNode)});for(var m=0;m<o;m++){var g=new c.ChanceNode(new c.Point(u,l+(m+1)*d)),y=this.addNode(g,t);y.name=n.childEdges[0].childNode.childEdges[m].name,y.probability=0;for(var v=0;v<a;v++){var b=n.childEdges[v].childNode.childEdges[m].childNode,x=this.attachSubtree(b,g);x.name=n.childEdges[v].name,x.payoff=p.ExpressionEngine.add(n.childEdges[v].computedBasePayoff(),n.childEdges[v].childNode.childEdges[m].computedBasePayoff()),x.probability=p.ExpressionEngine.multiply(n.childEdges[v].computedBaseProbability(),n.childEdges[v].childNode.childEdges[m].computedBaseProbability()),y.probability=p.ExpressionEngine.add(y.probability,x.probability)}var w=function(t){return p.ExpressionEngine.divide(t,y.probability)};if(y.probability.equals(0)){var _=p.ExpressionEngine.divide(1,a);w=function(t){return _}}var N=0;if(g.childEdges.forEach(function(t){t.probability=w(t.probability),N=p.ExpressionEngine.add(N,t.probability),t.probability=e.expressionEngine.serialize(t.probability)}),!N.equals(1)){var E=p.ExpressionEngine.divide(1,N);g.childEdges.forEach(function(t){t.probability=p.ExpressionEngine.multiply(t.probability,E)})}y.probability=this.expressionEngine.serialize(y.probability)}this.callbacksDisabled=s,this._fireNodeAddedCallback()}},{key:"clearExpressionScope",value:function(){var t=this;f.forOwn(this.expressionScope,function(e,n){delete t.expressionScope[n]})}},{key:"_setNewState",value:function(t,e){var n=s.Utils.getObjectByIdMap(t.nodes),r=s.Utils.getObjectByIdMap(t.edges);this.nodes=t.nodes,this.edges=t.edges,this.texts=t.texts,this.expressionScope=t.expressionScope,this.expressionEngine.setScope(this.expressionScope),this.code=t.code,this.$codeError=t.$codeError,this.nodes.forEach(function(t){for(var e=0;e<t.childEdges.length;e++){var i=r[t.childEdges[e].$id];t.childEdges[e]=i,i.parentNode=t,i.childNode=n[i.childNode.$id]}}),t.revertConf&&(!e&&t.revertConf.onUndo&&t.revertConf.onUndo(t.revertConf.data),e&&t.revertConf.onRedo&&t.revertConf.onRedo(t.revertConf.data)),this.revertConf=t.revertConf}},{key:"_pushToStack",value:function(t,e){t.length>=this.maxStackSize&&t.shift(),t.push(e)}},{key:"_fireUndoRedoCallback",value:function(){!this.callbacksDisabled&&this.undoRedoStateChangedCallback&&this.undoRedoStateChangedCallback()}},{key:"_fireNodeAddedCallback",value:function(t){!this.callbacksDisabled&&this.nodeAddedCallback&&this.nodeAddedCallback(t)}},{key:"_fireNodeRemovedCallback",value:function(t){!this.callbacksDisabled&&this.nodeRemovedCallback&&this.nodeRemovedCallback(t)}},{key:"_fireTextAddedCallback",value:function(t){!this.callbacksDisabled&&this.textAddedCallback&&this.textAddedCallback(t)}},{key:"_fireTextRemovedCallback",value:function(t){!this.callbacksDisabled&&this.textRemovedCallback&&this.textRemovedCallback(t)}}]),t}()},{"./expression-engine":552,"./model/index":566,"./utils":618,lodash:42}],549:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.DefinitionsDialog=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function m(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:m(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=t("./d3"),l=r(c),f=t("./dialog"),p=t("./utils"),h=t("lodash"),d=(r(h),t("./templates"));n.DefinitionsDialog=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.container.select("#sd-definitions-dialog"),t)),r=n;return n.definitionsCode=n.container.select("textarea#sd-definitions-dialog-definitions-code").on("input",function(){p.Utils.updateInputClass(l.select(this))}),n.definitionsCode=n.container.select("textarea#sd-definitions-dialog-definitions-code").on("change",function(){r.changeCallback&&r.changeCallback(this.value)}),n.recalculateButton=n.container.select("button#sd-definitions-dialog-recalculate-button").on("click",function(){r.app.recompute()}),n.variableValuesContainer=n.container.select("#sd-definitions-dialog-variable-values"),p.Utils.elasticTextarea(n.definitionsCode),document.addEventListener("SilverDecisionsRecomputedEvent",function(e){e.detail===t&&r.update()}),n}return a(e,t),s(e,[{key:"open",value:function(t,n){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"open",this).call(this),this.changeCallback=n,this.definitionsSourceObject=t,this.update()}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(t||this.isVisible())&&(this.definitionsCode.node().value=this.definitionsSourceObject.code,p.Utils.updateInputClass(this.definitionsCode),p.Utils.autoResizeTextarea(this.definitionsCode.node()),this.definitionsCode.classed("invalid",!!this.definitionsSourceObject.$codeError),this.definitionsSourceObject.$codeError?this.printError(this.definitionsSourceObject.$codeError):this.printVariables(this.definitionsSourceObject.expressionScope))}},{key:"printError",value:function(t){var e=t;this.variableValuesContainer.html(e)}},{key:"printVariables",value:function(t){var e=d.Templates.get("evaluatedVariables",{scopeVariables:p.Utils.getVariablesAsList(t)});this.variableValuesContainer.html(e)}}]),e}(f.Dialog)},{"./d3":547,"./dialog":550,"./templates":581,"./utils":618,lodash:42}],550:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Dialog=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3");r(a),t("./i18n/i18n"),t("./utils"),n.Dialog=function(){function t(e,n){var r=this;i(this,t),this.app=n,this.container=e,this.container.select(".sd-close-modal").on("click",function(){return r.close()})}return o(t,[{key:"open",value:function(){this.onOpen(),this.container.classed("open",!0)}},{key:"close",value:function(){this.container.classed("open",!1),this.onClosed()}},{key:"isVisible",value:function(){return this.container.classed("open")}},{key:"onClosed",value:function(){}},{key:"onOpen",value:function(){}}]),t}()},{"./d3":547,"./i18n/i18n":558,"./utils":618}],551:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Exporter=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("blueimp-canvas-to-blob"),s=t("file-saver"),u=t("./d3"),c=r(u),l=t("./i18n/i18n"),f=t("./utils"),p=t("lodash"),h=r(p),d=t("./loading-indicator"),m=n.Exporter=function(){function t(){i(this,t)}return o(t,null,[{key:"getSvgCloneWithInlineStyles",value:function(e){function n(e,r,i){if(!e)return!1;var o=e.children,a=r.children;e.children||(o=e.childNodes,a=r.childNodes),"text"===e.tagName;var s="",u=getComputedStyle(e);if(!u)return!0;if("none"===u.display)return!1;for(var c=0;c<u.length;c++){var l=u.item(c);if(!h.startsWith(l,"-")){var f=u.getPropertyValue(l);i&&f===i.getPropertyValue(l)||(t.exportedStyles.some(function(t){return t.test(l)})?s+="; "+l+": "+f:t.svgProperties.some(function(t){return t.test(l)})&&r.setAttribute(l,f))}}s.length?r.setAttribute("style",s):r.removeAttribute("style");for(var p=[],d=0;d<o.length;d++){var m=o[d];n(m,a[d],u)||p.push(a[d])}return p.forEach(function(t){r.removeChild(t)}),!0}var r=e.cloneNode(!0);return n(e,r),r.setAttribute("xlink","http://www.w3.org/1999/xlink"),r}},{key:"getSVGString",value:function(e){var n=t.getSvgCloneWithInlineStyles(e),r=new XMLSerializer,i=r.serializeToString(n);return i=t.sanitizeSVG(i)}},{key:"svgString2Image",value:function(t,e,n,r,i){var o="data:image/svg+xml,"+encodeURIComponent(t),a=document.createElement("canvas"),s=a.getContext("2d");a.width=e,a.height=n;var u=new Image;u.width=e,u.height=n;var c=new Image;c.width=e,c.height=n,u.onload=function(){s.drawImage(u,0,0,e,n),a.toBlob(function(t){var e=Math.round(t.length/1024)+" KB";i&&i(t,e)})},u.src=o}},{key:"getExportFileName",value:function(t){var e="decisiontree",n=c.timeFormat("%Y.%m.%d_%H.%M.%S"),r=new Date;return e+="@"+n(r),t&&(e+="."+t),e}},{key:"saveAsPng",value:function(e,n){var r="client"===n.png.mode,i="fallback"===n.png.mode,o="server"===n.png.mode;if(f.Utils.detectIE()){if(r)return void alert(l.i18n.t("error.pngExportNotSupportedIE"));i&&(i=!1,o=!0)}d.LoadingIndicator.show();try{var a=t.getSVGString(e.node()),s=e.attr("width"),u=e.attr("height"),c=4*s,p=4*u;if(r||i){var h=function(e,r){try{t.saveAs(e,t.getExportFileName("png")),d.LoadingIndicator.hide()}catch(o){if(!i)throw o;t.exportPngServerSide(a,n.serverUrl,c,p)}};t.svgString2Image(a,c,p,"png",h)}else o&&t.exportPngServerSide(a,n.serverUrl,c,p)}catch(m){alert(l.i18n.t("error.pngExportNotSupported")),d.LoadingIndicator.hide()}}},{key:"saveAsSvg",value:function(e){try{var n=t.getSVGString(e.node()),r=new Blob([n],{type:"image/svg+xml"});t.saveAs(r,t.getExportFileName("svg"))}catch(i){alert(l.i18n.t("error.svgExportNotSupported"))}}},{key:"exportPdfClientSide",value:function(e,n,r){var i=new jsPDF("l","pt",[n,r]),o=document.createElement("svg");o.innerHTML=e,svg2pdf(o.firstChild,i,{xOffset:0,yOffset:0,scale:1}),i.save(t.getExportFileName("pdf")),d.LoadingIndicator.hide()}},{key:"postAndSave",value:function(e,n,r,i,o){var a=new XMLHttpRequest;a.open("post",e,!0),a.setRequestHeader("Content-type","application/json"),a.responseType="arraybuffer",a.onload=function(){var e=a.status,n=a.getResponseHeader("Content-Type");if(200==e){var s=new Blob([this.response],{type:n});t.saveAs(s,r),i&&i()}else o&&o()},a.onreadystatechange=function(t){4===a.readyState&&200!==a.status&&o()},a.send(JSON.stringify(n))}},{key:"exportPdfServerSide",value:function(e,n){var r=t.getExportFileName("pdf"),i={svg:e,type:"pdf",noDownload:!0};t.postAndSave(n,i,r,d.LoadingIndicator.hide,function(){throw d.LoadingIndicator.hide(),alert(l.i18n.t("error.serverSideExportRequestFailure")),new Error("Server side export failure")})}},{key:"exportPngServerSide",value:function(e,n,r,i){var o=t.getExportFileName("png"),a={svg:e,type:"png",noDownload:!0,width:r};t.postAndSave(n,a,o,d.LoadingIndicator.hide,function(){throw d.LoadingIndicator.hide(),alert(l.i18n.t("error.serverSideExportRequestFailure")),new Error("Server side export failure")})}},{key:"saveAsPdf",value:function(e,n){var r=t.isClientSidePdfExportAvailable();if("client"===n.pdf.mode&&!r)return void alert(l.i18n.t("error.jsPDFisNotIncluded"));d.LoadingIndicator.show();var i=20,o=e.node(),a=o.width.baseVal.value+2*i,s=o.height.baseVal.value+2*i;try{var u=t.getSVGString(o),c="fallback"===n.pdf.mode;if("client"===n.pdf.mode||c)try{t.exportPdfClientSide(u,a,s)}catch(f){if(!c)throw f;t.exportPdfServerSide(u,n.serverUrl)}else"server"===n.pdf.mode&&t.exportPdfServerSide(u,n.serverUrl)}catch(f){d.LoadingIndicator.hide(),alert(l.i18n.t("error.pdfExportNotSupported"))}}},{key:"isClientSidePdfExportAvailable",value:function(){return"undefined"!=typeof jsPDF&&"undefined"!=typeof svg2pdf}},{key:"sanitizeSVG",value:function(t){return t.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"").replace(/&shy;/g,"")}}]),t}();m.saveAs=s.saveAs,m.dataURLtoBlob=a.dataURLtoBlob,m.exportedStyles=[/^font/,/^color/,/^opacity$/],m.svgProperties=[/^stroke/,/^fill/,/^text/]},{"./d3":547,"./i18n/i18n":558,"./loading-indicator":563,"./utils":618,"blueimp-canvas-to-blob":2,"file-saver":23,lodash:42}],552:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ExpressionEngine=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./utils"),s=t("./mathjs"),u=r(s),c=t("lodash");r(c),n.ExpressionEngine=function(){function t(e){i(this,t),this.parser=u.parser(),this.parser.scope=e}return o(t,[{key:"setScope",value:function(t){this.parser.scope=t}},{key:"eval",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments[2];if(e+="",e=e.trim(),n)try{return t.toNumber(e)}catch(i){}var o=this.parser.scope;r&&this.setScope(r);var a=this.parser.eval(e+"");return this.setScope(o),n?t.toNumber(a):a}},{key:"evalPayoff",value:function(e){return t.hasAssignmentExpression(e.payoff)?null:this.eval(e.payoff,!0,e.parentNode.expressionScope)}},{key:"validate",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===t||void 0===t)return!1;try{t+="",t=t.trim();var r=u.compile(t);if(n)return!0;e||(e=this.parser.scope);var i=r.eval(e);return a.Utils.isNumeric(i)}catch(i){return!1}}},{key:"serialize",value:function(e){return t.toNumber(e).toFraction(!0)}}],[{key:"isHash",value:function(t){return t&&a.Utils.isString(t)&&"#"===t.trim()}},{key:"hasAssignmentExpression",value:function(t){return a.Utils.isString(t)&&t.indexOf("=")!==-1}},{key:"add",value:function(e,n){return u.add(t.toNumber(e),t.toNumber(n))}},{key:"subtract",value:function(e,n){return u.subtract(t.toNumber(e),t.toNumber(n))}},{key:"divide",value:function(e,n){return u.divide(t.toNumber(e),t.toNumber(n))}},{key:"multiply",value:function(e,n){return u.multiply(t.toNumber(e),t.toNumber(n))}},{key:"toNumber",value:function(t){return u.fraction(t)}},{key:"compare",value:function(e,n){return u.compare(t.toNumber(e),t.toNumber(n))}},{key:"format",value:function(t){return u.format(t)}}]),t}()},{"./mathjs":564,"./utils":618,lodash:42}],553:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.FileLoader=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./i18n/i18n"),s=t("./mathjs"),u=r(s);n.FileLoader=function(){function t(){i(this,t)}return o(t,null,[{key:"openFile",value:function(t){function e(){function e(e){try{var r=JSON.parse(e.target.result,u.json.reviver);t(r)}catch(e){alert(a.i18n.t("error.jsonParse"))}n.value=null}var r,i;return"function"!=typeof window.FileReader?void alert(a.i18n.t("error.fileApiNotSupported")):(n=document.getElementById("sd-file-input"),n.files?void(n.files[0]&&(r=n.files[0],i=new FileReader,i.onload=e,i.readAsText(r))):void alert(a.i18n.t("error.inputFilesProperty")))}var n=document.getElementById("sd-file-input");n.onchange=e,n.click()}}]),t}()},{"./i18n/i18n":558,"./mathjs":564}],554:[function(t,e,n){e.exports={toolbar:{newDiagram:"New diagram",openDiagram:"Open existing diagram",saveDiagram:"Save current diagram","export":{label:"Export to",png:"Png",svg:"Svg",pdf:"Pdf"},layout:{label:"Layout",manual:"Manual",tree:"Tree",cluster:"Cluster"},objectiveRule:{label:"Rule",options:{"expected-value-maximization":"classic","maxi-min":"maxi-min","maxi-max":"maxi-max"}},undo:"Undo",redo:"Redo",settings:"Settings",about:"About"},node:{name:"Label"},edge:{name:"Label",payoff:"Payoff",probability:"Probability"},text:{value:"Text"},contextMenu:{main:{addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addText:"Add Text",paste:"Paste",selectAllNodes:"Select all nodes"},node:{copy:"Copy",cut:"Cut",paste:"Paste","delete":"Delete",addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addTerminalNode:"Add Terminal Node",selectSubtree:"Select subtree",flipSubtree:"Flip subtree"},edge:{injectDecisionNode:"Inject Decision Node",injectChanceNode:"Inject Chance Node"},text:{"delete":"Delete"}},settingsDialog:{title:"Settings",general:{title:"General",fontSize:"Font size",fontFamily:"Font family",fontWeight:"Font weight",fontStyle:"Font style",numberFormatLocale:"Number format locale"},payoff:{title:"Payoff number format",currency:"Currency",currencyDisplay:"Currency display",style:"Style",minimumFractionDigits:"Minimum fraction digits",maximumFractionDigits:"Maximum fraction digits",useGrouping:"Use grouping separators"},probability:{title:"Probability number format",style:"Style",minimumFractionDigits:"Minimum fraction digits",maximumFractionDigits:"Maximum fraction digits",fontSize:"Font size",color:"Color"},node:{title:"Node",strokeWidth:"Stroke width",optimal:{title:"Optimal",stroke:"Color",strokeWidth:"Stroke width"},label:{title:"Label",fontSize:"Label font size",color:"Label color"},payoff:{title:"Payoff",fontSize:"Font size",color:"Color",negativeColor:"Negative color"},decision:{title:"Decision Node",fill:"Fill color",stroke:"Stroke color",selected:{fill:"Selected fill color"}},chance:{title:"Chance Node",fill:"Fill color",stroke:"Stroke color",selected:{fill:"Selected fill color"}},terminal:{title:"Terminal Node",fill:"Fill color",stroke:"Stroke color",selected:{fill:"Selected fill color"},payoff:{title:"Payoff",fontSize:"Font size",color:"Color",negativeColor:"Negative color"}}},edge:{title:"Edge",stroke:"Color",strokeWidth:"Stroke width",optimal:{title:"Optimal",stroke:"Color",strokeWidth:"Stroke width"},selected:{title:"Selected",stroke:"Color",strokeWidth:"Stroke width"},label:{title:"Label",fontSize:"Font size",color:"Color"},payoff:{title:"Payoff",fontSize:"Font size",color:"Color",negativeColor:"Negative color"}},diagramTitle:{title:"Diagram title",fontSize:"Font size",fontWeight:"Font weight",fontStyle:"Font style",color:"Color",margin:{title:"Margin",top:"Top",bottom:"Bottom"},description:{title:"Subtitle (diagram description)",show:"Show",fontSize:"Font size",fontWeight:"Font weight",fontStyle:"Font style",color:"Color",marginTop:"Margin top"}},other:{title:"Other",disableAnimations:"Disable animations",forceFullEdgeRedraw:"Force full redraw of edges"}},aboutDialog:{title:"About"},help:{header:"Help",mouse:{header:"Mouse actions:",list:{1:"left mouse button: node/edge selection",2:"right mouse button: context menu (adding/manipulating nodes)",3:"left mouse dbclick: context menu"}},keyboard:{header:"Keyboard:",list:{1:"Del: delete selected nodes",2:"Ctrl-C/X: copy/cut selected nodes",3:"Ctrl-V: paste copied nodes as a subtree of a selected node",4:"Ctrl-Y/Z: undo/redo",5:"Ctrl-Alt-D/C/T: add new Decision/Chance/Terminal subnode of a <strong>selected node</strong>",6:"Ctrl-Alt-D/C: inject new Decision/Chance node into a <strong>selected edge</strong>"}},docs:'Documentation of SilverDecisions is available <a href="https://github.com/bkamins/SilverDecisions/wiki/Documentation" target="_blank">here</a>'},layoutOptions:{header:"Layout",marginHorizontal:"Horizontal Margin",marginVertical:"Vertical Margin",nodeSize:"Node size",edgeSlantWidthMax:"Edge slant (max)",gridWidth:"Width",gridHeight:"Height"},diagramDetails:{header:"Details",title:"Title",description:"Description"},objectProperties:{header:{node:{decision:"Decision Node",chance:"Chance Node",terminal:"Terminal Node"},edge:"Edge",text:"Floating text"},childrenProperties:{node:{header:"Connections",child:{header:"Edge #{{number}}"}}}},validation:{incompletePath:"Path not ending with terminal node",probabilityDoNotSumUpTo1:"Probabilities do not sum up to 1"},growl:{brushDisabled:"Selection brush disabled",brushEnabled:"Selection brush enabled"},tooltip:{node:{payoff:"Payoff",aggregatedPayoff:"Aggregated Payoff",probabilityToEnter:"Probability to enter"},edge:{payoff:"Payoff: {{value}}",probability:"Probability: {{value}}"}},confirm:{newDiagram:"Do you really want to clear current diagram? All unsaved data will be lost.",openDiagram:"Are you sure? All unsaved diagram data will be lost.",beforeunload:"Are you sure you want to close Silver Decisions? All unsaved diagram data will be lost."},error:{jsonParse:"Error parsing file!",fileApiNotSupported:"The file API isn't supported on this browser yet.",inputFilesProperty:"Your browser doesn't seem to support the `files` property of file inputs.",notSilverDecisionsFile:"Not a SilverDecisions file!",malformedData:"Error reading tree data!",pngExportNotSupported:"Export to PNG is not supported in your browser.",pngExportNotSupportedIE:"Export to PNG not supported in Internet Explorer.",svgExportNotSupported:"Export to SVG is not supported in your browser.",pdfExportNotSupported:"Export to PDF is not supported in your browser.",incorrectPayoffNumberFormatOptions:"Incorrect payoff number format options",incorrectProbabilityNumberFormatOptions:"Incorrect probability number format options",incorrectNumberFormatOptions:"Incorrect number format options, using default.",jsPDFisNotIncluded:"jsPDF is not included!",serverSideExportRequestFailure:"Export Server request failed!"}}},{}],555:[function(t,e,n){e.exports={toolbar:{newDiagram:"New diagram",openDiagram:"Open existing diagram",saveDiagram:"Save current diagram","export":{label:"Export to",png:"Png",svg:"Svg",pdf:"Pdf"},layout:{label:"Layout",manual:"Manual",tree:"Tree",cluster:"Cluster"},objectiveRule:{label:"Rule",options:{"expected-value-maximization":"classic","maxi-min":"maxi-min","maxi-max":"maxi-max"}},undo:"Undo",redo:"Redo",settings:"Settings",about:"About",recompute:"Recompute"},node:{name:"Label"},edge:{name:"Label",payoff:"Payoff",probability:"Probability"},text:{value:"Text"},contextMenu:{main:{addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addText:"Add Text",paste:"Paste",selectAllNodes:"Select all nodes"},node:{copy:"Copy",cut:"Cut",paste:"Paste","delete":"Delete",addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addTerminalNode:"Add Terminal Node",selectSubtree:"Select subtree",flipSubtree:"Flip subtree"},edge:{injectDecisionNode:"Inject Decision Node",injectChanceNode:"Inject Chance Node"},text:{"delete":"Delete"}},settingsDialog:{title:"Settings",general:{title:"General",fontSize:"Font size",fontFamily:"Font family",fontWeight:"Font weight",fontStyle:"Font style",numberFormatLocale:"Number format locale"},payoff:{title:"Payoff number format",currency:"Currency",currencyDisplay:"Currency display",style:"Style",minimumFractionDigits:"Minimum fraction digits",maximumFractionDigits:"Maximum fraction digits",useGrouping:"Use grouping separators"},probability:{title:"Probability number format",style:"Style",minimumFractionDigits:"Minimum fraction digits",maximumFractionDigits:"Maximum fraction digits",fontSize:"Font size",color:"Color"},node:{title:"Node",strokeWidth:"Stroke width",optimal:{title:"Optimal",stroke:"Color",strokeWidth:"Stroke width"},label:{title:"Label",fontSize:"Label font size",color:"Label color"},payoff:{title:"Payoff",fontSize:"Font size",color:"Color",negativeColor:"Negative color"},decision:{title:"Decision Node",fill:"Fill color",stroke:"Stroke color",selected:{fill:"Selected fill color"}},chance:{title:"Chance Node",fill:"Fill color",stroke:"Stroke color",selected:{fill:"Selected fill color"}},terminal:{title:"Terminal Node",fill:"Fill color",stroke:"Stroke color",selected:{fill:"Selected fill color"},payoff:{title:"Payoff",fontSize:"Font size",color:"Color",negativeColor:"Negative color"}}},edge:{title:"Edge",stroke:"Color",strokeWidth:"Stroke width",optimal:{title:"Optimal",stroke:"Color",strokeWidth:"Stroke width"},selected:{title:"Selected",stroke:"Color",strokeWidth:"Stroke width"},label:{title:"Label",fontSize:"Font size",color:"Color"},payoff:{title:"Payoff",fontSize:"Font size",color:"Color",negativeColor:"Negative color"}},diagramTitle:{title:"Diagram title",fontSize:"Font size",fontWeight:"Font weight",fontStyle:"Font style",color:"Color",margin:{title:"Margin",top:"Top",bottom:"Bottom"},description:{title:"Subtitle (diagram description)",show:"Show",fontSize:"Font size",fontWeight:"Font weight",fontStyle:"Font style",color:"Color",marginTop:"Margin top"}},other:{title:"Other",disableAnimations:"Disable animations",forceFullEdgeRedraw:"Force full redraw of edges"}},aboutDialog:{title:"About"},help:{header:"Help",mouse:{header:"Mouse actions:",list:{1:"left mouse button: node/edge selection",2:"right mouse button: context menu (adding/manipulating nodes)",3:"left mouse dbclick: context menu"}},keyboard:{header:"Keyboard:",list:{1:"Del: delete selected nodes",2:"Ctrl-C/X: copy/cut selected nodes",3:"Ctrl-V: paste copied nodes as a subtree of a selected node",4:"Ctrl-Y/Z: undo/redo",5:"Ctrl-Alt-D/C/T: add new Decision/Chance/Terminal subnode of a <strong>selected node</strong>",6:"Ctrl-Alt-D/C: inject new Decision/Chance node into a <strong>selected edge</strong>"}},docs:'Documentation of SilverDecisions is available <a href="https://github.com/bkamins/SilverDecisions/wiki/Documentation" target="_blank">here</a>'},definitionsDialog:{title:"Variable definitions",buttons:{recalculate:"Recalculate"},evaluatedVariables:"Evaluated variables"},sidebarDefinitions:{header:"Variables",code:"Code",buttons:{openDialog:"Open dialog",recalculate:"Recalculate"},evaluatedVariables:"Evaluated variables"},layoutOptions:{header:"Layout",marginHorizontal:"Horizontal Margin",marginVertical:"Vertical Margin",nodeSize:"Node size",edgeSlantWidthMax:"Edge slant (max)",gridWidth:"Width",gridHeight:"Height"},diagramDetails:{header:"Details",title:"Title",description:"Description"},objectProperties:{header:{node:{decision:"Decision Node",chance:"Chance Node",terminal:"Terminal Node"},edge:"Edge",text:"Floating text"},childrenProperties:{node:{header:"Connections",child:{header:"Edge #{{number}}"}}}},validation:{incompletePath:"Path not ending with terminal node",probabilityDoNotSumUpTo1:"Probabilities do not sum up to 1",invalidProbability:"Invalid probability in edge #{{number}}",invalidPayoff:"Invalid payoff in edge #{{number}}"},growl:{brushDisabled:"Selection brush disabled",brushEnabled:"Selection brush enabled"},tooltip:{node:{payoff:"Payoff",aggregatedPayoff:"Aggregated Payoff",probabilityToEnter:"Probability to enter"},edge:{payoff:"Payoff: {{value}}",probability:"Probability: {{value}}"}},confirm:{newDiagram:"Do you really want to clear current diagram? All unsaved data will be lost.",openDiagram:"Are you sure? All unsaved diagram data will be lost.",beforeunload:"Are you sure you want to close Silver Decisions? All unsaved diagram data will be lost."},error:{jsonParse:"Error parsing file!",
fileApiNotSupported:"The file API isn't supported on this browser yet.",inputFilesProperty:"Your browser doesn't seem to support the `files` property of file inputs.",notSilverDecisionsFile:"Not a SilverDecisions file!",malformedData:"Error reading tree data!",pngExportNotSupported:"Export to PNG is not supported in your browser.",pngExportNotSupportedIE:"Export to PNG not supported in Internet Explorer.",svgExportNotSupported:"Export to SVG is not supported in your browser.",pdfExportNotSupported:"Export to PDF is not supported in your browser.",incorrectPayoffNumberFormatOptions:"Incorrect payoff number format options",incorrectProbabilityNumberFormatOptions:"Incorrect probability number format options",incorrectNumberFormatOptions:"Incorrect number format options, using default.",jsPDFisNotIncluded:"jsPDF is not included!",serverSideExportRequestFailure:"Export Server request failed!"}}},{}],556:[function(t,e,n){arguments[4][554][0].apply(n,arguments)},{dup:554}],557:[function(t,e,n){arguments[4][554][0].apply(n,arguments)},{dup:554}],558:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.i18n=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("i18next"),u=i(s),c=t("./en.json"),l=r(c),f=t("./pl.json"),p=r(f),h=t("./it.json"),d=r(h),m=t("./de.json"),g=r(m),y=t("./fr.json"),v=r(y),b=t("./ga.json"),x=r(b),w=t("./nl.json"),_=r(w);n.i18n=function(){function t(){o(this,t)}return a(t,null,[{key:"init",value:function(t){u["default"].init({lng:t,fallbackLng:"en",resources:{en:{translation:l},pl:{translation:p},it:{translation:d},de:{translation:g},fr:{translation:v},ga:{translation:x},nl:{translation:_}}},function(t,e){})}},{key:"t",value:function(t,e){return u["default"].t(t,e)}}]),t}()},{"./de.json":554,"./en.json":555,"./fr.json":556,"./ga.json":557,"./it.json":559,"./nl.json":560,"./pl.json":561,i18next:41}],559:[function(t,e,n){e.exports={toolbar:{newDiagram:"New diagram",openDiagram:"Open existing diagram",saveDiagram:"Save current diagram","export":{label:"Export to",png:"Png",svg:"Svg",pdf:"Pdf"},layout:{label:"Layout",manual:"Manual",tree:"Tree",cluster:"Cluster"},objectiveRule:{label:"Rule",options:{"expected-value-maximization":"classic","maxi-min":"maxi-min","maxi-max":"maxi-max"}},undo:"Undo",redo:"Redo",settings:"Settings",about:"About"},node:{name:"Etichetta"},edge:{name:"Etichetta",payoff:"Saldare",probability:"Probabilit"},text:{value:"Testo"},contextMenu:{main:{addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addText:"Add Text",paste:"Paste",selectAllNodes:"Select all nodes"},node:{copy:"Copy",cut:"Cut",paste:"Paste","delete":"Delete",addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addTerminalNode:"Add Terminal Node",selectSubtree:"Select subtree",flipSubtree:"Flip subtree"},edge:{injectDecisionNode:"Inject Decision Node",injectChanceNode:"Inject Chance Node"},text:{"delete":"Delete"}},settingsDialog:{title:"Settings",general:{title:"General",fontSize:"Font size",fontFamily:"Font family",fontWeight:"Font weight",fontStyle:"Font style",numberFormatLocale:"Number format locale"},payoff:{title:"Payoff number format",currency:"Currency",currencyDisplay:"Currency display",style:"Style",minimumFractionDigits:"Minimum fraction digits",maximumFractionDigits:"Maximum fraction digits",useGrouping:"Use grouping separators"},probability:{title:"Probability number format",style:"Style",minimumFractionDigits:"Minimum fraction digits",maximumFractionDigits:"Maximum fraction digits",fontSize:"Font size",color:"Color"},node:{title:"Node",strokeWidth:"Stroke width",optimal:{title:"Optimal",stroke:"Color",strokeWidth:"Stroke width"},label:{title:"Label",fontSize:"Label font size",color:"Label color"},payoff:{title:"Payoff",fontSize:"Font size",color:"Color",negativeColor:"Negative color"},decision:{title:"Decision Node",fill:"Fill color",stroke:"Stroke color",selected:{fill:"Selected fill color"}},chance:{title:"Chance Node",fill:"Fill color",stroke:"Stroke color",selected:{fill:"Selected fill color"}},terminal:{title:"Terminal Node",fill:"Fill color",stroke:"Stroke color",selected:{fill:"Selected fill color"},payoff:{title:"Payoff",fontSize:"Font size",color:"Color",negativeColor:"Negative color"}}},edge:{title:"Edge",stroke:"Color",strokeWidth:"Stroke width",optimal:{title:"Optimal",stroke:"Color",strokeWidth:"Stroke width"},selected:{title:"Selected",stroke:"Color",strokeWidth:"Stroke width"},label:{title:"Label",fontSize:"Font size",color:"Color"},payoff:{title:"Payoff",fontSize:"Font size",color:"Color",negativeColor:"Negative color"}},diagramTitle:{title:"Diagram title",fontSize:"Font size",fontWeight:"Font weight",fontStyle:"Font style",color:"Color",margin:{title:"Margin",top:"Top",bottom:"Bottom"},description:{title:"Subtitle (diagram description)",show:"Show",fontSize:"Font size",fontWeight:"Font weight",fontStyle:"Font style",color:"Color",marginTop:"Margin top"}},other:{title:"Other",disableAnimations:"Disable animations",forceFullEdgeRedraw:"Force full redraw of edges"}},aboutDialog:{title:"About"},help:{header:"Help",mouse:{header:"Mouse actions:",list:{1:"left mouse button: node/edge selection",2:"right mouse button: context menu (adding/manipulating nodes)",3:"left mouse dbclick: context menu"}},keyboard:{header:"Keyboard:",list:{1:"Del: delete selected nodes",2:"Ctrl-C/X: copy/cut selected nodes",3:"Ctrl-V: paste copied nodes as a subtree of a selected node",4:"Ctrl-Y/Z: undo/redo",5:"Ctrl-Alt-D/C/T: add new Decision/Chance/Terminal subnode of a <strong>selected node</strong>",6:"Ctrl-Alt-D/C: inject new Decision/Chance node into a <strong>selected edge</strong>"}},docs:'Documentation of SilverDecisions is available <a href="https://github.com/bkamins/SilverDecisions/wiki/Documentation" target="_blank">here</a>'},layoutOptions:{header:"Layout",marginHorizontal:"Horizontal Margin",marginVertical:"Vertical Margin",nodeSize:"Node size",edgeSlantWidthMax:"Edge slant (max)",gridWidth:"Width",gridHeight:"Height"},diagramDetails:{header:"Details",title:"Title",description:"Description"},objectProperties:{header:{node:{decision:"Decision Node",chance:"Chance Node",terminal:"Terminal Node"},edge:"Edge",text:"Floating text"},childrenProperties:{node:{header:"Connections",child:{header:"Edge #{{number}}"}}}},validation:{incompletePath:"Path not ending with terminal node",probabilityDoNotSumUpTo1:"Probabilities do not sum up to 1"},growl:{brushDisabled:"Selection brush disabled",brushEnabled:"Selection brush enabled"},tooltip:{node:{payoff:"Payoff",aggregatedPayoff:"Aggregated Payoff",probabilityToEnter:"Probability to enter"},edge:{payoff:"Payoff: {{value}}",probability:"Probability: {{value}}"}},confirm:{newDiagram:"Do you really want to clear current diagram? All unsaved data will be lost.",openDiagram:"Are you sure? All unsaved diagram data will be lost.",beforeunload:"Are you sure you want to close Silver Decisions? All unsaved diagram data will be lost."},error:{jsonParse:"Error parsing file!",fileApiNotSupported:"The file API isn't supported on this browser yet.",inputFilesProperty:"Your browser doesn't seem to support the `files` property of file inputs.",notSilverDecisionsFile:"Not a SilverDecisions file!",malformedData:"Error reading tree data!",pngExportNotSupported:"Export to PNG is not supported in your browser.",pngExportNotSupportedIE:"Export to PNG not supported in Internet Explorer.",svgExportNotSupported:"Export to SVG is not supported in your browser.",pdfExportNotSupported:"Export to PDF is not supported in your browser.",incorrectPayoffNumberFormatOptions:"Incorrect payoff number format options",incorrectProbabilityNumberFormatOptions:"Incorrect probability number format options",incorrectNumberFormatOptions:"Incorrect number format options, using default.",jsPDFisNotIncluded:"jsPDF is not included!",serverSideExportRequestFailure:"Export Server request failed!"}}},{}],560:[function(t,e,n){arguments[4][554][0].apply(n,arguments)},{dup:554}],561:[function(t,e,n){e.exports={toolbar:{newDiagram:"Nowy diagram",openDiagram:"Otwrz diagram",saveDiagram:"Zapisz diagram","export":{label:"Eksport",png:"Png",svg:"Svg",pdf:"Pdf"},layout:{label:"Ukad",manual:"Rczny",tree:"Drzewo",cluster:"Zgrupowany"},objectiveRule:{label:"Regua",options:{"expected-value-maximization":"klasyczna","maxi-min":"maxi-min","maxi-max":"maxi-max"}},undo:"Cofnij",redo:"Ponw",settings:"Ustawienia",about:"Informacje",definitions:"Definicje zmiennych"},node:{name:"Etykieta"},edge:{name:"Etykieta",payoff:"Wypata",probability:"Prawdopodobiestwo"},text:{value:"Tekst"},contextMenu:{main:{addDecisionNode:"Dodaj Wze Decyzyjny",addChanceNode:"Dodaj Wze Losowy",addText:"Dodaj Tekst",paste:"Wklej",selectAllNodes:"Zaznacz wszystkie wzy"},node:{copy:"Kopiuj",cut:"Wytnij",paste:"Wklej","delete":"Usu",addDecisionNode:"Dodaj Wze Decyzyjny",addChanceNode:"Dodaj Wze Losowy",addTerminalNode:"Dodaj Wze Kocowy",selectSubtree:"Zaznacz poddrzewo",flipSubtree:"Przewr poddrzewo"},edge:{injectDecisionNode:"Wstrzyknij Wze Decyzyjny",injectChanceNode:"Wstrzyknij Wze Losowy"},text:{"delete":"Usu"}},settingsDialog:{title:"Ustawienia",general:{title:"Oglne",fontSize:"Rozmiar czcionki",fontFamily:"Rodzina czcionek",fontWeight:"Waga czcionki",fontStyle:"Styl czcionki",numberFormatLocale:"Kod lokalizacji jzykowej liczb"},payoff:{title:"Format wypaty",currency:"Waluta",currencyDisplay:"Wywietlanie waluty",style:"Styl",minimumFractionDigits:"Minimalna liczba miejsc po przecinku",maximumFractionDigits:"Maksymalna liczba miejsc po przecinku",useGrouping:"Separatory grupowania"},probability:{title:"Format prawdopodobiestwa",style:"Styl",minimumFractionDigits:"Minimalna liczba miejsc po przecinku",maximumFractionDigits:"Maksymalna liczba miejsc po przecinku",fontSize:"Rozmiar czcionki",color:"Kolor"},node:{title:"Wze",strokeWidth:"Szeroko krawdzi",optimal:{title:"Optymalny",stroke:"Kolor",strokeWidth:"Szeroko krawdzi"},label:{title:"Etykieta",fontSize:"Rozmiar czcionki etykiety",color:"Kolor etykiety"},payoff:{title:"Wypata",fontSize:"Rozmiar czcionki",color:"Kolor",negativeColor:"Kolor wartoci ujemnej"},decision:{title:"Wze Decyzyjny",fill:"Kolor wypenienia",stroke:"Kolor krawdzi",selected:{fill:"Kolor wypenienia po zaznaczeniu"}},chance:{title:"Wze Losowy",fill:"Kolor wypenienia",stroke:"Kolor krawdzi",selected:{fill:"Kolor wypenienia po zaznaczeniu"}},terminal:{title:"Wze Kocowy",fill:"Kolor wypenienia",stroke:"Kolor krawdzi",selected:{fill:"Kolor wypenienia po zaznaczeniu"},payoff:{title:"Wypata",fontSize:"Rozmiar czcionki",color:"Kolor",negativeColor:"Kolor wartoci ujemnej"}}},edge:{title:"Krawd",stroke:"Kolor",strokeWidth:"Szeroko krawdzi",optimal:{title:"Optymalna",stroke:"Kolor",strokeWidth:"Szeroko krawdzi"},selected:{title:"Zaznaczona",stroke:"Kolor",strokeWidth:"Szeroko krawdzi"},label:{title:"Etykieta",fontSize:"Rozmiar czcionki",color:"Kolor"},payoff:{title:"Wypata",fontSize:"Rozmiar czcionki",color:"Kolor",negativeColor:"Kolor wartoci ujemnej"}},diagramTitle:{title:"Tytu diagramu",fontSize:"Rozmiar czcionki",fontWeight:"Waga czcionki",fontStyle:"Styl czcionki",color:"Kolor",margin:{title:"Margines",top:"Grny",bottom:"Dolny"},description:{title:"Podtytu (opis diagramu)",show:"Wywietl",fontSize:"Rozmiar czcionki",fontWeight:"Waga czcionki",fontStyle:"Styl czcionki",color:"Kolor",marginTop:"Margines grny"}},other:{title:"Inne",disableAnimations:"Wycz animacje",forceFullEdgeRedraw:"Wymu pene przerysowywanie krawdzi"}},aboutDialog:{title:"Informacje"},help:{header:"Pomoc",mouse:{header:"Akcje myszy:",list:{1:"lewy klawisz myszy: wybr wza/krawdzi",2:"prawy klawisz myszy: menu kontekstowe (dodawanie/manipulowanie wzami)",3:"podwjne kliknicie lewym przyciskiem myszy: menu kontekstowe"}},keyboard:{header:"Skrty klawiszowe:",list:{1:"Del: usuwanie wybranych wzw",2:"Ctrl-C/X: kopiowanie/wycinanie wybranych wzw",3:"Ctrl-V: wklej skopiowane wzy jako poddrzewo wybranego wza",4:"Ctrl-Y/Z: cofnij/ponw",5:"Ctrl-Alt-D/C/T: dodaj nowy wze Decyzyjny/Losowy/Kocowy jako dziecko <strong>wybranego wza</strong>",6:"Ctrl-Alt-D/C: Wstrzyknij nowy wze Decyzyjny/Losowy do <strong>wybranej krawdzi</strong>"}},docs:'Dokumentacja SilverDecisions jest dostpna <a href="https://github.com/bkamins/SilverDecisions/wiki/Documentation" target="_blank">tutaj</a>'},layoutOptions:{header:"Ukad",marginHorizontal:"Margines w poziomie",marginVertical:"Margines w pionie",nodeSize:"Rozmiar wza",edgeSlantWidthMax:"Skos krawdzi (maksymalny)",gridWidth:"Szeroko",gridHeight:"Wysoko"},diagramDetails:{header:"Szczegy",title:"Tytu",description:"Opis"},objectProperties:{header:{node:{decision:"Wze Decyzyjny",chance:"Wze Losowy",terminal:"Wze Kocowy"},edge:"Krawd",text:"Pywajcy tekst"},childrenProperties:{node:{header:"Poczenia",child:{header:"Krawd #{{number}}"}}}},validation:{incompletePath:"Ostatnim wzem w ciece powinien by Wze Kocowy",probabilityDoNotSumUpTo1:"Prawdopodobiestwa nie sumuj sie do 1"},growl:{brushDisabled:"Zaznaczanie wyczone",brushEnabled:"Zaznaczanie wczone"},tooltip:{node:{payoff:"Wypata",aggregatedPayoff:"Zagregowana Wypata",probabilityToEnter:"Prawdopodobiestwo wejcia"},edge:{payoff:"Wypata: {{value}}",probability:"Prawdopodobiestwo: {{value}}"}},confirm:{newDiagram:"Czy jeste pewien, e chcesz porzuci obecny diagram? Wszystkie niezapisane zmiany zostan utracone.",openDiagram:"Czy jeste pewien? Wszystkie niezapisane zmiany zostan utracone.",beforeunload:"Czy jeste pewien, e chcesz zamkn SilverDecisions? Wszystkie niezapisane zmiany zostan utracone."},error:{jsonParse:"Bd przetwarzania danych z pliku!",fileApiNotSupported:"Funckja 'file API' nie jest wspierana w tej przegldarce internetowej.",inputFilesProperty:"Twoje przegldarka nie wspiera opcji `pliki` przy otwieraniu pliku.",notSilverDecisionsFile:"Plik niezgodny z formatem SilverDecisions!",malformedData:"Bd odczytu danych drzewa!",pngExportNotSupported:"Eksport do obrazu PNG nie jest wspierany w Twojej przegldarce.",pngExportNotSupportedIE:"Eksport do obrazu PNG nie jest wspierany w przegldarce Internet Explorer.",svgExportNotSupported:"Eksport do obrazu SVG nie jest wspierany w Twojej przegldarce.",pdfExportNotSupported:"Eksport do PDF nie jest wspierany w Twojej przegldarce.",incorrectPayoffNumberFormatOptions:"Niewaciwe ustawienia dla formatu wypaty.",incorrectProbabilityNumberFormatOptions:"Niewaciwe ustawienia dla formatu prawdopodobiestw.",incorrectNumberFormatOptions:"Niewaciwe ustawiono formatowanie liczb. Przyjto ustawienia domylne.",jsPDFisNotIncluded:"Nie wczono jsPDF!",serverSideExportRequestFailure:"Nieudane zapytanie do serwera exportu!"}}},{}],562:[function(t,e,n){"use strict";var r=t("./d3-extensions"),i=t("./app"),o=t("../package.json");r.D3Extensions.extend(),i.App.version=o.version,e.exports=i.App},{"../package.json":542,"./app":544,"./d3-extensions":546}],563:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.LoadingIndicator=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=r(a),u=(t("./i18n/i18n"),t("./utils"),t("./templates"));n.LoadingIndicator=function(){function t(){i(this,t)}return o(t,null,[{key:"show",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",u.Templates.get("loadingIndicator"));s.select("body").selectOrAppend("div.sd-loading-indicator-container").html(t).select(".sd-loading-indicator").classed("visible",!0)}},{key:"hide",value:function(){s.select(".sd-loading-indicator").classed("visible",!1)}}]),t}()},{"./d3":547,"./i18n/i18n":558,"./templates":581,"./utils":618}],564:[function(t,e,n){"use strict";var r=t("mathjs/core"),i=r.create();i.config({number:"number"}),i["import"](t("mathjs/lib/type")),i["import"](t("mathjs/lib/function")),i["import"](t("mathjs/lib/expression")),i["import"](t("mathjs/lib/json")),e.exports=i},{"mathjs/core":43,"mathjs/lib/expression":237,"mathjs/lib/function":352,"mathjs/lib/json":457,"mathjs/lib/type":472}],565:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Edge=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("./object-with-id-and-computed-values");n.Edge=function(t){function e(t,n,o,a,s){r(this,e);var u=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return u.name="",u.probability=void 0,u.payoff=0,u.parentNode=t,u.childNode=n,void 0!==o&&(u.name=o),void 0!==s&&(u.probability=s),void 0!==a&&(u.payoff=a),u}return o(e,t),a(e,[{key:"setName",value:function(t){return this.name=t,this}},{key:"setProbability",value:function(t){return this.probability=t,this}},{key:"setPayoff",value:function(t){return this.payoff=t,this}},{key:"computedBaseProbability",value:function(t){return this.computedValue(null,"probability",t)}},{key:"computedBasePayoff",value:function(t){return this.computedValue(null,"payoff",t)}}]),e}(s.ObjectWithIdAndComputedValues)},{"./object-with-id-and-computed-values":571}],566:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./node/node");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("./node/decision-node");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./node/chance-node");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("./node/terminal-node");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var s=t("./edge");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var u=t("./point");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var c=t("./text");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})})},{"./edge":565,"./node/chance-node":567,"./node/decision-node":568,"./node/node":569,"./node/terminal-node":570,"./point":572,"./text":573}],567:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ChanceNode=void 0;var a=t("./node"),s=n.ChanceNode=function(t){function e(t){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,t))}return o(e,t),e}(a.Node);s.$TYPE="chance"},{"./node":569}],568:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.DecisionNode=void 0;var a=t("./node"),s=n.DecisionNode=function(t){function e(t){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,t))}return o(e,t),e}(a.Node);s.$TYPE="decision"},{"./node":569}],569:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Node=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../point"),u=t("../object-with-id-and-computed-values");n.Node=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.childEdges=[],o.name="",o.code="",o.$codeDirty=!1,o.$codeError=null,o.expressionScope=null,o.location=n,n||(o.location=new s.Point(0,0)),o.type=t,o}return o(e,t),a(e,[{key:"setName",value:function(t){return this.name=t,this}},{key:"moveTo",value:function(t,e,n){if(n){var r=t-this.location.x,i=e-this.location.y;this.childEdges.forEach(function(t){return t.childNode.move(r,i,!0)})}return this.location.moveTo(t,e),this}},{key:"move",value:function(t,e,n){return n&&this.childEdges.forEach(function(n){return n.childNode.move(t,e,!0)}),this.location.move(t,e),this}}]),e}(u.ObjectWithIdAndComputedValues)},{"../object-with-id-and-computed-values":571,"../point":572}],570:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TerminalNode=void 0;var a=t("./node"),s=n.TerminalNode=function(t){function e(t){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,t))}return o(e,t),e}(a.Node);s.$TYPE="terminal"},{"./node":569}],571:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithIdAndComputedValues=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("../utils"),s=t("lodash"),u=r(s);n.ObjectWithIdAndComputedValues=function(){function t(){i(this,t),this.computed={},this.$id=a.Utils.guid(),this.$fieldStatus={}}return o(t,[{key:"computedValue",value:function(t,e,n){var r="computed.";return t&&(r+=t+"."),r+=e,void 0===n?u.get(this,r,null):(u.set(this,r,n),n)}},{key:"clearComputedValues",value:function(t){var e=this;return void 0==t?void(this.computed={}):a.Utils.isArray(t)?void t.forEach(function(t){e.computed[t]={}}):void(this.computed[t]={})}},{key:"getFieldStatus",value:function(t){return this.$fieldStatus[t]||(this.$fieldStatus[t]={valid:!0}),this.$fieldStatus[t]}},{key:"markAsInvalid",value:function(t){this.getFieldStatus(t).valid=!1}},{key:"markAsValid",value:function(t){this.getFieldStatus(t).valid=!0}},{key:"isFieldValid",value:function(t){return this.getFieldStatus(t).valid}}]),t}()},{"../utils":618,lodash:42}],572:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n.Point=function(){function t(e,n){r(this,t),e instanceof t?(n=e.y,e=e.x):Array.isArray(e)&&(n=e[1],e=e[0]),this.x=e,this.y=n}return i(t,[{key:"moveTo",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x=t,this.y=e,this}},{key:"move",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x+=t,this.y+=e,this}}]),t}()},{}],573:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Text=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./point"),a=t("../utils");n.Text=function(){function t(e,n){r(this,t),this.value="",this.$id=a.Utils.guid(),this.location=e,e||(this.location=new o.Point(0,0)),n&&(this.value=n)}return i(t,[{key:"moveTo",value:function(t,e){return this.location.moveTo(t,e),this}},{key:"move",value:function(t,e){return this.location.move(t,e),this}}]),t}()},{"../utils":618,"./point":572}],574:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ExpectedValueMaximizationRule=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=(t("../utils"),t("../model/index")),c=r(u),l=t("./objective-rule"),f=n.ExpectedValueMaximizationRule=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.NAME,t))}return a(e,t),s(e,[{key:"computePayoff",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0;if(t.childEdges.length){if(t instanceof c.DecisionNode){var o=-(1/0);t.childEdges.forEach(function(t){var n=e.computePayoff(t.childNode,e.basePayoff(t),e.add(e.basePayoff(t),r));o=Math.max(o,n)}),t.childEdges.forEach(function(t){e.clearComputedValues(t),e.cValue(t,"probability",e.cValue(t.childNode,"payoff")<o?0:1)})}else t.childEdges.forEach(function(t){e.computePayoff(t.childNode,e.basePayoff(t),e.add(e.basePayoff(t),r)),e.clearComputedValues(t),e.cValue(t,"probability",e.baseProbability(t))});var a=0;t.childEdges.forEach(function(t){a=e.add(a,e.cValue(t,"probability"))}),t.childEdges.forEach(function(t){i=e.add(i,e.multiply(e.cValue(t,"probability"),e.cValue(t.childNode,"payoff")).div(a))})}return n=this.add(n,i),this.clearComputedValues(t),t instanceof c.TerminalNode?(this.cValue(t,"aggregatedPayoff",r),this.cValue(t,"probabilityToEnter",0)):this.cValue(t,"childrenPayoff",i),this.cValue(t,"payoff",n)}},{key:"computeOptimal",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.cValue(t,"optimal",!0),t instanceof c.TerminalNode&&this.cValue(t,"probabilityToEnter",r),t.childEdges.forEach(function(i){!e.subtract(e.cValue(t,"payoff"),n).equals(e.cValue(i.childNode,"payoff"))&&t instanceof c.DecisionNode?e.cValue(i,"optimal",!1):(e.cValue(i,"optimal",!0),e.computeOptimal(i.childNode,e.basePayoff(i),e.multiply(r,e.cValue(i,"probability"))))})}}]),e}(l.ObjectiveRule);f.NAME="expected-value-maximization"},{"../model/index":566,"../utils":618,"./objective-rule":577}],575:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.MaxiMaxRule=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=(t("../utils"),t("../model/index")),c=r(u),l=t("./objective-rule"),f=t("lodash"),p=r(f),h=n.MaxiMaxRule=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.NAME,t));
}return a(e,t),s(e,[{key:"computePayoff",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0;if(t.childEdges.length){var o=-(1/0);t.childEdges.forEach(function(t){var n=e.computePayoff(t.childNode,e.basePayoff(t),e.add(e.basePayoff(t),r));o=Math.max(o,n)}),t.childEdges.forEach(function(t){e.clearComputedValues(t),e.cValue(t,"probability",e.cValue(t.childNode,"payoff")<o?0:1)});var a=0;t.childEdges.forEach(function(t){a=e.add(a,e.cValue(t,"probability"))}),t.childEdges.forEach(function(t){i=e.add(i,e.multiply(e.cValue(t,"probability"),e.cValue(t.childNode,"payoff")).div(a))})}return n=this.add(n,i),this.clearComputedValues(t),t instanceof c.TerminalNode?(this.cValue(t,"aggregatedPayoff",r),this.cValue(t,"probabilityToEnter",0)):this.cValue(t,"childrenPayoff",i),this.cValue(t,"payoff",n)}},{key:"computeOptimal",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.cValue(t,"optimal",!0),t instanceof c.TerminalNode&&this.cValue(t,"probabilityToEnter",r);var i=null;t instanceof c.ChanceNode&&(i=p.maxBy(t.childEdges,function(t){return e.cValue(t.childNode,"payoff")})),t.childEdges.forEach(function(o){var a=!1;a=i?e.cValue(i.childNode,"payoff").equals(e.cValue(o.childNode,"payoff")):!(!e.subtract(e.cValue(t,"payoff"),n).equals(e.cValue(o.childNode,"payoff"))&&t instanceof c.DecisionNode),a?(e.cValue(o,"optimal",!0),e.computeOptimal(o.childNode,e.basePayoff(o),e.multiply(r,e.cValue(o,"probability")))):e.cValue(o,"optimal",!1)})}}]),e}(l.ObjectiveRule);h.NAME="maxi-max"},{"../model/index":566,"../utils":618,"./objective-rule":577,lodash:42}],576:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.MaxiMinRule=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=(t("../utils"),t("../model/index")),c=r(u),l=t("./objective-rule"),f=t("lodash"),p=r(f),h=n.MaxiMinRule=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.NAME,t))}return a(e,t),s(e,[{key:"computePayoff",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0;if(t.childEdges.length){if(t instanceof c.DecisionNode){var o=-(1/0);t.childEdges.forEach(function(t){var n=e.computePayoff(t.childNode,e.basePayoff(t),e.add(e.basePayoff(t),r));o=Math.max(o,n)}),t.childEdges.forEach(function(t){e.clearComputedValues(t),e.cValue(t,"probability",e.cValue(t.childNode,"payoff")<o?0:1)})}else{var a=1/0,s=1;t.childEdges.forEach(function(t){var n=e.computePayoff(t.childNode,e.basePayoff(t),e.add(e.basePayoff(t),r));n<a?(a=n,s=1):n.equals(a)&&s++}),t.childEdges.forEach(function(t){e.clearComputedValues(t),e.cValue(t,"probability",e.cValue(t.childNode,"payoff")>a?0:1/s)})}var u=0;t.childEdges.forEach(function(t){u=e.add(u,e.cValue(t,"probability"))}),t.childEdges.forEach(function(t){i=e.add(i,e.multiply(e.cValue(t,"probability"),e.cValue(t.childNode,"payoff")).div(u))})}return n=this.add(n,i),this.clearComputedValues(t),t instanceof c.TerminalNode?(this.cValue(t,"aggregatedPayoff",r),this.cValue(t,"probabilityToEnter",0)):this.cValue(t,"childrenPayoff",i),this.cValue(t,"payoff",n)}},{key:"computeOptimal",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.cValue(t,"optimal",!0),t instanceof c.TerminalNode&&this.cValue(t,"probabilityToEnter",r);var i=null;t instanceof c.ChanceNode&&(i=p.minBy(t.childEdges,function(t){return e.cValue(t.childNode,"payoff")})),t.childEdges.forEach(function(o){var a=!1;a=i?e.cValue(i.childNode,"payoff").equals(e.cValue(o.childNode,"payoff")):!(!e.subtract(e.cValue(t,"payoff"),n).equals(e.cValue(o.childNode,"payoff"))&&t instanceof c.DecisionNode),a?(e.cValue(o,"optimal",!0),e.computeOptimal(o.childNode,e.basePayoff(o),e.multiply(r,e.cValue(o,"probability")))):e.cValue(o,"optimal",!1)})}}]),e}(l.ObjectiveRule);h.NAME="maxi-min"},{"../model/index":566,"../utils":618,"./objective-rule":577,lodash:42}],577:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectiveRule=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("lodash"),s=(r(a),t("../expression-engine"));n.ObjectiveRule=function(){function t(e,n){i(this,t),this.name=e,this.expressionEngine=n}return o(t,[{key:"computePayoff",value:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;throw"computePayoff function not implemented for rule: "+this.name}},{key:"computeOptimal",value:function(t){throw"computeOptimal function not implemented for rule: "+this.name}},{key:"cValue",value:function(t,e,n){return t.computedValue(this.name,e,n)}},{key:"baseProbability",value:function(t){return t.computedBaseProbability()}},{key:"basePayoff",value:function(t){return t.computedBasePayoff()}},{key:"clearComputedValues",value:function(t){t.clearComputedValues(this.name)}},{key:"add",value:function(t,e){return s.ExpressionEngine.add(t,e)}},{key:"subtract",value:function(t,e){return s.ExpressionEngine.subtract(t,e)}},{key:"divide",value:function(t,e){return s.ExpressionEngine.divide(t,e)}},{key:"multiply",value:function(t,e){return s.ExpressionEngine.multiply(t,e)}}]),t}()},{"../expression-engine":552,lodash:42}],578:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectiveRulesManager=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./expected-value-maximization-rule"),s=t("./maxi-min-rule"),u=t("../model/index"),c=r(u),l=t("lodash"),f=r(l),p=t("./maxi-max-rule"),h=t("../expression-engine");n.ObjectiveRulesManager=function(){function t(e,n,r){i(this,t),this.ruleByName={},this.$debug=!1,this.data=n,this.expressionEngine=r;var o=new a.ExpectedValueMaximizationRule(r),u=new s.MaxiMinRule(r),c=new p.MaxiMaxRule(r);this.ruleByName[o.name]=o,this.ruleByName[u.name]=u,this.ruleByName[c.name]=c,this.rules=[o,u,c],this.currentRule=this.ruleByName[e]}return o(t,[{key:"isRuleName",value:function(t){return!!this.ruleByName[t]}},{key:"setCurrentRuleByName",value:function(t){this.currentRule=this.ruleByName[t]}},{key:"recompute",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(new Date).getTime();if(this.$debug,n&&this.evalNumericExpressions(),this.data.getRoots().forEach(function(n){e.recomputeTree(n,t)}),this.$debug){var i=(new Date).getTime()-r;i/=1e3}return this}},{key:"recomputeTree",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$debug;var i=(new Date).getTime();r&&this.evalNumericExpressions();var o=[this.currentRule];if(e&&(o=this.rules),o.forEach(function(e){e.computePayoff(t),e.computeOptimal(t),n.setProbabilitiesToDisplay(e)}),this.$debug){var a=(new Date).getTime()-i;a/=1e3}return this}},{key:"clearTree",value:function(t){this.data.getAllNodesInSubtree(t).forEach(function(t){t.clearComputedValues(),t.childEdges.forEach(function(t){t.clearComputedValues()})})}},{key:"setProbabilitiesToDisplay",value:function(t){t||(t=this.currentRule),this.data.edges.forEach(function(e){e.parentNode instanceof c.DecisionNode?t.cValue(e,"$probability",t.cValue(e,"probability")):e.parentNode instanceof c.ChanceNode&&t.cValue(e,"$probability",e.computedValue(null,"probability"))})}},{key:"evalNumericExpressions",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.data.getRoots().forEach(function(n){t.clearTree(n),t.evalNumericExpressionsForNode(n,e)})}},{key:"evalCodeExpressions",value:function(){var t=this;this.data.clearExpressionScope(),this.data.$codeDirty=!1;try{this.data.$codeError=null,this.expressionEngine.eval(this.data.code,!1,this.data.expressionScope)}catch(e){this.data.$codeError=e}this.data.getRoots().forEach(function(e){t.evalCodeExpressionsForNode(e)})}},{key:"evalCodeExpressionsForNode",value:function(t){var e=this;if(this.initScopeForNode(t),t.$codeDirty=!1,t.code)try{t.$codeError=null,this.expressionEngine.eval(t.code,!1,t.expressionScope)}catch(n){t.$codeError=n}t.childEdges.forEach(function(t){e.evalCodeExpressionsForNode(t.childNode)})}},{key:"initScopeForNode",value:function(t){var e=t.$parent,n=e?e.expressionScope:this.data.expressionScope;t.expressionScope=f.cloneDeep(n)}},{key:"evalNumericExpressionsForNode",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.expressionScope&&!n||this.initScopeForNode(t);var r=t.expressionScope;if(t instanceof c.ChanceNode){var i=h.ExpressionEngine.toNumber(0),o=[],a=!1;if(t.childEdges.forEach(function(t){if(h.ExpressionEngine.isHash(t.probability))return void o.push(t);if(h.ExpressionEngine.hasAssignmentExpression(t.probability))return null;try{var n=e.expressionEngine.eval(t.probability,!0,r);t.computedValue(null,"probability",n),i=h.ExpressionEngine.add(i,n)}catch(t){a=!0}}),a=a||!(i.compare(0)>=0&&i.compare(1)<=0),!a&&o.length){var s=h.ExpressionEngine.divide(h.ExpressionEngine.subtract(1,i),o.length);o.forEach(function(t){t.computedValue(null,"probability",s)})}}t.childEdges.forEach(function(t){try{t.computedValue(null,"payoff",e.expressionEngine.evalPayoff(t))}catch(t){}e.evalNumericExpressionsForNode(t.childNode,n)})}}]),t}()},{"../expression-engine":552,"../model/index":566,"./expected-value-maximization-rule":574,"./maxi-max-rule":575,"./maxi-min-rule":576,lodash:42}],579:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.FormGroup=n.SettingsDialog=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("./d3"),c=r(u),l=t("./dialog"),f=t("lodash"),p=r(f),h=t("./i18n/i18n"),d=t("./templates"),m=t("./utils"),g=n.SettingsDialog=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.container.select("#sd-settings-dialog"),t));n.formGroups=[];var r=new y("general",function(){t.treeDesigner.updateCustomStyles(),t.updateNumberFormats()});r.addField("fontFamily","text",t.treeDesigner,"config.fontFamily").addField("fontSize","text",t.treeDesigner,"config.fontSize").addSelectField("fontWeight",t.treeDesigner,"config.fontWeight",e.fontWeightOptions).addSelectField("fontStyle",t.treeDesigner,"config.fontStyle",e.fontStyleOptions).addField("numberFormatLocale","text",t,"config.format.locales",{validate:function(t){try{return new Intl.NumberFormat(t),!0}catch(e){return!1}}}),n.formGroups.push(r);var a=new y("payoff",function(){return t.updatePayoffNumberFormat()});a.addSelectField("style",t,"config.format.payoff.style",["currency","decimal"]).addSelectField("currencyDisplay",t,"config.format.payoff.currencyDisplay",["symbol","code","name"]).addField("currency","text",t,"config.format.payoff.currency",{validate:function(t){try{return new Intl.NumberFormat([],{currency:t}),!0}catch(e){return!1}}}).addField("minimumFractionDigits","number",t,"config.format.payoff.minimumFractionDigits",{validate:function(e){try{return new Intl.NumberFormat([],{minimumFractionDigits:e,maximumFractionDigits:t.config.format.payoff.maximumFractionDigits}),!0}catch(n){return!1}}}).addField("maximumFractionDigits","number",t,"config.format.payoff.maximumFractionDigits",{validate:function(e){try{return new Intl.NumberFormat([],{minimumFractionDigits:t.config.format.payoff.minimumFractionDigits,maximumFractionDigits:e}),!0}catch(n){return!1}}}).addField("useGrouping","checkbox",t,"config.format.payoff.useGrouping"),n.formGroups.push(a),r=new y("probability",function(){t.updateProbabilityNumberFormat(),t.treeDesigner.updateCustomStyles().redraw()}),r.addSelectField("style",t,"config.format.probability.style",["decimal","percent"]).addField("minimumFractionDigits","number",t,"config.format.probability.minimumFractionDigits",{validate:function(e){try{return new Intl.NumberFormat([],{minimumFractionDigits:e,maximumFractionDigits:t.config.format.probability.maximumFractionDigits}),!0}catch(n){return!1}}}).addField("maximumFractionDigits","number",t,"config.format.probability.maximumFractionDigits",{validate:function(e){try{return new Intl.NumberFormat([],{minimumFractionDigits:t.config.format.probability.minimumFractionDigits,maximumFractionDigits:e}),!0}catch(n){return!1}}}).addField("fontSize","text",t.treeDesigner,"config.probability.fontSize").addField("color","color",t.treeDesigner,"config.probability.color"),n.formGroups.push(r);var s=new y("node",function(){return t.treeDesigner.updateCustomStyles().redraw()});s.addField("strokeWidth","text",t.treeDesigner,"config.node.strokeWidth"),s.addGroup("optimal").addField("strokeWidth","text",t.treeDesigner,"config.node.optimal.strokeWidth").addField("stroke","color",t.treeDesigner,"config.node.optimal.stroke"),s.addGroup("label").addField("fontSize","text",t.treeDesigner,"config.node.label.fontSize").addField("color","color",t.treeDesigner,"config.node.label.color"),s.addGroup("payoff").addField("fontSize","text",t.treeDesigner,"config.node.payoff.fontSize").addField("color","color",t.treeDesigner,"config.node.payoff.color").addField("negativeColor","color",t.treeDesigner,"config.node.payoff.negativeColor"),n.formGroups.push(s),s.addGroup("decision").addField("fill","color",t.treeDesigner,"config.node.decision.fill").addField("stroke","color",t.treeDesigner,"config.node.decision.stroke").addField("selected.fill","color",t.treeDesigner,"config.node.decision.selected.fill"),s.addGroup("chance").addField("fill","color",t.treeDesigner,"config.node.chance.fill").addField("stroke","color",t.treeDesigner,"config.node.chance.stroke").addField("selected.fill","color",t.treeDesigner,"config.node.chance.selected.fill"),s.addGroup("terminal").addField("fill","color",t.treeDesigner,"config.node.terminal.fill").addField("stroke","color",t.treeDesigner,"config.node.terminal.stroke").addField("selected.fill","color",t.treeDesigner,"config.node.terminal.selected.fill").addGroup("payoff").addField("fontSize","text",t.treeDesigner,"config.node.terminal.payoff.fontSize").addField("color","color",t.treeDesigner,"config.node.terminal.payoff.color").addField("negativeColor","color",t.treeDesigner,"config.node.terminal.payoff.negativeColor");var u=new y("edge",function(){return t.treeDesigner.updateCustomStyles().redraw()}).addField("stroke","color",t.treeDesigner,"config.edge.stroke").addField("strokeWidth","text",t.treeDesigner,"config.edge.strokeWidth");u.addGroup("optimal").addField("strokeWidth","text",t.treeDesigner,"config.edge.optimal.strokeWidth").addField("stroke","color",t.treeDesigner,"config.edge.optimal.stroke"),u.addGroup("selected").addField("strokeWidth","text",t.treeDesigner,"config.edge.selected.strokeWidth").addField("stroke","color",t.treeDesigner,"config.edge.selected.stroke"),u.addGroup("label").addField("fontSize","text",t.treeDesigner,"config.edge.label.fontSize").addField("color","color",t.treeDesigner,"config.edge.label.color"),u.addGroup("payoff").addField("fontSize","text",t.treeDesigner,"config.edge.payoff.fontSize").addField("color","color",t.treeDesigner,"config.edge.payoff.color").addField("negativeColor","color",t.treeDesigner,"config.edge.payoff.negativeColor"),n.formGroups.push(u);var c=new y("diagramTitle",function(){return t.treeDesigner.updateCustomStyles().redraw()});c.addField("fontSize","text",t.treeDesigner,"config.title.fontSize").addSelectField("fontWeight",t.treeDesigner,"config.title.fontWeight",e.fontWeightOptions).addSelectField("fontStyle",t.treeDesigner,"config.title.fontStyle",e.fontStyleOptions).addField("color","color",t.treeDesigner,"config.title.color").addGroup("margin").addField("top","number",t.treeDesigner,"config.title.margin.top").addField("bottom","number",t.treeDesigner,"config.title.margin.bottom"),c.addGroup("description").addField("show","checkbox",t.treeDesigner,"config.description.show").addField("fontSize","text",t.treeDesigner,"config.description.fontSize").addSelectField("fontWeight",t.treeDesigner,"config.description.fontWeight",e.fontWeightOptions).addSelectField("fontStyle",t.treeDesigner,"config.description.fontStyle",e.fontStyleOptions).addField("color","color",t.treeDesigner,"config.description.color").addField("marginTop","number",t.treeDesigner,"config.description.margin.top"),n.formGroups.push(c);var l=new y("other",function(){return t.treeDesigner.redraw()});return l.addField("disableAnimations","checkbox",t.treeDesigner,"config.disableAnimations").addField("forceFullEdgeRedraw","checkbox",t.treeDesigner,"config.forceFullEdgeRedraw"),n.formGroups.push(l),n.initView(),n}return a(e,t),s(e,[{key:"initFormGroups",value:function(t,e){var n=this,r={},i=t.selectAll("div.sd-form-group").filter(function(e){return this.parentNode==t.node()}).data(e),o=i.enter().appendSelector("div.sd-form-group").attr("id",function(t){return t.id}).html(function(t){return d.Templates.get("settingsDialogFormGroup",t)});o.select(".toggle-button").on("click",function(e){var n=t.select("#"+e.id);n.classed("sd-extended",!n.classed("sd-extended"))});var a=o.merge(i),s=a.select("  .sd-form-group-content > .sd-form-group-inputs").selectAll("div.input-group").data(function(t){return t.fields}),u=s.enter().appendSelector("div.input-group").html(function(t){return"select"==t.type?d.Templates.get("selectInputGroup",t):d.Templates.get("inputGroup",t)});u.merge(s).select("input, select").on("change input",function(t,e){var n=this.value;return"checkbox"==t.type&&(n=this.checked),t.validator&&!t.validator.validate(n)?(c.select(this).classed("invalid",!0),void("change"==c.event.type&&(this.value=t.valueAccessor.get()))):(c.select(this).classed("invalid",!1),t.valueAccessor.set(n),t.valueUpdateCallback&&t.valueUpdateCallback(),void m.Utils.updateInputClass(c.select(this)))}).each(function(t,e){var n=t.valueAccessor.get();"checkbox"==t.type?this.checked=n:this.value=n,r[e]={},r[e].pristineVal=n,t.validator&&!t.validator.validate(n)?c.select(this).classed("invalid",!0):c.select(this).classed("invalid",!1),m.Utils.updateInputClass(c.select(this))}),a.each(function(t){n.initFormGroups(c.select(this).select(".sd-form-group-content > .sd-form-group-child-groups"),t.groups)})}},{key:"initView",value:function(){this.initFormGroups(this.container.select("form#sd-settings-form"),this.formGroups)}},{key:"onOpen",value:function(){this.initView()}}]),e}(l.Dialog);g.fontWeightOptions=["normal","bold","lighter","bolder"],g.fontStyleOptions=["normal","italic","oblique"];var y=n.FormGroup=function(){function t(e,n){i(this,t),this.fields=[],this.groups=[],this.id="sd-form-group-"+e.replace(/\./g,"-"),this.name=e,this.valueUpdateCallback=n}return s(t,[{key:"addSelectField",value:function(t,e,n,r){return this.addField(t,"select",e,n,null,r),this}},{key:"addField",value:function(t,e,n,r,i,o){var a=this.name+"-"+t,s=h.i18n.t("settingsDialog."+this.name+"."+t),u=new x(a,a,e,s,n,r,i,o);return u.valueUpdateCallback=this.valueUpdateCallback,this.fields.push(u),this}},{key:"addGroup",value:function(e){var n=this.name+"."+e,r=new t(n,this.valueUpdateCallback);return this.groups.push(r),r}}]),t}(),v=function(){function t(e,n){i(this,t),this.sourceObject=e,this.path=n}return s(t,[{key:"get",value:function(){return p.get(this.sourceObject,this.path)}},{key:"set",value:function(t){return p.set(this.sourceObject,this.path,t)}}]),t}(),b=function w(t,e,n,r,o,a,s){i(this,w),this.name=e,this.type=n,this.valueAccessor=o,this.validator=a,this.id=t,this.label=r,this.options=s},x=function(t){function e(t,n,r,a,s,u,c,l){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a,new v(s,u),c,l))}return a(e,t),e}(b)},{"./d3":547,"./dialog":550,"./i18n/i18n":558,"./templates":581,"./utils":618,lodash:42}],580:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Sidebar=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=r(a),u=t("./i18n/i18n"),c=t("./utils"),l=t("./model/index"),f=r(l),p=t("./validation/payoff-input-validator"),h=t("./validation/probability-input-validator"),d=(t("./expression-engine"),t("./templates")),m=t("./tooltip"),g=t("lodash"),y=r(g);n.Sidebar=function(){function t(e,n){i(this,t),this.dispatch=s.dispatch("recomputed","object-updated"),this.app=n,this.container=e,this.initLayoutOptions(),this.initDiagramDetails(),this.initDefinitions();var r=this;document.addEventListener("SilverDecisionsRecomputedEvent",function(t){t.detail===n&&r.dispatch.call("recomputed")}),r.dispatch.on("object-updated",y.debounce(function(){return r.app.onObjectUpdated()},300))}return o(t,[{key:"initLayoutOptions",value:function(){var t=this,e=this;this.layoutOptionsContainer=this.container.select("#layout-options"),this.autoLayoutOptionsGroup=this.layoutOptionsContainer.select("#auto-layout-options"),this.gridWidth=this.layoutOptionsContainer.select("input#grid-width").on("change",function(){e.app.treeDesigner.layout.setGridWidth(parseInt(this.value))}),this.gridHeight=this.layoutOptionsContainer.select("input#grid-height").on("change",function(){e.app.treeDesigner.layout.setGridHeight(parseInt(this.value))}),this.nodeSize=this.layoutOptionsContainer.select("input#node-size").on("change",function(){e.app.treeDesigner.layout.setNodeSize(parseInt(this.value))}),this.edgeSlantWidthMax=this.layoutOptionsContainer.select("input#edge-slant-width-max").on("change",function(){e.app.treeDesigner.layout.setEdgeSlantWidthMax(parseInt(this.value))}),this.marginHorizontal=this.layoutOptionsContainer.select("input#margin-horizontal").on("change",function(){var t={};t.left=t.right=parseInt(this.value),e.app.treeDesigner.setMargin(t)}),this.marginVertical=this.layoutOptionsContainer.select("input#margin-vertical").on("change",function(){var t={};t.top=t.bottom=parseInt(this.value),e.app.treeDesigner.setMargin(t)}),e.app.treeDesigner.layout.onAutoLayoutChanged.push(function(t){return e.updateLayoutOptions()}),this.layoutOptionsContainer.select(".toggle-button").on("click",function(){t.layoutOptionsContainer.classed("sd-extended",!t.layoutOptionsContainer.classed("sd-extended"))}),this.updateLayoutOptions()}},{key:"updateLayoutOptions",value:function(){this.nodeSize.node().value=this.app.treeDesigner.config.layout.nodeSize,this.edgeSlantWidthMax.node().value=this.app.treeDesigner.config.layout.edgeSlantWidthMax,this.marginHorizontal.node().value=this.app.treeDesigner.config.margin.left,this.marginVertical.node().value=this.app.treeDesigner.config.margin.top,this.gridWidth.node().value=this.app.treeDesigner.config.layout.gridWidth,this.gridHeight.node().value=this.app.treeDesigner.config.layout.gridHeight,this.autoLayoutOptionsGroup.classed("visible",!this.app.treeDesigner.layout.isManualLayout())}},{key:"initDiagramDetails",value:function(){var t=this,e=this;this.diagramDetailsContainer=this.container.select("#diagram-details-box"),this.diagramDetailsContainer.classed("sd-hidden",!this.app.config.showDetails),this.diagramDetailsContainer.select(".toggle-button").on("click",function(){t.diagramDetailsContainer.classed("sd-extended",!t.diagramDetailsContainer.classed("sd-extended")),t.updateDiagramDetails()}),this.diagramTitle=this.diagramDetailsContainer.select("input#diagram-title").on("change",function(){e.app.setDiagramTitle(this.value),c.Utils.updateInputClass(s.select(this))}),this.diagramDescription=this.diagramDetailsContainer.select("textarea#diagram-description").on("change",function(){e.app.setDiagramDescription(this.value),c.Utils.updateInputClass(s.select(this))}),c.Utils.elasticTextarea(this.diagramDescription),this.updateDiagramDetails()}},{key:"initDefinitions",value:function(){var t=this,e=this;this.definitionsContainer=this.container.select("#sd-sidebar-definitions"),this.definitionsContainer.classed("sd-hidden",!this.app.config.showDefinitions),this.onDefinitionsCodeChanged=null,this.definitionsContainer.select(".toggle-button").on("click",function(){t.definitionsContainer.classed("sd-extended",!t.definitionsContainer.classed("sd-extended"))}),this.definitionsCode=this.definitionsContainer.select("textarea#sd-sidebar-definitions-code").on("change",function(){e.onDefinitionsCodeChanged&&e.onDefinitionsCodeChanged(this.value),c.Utils.updateInputClass(s.select(this))}),m.Tooltip.attach(this.definitionsCode,function(t){return e.definitionsCode.attr("data-error-msg")},15,50),this.definitionsEvaluatedValuesContainer=this.container.select("#sd-sidebar-definitions-evaluated-values"),this.definitionsContainer.select("#sd-sidebar-definitions-open-dialog-button").on("click",function(){t.app.openDefinitionsDialog()}),this.definitionsContainer.select("#sd-sidebar-definitions-recalculate-button").on("click",function(){t.app.recompute()}),c.Utils.elasticTextarea(this.definitionsCode)}},{key:"updateDefinitions",value:function(t,e,n){this.definitionsContainer.classed("sd-read-only",e),this.onDefinitionsCodeChanged=n,this.definitionsCode.node().value=t.code,this.definitionsCode.classed("invalid",!!t.$codeError),this.definitionsCode.attr("data-error-msg",t.$codeError);var r=d.Templates.get("evaluatedVariables",{scopeVariables:c.Utils.getVariablesAsList(t.expressionScope)});this.definitionsEvaluatedValuesContainer.html(r),c.Utils.updateInputClass(this.definitionsCode),c.Utils.autoResizeTextarea(this.definitionsCode.node())}},{key:"updateDiagramDetails",value:function(){this.diagramTitle.node().value=this.app.config.title,c.Utils.updateInputClass(this.diagramTitle),this.diagramDescription.node().value=this.app.config.description,c.Utils.updateInputClass(this.diagramDescription),c.Utils.autoResizeTextarea(this.diagramDescription.node())}},{key:"displayObjectProperties",value:function(t){this.updateObjectPropertiesView(t)}},{key:"hideObjectProperties",value:function(){this.container.select("#object-properties").classed("visible",!1),this.container.selectAll("div.child-object").remove()}},{key:"updateObjectPropertiesView",value:function(e){if(this.dispatch.on(".recomputed",null),!e)return void this.hideObjectProperties();var n=this.objectProps=this.container.select("#object-properties").classed("visible",!0),r=t.getHeaderTextForObject(e);n.select(".header").html(r);var i=this.getFieldListForObject(e);this.updateObjectFields(e,i,n.select(".content .main-properties")),this.updateObjectChildrenProperties(e)}},{key:"updateObjectChildrenProperties",value:function(e){function n(t,e){var n=s.select(this);n.selectOrAppend("div.child-header").text(u.i18n.t("objectProperties.childrenProperties."+o+".child.header",{number:e+1}));var i=r.getFieldListForObject(t);r.updateObjectFields(t,i,n.selectOrAppend("div.field-list"))}var r=this,i=this.getChildObjectList(e),o=t.getObjectType(e),a=this.objectProps.select(".content .children-properties");a.classed("visible",i.length),a.select(".children-properties-header").text(u.i18n.t("objectProperties.childrenProperties."+o+".header"));var c=a.select(".children-properties-content"),l=c.selectAll("div.child-object").data(i,function(t,e){return t.$id||e}),f=l.enter().appendSelector("div.child-object"),p=f.merge(l);p.each(n),l.exit().remove()}},{key:"getChildObjectList",value:function(t){return t instanceof f.Node?t.childEdges.sort(function(t,e){return t.childNode.location.y-e.childNode.location.y}):t instanceof f.Edge?[]:[]}},{key:"getFieldListForObject",value:function(t){var e=this;if(t instanceof f.Node)return[{name:"name",type:"textarea"}];if(t instanceof f.Edge){var n=[{name:"name",type:"textarea"},{name:"payoff",type:"text",validator:new p.PayoffInputValidator(e.app.expressionEngine)}];return t.parentNode instanceof f.ChanceNode&&n.push({name:"probability",type:"text",validator:new h.ProbabilityInputValidator(e.app.expressionEngine)}),n}return t instanceof f.Text?[{name:"value",type:"textarea"}]:[]}},{key:"updateObjectFields",value:function(t,e,n){var r=this,i=t instanceof f.Node?"node":t instanceof f.Edge?"edge":"text",o=function(e){return"object-"+t.$id+"-field-"+e.name},a=n.selectAll("div.object-field").data(e),l={},p=a.enter().appendSelector("div.object-field"),h=p.merge(a);h.each(function(t,e){var n=s.select(this);n.html("");var r;r="textarea"==t.type?n.append("textarea").attr("rows",1):n.append("input"),r.classed("sd-input",!0),n.appendSelector("span.bar"),n.append("label"),n.classed("input-group",!0)}),h.select("label").attr("for",o).html(function(t){return u.i18n.t(i+"."+t.name)}),h.select(".sd-input").attr("type",function(t){return"textarea"==t.type?void 0:t.type}).attr("name",function(t){return t.name}).attr("id",o).on("change keyup",function(e,n){var i=t[e.name],o=!e.validator||e.validator.validate(this.value,t,e.name);s.select(this).classed("invalid",!o),i+""!=this.value&&("change"==s.event.type&&l[n].pristineVal!=this.value&&(t[e.name]=l[n].pristineVal,r.app.dataModel.saveState(),e.onChange&&e.onChange(t,this.value,l[n].pristineVal)),c.Utils.updateInputClass(s.select(this)),
e.customOnInput?e.customOnInput(t,this.value,l[n].pristineVal):(t[e.name]=this.value,r.dispatch.call("object-updated")))}).each(function(e,n){this.value=t[e.name],l[n]={},l[n].pristineVal=this.value,e.validator&&!e.validator.validate(this.value,t,e.name)&&s.select(this).classed("invalid",!0);var i=this,o=function(){t.isFieldValid(e.name)||s.select(i).classed("invalid",!0)};o(),r.dispatch.on("recomputed."+t.$id+"."+e.name,o),c.Utils.updateInputClass(s.select(this)),"textarea"==e.type&&(c.Utils.elasticTextarea(s.select(this)),c.Utils.autoResizeTextarea(s.select(this).node()))}),a.exit().remove()}}],[{key:"getObjectType",value:function(t){return t instanceof f.Node?"node":t instanceof f.Edge?"edge":t instanceof f.Text?"text":""}},{key:"getHeaderTextForObject",value:function(t){return t instanceof f.Node?u.i18n.t("objectProperties.header.node."+t.type):t instanceof f.Edge?u.i18n.t("objectProperties.header.edge"):t instanceof f.Text?u.i18n.t("objectProperties.header.text"):""}}]),t}()},{"./d3":547,"./expression-engine":552,"./i18n/i18n":558,"./model/index":566,"./templates":581,"./tooltip":607,"./utils":618,"./validation/payoff-input-validator":619,"./validation/probability-input-validator":621,lodash:42}],581:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Templates=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("lodash"),s=r(a),u=t("./i18n/i18n"),c=n.Templates=function(){function t(){i(this,t)}return o(t,null,[{key:"get",value:function(e,n){var r=s.template(t[e],{imports:{i18n:u.i18n,Templates:t,include:function(e,n){return t.get(e,n)}}});return n?n.variables=n:n={variables:{}},r(n)}},{key:"styleRule",value:function(e,n){var r=e+"{";return n.forEach(function(e){return r+=t.styleProp(e[0],e[1])}),r+="} "}},{key:"styleProp",value:function(t,e){return t+": <%= "+e+" %>; "}},{key:"nodeSelector",value:function(e,n){var r=t.treeDesignerSelector+" .node";return e&&(r+="."+e+"-node"),n&&(r+="."+n),r}},{key:"edgeSelector",value:function(e){var n=t.treeDesignerSelector+" .edge";return e&&(n+="."+e),n}}]),t}();c.about_de=t("./templates/about/de.html"),c.about_en=t("./templates/about/en.html"),c.about_fr=t("./templates/about/fr.html"),c.about_ga=t("./templates/about/ga.html"),c.about_it=t("./templates/about/it.html"),c.about_nl=t("./templates/about/nl.html"),c.about_pl=t("./templates/about/pl.html"),c.toolbar=t("./templates/toolbar.html"),c.layoutOptions=t("./templates/sidebar/layout_options.html"),c.objectProperties=t("./templates/sidebar/object_properties.html"),c.diagramDetailsBox=t("./templates/sidebar/diagram_details_box.html"),c.evaluatedVariables=t("./templates/evaluated_variables.html"),c.definitions=t("./templates/sidebar/definitions.html"),c.sidebar=t("./templates/sidebar/sidebar.html"),c.settingsDialog=t("./templates/settings_dialog.html"),c.settingsDialogFormGroup=t("./templates/settings_dialog_form_group.html"),c.inputGroup=t("./templates/input_group.html"),c.selectInputGroup=t("./templates/select_input_group.html"),c.help=t("./templates/help.html"),c.aboutDialog=t("./templates/about_dialog.html"),c.growl=t("./templates/growl_message.html"),c.definitionsDialog=t("./templates/definitions_dialog.html"),c.loadingIndicator=t("./templates/loading_indicator.html"),c.main=t("./templates/main.html"),c.treeDesignerSelector="#silver-decisions svg.tree-designer",c.treeDesignerStyles=c.styleRule(c.treeDesignerSelector,[["font-size","fontSize"],["font-family","fontFamily"],["font-weight","fontWeight"],["font-style","fontStyle"]])+c.styleRule(c.nodeSelector()+" path",[["fill","node.fill"],["stroke-width","node.strokeWidth"]])+c.styleRule(c.nodeSelector("decision","optimal")+" path, "+c.nodeSelector("chance","optimal")+" path,"+c.nodeSelector("terminal","optimal")+" path",[["stroke","node.optimal.stroke"],["stroke-width","node.optimal.strokeWidth"]])+c.styleRule(c.nodeSelector()+" .label",[["font-size","node.label.fontSize"],["fill","node.label.color"]])+c.styleRule(c.nodeSelector()+" .payoff",[["font-size","node.payoff.fontSize"],["fill","node.payoff.color"]])+c.styleRule(c.nodeSelector()+" .payoff.negative",[["fill","node.payoff.negativeColor"]])+c.styleRule(c.nodeSelector("decision")+" path",[["fill","node.decision.fill"],["stroke","node.decision.stroke"]])+c.styleRule(c.nodeSelector("decision","selected")+" path",[["fill","node.decision.selected.fill"]])+c.styleRule(c.nodeSelector("chance")+" path",[["fill","node.chance.fill"],["stroke","node.chance.stroke"]])+c.styleRule(c.nodeSelector("chance","selected")+" path",[["fill","node.chance.selected.fill"]])+c.styleRule(c.nodeSelector("terminal")+" path",[["fill","node.terminal.fill"],["stroke","node.terminal.stroke"]])+c.styleRule(c.nodeSelector("terminal","selected")+" path",[["fill","node.terminal.selected.fill"]])+c.styleRule(c.nodeSelector("terminal")+" .aggregated-payoff",[["font-size","node.terminal.payoff.fontSize"],["fill","node.terminal.payoff.color"]])+c.styleRule(c.nodeSelector("terminal")+" .aggregated-payoff.negative",[["fill","node.terminal.payoff.negativeColor"]])+c.styleRule(c.treeDesignerSelector+" .node .probability-to-enter, "+c.treeDesignerSelector+" .edge .probability",[["font-size","probability.fontSize"],["fill","probability.color"]])+c.styleRule(c.edgeSelector()+" path",[["stroke","edge.stroke"],["stroke-width","edge.strokeWidth"]])+c.styleRule(c.treeDesignerSelector+" marker#arrow path",[["fill","edge.stroke"]])+c.styleRule(c.edgeSelector("optimal")+" path",[["stroke","edge.optimal.stroke"],["stroke-width","edge.optimal.strokeWidth"]])+c.styleRule(c.treeDesignerSelector+" marker#arrow-optimal path",[["fill","edge.optimal.stroke"]])+c.styleRule(c.edgeSelector("selected")+" path",[["stroke","edge.selected.stroke"],["stroke-width","edge.selected.strokeWidth"]])+c.styleRule(c.treeDesignerSelector+" marker#arrow-selected path",[["fill","edge.selected.stroke"]])+c.styleRule(c.edgeSelector()+" .label",[["font-size","edge.label.fontSize"],["fill","edge.label.color"]])+c.styleRule(c.edgeSelector()+" .payoff",[["font-size","edge.payoff.fontSize"],["fill","edge.payoff.color"]])+c.styleRule(c.edgeSelector()+" .payoff.negative",[["fill","edge.payoff.negativeColor"]])+c.styleRule(c.treeDesignerSelector+" .sd-title-container text.sd-title",[["font-size","title.fontSize"],["font-weight","title.fontWeight"],["font-style","title.fontStyle"],["fill","title.color"]])+c.styleRule(c.treeDesignerSelector+" .sd-title-container text.sd-description",[["font-size","description.fontSize"],["font-weight","description.fontWeight"],["font-style","description.fontStyle"],["fill","description.color"]])},{"./i18n/i18n":558,"./templates/about/de.html":582,"./templates/about/en.html":583,"./templates/about/fr.html":584,"./templates/about/ga.html":585,"./templates/about/it.html":586,"./templates/about/nl.html":587,"./templates/about/pl.html":588,"./templates/about_dialog.html":589,"./templates/definitions_dialog.html":590,"./templates/evaluated_variables.html":591,"./templates/growl_message.html":592,"./templates/help.html":593,"./templates/input_group.html":594,"./templates/loading_indicator.html":595,"./templates/main.html":596,"./templates/select_input_group.html":597,"./templates/settings_dialog.html":598,"./templates/settings_dialog_form_group.html":599,"./templates/sidebar/definitions.html":600,"./templates/sidebar/diagram_details_box.html":601,"./templates/sidebar/layout_options.html":602,"./templates/sidebar/object_properties.html":603,"./templates/sidebar/sidebar.html":604,"./templates/toolbar.html":605,lodash:42}],582:[function(t,e,n){e.exports='<p>\r\n    <strong>SilverDecisions <%= version %></strong><br/>A free and open source decision tree software.\r\n</p>\r\n<p class="sd-project-team">\r\n    Project team:\r\n    <ul>\r\n        <li><a href="http://bogumilkaminski.pl/" target="_blank">Bogumi Kamiski</a> (project manager)</li>\r\n        <li><a href="https://szufel.pl/" target="_blank">Przemysaw Szufel</a> (deputy project manager)</li>\r\n        <li><a href="https://github.com/mwasiluk" target="_blank">Micha Wasiluk</a> (developer)</li>\r\n        <li>Marcin Czupryna (tester)</li>\r\n        <li><a href="http://www.michaljakubczyk.pl/" target="_blank">Micha Jakubczyk</a> (tester)</li>\r\n        <li>Anna Wiertlewska (documentalist)</li>\r\n    </ul>\r\n</p>\r\n<p>\r\n    The project is developed at Decision Support and Analysis Division, Warsaw School of Economics.<br/>\r\n    Contact: silverdecisions@sgh.waw.pl\r\n</p>\r\n<p>\r\n    SilverDecisions is a community-driven project, so if you use it for teaching, research or any other activity that you would be willing to share please let us know. We would be glad to add a link to your activities on <a href="https://github.com/bkamins/SilverDecisions/wiki/SilverDecisions-Community" target="_blank">SilverDecisions Community</a> page.\r\n</p>\r\n<p>\r\n    Software is developed as a part of <a href="http://routetopa.eu/" target="_blank">ROUTE-TO-PA</a> Project that has\r\n    received funding from the European Unions Horizon 2020 research and innovation programme under grant agreement No\r\n    645860. Its aim is to allow a transparent communication between public administration and citizens regarding public\r\n    data about decision making processes performed by public administration.\r\n</p>\r\n<p>\r\n    All the source files are licensed under the terms of the GNU Lesser General Public License version 3.\r\n</p>\r\n<p>\r\n    For more information visit our website at <a href="http://silverdecisions.pl/" target="_blank">http://silverdecisions.pl/</a>.\r\n</p>\r\n'},{}],583:[function(t,e,n){arguments[4][582][0].apply(n,arguments)},{dup:582}],584:[function(t,e,n){arguments[4][582][0].apply(n,arguments)},{dup:582}],585:[function(t,e,n){arguments[4][582][0].apply(n,arguments)},{dup:582}],586:[function(t,e,n){arguments[4][582][0].apply(n,arguments)},{dup:582}],587:[function(t,e,n){arguments[4][582][0].apply(n,arguments)},{dup:582}],588:[function(t,e,n){e.exports='<p>\r\n    <strong>SilverDecisions <%= version %></strong><br/>\r\n    Oprogramowanie do analizy drzew decyzyjnych typu Free Open Source.\r\n</p>\r\n<p class="sd-project-team">\r\n    Zesp projektowy:\r\n    <ul>\r\n        <li><a href="http://bogumilkaminski.pl/" target="_blank">Bogumi Kamiski</a> (manager projektu)</li>\r\n        <li><a href="https://szufel.pl/" target="_blank">Przemysaw Szufel</a> (zastpca managera projektu)</li>\r\n        <li><a href="https://github.com/mwasiluk" target="_blank">Micha Wasiluk</a> (developer)</li>\r\n        <li>Marcin Czupryna (tester)</li>\r\n        <li><a href="http://www.michaljakubczyk.pl/" target="_blank">Micha Jakubczyk</a> (tester)</li>\r\n        <li>Anna Wiertlewska (dokumentalistka)</li>\r\n    </ul>\r\n</p>\r\n<p>\r\n    Projekt jest realizowany w Zakadzie Wspomagania i Analizy Decyzji w Szkole Gwnej Handlowej w Warszawie.<br/>\r\n    Kontakt: silverdecisions@sgh.waw.pl\r\n</p>\r\n<p>\r\n    Rozwj SilverDecisions zaley od potrzeb uytkownikw. W zwizku z tym jeli wykorzystujesz je do nauczania, bada lub innych aktywnoci, o ktrych zechcesz na powiedzie prosimy o kontakt. Byoby nam bardzo mio, jeli moglibymy doda informacj o Twoich aktywnociach na stronie <a href="https://github.com/bkamins/SilverDecisions/wiki/SilverDecisions-Community" target="_blank">SilverDecisions Community</a>.\r\n</p>\r\n<p>\r\n<p>\r\n    Oprogramowanie jest rozwijane w ramach projektu <a href="http://routetopa.eu/" target="_blank">ROUTE-TO-PA</a> (<em>Raising\r\n    Open and User-friendly Transparency-Enabling Technologies for Public Administrations</em>),\r\n    ktry jest finansowany ze rodkw Europejskiego Programu w Zakresie Bada Naukowych i Innowacji Horizon 2020 na\r\n    podstawie umowy o dotacj nr 645860. Celem projektu ROUTE-TO-PA jest umoliwienie przejrzystej komunikacji pomidzy\r\n    administracj publiczn a mieszkacami w zakresie publicznych danych dotyczcych procesu podejmowania przez\r\n    administracje publiczne decyzji.\r\n</p>\r\n<p>\r\n    Wszystkie pliki rdowe s licencjonowane zgodnie ze sabsz powszechn licencj publiczn GNU (GNU Lesser General Public License version 3).\r\n</p>\r\n<p>\r\n    Wicej informacji mona znale na stronie internetowej: <a href="http://silverdecisions.pl/" target="_blank">http://silverdecisions.pl/</a>.\r\n</p>\r\n'},{}],589:[function(t,e,n){e.exports='<div id="sd-about-dialog" class="sd-modal">\r\n    <div class="sd-modal-content">\r\n        <div class="sd-modal-header">\r\n            <span class="sd-close-modal"><i class="material-icons">close</i></span>\r\n            <h2><%= i18n.t("aboutDialog.title")%></h2>\r\n        </div>\r\n        <div class="sd-modal-body">\r\n            <% if ( ["de", "en", "fr", "ga", "it", "nl", "pl"].indexOf(lng) !== -1) { %>\r\n                <%= include(\'about_\'+lng, variables) %>\r\n            <% } else { %>\r\n                <%= include(\'about_en\', variables) %>\r\n            <% } %>\r\n\r\n            <%= include(\'help\', variables) %>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},{}],590:[function(t,e,n){e.exports='<div id="sd-definitions-dialog" class="sd-modal">\n    <div class="sd-modal-content">\n        <div class="sd-modal-header">\n            <span class="sd-close-modal"><i class="material-icons">close</i></span>\n            <h2><%= i18n.t("definitionsDialog.title")%></h2>\n        </div>\n        <div class="sd-modal-body">\n            <div class="definitions-form">\n                <div class="input-group">\n                    <textarea id="sd-definitions-dialog-definitions-code" name="sd-definitions-code"></textarea>\n                    <span class="bar"></span>\n                </div>\n            </div>\n\n            <div class="evaluated-variables-preview">\n                <h3><%= i18n.t(\'definitionsDialog.evaluatedVariables\')%>:</h3>\n                <div id="sd-definitions-dialog-variable-values"></div>\n            </div>\n            <div class="action-buttons">\n                <button id="sd-definitions-dialog-recalculate-button" class="icon-button"  title="<%= i18n.t(\'definitionsDialog.buttons.recalculate\')%>"><i class="material-icons">refresh</i></button>\n            </div>\n        </div>\n    </div>\n</div>\n'},{}],591:[function(t,e,n){e.exports='<table class="sd-evaluated-variables">\n    <% for(i=0; i<scopeVariables.length; ++i) { %>\n    <tr>\n        <td><%= scopeVariables[i].key %></td>\n        <td>=</td>\n        <td><%= scopeVariables[i].value %></td>\n    </tr>\n    <% } %>\n</table>\n'},{}],592:[function(t,e,n){e.exports='<div class="sd-growl-message <%=type%>">\r\n    <div class="sd-growl-message-text">\r\n        <%= message %>\r\n    </div>\r\n</div>\r\n'},{}],593:[function(t,e,n){e.exports='<div>\r\n    <h3><%= i18n.t("help.header")%></h3>\r\n    <p>\r\n        <%= i18n.t("help.mouse.header")%>\r\n        <ul>\r\n            <li><%= i18n.t("help.mouse.list.1")%></li>\r\n            <li><%= i18n.t("help.mouse.list.2")%></li>\r\n            <li><%= i18n.t("help.mouse.list.3")%></li>\r\n        </ul>\r\n    </p>\r\n    <p>\r\n        <%= i18n.t("help.keyboard.header")%>\r\n        <ul>\r\n            <li><%= i18n.t("help.keyboard.list.1")%></li>\r\n            <li><%= i18n.t("help.keyboard.list.2")%></li>\r\n            <li><%= i18n.t("help.keyboard.list.3")%></li>\r\n            <li><%= i18n.t("help.keyboard.list.4")%></li>\r\n            <li><%= i18n.t("help.keyboard.list.5")%></li>\r\n            <li><%= i18n.t("help.keyboard.list.6")%></li>\r\n        </ul>\r\n    </p>\r\n    <p><%= i18n.t("help.docs")%></p>\r\n</div>\r\n'},{}],594:[function(t,e,n){e.exports='<input id="<%= id %>" type="<%= type %>" name="<%= name %>">\r\n<span class="bar"></span>\r\n<label for="<%= id %>"><%= label %></label>\r\n'},{}],595:[function(t,e,n){e.exports='<div class="sd-loading-indicator">\r\n    <div></div>\r\n    <div class="sd-spinner" title="loading..."></div>\r\n</div>\r\n'},{}],596:[function(t,e,n){e.exports='<div id="silver-decisions" tabindex="0">\n    <%= include(\'toolbar\', variables) %>\n    <div id="main-region">\n        <%= include(\'sidebar\', variables) %>\n        <div id="tree-designer-container"></div>\n    </div>\n    <input type="file" style="display:none" id="sd-file-input" accept=".json"/>\n    <%= include(\'settingsDialog\', variables) %>\n    <%= include(\'aboutDialog\', variables) %>\n    <%= include(\'definitionsDialog\', variables) %>\n</div>\n'},{}],597:[function(t,e,n){e.exports='<select id="<%= id %>" name="<%= name %>">\r\n    <% for(i=0; i<options.length; ++i) { %>\r\n    <option value="<%= options[i] %>"><%= options[i] %></option>\r\n    <% } %>\r\n</select>\r\n<span class="bar"></span>\r\n<label for="<%= id %>"><%= label %></label>\r\n'},{}],598:[function(t,e,n){e.exports='<div id="sd-settings-dialog" class="sd-modal">\r\n    <div class="sd-modal-content">\r\n        <div class="sd-modal-header">\r\n            <span class="sd-close-modal"><i class="material-icons">close</i></span>\r\n            <h2><%= i18n.t("settingsDialog.title")%></h2>\r\n        </div>\r\n        <div class="sd-modal-body">\r\n            <form id="sd-settings-form">\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},{}],599:[function(t,e,n){e.exports='<div class="header">\r\n    <h4><%= i18n.t("settingsDialog."+name+".title")%>\r\n        <span class="toggle-button">\r\n            <i class="material-icons icon-arrow-up">keyboard_arrow_up</i>\r\n            <i class="material-icons icon-arrow-down">keyboard_arrow_down</i>\r\n        </span>\r\n    </h4>\r\n</div>\r\n<div class="sd-form-group-content">\r\n    <div class="sd-form-group-inputs"></div>\r\n    <div class="sd-form-group-child-groups"></div>\r\n</div>\r\n'},{}],600:[function(t,e,n){e.exports='<div id="sd-sidebar-definitions">\n    <div class="header">\n        <%= i18n.t("sidebarDefinitions.header")%>\n        <span class="toggle-button">\n            <i class="material-icons icon-arrow-up">keyboard_arrow_up</i>\n            <i class="material-icons icon-arrow-down">keyboard_arrow_down</i>\n        </span>\n    </div>\n    <div class="content">\n        <div class="input-group">\n            <textarea rows="1" id="sd-sidebar-definitions-code" type="text" name="sidebar-definitions-code"></textarea>\n            <span class="bar"></span>\n            <label for="sd-sidebar-definitions-code"><%= i18n.t("sidebarDefinitions.code") %></label>\n        </div>\n        <div class="evaluated-variables-preview">\n            <div class="evaluated-variables-preview-header">\n                <%= i18n.t(\'sidebarDefinitions.evaluatedVariables\')%>\n            </div>\n            <div id="sd-sidebar-definitions-evaluated-values"></div>\n        </div>\n        <div class="sd-action-buttons">\n            <button id="sd-sidebar-definitions-open-dialog-button" class="icon-button"  title="<%= i18n.t(\'sidebarDefinitions.buttons.openDialog\')%>"><i class="material-icons">open_in_new</i></button>\n            <button id="sd-sidebar-definitions-recalculate-button" class="icon-button"  title="<%= i18n.t(\'sidebarDefinitions.buttons.recalculate\')%>"><i class="material-icons">refresh</i></button>\n        </div>\n    </div>\n</div>\n'},{}],601:[function(t,e,n){e.exports='<div id="diagram-details-box">\r\n    <div class="header">\r\n        <%= i18n.t("diagramDetails.header")%>\r\n        <span class="toggle-button">\r\n            <i class="material-icons icon-arrow-up">keyboard_arrow_up</i>\r\n            <i class="material-icons icon-arrow-down">keyboard_arrow_down</i>\r\n        </span>\r\n    </div>\r\n    <div class="content">\r\n        <div class="input-group">\r\n            <input id="diagram-title" type="text" name="diagram-title">\r\n            <span class="bar"></span>\r\n            <label for="diagram-title"><%= i18n.t("diagramDetails.title") %></label>\r\n        </div>\r\n        <div class="input-group">\r\n            <textarea id="diagram-description" name="diagram-description"></textarea>\r\n            <span class="bar"></span>\r\n            <label for="diagram-description"><%= i18n.t("diagramDetails.description") %></label>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},{}],602:[function(t,e,n){e.exports='<div id="layout-options">\r\n    <div class="header">\r\n        <%= i18n.t("layoutOptions.header")%>\r\n        <span class="toggle-button">\r\n            <i class="material-icons icon-arrow-up">keyboard_arrow_up</i>\r\n            <i class="material-icons icon-arrow-down">keyboard_arrow_down</i>\r\n        </span>\r\n    </div>\r\n    <div class="content">\r\n        <div class="input-group">\r\n            <input id="margin-horizontal" name="margin-horizontal" type="range" min="5" max="150" step="5"/>\r\n            <label for="margin-horizontal"><%= i18n.t("layoutOptions.marginHorizontal")%></label>\r\n        </div>\r\n        <div class="input-group">\r\n            <input id="margin-vertical" name="margin-vertical" type="range" min="5" max="150" step="5"/>\r\n            <label for="margin-vertical"><%= i18n.t("layoutOptions.marginVertical")%></label>\r\n        </div>\r\n        <div class="input-group">\r\n            <input id="node-size" name="node-size" type="range" min="20" max="60" step="5"/>\r\n            <label for="node-size"><%= i18n.t("layoutOptions.nodeSize")%></label>\r\n        </div>\r\n        <div class="input-group">\r\n            <input id="edge-slant-width-max" name="edge-slant-width-max" type="range" min="0" max="150" step="5"/>\r\n            <label for="edge-slant-width-max"><%= i18n.t("layoutOptions.edgeSlantWidthMax")%></label>\r\n        </div>\r\n        <div id="auto-layout-options">\r\n            <div class="input-group">\r\n                <input id="grid-width" name="grid-width" type="range" min="105" max="300" step="5"/>\r\n                <label for="grid-width"><%= i18n.t("layoutOptions.gridWidth")%></label>\r\n            </div>\r\n            <div class="input-group">\r\n                <input id="grid-height" name="grid-height" type="range" min="55" max="150" step="5"/>\r\n                <label for="grid-height"><%= i18n.t("layoutOptions.gridHeight")%></label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},{}],603:[function(t,e,n){e.exports='<div id="object-properties">\r\n    <div class="header"></div>\r\n    <div class="content">\r\n        <div class="main-properties"></div>\r\n        <div class="children-properties">\r\n            <div class="children-properties-header"></div>\r\n            <div class="children-properties-content"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},{}],604:[function(t,e,n){e.exports="<div id=\"sd-sidebar\">\n    <div id=\"sd-sidebar-inner\">\n        <%= include('layoutOptions', variables) %>\n        <%= include('diagramDetailsBox', variables) %>\n        <%= include('definitions', variables) %>\n        <%= include('objectProperties', variables) %>\n    </div>\n</div>\n"},{}],605:[function(t,e,n){e.exports='<div id="sd-toolbar">\n    <div class="toolbar-group">\n        <button id="new-diagram-button" class="icon-button" title="<%= i18n.t(\'toolbar.newDiagram\')%>"><i class="material-icons">insert_drive_file</i></button>\n        <button id="open-diagram-button" class="icon-button" title="<%= i18n.t(\'toolbar.openDiagram\')%>"><i class="material-icons">folder_open</i></button>\n        <button id="save-diagram-button" class="icon-button" title="<%= i18n.t(\'toolbar.saveDiagram\')%>"><i class="material-icons">save</i></button>\n    </div>\n    <div id="export-toolbar-group" class="toolbar-group">\n        <label><%= i18n.t("toolbar.export.label")%></label>\n        <button id="saveButton"><%= i18n.t("toolbar.export.png")%></button>\n        <button id="saveButtonSvg"><%= i18n.t("toolbar.export.svg")%></button>\n        <button id="saveButtonPdf"><%= i18n.t("toolbar.export.pdf")%></button>\n    </div>\n    <div class="toolbar-group">\n        <label><%= i18n.t("toolbar.layout.label")%></label>\n        <button id="manualLayoutButton"><%= i18n.t("toolbar.layout.manual")%></button>\n        <button id="treeAutoLayoutButton"><%= i18n.t("toolbar.layout.tree")%></button>\n        <button id="clusterAutoLayoutButton"><%= i18n.t("toolbar.layout.cluster")%></button>\n    </div>\n    <div id="objective-rule-toolbar-group" class="toolbar-group">\n        <label for="objective-rule-select"><%= i18n.t("toolbar.objectiveRule.label")%></label>\n        <div class="input-group no-floating-label" style="display: inline-block">\n            <select id="objective-rule-select"></select>\n            <span class="bar"></span>\n        </div>\n    </div>\n    <div class="toolbar-group">\n        <button id="undoButton" class="icon-button" disabled="disabled" title="<%= i18n.t(\'toolbar.undo\')%>"><i class="material-icons">undo</i></button>\n        <button id="redoButton" class="icon-button" disabled="disabled" title="<%= i18n.t(\'toolbar.redo\')%>"><i class="material-icons">redo</i></button>\n    </div>\n    <div class="toolbar-group">\n        <button id="recompute-button" class="icon-button" title="<%= i18n.t(\'toolbar.recompute\')%>"><i class="material-icons">refresh</i></button>\n        <button id="settings-button" class="icon-button" title="<%= i18n.t(\'toolbar.settings\')%>"><i class="material-icons">settings</i></button>\n        <button id="about-button" class="icon-button" title="<%= i18n.t(\'toolbar.about\')%>"><i class="material-icons">info_outline</i></button>\n    </div>\n</div>\n'},{}],606:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Toolbar=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=(r(a),t("./i18n/i18n")),u=t("./utils"),c=t("./model/index"),l=(r(c),t("./exporter")),f=t("./file-loader");n.Toolbar=function(){function t(e,n){i(this,t),this.hiddenClass="sd-hidden",this.app=n,this.container=e,this.initDiagramButtons(),this.initExportToolbarGroup(),this.initLayoutButtons(),this.initUndoRedoButtons(),this.initSettingsButton(),this.initAboutButton(),this.initRecomputeButton(),this.initObjectiveRuleToolbarGroup()}return o(t,[{key:"initDiagramButtons",value:function(){var t=this;this.newDiagramButton=this.container.select("#new-diagram-button").on("click",function(){confirm(s.i18n.t("confirm.newDiagram"))&&t.app.newDiagram()}),this.newDiagramButton.classed(this.hiddenClass,!this.app.config.buttons["new"]),this.openDiagramButton=this.container.select("#open-diagram-button").on("click",function(){confirm(s.i18n.t("confirm.openDiagram"))&&f.FileLoader.openFile(function(e){t.app.openDiagram(e)})}),this.openDiagramButton.classed(this.hiddenClass,!this.app.config.buttons.open),this.saveDiagramButton=this.container.select("#save-diagram-button").on("click",function(){var e=t.app.serialize();if(u.Utils.dispatchEvent("SilverDecisionsSaveEvent",e),t.app.config.jsonFileDownload){var n=new Blob([e],{type:"application/json"});l.Exporter.saveAs(n,l.Exporter.getExportFileName("json"))}}),this.saveDiagramButton.classed(this.hiddenClass,!this.app.config.buttons.save)}},{key:"initLayoutButtons",value:function(){var t=this;t.app.treeDesigner.layout.onAutoLayoutChanged.push(function(e){return t.onLayoutChanged(e)}),this.layoutButtons={},this.layoutButtons.manual=this.container.select("#manualLayoutButton").on("click",function(){"manual"!=t.app.treeDesigner.config.layout.type&&t.app.treeDesigner.layout.disableAutoLayout()}),this.layoutButtons.tree=this.container.select("#treeAutoLayoutButton").on("click",function(){"tree"!=t.app.treeDesigner.config.layout.type&&t.app.treeDesigner.autoLayout("tree")}),this.layoutButtons.cluster=this.container.select("#clusterAutoLayoutButton").on("click",function(){"cluster"!=t.app.treeDesigner.config.layout.type&&t.app.treeDesigner.autoLayout("cluster")}),this.updateLayoutButtons()}},{key:"updateLayoutButtons",value:function(){this.onLayoutChanged(this.app.treeDesigner.config.layout.type)}},{key:"initSettingsButton",value:function(){var t=this;this.settingsButton=this.container.select("#settings-button").on("click",function(){t.app.settingsDialog.open()})}},{key:"initAboutButton",value:function(){var t=this;this.aboutButton=this.container.select("#about-button").on("click",function(){t.app.aboutDialog.open()})}},{key:"initRecomputeButton",value:function(){var t=this;this.recomputeButton=this.container.select("#recompute-button").on("click",function(){t.app.recompute()})}},{key:"onLayoutChanged",value:function(t){var e=this;Object.getOwnPropertyNames(this.layoutButtons).forEach(function(t){e.layoutButtons[t].classed("active",!1)});var n=this.layoutButtons[t];n&&n.classed("active",!0)}},{key:"initUndoRedoButtons",value:function(){var t=this,e=this;e.app.dataModel.undoRedoStateChangedCallback=function(){return t.onUndoRedoChanged()},this.undoButton=this.container.select("#undoButton").on("click",function(){e.app.undo()}),this.redoButton=this.container.select("#redoButton").on("click",function(){e.app.redo()})}},{key:"onUndoRedoChanged",value:function(){this.updateUndoRedoButtons()}},{key:"updateUndoRedoButtons",value:function(){this.undoButton.attr("disabled",this.app.dataModel.isUndoAvailable()?null:"disabled"),this.redoButton.attr("disabled",this.app.dataModel.isRedoAvailable()?null:"disabled")}},{key:"update",value:function(){this.updateUndoRedoButtons(),this.updateLayoutButtons(),this.updateObjectiveRuleValue()}},{key:"initExportToolbarGroup",value:function(){this.container.select("#export-toolbar-group").classed(this.hiddenClass,!this.app.config.exports.show),this.app.config.exports.show&&(this.initExportToPngButton(),this.initExportSvgButton(),this.initExportPdfButton())}},{key:"initExportToPngButton",value:function(){var t=this,e=this.app.treeDesigner.svg;this.container.select("#saveButton").on("click",function(){return l.Exporter.saveAsPng(e,t.app.config.exports)}).classed(this.hiddenClass,!this.app.config.buttons.exportToPng)}},{key:"initExportSvgButton",value:function(){var t=this.app.treeDesigner.svg;this.container.select("#saveButtonSvg").on("click",function(){return l.Exporter.saveAsSvg(t)}).classed(this.hiddenClass,!this.app.config.buttons.exportToSvg)}},{key:"initExportPdfButton",value:function(){var t=this,e=this.app.treeDesigner.svg;this.container.select("#saveButtonPdf").on("click",function(){return l.Exporter.saveAsPdf(e,t.app.config.exports)}).classed(this.hiddenClass,!this.app.config.buttons.exportToPdf)}},{key:"initObjectiveRuleToolbarGroup",value:function(){var t=this;this.objectiveRuleSelect=this.container.select("#objective-rule-select");var e=this.app.objectiveRulesManager.rules,n=this.objectiveRuleSelect.selectAll("option").data(e);n.enter().append("option").merge(n).attr("value",function(t){return t.name}).text(function(t){return s.i18n.t("toolbar.objectiveRule.options."+t.name)}),this.updateObjectiveRuleValue(),this.objectiveRuleSelect.on("change",function(){t.app.setObjectiveRule(this.value)})}},{key:"updateObjectiveRuleValue",value:function(){this.objectiveRuleSelect.node().value=this.app.objectiveRulesManager.currentRule.name;
}}]),t}()},{"./d3":547,"./exporter":551,"./file-loader":553,"./i18n/i18n":558,"./model/index":566,"./utils":618}],607:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Tooltip=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./d3"),s=r(a),u=(t("./i18n/i18n"),t("./utils"));n.Tooltip=function(){function t(){i(this,t)}return o(t,null,[{key:"show",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28,i=s.select("body").selectOrAppend("div.sd-tooltip").style("opacity",0);i.transition().duration(200).style("opacity",.98),i.html(e),t.updatePosition(n,r)}},{key:"updatePosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28;s.select("body").selectOrAppend("div.sd-tooltip").style("left",s.event.pageX+t+"px").style("top",s.event.pageY-e+"px")}},{key:"hide",value:function(){s.select("div.sd-tooltip").transition().duration(500).style("opacity",0)}},{key:"attach",value:function(e,n,r,i){e.on("mouseover",function(e){var o=null;o=u.Utils.isFunction(n)?n(e):n,null!==o&&void 0!==o&&t.show(o,r,i)}).on("mousemove",function(e){t.updatePosition(r,i)}).on("mouseout",function(e){t.hide()})}}]),t}()},{"./d3":547,"./i18n/i18n":558,"./utils":618}],608:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.EdgeContextMenu=void 0;var s=t("../context-menu"),u=(t("../utils"),t("../model/index")),c=(r(u),t("../d3")),l=(r(c),t("../i18n/i18n"));n.EdgeContextMenu=function(t){function e(t){i(this,e);var n=function a(e){var a=[];return a.push({title:l.i18n.t("contextMenu.edge.injectDecisionNode"),action:function(e,n,r){t.injectDecisionNode(n)}}),a.push({title:l.i18n.t("contextMenu.edge.injectChanceNode"),action:function(e,n,r){t.injectChanceNode(n)}}),a},r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.treeDesigner=t,r}return a(e,t),e}(s.ContextMenu)},{"../context-menu":545,"../d3":547,"../i18n/i18n":558,"../model/index":566,"../utils":618}],609:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Layout=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(t("../utils"),t("../model/index")),u=i(s),c=t("../d3"),l=i(c),f=t("lodash"),p=i(f),h=t("./symbols/circle"),d=r(h),m=t("./symbols/triangle"),g=r(m),y=n.Layout=function(){function t(e,n,r){o(this,t),this.nodeTypeToSymbol={decision:l.symbolSquare,chance:d["default"],terminal:g["default"]},this.onAutoLayoutChanged=[],this.nodeTypeOrder={decision:0,chance:0,terminal:1},this.treeMargin=50,this.targetSymbolSize={},this.nodeSeparation=function(t,e){return t.parent==e.parent?1:1.2},this.treeDesigner=e,this.data=n,this.config=r}return a(t,[{key:"update",value:function(t){return t&&t.$parent&&t.$parent.childEdges.sort(function(t,e){return t.childNode.location.y-e.childNode.location.y}),this.isManualLayout()?void(t&&this.moveNodeToEmptyPlace(t)):this.autoLayout(this.config.type,!0)}},{key:"isManualLayout",value:function(){return this.config.type==t.MANUAL_LAYOUT_NAME}},{key:"getNewChildLocation",value:function(t){var e=t.location.x+this.config.gridWidth,n=t.location.y;return t.childEdges.length&&(n=t.childEdges[t.childEdges.length-1].childNode.location.y+1),new u.Point(e,n)}},{key:"getInjectedNodeLocation",value:function(t){var e=t.$linePoints[2];return new u.Point(e[0],e[1])}},{key:"moveNodeToEmptyPlace",value:function(t){function e(t,e){return p.find(n.nodesSortedByX,function(r){if(t==r)return!1;var i=n.config.nodeSize/3,o=r.location.x,a=r.location.y;return e.x-i<=o&&e.x+i>=o&&e.y-i<=a&&e.y+i>=a})}var n=this;t.location.x=Math.max(this.getNodeMinX(t),t.location.x),t.location.y=Math.max(this.getNodeMinY(t),t.location.y),this.nodesSortedByX=this.data.nodes.slice(),this.nodesSortedByX.sort(function(t,e){return t.location.x-e.location.x});for(var r,i=this.config.nodeSize/2,o=this.config.nodeSize+10,a=0,s=75,c=!1,l=new u.Point(t.location);r=e(t,l);){c=!0;var f=t.$parent&&r.$parent&&t.$parent==r.$parent;f?l.move(a,s):l.move(i,o)}c&&(t.moveTo(l.x,l.y,!0),this.treeDesigner.redraw(!0))}},{key:"disableAutoLayout",value:function(){this.config.type=t.MANUAL_LAYOUT_NAME,this._fireOnAutoLayoutChangedCallbacks()}},{key:"drawNodeSymbol",value:function(t,e){var n=this,r=this.config.nodeSize;this.nodeSymbol=l.symbol().type(function(t){return n.nodeTypeToSymbol[t.type]}).size(function(t){return t.$symolSize?p.get(n.targetSymbolSize,t.type+"['"+n.config.nodeSize+"']",64):64}),t.each(function(t){var i=l.select(this),o=i.attr("d");o||i.attr("d",n.nodeSymbol);var a=p.get(n.targetSymbolSize,t.type+"['"+n.config.nodeSize+"']");if(!a){var s=i.node().getBBox(),u=Math.min(r/s.width,r/s.height);a=u*u*(t.$symolSize||64),p.set(n.targetSymbolSize,t.type+"['"+n.config.nodeSize+"']",a)}e&&(i=i.transition()),i.attr("d",n.nodeSymbol),t.$symolSize=a})}},{key:"nodeLabelPosition",value:function(t){return t.attr("x",0).attr("y",-this.config.nodeSize/2-7)}},{key:"nodePayoffPosition",value:function(e){return t.setHangingPosition(e).attr("x",0).attr("y",this.config.nodeSize/2+7).attr("text-anchor","middle")}},{key:"nodeAggregatedPayoffPosition",value:function(e){var n=12;return t.setHangingPosition(e).attr("x",this.config.nodeSize/2+7).attr("y",-Math.max(n+5,this.config.nodeSize/2)+5)}},{key:"nodeProbabilityToEnterPosition",value:function(t){var e=12;return t.attr("x",this.config.nodeSize/2+7).attr("y",Math.max(e+5,this.config.nodeSize/2)-5)}},{key:"nodeIndicatorPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+8).attr("y",-this.config.nodeSize/2).attr("dominant-baseline","central").attr("text-anchor","middle")}},{key:"edgeLineD",value:function(t){var e=l.line().x(function(t){return t[0]}).y(function(t){return t[1]}),n=t.parentNode,r=t.childNode,i=r.location.x-n.location.x,o=(r.location.y-n.location.y,i>=0?1:-1),a=Math.min(i/2,this.config.nodeSize/2+10),s=Math.min(this.config.edgeSlantWidthMax,Math.max(i/2-a,0)),u=[n.location.x+this.config.nodeSize/2+1,n.location.y],c=[Math.max(n.location.x+a,u[0]),n.location.y],f=[n.location.x+a+s,r.location.y],p=[r.location.x-o*Math.max(0,Math.min(this.config.nodeSize/2+8,i/2)),r.location.y];return t.$linePoints=[u,c,f,p],e(t.$linePoints)}},{key:"edgePayoffPosition",value:function(e){return t.setHangingPosition(e).attr("x",function(t){return t.$linePoints[2][0]+2}).attr("y",function(t){return t.$linePoints[2][1]+7})}},{key:"edgeLabelPosition",value:function(t){return t.attr("transform",function(t){return"translate("+(t.$linePoints[2][0]+2)+","+(t.$linePoints[2][1]-7)+")"})}},{key:"edgeProbabilityPosition",value:function(e){return t.setHangingPosition(e).attr("x",function(t){var e=l.select(this).node().getComputedTextLength(),n=t.$linePoints[2][0]+2+l.select(this.previousSibling).node().getBBox().width+7+e;return Math.max(n,t.$linePoints[3][0]-8)}).attr("y",function(t){return t.$linePoints[2][1]+7})}},{key:"getMinMarginBetweenNodes",value:function(){return this.config.nodeSize+30}},{key:"getNodeMinX",value:function(t){var e=this;return t&&t.$parent?t.$parent.location.x+e.getMinMarginBetweenNodes():e.config.nodeSize/2}},{key:"getNodeMinY",value:function(t){return this.config.nodeSize/2}},{key:"getNodeMaxX",value:function(t){var e=this;return t&&t.childEdges.length?l.min(t.childEdges,function(t){return t.childNode.location.x})-e.getMinMarginBetweenNodes():9999999}},{key:"setGridWidth",value:function(t,e){var n=this;this.config.gridWidth!=t&&(e||this.data.saveState({data:{gridWidth:n.config.gridWidth},onUndo:function(t){n.setGridWidth(t.gridWidth,!0)},onRedo:function(e){n.setGridWidth(t,!0)}}),this.config.gridWidth=t,this.update())}},{key:"setGridHeight",value:function(t,e){var n=this;this.config.gridHeight!=t&&(e||this.data.saveState({data:{gridHeight:n.config.gridHeight},onUndo:function(t){n.setGridHeight(t.gridHeight,!0)},onRedo:function(e){n.setGridHeight(t,!0)}}),this.config.gridHeight=t,this.update())}},{key:"setNodeSize",value:function(t,e){var n=this;this.config.nodeSize!=t&&(e||this.data.saveState({data:{nodeSize:n.config.nodeSize},onUndo:function(t){n.setNodeSize(t.nodeSize,!0)},onRedo:function(e){n.setNodeSize(t,!0)}}),this.config.nodeSize=t,this.update(),this.isManualLayout()&&(this.fitNodesInPlottingRegion(n.data.getRoots()),this.treeDesigner.redraw(!0)))}},{key:"setEdgeSlantWidthMax",value:function(t,e){var n=this;this.config.edgeSlantWidthMax!=t&&(e||this.data.saveState({data:{edgeSlantWidthMax:n.config.edgeSlantWidthMax},onUndo:function(t){n.setEdgeSlantWidthMax(t.edgeSlantWidthMax,!0)},onRedo:function(e){n.setEdgeSlantWidthMax(t,!0)}}),this.config.edgeSlantWidthMax=t,this.treeDesigner.redraw(!0))}},{key:"autoLayout",value:function(t,e){var n=this;if(e||this.data.saveState({data:{newLayout:t,currentLayout:n.config.type},onUndo:function(t){n.config.type=t.currentLayout,n._fireOnAutoLayoutChangedCallbacks()},onRedo:function(t){n.autoLayout(t.newLayout,!0)}}),this.config.type=t,!this.data.nodes.length)return void this._fireOnAutoLayoutChangedCallbacks();var r=n.getNodeMinY();return this.data.getRoots().forEach(function(e){var i=l.hierarchy(e,function(t){return t.childEdges.map(function(t){return t.childNode})});i.sort(function(t,e){return t.data.location.y-e.data.location.y});var o;o="cluster"==t?l.cluster():l.tree(),o.nodeSize([n.config.gridHeight,n.config.gridWidth]),o.separation(n.nodeSeparation),o(i);var a=999999999;i.each(function(t){a=Math.min(a,t.x)});var s=i.x-a+r,u=n.getNodeMinX(),c=0;i.each(function(t){t.data.location.x=t.y+u,t.data.location.y=t.x+s,c=Math.max(c,t.data.location.y)}),r=c+n.config.nodeSize+n.treeMargin}),this.treeDesigner.redraw(!0),this._fireOnAutoLayoutChangedCallbacks(),this}},{key:"fitNodesInPlottingRegion",value:function(t){var e=this,n=l.min(t,function(t){return t.location.y}),r=e.getNodeMinY(),i=n-r,o=l.min(t,function(t){return t.location.x}),a=o-e.getNodeMinX();(i<0||a<0)&&t.forEach(function(t){return t.move(-a,-i)})}},{key:"moveNodes",value:function(e,n,r,i){var o=this,a=o.config.limitNodePositioning;a&&(n<0?e.sort(function(t,e){return t.location.x-e.location.x}):e.sort(function(t,e){return e.location.x-t.location.x}));var s=l.min(e,function(t){return t.location.y});s+r<o.getNodeMinY()&&(r=o.getNodeMinY()-s),e.forEach(function(e){if(a){t.backupNodeLocation(e);var i=o.getNodeMinX(e),s=o.getNodeMaxX(e);e.location.x=Math.min(Math.max(e.location.x+n,i),s),e.location.y+=r}else e.location.x+=n,e.location.y+=r});var u=i&&o.config.limitNodePositioning&&i.location.x==i.$location.x;e.forEach(function(t){u&&(t.location.x=t.$location.x),o.treeDesigner.updateNodePosition(t)})}},{key:"_fireOnAutoLayoutChangedCallbacks",value:function(){var t=this;this.onAutoLayoutChanged.forEach(function(e){return e(t.config.type)})}}],[{key:"backupNodeLocation",value:function(t){t.$location=new u.Point(t.location)}},{key:"setHangingPosition",value:function(t){return t.each(function(){this.getBBox().height;l.select(this).attr("dy","0.75em")}),t}}]),t}();y.MANUAL_LAYOUT_NAME="manual"},{"../d3":547,"../model/index":566,"../utils":618,"./symbols/circle":613,"./symbols/triangle":614,lodash:42}],610:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.MainContextMenu=void 0;var s=t("../context-menu"),u=(t("../utils"),t("../model/index")),c=r(u),l=t("../d3"),f=r(l),p=t("../i18n/i18n");n.MainContextMenu=function(t){function e(t){i(this,e);var n=null,r=function s(e){var s=[];return s.push({title:p.i18n.t("contextMenu.main.addDecisionNode"),action:function(e,r,i){var o=new c.DecisionNode(n);t.addNode(o)}}),s.push({title:p.i18n.t("contextMenu.main.addChanceNode"),action:function(e,r,i){var o=new c.ChanceNode(n);t.addNode(o)}}),s.push({divider:!0}),s.push({title:p.i18n.t("contextMenu.main.addText"),action:function(e,r,i){var o=new c.Text(n);t.addText(o)}}),s.push({divider:!0}),s.push({title:p.i18n.t("contextMenu.main.paste"),action:function(e,r,i){t.pasteToNewLocation(n)},disabled:!t.copiedNodes||!t.copiedNodes.length}),s.push({divider:!0}),s.push({title:p.i18n.t("contextMenu.main.selectAllNodes"),action:function(e,n,r){t.selectAllNodes()}}),s},a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,{onOpen:function(){t.clearSelection(),n=new c.Point(f.mouse(t.svg.node())).move(t.getMainGroupTranslation(!0))}}));return a.treeDesigner=t,a}return a(e,t),e}(s.ContextMenu)},{"../context-menu":545,"../d3":547,"../i18n/i18n":558,"../model/index":566,"../utils":618}],611:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.NodeContextMenu=void 0;var s=t("../context-menu"),u=(t("../utils"),t("../model/index")),c=r(u),l=t("../d3"),f=(r(l),t("../i18n/i18n"));n.NodeContextMenu=function(t){function e(t){i(this,e);var n=function a(e){var n={title:f.i18n.t("contextMenu.node.copy"),action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.copySelectedNodes()}},r={title:f.i18n.t("contextMenu.node.cut"),action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.cutSelectedNodes()}},i={title:f.i18n.t("contextMenu.node.paste"),action:function(e,n,r){t.pasteToNode(n)},disabled:!t.copiedNodes||!t.copiedNodes.length},o={title:f.i18n.t("contextMenu.node.delete"),action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.removeSelectedNodes()}},a=[];return"terminal"==e.type?[n,r,o]:(a.push({title:f.i18n.t("contextMenu.node.addDecisionNode"),action:function(e,n,r){t.addDecisionNode(n)}}),a.push({title:f.i18n.t("contextMenu.node.addChanceNode"),action:function(e,n,r){t.addChanceNode(n)}}),a.push({title:f.i18n.t("contextMenu.node.addTerminalNode"),action:function(e,n,r){t.addTerminalNode(n)}}),a.push({divider:!0}),a.push(n),a.push(r),a.push(i),a.push(o),a.push({divider:!0}),a.push({title:f.i18n.t("contextMenu.node.selectSubtree"),action:function(e,n,r){t.selectSubTree(n,!0)}}),e instanceof c.ChanceNode&&(a.push({divider:!0}),a.push({title:f.i18n.t("contextMenu.node.flipSubtree"),action:function(e,n,r){t.flipSubTree(n)},disabled:!t.canFlipSubTree(e)})),a)},r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.treeDesigner=t,r}return a(e,t),e}(s.ContextMenu)},{"../context-menu":545,"../d3":547,"../i18n/i18n":558,"../model/index":566,"../utils":618}],612:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.NodeDragHandler=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("../utils"),s=t("../model/index"),u=(r(s),t("../d3")),c=r(u),l=t("../context-menu");n.NodeDragHandler=function(){function t(e,n){i(this,t),this.treeDesigner=e,this.data=n;var r=this;this.drag=c.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=c.select(this);return{x:e.attr("x")+a.Utils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+a.Utils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){r.dragStarted.call(this,t,r)}).on("drag",function(t){r.onDrag.call(this,t,r)}).on("end",function(t){r.dragEnded.call(this,t,r)})}return o(t,[{key:"dragStarted",value:function(t,e){if(e.ignoreDrag)return e.ignoreDrag=!1,void(e.ignoredDrag=!0);e.ignoredDrag=!1,l.ContextMenu.hide();var n=c.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectNode(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(),e.prevDragEvent=c.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){if(!(e.ignoredDrag||(2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++,e.selectedNodes.length>5&&e.dragEventCount%2!=1))){var n=c.event.x-e.prevDragEvent.x,r=c.event.y-e.prevDragEvent.y;e.treeDesigner.layout.moveNodes(e.selectedNodes,n,r,t),e.prevDragEvent=c.event,e.treeDesigner.redrawEdges(),e.treeDesigner.updatePlottingRegionSize()}}},{key:"dragEnded",value:function(t,e){c.select(this).classed("dragging",!1);e.ignoredDrag||e.treeDesigner.layout.update(t)}},{key:"cancelDrag",value:function(){this.ignoreDrag=!0}}]),t}()},{"../context-menu":545,"../d3":547,"../model/index":566,"../utils":618}],613:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Math.PI;n["default"]={draw:function(t,e){var n=Math.sqrt(e/r),i=.552284749831*n;t.moveTo(-n,0),t.bezierCurveTo(-n,-i,-i,-n,0,-n),t.bezierCurveTo(i,-n,n,-i,n,0),t.bezierCurveTo(n,i,i,n,0,n),t.bezierCurveTo(-i,n,-n,i,-n,0)}}},{}],614:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});Math.sqrt(3);n["default"]={draw:function(t,e){var n=Math.sqrt(e/Math.PI);t.moveTo(-n,0),t.lineTo(.9*n,-n),t.lineTo(.9*n,n),t.closePath()}}},{}],615:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TextContextMenu=void 0;var s=t("../context-menu"),u=(t("../utils"),t("../model/index")),c=(r(u),t("../d3")),l=(r(c),t("../i18n/i18n"));n.TextContextMenu=function(t){function e(t){i(this,e);var n=function a(e){var n={title:l.i18n.t("contextMenu.text.delete"),action:function(e,n,r){t.selectText(n,!0,!0),t.removeSelectedTexts()}},a=[];return a.push(n),a},r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.treeDesigner=t,r}return a(e,t),e}(s.ContextMenu)},{"../context-menu":545,"../d3":547,"../i18n/i18n":558,"../model/index":566,"../utils":618}],616:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TextDragHandler=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("../utils"),s=t("../model/index"),u=(r(s),t("../d3")),c=r(u),l=t("../context-menu");n.TextDragHandler=function(){function t(e,n){i(this,t),this.treeDesigner=e,this.data=n;var r=this;this.drag=c.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=c.select(this);return{x:e.attr("x")+a.Utils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+a.Utils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){r.dragStarted.call(this,t,r)}).on("drag",function(t){r.onDrag.call(this,t,r)}).on("end",function(t){r.dragEnded.call(this,t,r)})}return o(t,[{key:"dragStarted",value:function(t,e){l.ContextMenu.hide();var n=c.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectText(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(),e.prevDragEvent=c.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++;var n=c.event.x-e.prevDragEvent.x,r=c.event.y-e.prevDragEvent.y;t.location.move(n,r),e.treeDesigner.updateTextPosition(t),e.prevDragEvent=c.event,e.treeDesigner.updatePlottingRegionSize()}},{key:"dragEnded",value:function(t,e){c.select(this).classed("dragging",!1)}}]),t}()},{"../context-menu":545,"../d3":547,"../model/index":566,"../utils":618}],617:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TreeDesigner=n.TreeDesignerConfig=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("../d3"),s=r(a),u=t("../utils"),c=t("../model/index"),l=r(c),f=t("../context-menu"),p=t("./main-context-menu"),h=t("./node-context-menu"),d=t("./layout"),m=t("./node-drag-handler"),g=t("../tooltip"),y=t("../validation/validation-result"),v=t("lodash"),b=r(v),x=t("../templates"),w=t("./text-drag-handler"),_=t("./text-context-menu"),N=t("./edge-context-menu"),E=t("hammerjs"),M=r(E),S=t("../i18n/i18n"),O=n.TreeDesignerConfig=function k(t){i(this,k),this.width=void 0,this.height=void 0,this.margin={left:25,right:25,top:25,bottom:25},this.layout={type:"tree",nodeSize:40,limitNodePositioning:!0,gridHeight:75,gridWidth:150,edgeSlantWidthMax:20},this.fontFamily="sans-serif",this.fontSize="12px",this.fontWeight="normal",this.fontStyle="normal",this.node={strokeWidth:"1px",optimal:{stroke:"#006f00",strokeWidth:"1.5px"},label:{fontSize:"1em",color:"black"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"},decision:{fill:"#ff7777",stroke:"#660000",selected:{fill:"#aa3333"}},chance:{fill:"#ffff44",stroke:"#666600",selected:{fill:"#aaaa00"}},terminal:{fill:"#44ff44",stroke:"black",selected:{fill:"#00aa00"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}}},this.edge={stroke:"#424242",strokeWidth:"1.5",optimal:{stroke:"#006f00",strokeWidth:"2.4"},selected:{stroke:"#045ad1",strokeWidth:"3.5"},label:{fontSize:"1em",color:"back"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}},this.probability={fontSize:"1em",color:"#0000d7"},this.title={fontSize:"16px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:15,bottom:10}},this.description={show:!0,fontSize:"12px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:5,bottom:10}},this.$readOnly=!1,this.disableAnimations=!1,this.forceFullEdgeRedraw=!1,this.payoffNumberFormatter=function(t){return t},this.probabilityNumberFormatter=function(t){return t},this.onNodeSelected=function(t){},this.onEdgeSelected=function(t){},this.onTextSelected=function(t){},this.onSelectionCleared=function(){},t&&u.Utils.deepExtend(this,t)};n.TreeDesigner=function(){function t(e,n,r){i(this,t),this.setConfig(r),this.data=n,this.initContainer(e),this.init()}return o(t,[{key:"setConfig",value:function(t){return this.config=new O(t),this.layout&&(this.layout.config=this.config.layout),this.updateCustomStyles(),this}},{key:"setRuleName",value:function(t){this.config.$rule=t}},{key:"init",value:function(){this.initSvg(),this.initLayout(),this.initBrush(),this.initEdgeMarkers(),this.updateCustomStyles(),this.config.$readOnly||(this.initMainContextMenu(),this.initNodeContextMenu(),this.initEdgeContextMenu(),this.initNodeDragHandler(),this.initTextDragHandler(),this.initTextContextMenu()),this.redraw()}},{key:"updateCustomStyles",value:function(){return s.select("head").selectOrAppend("style#sd-tree-designer-style").html(x.Templates.get("treeDesignerStyles",this.config)),this}},{key:"initLayout",value:function(){this.layout=new d.Layout(this,this.data,this.config.layout)}},{key:"initNodeDragHandler",value:function(){this.nodeDragHandler=new m.NodeDragHandler(this,this.data)}},{key:"initTextDragHandler",value:function(){this.textDragHandler=new w.TextDragHandler(this,this.data)}},{key:"redraw",value:function(t){var e=this;return t=!e.config.disableAnimations&&t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(t),t&&(e.transitionPrev=e.transition,e.transition=!0),this.redrawNodes(),this.redrawEdges(),this.redrawFloatingTexts(),t&&(e.transition=e.transitionPrev),setTimeout(function(){e.updatePlottingRegionSize()},10),this}},{key:"computeAvailableSpace",value:function(){this.availableHeight=u.Utils.sanitizeHeight(this.config.height,this.container,this.config.margin),this.availableWidth=u.Utils.sanitizeWidth(this.config.width,this.container,this.config.margin)}},{key:"initSvg",value:function(){var t=this;this.computeAvailableSpace(),this.svg=this.container.selectOrAppend("svg.tree-designer"),this.svg.attr("width",this.availableWidth).attr("height",this.availableHeight),this.mainGroup=this.svg.selectOrAppend("g.main-group"),this.updateMargin(),this.config.width||s.select(window).on("resize.tree-designer",function(){t.updatePlottingRegionSize(),t.redrawDiagramTitle()});var e=new M.Manager(this.svg.node(),{touchAction:"auto"});e.add(new M.Press({pointerType:"touch"})),e.add(new M.Pinch({pointerType:"touch"}));var n;e.on("pinchstart",function(){t.disableBrush()}),e.on("pinch",function(){n=u.Utils.waitForFinalEvent(function(){return t.enableBrush()},"pinchend",5e3)})}},{key:"updateMargin",value:function(t){var e=this,n=this.config.margin,r=this.mainGroup;t&&(r=r.transition()),this.topMargin=n.top,(this.diagramTitle||this.diagramDescription)&&(this.topMargin=parseInt(this.diagramTitle?this.config.title.margin.top:0)+this.getTitleGroupHeight()+Math.max(this.topMargin,parseInt(this.config.title.margin.bottom))),r.attr("transform","translate("+n.left+","+this.topMargin+")").on("end",function(){return e.updatePlottingRegionSize()})}},{key:"setMargin",value:function(t,e){var n=this;e||this.data.saveState({data:{margin:b.clone(n.config.margin)},onUndo:function(t){n.setMargin(t.margin,!0)},onRedo:function(e){n.setMargin(t,!0)}}),u.Utils.deepExtend(this.config.margin,t),this.redrawDiagramTitle(),this.updateMargin(!0)}},{key:"initContainer",value:function(t){this.container=t}},{key:"updatePlottingRegionSize",value:function(){var t=!1;this.computeAvailableSpace();var e=this.config.margin,n=this.svg.attr("width"),r=this.svg.attr("height"),i=this.mainGroup.node().getBBox(),o=i.width+i.x+e.left+e.right;this.container.classed("with-overflow-x",o>=this.availableWidth),o=Math.max(o,this.availableWidth),n!=o&&(t=!0,this.svg.attr("width",o));var a=i.height+i.y+this.topMargin+e.bottom;this.container.classed("with-overflow-y",a>=this.availableHeight),a=Math.max(a,this.availableHeight),r!=a&&(t=!0,this.svg.attr("height",a)),t&&this.updateBrushExtent()}},{key:"redrawNodes",value:function(){var t=this,e=this.mainGroup.selectOrAppend("g.nodes"),n=e.selectAll(".node").data(this.data.nodes,function(t,e){return t.$id});n.exit().remove();var r=n.enter().append("g").attr("id",function(t){return"node-"+t.$id}).attr("class",function(t){return t.type+"-node node"}).attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});r.append("path");var i=r.append("text").attr("class","label"),o=r.append("text").attr("class","payoff computed"),a=r.append("text").attr("class","error-indicator").text("!!"),s=r.append("text").attr("class","aggregated-payoff"),u=r.append("text").attr("class","probability-to-enter"),c=r.merge(n);c.classed("optimal",function(e){return t.isOptimal(e)});var l=c;this.transition&&(l=c.transition(),l.on("end",function(){return t.updatePlottingRegionSize()})),l.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var f=c.select("path");this.layout.drawNodeSymbol(f,this.transition),this.layout.nodeLabelPosition(i),l.select("text.label").each(this.updateTextLines),this.layout.nodeLabelPosition(l.select("text.label")).attr("text-anchor","middle");var p=this.config.$rule,h=c.select("text.payoff").classed("negative",function(t){var e=t.computedValue(p,"childrenPayoff");return null!==e&&e<0}).text(function(e){var n=e.computedValue(p,"childrenPayoff");return null===n||isNaN(n)?"":t.config.payoffNumberFormatter(n)});g.Tooltip.attach(h,function(t){return S.i18n.t("tooltip.node.payoff",{value:t.payoff})});var d=h;this.transition&&(d=h.transition()),this.layout.nodePayoffPosition(o),this.layout.nodePayoffPosition(d);var m=c.select("text.aggregated-payoff").classed("negative",function(t){var e=t.computedValue(p,"aggregatedPayoff");return null!==e&&e<0}).text(function(e){var n=e.computedValue(p,"aggregatedPayoff");return null===n||isNaN(n)?"":t.config.payoffNumberFormatter(n)});g.Tooltip.attach(m,S.i18n.t("tooltip.node.aggregatedPayoff"));var y=m;this.transition&&(y=m.transition()),this.layout.nodeAggregatedPayoffPosition(s),this.layout.nodeAggregatedPayoffPosition(y);
var v=c.select("text.probability-to-enter").text(function(e){var n=e.computedValue(p,"probabilityToEnter");return null===n||isNaN(n)?"":t.config.probabilityNumberFormatter(n)});g.Tooltip.attach(v,S.i18n.t("tooltip.node.probabilityToEnter"));var b=v;this.transition&&(b=v.transition()),this.layout.nodeProbabilityToEnterPosition(u),this.layout.nodeProbabilityToEnterPosition(b);var x=c.select("text.error-indicator");this.layout.nodeIndicatorPosition(a),this.layout.nodeIndicatorPosition(x),this.nodeDragHandler&&c.call(this.nodeDragHandler.drag),c.on("contextmenu",this.nodeContextMenu),c.on("dblclick",this.nodeContextMenu),c.each(function(e,n){var r=this,i=new M.Manager(r);i.add(new M.Press({pointerType:"touch"})),i.on("press",function(e){"touch"==e.pointerType&&t.nodeDragHandler.cancelDrag()})})}},{key:"updateTextLines",value:function(t){var e=t.name?t.name.split("\n"):[];e.reverse();var n=s.select(this).selectAll("tspan").data(e);n.enter().append("tspan").merge(n).text(function(t){return t}).attr("dy",function(t,e){return e>0?"-1.1em":void 0}).attr("x","0"),n.exit().remove()}},{key:"isOptimal",value:function(t){var e=this.config.$rule;return t.computedValue(e,"optimal")}},{key:"redrawEdges",value:function(){var t=this,e=this,n=this.mainGroup.selectOrAppend("g.edges");e.config.forceFullEdgeRedraw&&n.selectAll("*").remove();var r=n.selectAll(".edge").data(this.data.edges,function(t,e){return t.$id});r.exit().remove();var i=r.enter().append("g").attr("id",function(t){return"edge-"+t.$id}).attr("class","edge");i.append("path");var o=i.appendSelector("g.label-group");o.append("text").attr("class","label");var a=i.append("text").attr("class","payoff"),u=i.append("text").attr("class","probability"),c=i.merge(r),l="optimal";c.classed(l,function(t){return e.isOptimal(t)});var f=c;this.transition&&(f=c.transition()),f.select("path").attr("d",function(e){return t.layout.edgeLineD(e)}).attr("fill","none").attr("marker-end",function(t){var n=s.select(this.parentNode).classed("selected")?"-selected":e.isOptimal(t)?"-optimal":"";return"url(#arrow"+n+")"}),c.on("click",function(t){e.selectEdge(t,!0)}),this.layout.edgeLabelPosition(o),f.select("text.label").each(this.updateTextLines),this.layout.edgeLabelPosition(f.select("g.label-group"));var p=c.select("text.payoff").classed("negative",function(t){return t.payoff<0}).text(function(t){var n=t.computedValue("","payoff");return null===n||isNaN(n)?null===t.payoff||isNaN(t.payoff)?t.payoff:e.config.probabilityNumberFormatter(t.payoff):e.config.payoffNumberFormatter(n)});g.Tooltip.attach(p,function(t){return S.i18n.t("tooltip.edge.payoff",{value:t.payoff})});var h=p;this.transition&&(h=p.transition()),this.layout.edgePayoffPosition(a),this.layout.edgePayoffPosition(h);var d=this.config.$rule;g.Tooltip.attach(c.select("text.probability"),function(t){return S.i18n.t("tooltip.edge.probability",{value:void 0===t.probability?t.computedValue(d,"$probability"):t.probability})});var m=f.select("text.probability");m.attr("text-anchor","end").text(function(t){var n=t.computedValue(d,"$probability");return null===n||isNaN(n)?(n=t.computed.$probability,null===n||isNaN(n)?null===t.probability||isNaN(t.probability)?t.probability:e.config.probabilityNumberFormatter(t.probability):e.config.probabilityNumberFormatter(n)):e.config.probabilityNumberFormatter(n)}),this.layout.edgeProbabilityPosition(m),this.layout.edgeProbabilityPosition(u),n.selectAll(".edge."+l).raise(),c.on("contextmenu",this.edgeContextMenu),c.on("dblclick",this.edgeContextMenu),c.each(function(t,e){var n=this,r=new M.Manager(n);r.add(new M.Press({pointerType:M.POINTER_TOUCH}))})}},{key:"redrawFloatingTexts",value:function(){var t=this.mainGroup.selectOrAppend("g.floating-texts"),e=t.selectAll(".floating-text").data(this.data.texts,function(t,e){return t.$id});e.exit().remove();var n=e.enter().appendSelector("g.floating-text").attr("id",function(t){return"text-"+t.$id}),r=40,i=20;n.append("rect").attr("x",-5).attr("y",-16).attr("fill-opacity",0),n.append("text");var o=n.merge(e),a=o;this.transition&&(a=o.transition()),a.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var c=o.select("text").selectAll("tspan").data(function(t){return t.value?t.value.split("\n"):[]});c.enter().append("tspan").merge(c).html(function(t){return u.Utils.replaceUrls(u.Utils.escapeHtml(t))}).attr("dy",function(t,e){return e>0?"1.1em":void 0}).attr("x","0"),c.exit().remove(),o.classed("sd-empty",function(t){return!t.value||!t.value.trim()}),o.select("rect").attr("width",r).attr("height",i),o.each(function(t){if(t.value){var e=s.select(this).select("text").node().getBBox();s.select(this).select("rect").attr("y",e.y-5).attr("width",Math.max(e.width+10,r)).attr("height",Math.max(e.height+10,i))}}),this.textDragHandler&&o.call(this.textDragHandler.drag),o.on("contextmenu",this.textContextMenu),o.on("dblclick",this.textContextMenu),o.each(function(t,e){var n=this,r=new M.Manager(n);r.add(new M.Press({pointerType:"touch"}))})}},{key:"updateValidationMessages",value:function(t){var e=this,n=this.mainGroup.selectAll(".node");n.classed("error",!1),t.forEach(function(t){t.isValid()||Object.getOwnPropertyNames(t.objectIdToError).forEach(function(n){var r=t.objectIdToError[n],i=e.getNodeD3SelectionById(n);i.classed("error",!0);var o="";r.forEach(function(t){o&&(o+="<br/>"),o+=y.ValidationResult.getMessage(t)}),g.Tooltip.attach(i.select(".error-indicator"),o)})})}},{key:"initEdgeMarkers",value:function(){this.svg.append("svg:defs");this.initArrowMarker("arrow"),this.initArrowMarker("arrow-optimal"),this.initArrowMarker("arrow-selected")}},{key:"initArrowMarker",value:function(t){var e=this.svg.select("defs");e.append("marker").attr("id",t).attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","arrowHead")}},{key:"updateBrushExtent",value:function(){var t=this;this.brush.extent([[0,0],[t.svg.attr("width"),t.svg.attr("height")]]),this.brushContainer.call(this.brush)}},{key:"initBrush",value:function(){function t(){var t=s.mouse(this),e=i.getMainGroupTranslation(),n=10,r=[null,999999999];i.mainGroup.selectAll(".edge").each(function(i){var o=s.select(this);o.classed("sd-hover",!1);var a=o.select("path").node(),c=a.getBBox();if(c.x+e[0]<=t[0]&&c.x+c.width+e[0]>=t[0]&&c.y+e[1]-n<=t[1]&&c.y+c.height+e[1]+n>=t[1]){var l=u.Utils.closestPoint(a,[t[0]-e[0],t[1]-e[1]]);l.distance<n&&l.distance<r[1]&&(r=[o,l.distance])}}),i.hoveredEdge=null,r[0]&&(r[0].classed("sd-hover",!0),i.hoveredEdge=r[0])}function e(){s.event.selection&&(i.hoveredEdge?i.selectEdge(i.hoveredEdge.datum(),!0):i.clearSelection(),f.ContextMenu.hide())}function n(){var t=s.event.selection;t&&i.mainGroup.selectAll(".node").classed("selected",function(e){var n=i.getMainGroupTranslation(),r=e.location.x+n[0],o=e.location.y+n[1],a=i.config.layout.nodeSize,s=.25*a;return t[0][0]<=r+s&&r-s<=t[1][0]&&t[0][1]<=o+s&&o-s<=t[1][1]})}function r(){if(s.event.selection){a.move(o,null);var t=i.getSelectedNodes();t&&1===t.length&&i.selectNode(t[0])}}var i=this,o=i.brushContainer=this.brushContainer=this.svg.selectOrInsert("g.brush",":first-child").attr("class","brush"),a=this.brush=s.brush().on("start",e).on("brush",n).on("end",r);this.updateBrushExtent(),o.select(".overlay").on("mousemove.edgeSelection",t)}},{key:"disableBrush",value:function(){this.brushDisabled||u.Utils.growl(S.i18n.t("growl.brushDisabled"),"info","left"),this.brushDisabled=!0,this.brushContainer.remove()}},{key:"enableBrush",value:function(){this.brushDisabled&&(u.Utils.growl(S.i18n.t("growl.brushEnabled"),"info","left"),this.initBrush(),this.brushDisabled=!1)}},{key:"getMainGroupTranslation",value:function(t){var e=u.Utils.getTranslation(this.mainGroup.attr("transform"));return t&&(e[0]=-e[0],e[1]=-e[1]),e}},{key:"initNodeContextMenu",value:function(){this.nodeContextMenu=new h.NodeContextMenu(this)}},{key:"initEdgeContextMenu",value:function(){this.edgeContextMenu=new N.EdgeContextMenu(this)}},{key:"initTextContextMenu",value:function(){this.textContextMenu=new _.TextContextMenu(this)}},{key:"initMainContextMenu",value:function(){this.mainContextMenu=new p.MainContextMenu(this),this.svg.on("contextmenu",this.mainContextMenu),this.svg.on("dblclick",this.mainContextMenu)}},{key:"addText",value:function(t){this.data.saveState(),this.data.addText(t),this.redraw(),this.selectText(t)}},{key:"addNode",value:function(t,e){return this.data.saveState(),this.data.addNode(t,e),this.redraw(),this.layout.update(t),t}},{key:"addDecisionNode",value:function(t){var e=new l.DecisionNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addChanceNode",value:function(t){var e=new l.ChanceNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addTerminalNode",value:function(t){var e=new l.TerminalNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"injectNode",value:function(t,e){return this.data.saveState(),this.data.injectNode(t,e),this.redraw(),this.layout.update(t),t}},{key:"injectDecisionNode",value:function(t){var e=new l.DecisionNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"injectChanceNode",value:function(t){var e=new l.ChanceNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"removeNode",value:function(t){this.data.saveState(),this.data.removeNode(t),this.layout.isManualLayout()?this.redraw():this.layout.update()}},{key:"removeSelectedNodes",value:function(){var t=this.getSelectedNodes();t.length&&(this.data.saveState(),this.data.removeNodes(t),this.clearSelection(),this.redraw(),this.layout.update())}},{key:"removeSelectedTexts",value:function(){var t=this.getSelectedTexts();t.length&&(this.data.saveState(),this.data.removeTexts(t),this.clearSelection(),this.redraw())}},{key:"copyNode",value:function(t,e){var n=this.data.cloneSubtree(t);e?(this.copiedNodes||(this.copiedNodes=[]),this.copiedNodes.push(n)):this.copiedNodes=[n]}},{key:"cutNode",value:function(t){this.copyNode(t),this.removeNode(t)}},{key:"cutSelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e),this.removeSelectedNodes()}},{key:"copySelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e)}},{key:"copyNodes",value:function(t){var e=this;this.copiedNodes=t.map(function(t){return e.data.cloneSubtree(t)})}},{key:"pasteToNode",value:function(t){var e=this;if(this.copiedNodes&&this.copiedNodes.length){this.data.saveState();var n=this;n.clearSelection();var r=this.copiedNodes;n.copyNodes(this.copiedNodes),r.forEach(function(i){var o=e.data.attachSubtree(i,t).childNode,a=n.layout.getNewChildLocation(t);o.moveTo(a.x,a.y,!0),n.layout.moveNodeToEmptyPlace(o),n.layout.fitNodesInPlottingRegion(e.data.getAllDescendantNodes(o)),e.redraw(),n.layout.update(),n.selectSubTree(o,!1,r.length>1)})}}},{key:"pasteToNewLocation",value:function(t){var e=this;this.data.saveState();var n=this;n.clearSelection();var r=this.copiedNodes;n.copyNodes(this.copiedNodes),r.forEach(function(i){var o=e.data.attachSubtree(i);o.moveTo(t.x,t.y,!0),n.layout.moveNodeToEmptyPlace(o),n.layout.fitNodesInPlottingRegion(e.data.getAllDescendantNodes(o)),e.redraw(),n.layout.update(),n.selectSubTree(o,!1,r.length>1)})}},{key:"canFlipSubTree",value:function(t){return this.data.canFlipSubTree(t)}},{key:"flipSubTree",value:function(t){var e=this;this.data.saveState(),this.data.flipSubTree(t),setTimeout(function(){e.redraw(),e.layout.update()},10)}},{key:"moveNodeTo",value:function(t,e){}},{key:"updateNodePosition",value:function(t){this.getNodeD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"updateTextPosition",value:function(t){this.getTextD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"getNodeD3Selection",value:function(t){return this.getNodeD3SelectionById(t.$id)}},{key:"getNodeD3SelectionById",value:function(t){return this.mainGroup.select("#node-"+t)}},{key:"getTextD3Selection",value:function(t){return this.getTextD3SelectionById(t.$id)}},{key:"getTextD3SelectionById",value:function(t){return this.mainGroup.select("#text-"+t)}},{key:"getSelectedNodes",value:function(){return this.mainGroup.selectAll(".node.selected").data()}},{key:"getSelectedTexts",value:function(){return this.mainGroup.selectAll(".floating-text.selected").data()}},{key:"clearSelection",value:function(){var t=this;this.mainGroup.selectAll(".edge.selected").select("path").attr("marker-end",function(e){return"url(#arrow"+(t.isOptimal(e)?"-optimal":"")+")"}),this.mainGroup.selectAll(".selected").classed("selected",!1),this.config.onSelectionCleared()}},{key:"selectEdge",value:function(t,e){e&&this.clearSelection(),this.config.onEdgeSelected(t),this.mainGroup.select("#edge-"+t.$id).classed("selected",!0).select("path").attr("marker-end",function(t){return"url(#arrow-selected)"})}},{key:"isNodeSelected",value:function(t){return this.getNodeD3Selection(t).classed("selected")}},{key:"selectNode",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onNodeSelected(t),this.getNodeD3SelectionById(t.$id).classed("selected",!0)}},{key:"selectText",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onTextSelected(t),this.getTextD3SelectionById(t.$id).classed("selected",!0)}},{key:"selectSubTree",value:function(t,e,n){var r=this;e&&this.clearSelection(),this.selectNode(t,!1,n),t.childEdges.forEach(function(t){return r.selectSubTree(t.childNode,!1,!0)})}},{key:"selectAllNodes",value:function(){this.mainGroup.selectAll(".node").classed("selected",!0)}},{key:"autoLayout",value:function(t,e){this.layout.autoLayout(t,e)}},{key:"updateDiagramTitle",value:function(t){t||(t=""),this.diagramTitle=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"redrawDiagramTitle",value:function(){var t=this.svg.attr("width");this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var e=this.titleContainer.selectOrAppend("text.sd-title");e.text(this.diagramTitle),d.Layout.setHangingPosition(e);var n=parseInt(this.config.title.margin.top);this.titleContainer.attr("transform","translate("+t/2+","+n+")")}},{key:"redrawDiagramDescription",value:function(){this.svg.attr("width"),this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var t=this.titleContainer.selectOrAppend("text.sd-description");if(!this.config.description.show)return void t.remove();var e=this.diagramDescription?this.diagramDescription.split("\n"):[],n=t.selectAll("tspan").data(e);n.enter().append("tspan").merge(n).html(function(t){return u.Utils.replaceUrls(u.Utils.escapeHtml(t))}).attr("dy",function(t,e){return e>0?"1.1em":void 0}).attr("x","0"),n.exit().remove(),d.Layout.setHangingPosition(t);var r=this.titleContainer.selectOrAppend("text.sd-title"),i=0;this.diagramTitle&&(i+=r.node().getBBox().height,i+=Math.max(parseInt(this.config.description.margin.top),0)),t.attr("transform","translate(0,"+i+")")}},{key:"updateDiagramDescription",value:function(t){t||(t=""),this.diagramDescription=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"getTitleGroupHeight",value:function(t){if(!this.titleContainer)return 0;var e=this.titleContainer.node().getBBox().height;return t&&(e+=parseInt(this.config.title.margin.bottom),e+=parseInt(this.config.title.margin.top)),e}}]),t}()},{"../context-menu":545,"../d3":547,"../i18n/i18n":558,"../model/index":566,"../templates":581,"../tooltip":607,"../utils":618,"../validation/validation-result":624,"./edge-context-menu":608,"./layout":609,"./main-context-menu":610,"./node-context-menu":611,"./node-drag-handler":612,"./text-context-menu":615,"./text-drag-handler":616,hammerjs:25,lodash:42}],618:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=t("./d3"),l=r(c),f=t("autosize"),p=r(f),h=t("./templates"),d=t("lodash"),m=r(d),g=n.Utils=function(){function t(){o(this,t)}return u(t,null,[{key:"deepExtend",value:function(t){var e=this;!t&&arguments.length>1&&Array.isArray(arguments[1])&&(t=[]),t=t||{};for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)if(r.hasOwnProperty(i)){var o=Array.isArray(t[i]),a=e.isObject(t[i]),s=e.isObject(r[i]);a&&!o&&s?e.deepExtend(t[i],r[i]):t[i]=r[i]}}return t}},{key:"mergeDeep",value:function(e,n){var r=s({},e);return t.isObjectNotArray(e)&&t.isObjectNotArray(n)&&Object.keys(n).forEach(function(o){t.isObjectNotArray(n[o])&&o in e?r[o]=t.mergeDeep(e[o],n[o]):s(r,i({},o,n[o]))}),r}},{key:"cross",value:function(t,e){var n,r,i=[],o=t.length,a=e.length;for(n=-1;++n<o;)for(r=-1;++r<a;)i.push({x:t[n],i:n,y:e[r],j:r});return i}},{key:"isObjectNotArray",value:function(t){return t&&"object"===("undefined"==typeof t?"undefined":a(t))&&!Array.isArray(t)&&null!==t}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isObject",value:function(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":a(t))}},{key:"isNumber",value:function(t){return!isNaN(t)&&"number"==typeof t}},{key:"isNumeric",value:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{key:"isFunction",value:function(t){return"function"==typeof t}},{key:"isDate",value:function(t){return"[object Date]"===Object.prototype.toString.call(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"insertOrAppendSelector",value:function(t,e,n,r){for(var i=e.split(/([\.\#])/),o=t[n](i.shift(),r);i.length>1;){var a=i.shift(),s=i.shift();"."===a?o=o.classed(s,!0):"#"===a&&(o=o.attr("id",s))}return o}},{key:"insertSelector",value:function(e,n,r){return t.insertOrAppendSelector(e,n,"insert",r)}},{key:"appendSelector",value:function(e,n){return t.insertOrAppendSelector(e,n,"append")}},{key:"selectOrAppend",value:function(e,n,r){var i=e.select(n);return i.empty()?r?e.append(r):t.appendSelector(e,n):i}},{key:"selectOrInsert",value:function(e,n,r){var i=e.select(n);return i.empty()?t.insertSelector(e,n,r):i}},{key:"guid",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},{key:"placeTextWithEllipsis",value:function(t,e,n){var r=t.node();r.textContent=e;var i=0,o=9;if(r.getComputedTextLength()>n+i){for(var a=e.length-3;a>0;a-=1)if(r.getSubStringLength(0,a)+o<=n+i)return r.textContent=e.substring(0,a)+"...",!0;return r.textContent="...",!0}return!1}},{key:"placeTextWithEllipsisAndTooltip",value:function(e,n,r,i){var o=t.placeTextWithEllipsis(e,n,r);o&&i&&(e.on("mouseover",function(t){i.transition().duration(200).style("opacity",.9),i.html(n).style("left",l.event.pageX+5+"px").style("top",l.event.pageY-28+"px")}),e.on("mouseout",function(t){i.transition().duration(500).style("opacity",0)}))}},{key:"getFontSize",value:function(t){return window.getComputedStyle(t,null).getPropertyValue("font-size")}},{key:"capitalizeFirstLetter",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},{key:"getTranslation",value:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttributeNS(null,"transform",t);var n=e.transform.baseVal.consolidate().matrix;return[n.e,n.f]}},{key:"getObjectByIdMap",value:function(t,e){var n={};return t?(t.forEach(function(t){var r=t;e&&(r=e(t)),n[t.$id]=r}),n):n}},{key:"waitForFinalEvent",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return n||(n="Don't call this twice without a uniqueId"),t.timers[n]&&clearTimeout(t.timers[n]),t.timers[n]=setTimeout(e,r),function(){return clearTimeout(t.timers[n])}}},{key:"updateInputClass",value:function(t){var e=t.node().value;return t.classed("empty",0!==e&&!e),t}},{key:"autoResizeTextarea",value:function(t){setTimeout(function(){t.style.width="";var e=t.getBoundingClientRect().width;e&&(t.style.width=e+"px"),p.update(t)},10)}},{key:"elasticTextarea",value:function(t){setTimeout(function(){t.style("width",void 0);var e=t.node().getBoundingClientRect().width;e&&t.style("width",e+"px"),p["default"](t.node())},10)}},{key:"closestPoint",value:function(t,e){function n(t){var n=t.x-e[0],r=t.y-e[1];return n*n+r*r}for(var r,i,o,a,s=t.getTotalLength(),u=8,c=1/0,l=0;l<=s;l+=u)(a=n(o=t.getPointAtLength(l)))<c&&(r=o,i=l,c=a);for(u/=2;u>.5;){var f,p,h,d,m,g;(h=i-u)>=0&&(m=n(f=t.getPointAtLength(h)))<c?(r=f,i=h,c=m):(d=i+u)<=s&&(g=n(p=t.getPointAtLength(d)))<c?(r=p,i=d,c=g):u/=2}return r=[r.x,r.y],r.distance=Math.sqrt(c),r}},{key:"detectIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}return!1}},{key:"growl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3,i=h.Templates.get("growl",{message:t,type:e}),o=l.select("body").selectOrAppend("div.sd-growl-list."+n).append("div").html(i);setTimeout(function(){o.remove()},r)}},{key:"postByForm",value:function(e,n){var r,i;i=t.createElement("form",t.mergeDeep({method:"post",action:e,enctype:"multipart/form-data"}),document.body);for(r in n)n.hasOwnProperty(r)&&t.createElement("input",{type:"hidden",name:r,value:n[r]},i);i.submit(),t.removeElement(i)}},{key:"createElement",value:function(e,n,r){var i=document.createElement(e);return n&&t.deepExtend(i,n),r&&r.appendChild(i),i}},{key:"extend",value:function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t}},{key:"removeElement",value:function(t){t.parentNode.removeChild(t)}},{key:"replaceUrls",value:function(t){if(!t)return t;var e=/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/;return t.replace(e,'<a href="$1" target="_blank">$1</a>')}},{key:"escapeHtml",value:function(t){var e=document.createTextNode(t),n=document.createElement("div");return n.appendChild(e),n.innerHTML}},{key:"getVariablesAsList",value:function(e){var n=[];return m.forOwn(e,function(e,r){t.isFunction(e)||n.push({key:r,value:e})}),n}},{key:"dispatchEvent",value:function(t,e){var n;try{n=new CustomEvent(t,{detail:e})}catch(r){n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!1,!1,e)}document.dispatchEvent(n)}}]),t}();g.SQRT_2=1.41421356237,g.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},g.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},g.availableHeight=function(t,e,n){return Math.max(0,g.sanitizeHeight(t,e)-n.top-n.bottom)},g.availableWidth=function(t,e,n){return Math.max(0,g.sanitizeWidth(t,e)-n.left-n.right)},g.timers={}},{"./d3":547,"./templates":581,autosize:1,lodash:42}],619:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PayoffInputValidator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("../expression-engine");t("../utils"),n.PayoffInputValidator=function(){function t(e){r(this,t),this.expressionEngine=e}return i(t,[{key:"validate",value:function(t,e){return null!==t&&void 0!==t&&(t+="",!!t.trim()&&(!o.ExpressionEngine.hasAssignmentExpression(t)&&this.expressionEngine.validate(t)))}}]),t}()},{"../expression-engine":552,"../utils":618}],620:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PayoffValueValidator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("../expression-engine");t("../utils"),n.PayoffValueValidator=function(){function t(e){r(this,t),this.expressionEngine=e}return i(t,[{key:"validate",value:function(t){if(null===t||void 0===t)return!1;var t=o.ExpressionEngine.toNumber(t);return t.compare(Number.MIN_SAFE_INTEGER)>=0&&t.compare(Number.MAX_SAFE_INTEGER)<=0}}]),t}()},{"../expression-engine":552,"../utils":618}],621:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ProbabilityInputValidator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("../expression-engine");t("../utils"),n.ProbabilityInputValidator=function(){function t(e){r(this,t),this.expressionEngine=e}return i(t,[{key:"validate",value:function(t,e){if(null===t||void 0===t)return!1;if(t+="",!t.trim())return!1;if(o.ExpressionEngine.isHash(t))return!0;if(o.ExpressionEngine.hasAssignmentExpression(t))return!1;var n=e.parentNode.expressionScope;return this.expressionEngine.validate(t,n)}}]),t}()},{"../expression-engine":552,"../utils":618}],622:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ProbabilityValueValidator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("../expression-engine");t("../utils"),n.ProbabilityValueValidator=function(){function t(e){r(this,t),this.expressionEngine=e}return i(t,[{key:"validate",value:function(t,e){if(null===t||void 0===t)return!1;var t=o.ExpressionEngine.toNumber(t);return t.compare(0)>=0&&t.compare(1)<=0}}]),t}()},{"../expression-engine":552,"../utils":618}],623:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TreeValidator=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=(t("../utils"),t("../model/index")),s=r(a),u=t("./validation-result"),c=t("../expression-engine"),l=t("./probability-value-validator"),f=t("./payoff-value-validator");n.TreeValidator=function(){function t(e){i(this,t),this.expressionEngine=e,this.probabilityValidator=new l.ProbabilityValueValidator(e),this.payoffValidator=new f.PayoffValueValidator(e)}return o(t,[{key:"validate",value:function(t){var e=this,n=new u.ValidationResult;return t.forEach(function(t){e.validateNode(t,n)}),n}},{key:"validateNode",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.ValidationResult;if(!(t instanceof s.TerminalNode)){t.childEdges.length||n.addError("incompletePath",t);var r=c.ExpressionEngine.toNumber(0);return t.childEdges.forEach(function(i,o){if(i.markAsValid("probability"),i.markAsValid("payoff"),t instanceof s.ChanceNode){var a=i.computedBaseProbability();e.probabilityValidator.validate(a)?r=c.ExpressionEngine.add(r,a):c.ExpressionEngine.isHash(i.probability)||(n.addError({name:"invalidProbability",data:{number:o+1}},t),i.markAsInvalid("probability"))}var u=i.computedBasePayoff();e.payoffValidator.validate(u)||(n.addError({name:"invalidPayoff",data:{number:o+1}},t),i.markAsInvalid("payoff"))}),t instanceof s.ChanceNode&&(!isNaN(r)&&r.equals(1)||n.addError("probabilityDoNotSumUpTo1",t)),n}}}]),t}()},{"../expression-engine":552,"../model/index":566,"../utils":618,"./payoff-value-validator":620,"./probability-value-validator":622,"./validation-result":624}],624:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ValidationResult=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("lodash"),s=(r(a),t("../i18n/i18n")),u=t("../utils");n.ValidationResult=function(){function t(){i(this,t),this.errors={},this.warnings={},this.objectIdToError={}}return o(t,[{key:"addError",value:function(t,e){u.Utils.isString(t)&&(t={name:t});var n=t.name,r=this.errors[n];r||(r=[],this.errors[n]=r);var i=this.objectIdToError[e.$id];i||(i=[],this.objectIdToError[e.$id]=i),r.push(e),i.push(t)}},{key:"addWarning",value:function(t,e){var n=this.warnings[t];n||(n=[],this.warnings[t]=n),n.push(e)}},{key:"isValid",value:function(){return 0===Object.getOwnPropertyNames(this.errors).length}}],[{key:"getMessage",value:function(t){u.Utils.isString(t)&&(t={name:t});var e="validation."+t.name;return s.i18n.t(e,t.data)}}]),t}()},{"../i18n/i18n":558,"../utils":618,lodash:42}]},{},[562])(562)});
//# sourceMappingURL=silver-decisions.min.js.map
